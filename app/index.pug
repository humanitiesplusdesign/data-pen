doctype html
html(lang="en",ng-app="fibra",ng-hint)
  head
    meta(charset="utf-8")
    meta(name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width")
    // build:css(app) styles/vendor.css
    // bower:css
    link(rel='stylesheet', href='bower_components/bootstrap/dist/css/bootstrap.css')
    link(rel='stylesheet', href='bower_components/font-awesome/css/font-awesome.css')
    link(rel='stylesheet', href='bower_components/yasgui-yasqe/dist/yasqe.css')
    link(rel='stylesheet', href='bower_components/yasgui-yasr/dist/yasr.css')
    link(rel='stylesheet', href='bower_components/angular-toastr/dist/angular-toastr.css')
    link(rel='stylesheet', href='bower_components/codemirror/lib/codemirror.css')
    // endbower
    // endbuild
    // build:css(.tmp) styles/main.css
    link(rel="stylesheet" href="styles/main.css")
    // endbuild

    title Fibra
  body
    .pull-right
      span(ng-bind="socialAuthService.loginState()")
      a(ng-if="!socialAuthService.isLoggedIn()" ui-sref="login") &nbsp;Login
      a(ng-if="socialAuthService.isLoggedIn()" ng-click="socialAuthService.logout()") &nbsp;Log out
    .modal(ng-class="authInfo.authOpen ? 'modal-open fade in' : ''",ng-style="authInfo.authOpen ? {display:'block'} : {}"): .modal-dialog(ng-show="authInfo.authOpen"): form.modal-content
      .modal-header: h4.modal-title Authentication required
      .modal-body
        .form-group
          label Username:
          input.form-control(type='text', ng-model="authInfo.username")
        .form-group
          label Password:
          input.form-control(type='password', ng-model="authInfo.password")
      .modal-footer
          button.btn.btn-success(ng-click="setAuth()") Ok
          button.btn.btn-danger(ng-click="dismissAuth()") Cancel
    //- nav.navbar.navbar-inverse.navbar-fixed-top
    //-   .container-fluid
    //-     .navbar-header
    //-       .navbar-brand
    //-         img(src="images/fibra.png" height="23px")
    //-     .nav.navbar-nav
    //-       li
    //-         a(ui-sref="author") Author
          //li
            a(ui-sref="configuration") Configure
    div(ui-view)
    // build:js(app) scripts/vendor.js
    // bower:js
    script(src='bower_components/jquery/dist/jquery.js')
    script(src='bower_components/angular/angular.js')
    script(src='bower_components/angular-animate/angular-animate.js')
    script(src='bower_components/angular-bootstrap/ui-bootstrap-tpls.js')
    script(src='bower_components/angular-http-auth/src/http-auth-interceptor.js')
    script(src='bower_components/angular-sparql-service/dist/sparql-service.js')
    script(src='bower_components/angular-ui-router/release/angular-ui-router.js')
    script(src='bower_components/d3/d3.js')
    script(src='bower_components/ngstorage/ngStorage.js')
    script(src='bower_components/rdfstore/dist/rdfstore.js')
    script(src='bower_components/crypto-js/crypto-js.js')
    script(src='bower_components/yasgui-yasqe/dist/yasqe.bundled.js')
    script(src='bower_components/angular-yasqe-component/dist/yasqe-component.js')
    script(src='bower_components/yasgui-yasr/dist/yasr.bundled.js')
    script(src='bower_components/angular-yasr-component/dist/yasr-component.js')
    script(src='bower_components/angular-toastr/dist/angular-toastr.tpls.js')
    script(src='bower_components/n3/n3-browser.js')
    script(src='bower_components/codemirror/lib/codemirror.js')
    script(src='bower_components/angular-ui-codemirror/ui-codemirror.js')
    script(src='bower_components/blob-polyfill/Blob.js')
    script(src='bower_components/file-saver.js/FileSaver.js')
    script(src='bower_components/angular-file-saver/dist/angular-file-saver.bundle.js')
    // endbower
    script(src='bower_components/codemirror/mode/turtle/turtle.js')
    script(src='bower_components/codemirror/addon/display/fullscreen.js')
    script(src='bower_components/codemirror/addon/hint/show-hint.js')
    script(src='bower_components/codemirror/addon/hint/anyword-hint.js')
    script(src='bower_components/codemirror/addon/search/searchcursor.js')
    script(src='bower_components/codemirror/addon/search/search.js')
    script(src='bower_components/codemirror/addon/edit/matchbrackets.js')
    script(src='bower_components/codemirror/addon/dialog/dialog.js')
    script(src='bower_components/codemirror/addon/edit/closebrackets.js')
    script(src='bower_components/codemirror/addon/edit/trailingspace.js')
    script(src='bower_components/codemirror/addon/runmode/runmode.js')
    script(src='bower_components/codemirror/addon/fold/foldcode.js')
    script(src='bower_components/codemirror/addon/fold/foldgutter.js')
    script(src='bower_components/codemirror/addon/fold/indent-fold.js')
    script(src='bower_components/codemirror/addon/search/match-highlighter.js')
    script(src='bower_components/codemirror/addon/selection/active-line.js')
    script(src='bower_components/codemirror/addon/selection/active-line.js')
    // endbuild

    // build:js(.tmp) scripts/main.js
    script(src="components/app/app-configuration-ui.js")
    // inject:scripts
    script(src="components/app/_datamodel/citable.js")
    script(src="components/app/_datamodel/rdf.js")
    script(src="components/app/_datamodel/rdfjs.js")
    script(src="components/app/_datamodel/richnode.js")
    script(src="components/app/app-configuration-common.js")
    script(src="components/app/fibra-service.js")
    script(src="components/app/fibra-sparql-service.js")
    script(src="components/app/social-auth-service.js")
    script(src="components/author-view/author-view-component.js")
    script(src="components/citable-editor/citable-editor-component.js")
    script(src="components/citable-filter.js")
    script(src="components/citable/citable-component.js")
    script(src="components/collection-utils.js")
    script(src="components/configure-view/configure-view-component.js")
    script(src="components/construct-view/construct-view-component.js")
    script(src="components/construct-view/explore-component.js")
    script(src="components/construct-view/explore-table-component/explore-table-component.js")
    script(src="components/construct-view/explore-type-component/explore-type-component.js")
    script(src="components/construct-view/explore-verify-component/explore-verify-component.js")
    script(src="components/construct-view/palette-component/palette-component.js")
    script(src="components/construct-view/property-popover.js")
    script(src="components/construct-view/sunburst.js")
    script(src="components/edit-primary-endpoint-configuration-view/edit-primary-endpoint-configuration-view-component.js")
    script(src="components/edit-remote-endpoint-configuration-view/edit-remote-endpoint-configuration-view-component.js")
    script(src="components/edit-schema-view/edit-schema-view-component.js")
    script(src="components/misc-utils.js")
    script(src="components/preferred-language-filter.js")
    script(src="components/project-service/data-model.js")
    script(src="components/project-service/primary-endpoint-configuration.js")
    script(src="components/project-service/project-service.js")
    script(src="components/project-service/project.js")
    script(src="components/project-service/remote-endpoint-configuration.js")
    script(src="components/project-service/schema.js")
    script(src="components/project-sources-view/project-sources-view-component.js")
    script(src="components/projects-view/projects-view-component.js")
    script(src="components/rdfstore-test-view/rdfstore-test-view-component.js")
    script(src="components/social-auth/callback-component.js")
    script(src="components/social-auth/login-component.js")
    script(src="components/sparql-autocomplete/sparql-autocomplete-component.js")
    script(src="components/sparql-autocomplete/sparql-autocomplete-service.js")
    script(src="components/sparql-item/sparql-item-component.js")
    script(src="components/sparql-item/sparql-item-service.js")
    script(src="components/sparql-tree-service.js")
    script(src="components/sparql-update-service.js")
    script(src="components/tree/tree-component.js")
    script(src="components/type-select/type-select-component.js")
    script(src="components/worker-service/worker-service.js")
    // endinject
    // inject:partials
    // endinject
    // endbuild
    .uib-modal-backdrop.fade.in(ng-show="authInfo.authOpen")
