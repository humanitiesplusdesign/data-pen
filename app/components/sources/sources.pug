.sources-main
  .sources-left(ng-init="editSourcesStatus=''")
    .sources-head
      h4.pull-left Project sources
      img.edit-sources-icon.transition-200(src="./app/images/general/plus_dark.svg" ng-click="$ctrl.openAddSourcesModal()")
    //- .matrix-left
    //-   .matrix-property-container
    //-     .matrix-property(ng-repeat="source in $ctrl.state.sources.authoritySources.concat($ctrl.state.sources.archiveSources)")
    //-       .matrix-property-label-container
    //-         .matrix-property-label 
    //-           label
    //-             //- input.matrix-property-checkbox(type="checkbox")
    //-             span.prop-label-span {{ source.labels | prefLang }}
    //-   .matrix-source-container(ng-repeat="class in $ctrl.allClasses()")
    //-     .matrix-source
    //-       .matrix-source-label {{ class.labels | prefLang }}
    //-     .matrix-cell(ng-repeat="source in $ctrl.state.sources.authoritySources.concat($ctrl.state.sources.archiveSources)")
    //-       input.matrix-cell-checkbox(type="checkbox")
    .sources-list(ng-show="$ctrl.state.sources.authoritySources.length != 0")
      h6.sources-category-title Authorities
      span(ng-repeat="source in $ctrl.state.sources.authoritySources")
        label.source-title(ng-click="$ctrl.projectsOpen[source.id] = !$ctrl.projectsOpen[source.id]")
          i.glyphicon.glyphicon-triangle-right.transition-200(ng-class="{'triangle-rotated' : $ctrl.projectsOpen[source.id]}")
          span.source-name {{source.labels | prefLang}}
        .class-list(ng-show="$ctrl.projectsOpen[source.id] ? true : false")
          label.checkbox-container(ng-repeat="clss in source.classes" ng-hide="clss.labels.length === 0") 
            input(type="checkbox", ng-model="$ctrl.localSourceClassTree[source.id][clss.value]" ng-click="$ctrl.sourcesActionService.setSourceClassActive(source.id, clss.value, !$ctrl.getSourceClassStatus(source.id, clss.value))")
            span.type-name {{clss.labels | prefLang}}
              span.type-entities {{ source.classStats.get(clss.id) | number }} entities
    .sources-list(ng-show="$ctrl.state.sources.archiveSources.length != 0")
      h6.sources-category-title Archives
      span(ng-repeat="source in $ctrl.state.sources.archiveSources")
        label.source-title(ng-click="$ctrl.projectsOpen[source.id] = !$ctrl.projectsOpen[source.id]")
          i.glyphicon.glyphicon-triangle-right.transition-200(ng-class="{'triangle-rotated' : $ctrl.projectsOpen[source.id]}")
          span.source-name {{source.labels | prefLang}}
        .class-list(ng-show="$ctrl.projectsOpen[source.id] ? true : false")
          label.checkbox-container(ng-repeat="clss in source.classes" ng-hide="clss.labels.length === 0") 
            input(type="checkbox", ng-model="$ctrl.localSourceClassTree[source.id][clss.value]" ng-click="$ctrl.sourcesActionService.setSourceClassActive(source.id, clss.value, !$ctrl.getSourceClassStatus(source.id, clss.value))")
            span.type-name {{clss.labels | prefLang}}
              span.type-entities {{ source.classStats.get(clss.id) | number }} entities
  .sources-right
    .properties-head
      h3 Properties matrix
    uib-tabset(type="tabs")
      uib-tab(ng-repeat="class in $ctrl.allClasses()" index="$index" heading="{{ class.labels | prefLang }}")
        .matrix-right
          .matrix-border-box
            .matrix-property-container
              .matrix-property(ng-repeat="prop in $ctrl.sourcePropsForClass(class).properties")
                .matrix-property-label-container
                  .matrix-property-label 
                    label
                      input.matrix-property-checkbox(type="checkbox")
                      span.prop-label-span {{ prop.labels | prefLang }}
            .matrix-source-container(ng-repeat="source in $ctrl.state.sources.authoritySources.concat($ctrl.state.sources.archiveSources)" ng-if="source.classStats.has(class.id)")
              .matrix-source
                .matrix-source-label {{ source.labels | prefLang }}  ({{ source.classStats.get(class.id) | number }} entities)
              .matrix-cell(ng-repeat="prop in $ctrl.sourcePropsForClass(class).properties")
                //- input.matrix-cell-checkbox(type="checkbox")
                p {{ source.propStats.get(prop.value).values }}
            .matrix-total-container
              .matrix-total
                .matrix-total-label Total
              .matrix-total-cell(ng-repeat="prop in $ctrl.sourcePropsForClass(class).properties")
                //- input.matrix-cell-checkbox(type="checkbox")
