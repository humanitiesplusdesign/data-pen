uib-tabset
  uib-tab(ng-repeat="t in $ctrl.tableTypes" index="$index" heading="{{$ctrl.fibraService.getState().construct.displayTypes[$index] ? $ctrl.fibraService.getState().construct.displayTypes[$index].label : t }}")
    div.widthcontainer
      a(ng-click="$ctrl.downloadcsv()") Download
      table.exploretable.table.table-striped(style="table-layout: fixed")
        tr
          th Label
          th(ng-repeat="p in $ctrl[t].properties" ng-click="$ctrl.removeFromProperties(p)") {{ p.label }}
          th Actions
        tr(ng-repeat="item in $ctrl[t].items")
          td(ng-click="$ctrl.selectItem(item)") {{ item.label.value }}
          td(ng-repeat="p in $ctrl[t].properties" ng-if="item === $ctrl.editItem")
            input(type="text"
              ng-repeat="e in $ctrl.editItem.localProperties"
              ng-if="e.value == p.value && e.values[0].value.termType === 'Literal'"
              ng-model="e.values[0].value.value")
            small(ng-repeat="e in item.localProperties"
              ng-if="e.value == p.value && e.values[0].value.termType !== 'Literal'") {{e.values[0].value.label.value}}
          td(ng-repeat="p in $ctrl[t].properties", ng-click="$ctrl.selectItem(item)" ng-if="item !== $ctrl.editItem")
            small(ng-repeat="e in item.localProperties" ng-if="e.value == p.value")
              p(ng-repeat="i in e.values") {{i.value.label}}
          td
            a(ng-click="$ctrl.hide(item)") Hide
            a(ng-click="$ctrl.verifyItem(item)" ng-if="!$ctrl.itemVerified(item)") &nbsp;Verify
            a(ng-click="$ctrl.delete(item)") &nbsp;Delete
            a(ng-click="$ctrl.saveItem($ctrl.editItem)" ng-if="item === $ctrl.editItem") &nbsp;Save
      div Hidden Properties (click to show)
        p(ng-repeat="x in $ctrl.removedProperties" ng-click="$ctrl.addFromRemovedProperties(x)") {{ x }}
