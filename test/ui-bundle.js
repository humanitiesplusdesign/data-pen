!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=277)}([function(e,t){e.exports=angular},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";function n(e){return e}function i(){}function o(e,t,r,n,i){void 0===i&&(i=!1);var o=function(t){return e()[t].bind(r())},s=function(e){return function(){return t[e]=o(e),t[e].apply(null,arguments)}};return n=n||Object.keys(e()),n.reduce(function(e,t){return e[t]=i?s(t):o(t),e},t)}function s(e,t){return-1!==e.indexOf(t)}function a(e,t){var r=e.indexOf(t);return r>=0&&e.splice(r,1),e}function u(e,t){return e.push(t),t}function l(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=r.concat({}).reverse(),o=t.extend.apply(null,i);return t.extend({},o,p(e||{},Object.keys(o)))}function c(e,t){var r=[];for(var n in e.path){if(e.path[n]!==t.path[n])break;r.push(e.path[n])}return r}function p(e,t){var r={};for(var n in e)-1!==t.indexOf(n)&&(r[n]=e[n]);return r}function f(e,r){return Object.keys(e).filter(N.not(t.inArray(r))).reduce(function(t,r){return t[r]=e[r],t},{})}function d(e,t){return g(e,N.prop(t))}function h(e,r){var n=A.isArray(e),i=n?[]:{},o=n?function(e){return i.push(e)}:function(e,t){return i[t]=e};return t.forEach(e,function(e,t){r(e,t)&&o(e,t)}),i}function v(e,r){var n;return t.forEach(e,function(e,t){n||r(e,t)&&(n=e)}),n}function g(e,r){var n=A.isArray(e)?[]:{};return t.forEach(e,function(e,t){return n[t]=r(e,t)}),n}function m(e,t){return e.push(t),e}function y(e,t){return void 0===t&&(t="assert failure"),function(r){var n=e(r);if(!n)throw new Error(A.isFunction(t)?t(r):t);return n}}function b(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return[];var r,n=e.reduce(function(e,t){return Math.min(t.length,e)},9007199254740991),i=[];for(r=0;r<n;r++)switch(e.length){case 1:i.push([e[0][r]]);break;case 2:i.push([e[0][r],e[1][r]]);break;case 3:i.push([e[0][r],e[1][r],e[2][r]]);break;case 4:i.push([e[0][r],e[1][r],e[2][r],e[3][r]]);break;default:i.push(e.map(function(e){return e[r]}))}return i}function E(e,t){var r,n;if(A.isArray(t)&&(r=t[0],n=t[1]),!A.isString(r))throw new Error("invalid parameters to applyPairs");return e[r]=n,e}function x(e){return e.length&&e[e.length-1]||void 0}function S(e,r){return r&&Object.keys(r).forEach(function(e){return delete r[e]}),r||(r={}),t.extend(r,e)}function T(e,t,r){if(A.isArray(e))return e.forEach(t,r);Object.keys(e).forEach(function(r){return t(e[r],r)})}function I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];if(r)for(var n=Object.keys(r),i=0;i<n.length;i++)e[n[i]]=r[n[i]]}return e}function w(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r=typeof e;if(r!==typeof t||"object"!==r)return!1;var n=[e,t];if(N.all(A.isArray)(n))return C(e,t);if(N.all(A.isDate)(n))return e.getTime()===t.getTime();if(N.all(A.isRegExp)(n))return e.toString()===t.toString();if(N.all(A.isFunction)(n))return!0;if([A.isFunction,A.isArray,A.isDate,A.isRegExp].map(N.any).reduce(function(e,t){return e||!!t(n)},!1))return!1;var i,o={};for(i in e){if(!w(e[i],t[i]))return!1;o[i]=!0}for(i in t)if(!o[i])return!1;return!0}function C(e,t){return e.length===t.length&&b(e,t).reduce(function(e,t){return e&&w(t[0],t[1])},!0)}Object.defineProperty(t,"__esModule",{value:!0});var A=r(4),N=r(5),L=r(11),R="undefined"==typeof window?{}:window,_=R.angular||{};t.fromJson=_.fromJson||JSON.parse.bind(JSON),t.toJson=_.toJson||JSON.stringify.bind(JSON),t.copy=_.copy||S,t.forEach=_.forEach||T,t.extend=Object.assign||I,t.equals=_.equals||w,t.identity=n,t.noop=i,t.createProxyFunctions=o,t.inherit=function(e,r){return t.extend(Object.create(e),r)};t.inArray=N.curry(s),t._inArray=s,t.removeFrom=N.curry(a),t._removeFrom=a,t.pushTo=N.curry(u),t._pushTo=u,t.deregAll=function(e){return e.slice().forEach(function(r){"function"==typeof r&&r(),t.removeFrom(e,r)})},t.defaults=l,t.mergeR=function(e,r){return t.extend(e,r)},t.ancestors=c,t.pick=p,t.omit=f,t.pluck=d,t.filter=h,t.find=v,t.mapObj=g,t.map=g,t.values=function(e){return Object.keys(e).map(function(t){return e[t]})},t.allTrueR=function(e,t){return e&&t},t.anyTrueR=function(e,t){return e||t},t.unnestR=function(e,t){return e.concat(t)},t.flattenR=function(e,r){return A.isArray(r)?e.concat(r.reduce(t.flattenR,[])):m(e,r)},t.pushR=m,t.uniqR=function(e,r){return t.inArray(e,r)?e:m(e,r)},t.unnest=function(e){return e.reduce(t.unnestR,[])},t.flatten=function(e){return e.reduce(t.flattenR,[])},t.assertPredicate=y,t.assertMap=y,t.assertFn=y,t.pairs=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},t.arrayTuples=b,t.applyPairs=E,t.tail=x,t._extend=I,t.sortBy=function(e,t){return void 0===t&&(t=N.val(!0)),function(r,n){return t(r)&&t(n)?e(r)-e(n):0}},t.composeSort=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,r){return e.reduce(function(e,n){return e||n(t,r)},0)}},t.silenceUncaughtInPromise=function(e){return e.catch(function(e){return 0})&&e},t.silentRejection=function(e){return t.silenceUncaughtInPromise(L.services.$q.reject(e))}},function(e,t,r){!function(r,n){e.exports=t=n()}(0,function(){var e=e||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},i=n.lib={},o=i.Base=function(){return{extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(var o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=0;i<t;i+=4){var o=function(t){var t=t,r=987654321,n=4294967295;return function(){r=36969*(65535&r)+(r>>16)&n,t=18e3*(65535&t)+(t>>16)&n;var i=(r<<16)+t&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}}(4294967296*(r||e.random()));r=987654071*o(),n.push(4294967296*o()|0)}return new s.init(n,t)}}),a=n.enc={},u=a.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new s.init(r,t/2)}},l=a.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new s.init(r,t)}},c=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},p=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,a=4*o,u=i/a;u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var l=u*o,c=e.min(4*l,i);if(l){for(var p=0;p<l;p+=o)this._doProcessBlock(n,p);var f=n.splice(0,l);r.sigBytes-=c}return new s.init(f,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(i.Hasher=p.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new f.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math);return e})},function(e,t,r){"use strict";function n(e){if(t.isArray(e)&&e.length){var r=e.slice(0,-1),n=e.slice(-1);return!(r.filter(i.not(t.isString)).length||n.filter(i.not(t.isFunction)).length)}return t.isFunction(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(5),o=r(90),s=Object.prototype.toString,a=function(e){return function(t){return typeof t===e}};t.isUndefined=a("undefined"),t.isDefined=i.not(t.isUndefined),t.isNull=function(e){return null===e},t.isNullOrUndefined=i.or(t.isNull,t.isUndefined),t.isFunction=a("function"),t.isNumber=a("number"),t.isString=a("string"),t.isObject=function(e){return null!==e&&"object"==typeof e},t.isArray=Array.isArray,t.isDate=function(e){return"[object Date]"===s.call(e)},t.isRegExp=function(e){return"[object RegExp]"===s.call(e)},t.isState=o.StateObject.isState,t.isInjectable=n,t.isPromise=i.and(t.isObject,i.pipe(i.prop("then"),t.isFunction))},function(e,t,r){"use strict";function n(e){function t(r){return r.length>=n?e.apply(null,r):function(){return t(r.concat([].slice.apply(arguments)))}}var r=[].slice.apply(arguments,[1]),n=e.length;return t(r)}function i(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.apply(null,[].slice.call(arguments).reverse())}function s(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.apply(null,r)&&t.apply(null,r)}}function a(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.apply(null,r)||t.apply(null,r)}}function u(e,t){return function(r){return r[e].apply(r,t)}}function l(e){return function(t){for(var r=0;r<e.length;r++)if(e[r][0](t))return e[r][1](t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.curry=n,t.compose=i,t.pipe=o,t.prop=function(e){return function(t){return t&&t[e]}},t.propEq=n(function(e,t,r){return r&&r[e]===t}),t.parse=function(e){return o.apply(null,e.split(".").map(t.prop))},t.not=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return!e.apply(null,t)}},t.and=s,t.or=a,t.all=function(e){return function(t){return t.reduce(function(t,r){return t&&!!e(r)},!0)}},t.any=function(e){return function(t){return t.reduce(function(t,r){return t||!!e(r)},!1)}},t.is=function(e){return function(t){return null!=t&&t.constructor===e||t instanceof e}},t.eq=function(e){return function(t){return e===t}},t.val=function(e){return function(){return e}},t.invoke=u,t.pattern=l},function(e,t,r){"use strict";r.d(t,"j",function(){return d}),r.d(t,"p",function(){return h}),r.d(t,"h",function(){return v}),r.d(t,"i",function(){return y}),r.d(t,"f",function(){return S}),r.d(t,"g",function(){return T}),r.d(t,"a",function(){return I}),r.d(t,"k",function(){return w}),r.d(t,"c",function(){return A}),r.d(t,"l",function(){return N}),r.d(t,"n",function(){return L}),r.d(t,"o",function(){return R}),r.d(t,"b",function(){return _}),r.d(t,"d",function(){return k}),r.d(t,"e",function(){return M}),r.d(t,"m",function(){return B});var n=r(294),i=r.n(n),o=r(13),s=r.n(o),a=r(12),u=r.n(a),l=r(1),c=r.n(l),p=r(27),f=(r.n(p),r(22)),d=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;c()(this,e),this.value=t,this.termType=r,this.language=n,this.datatype=i}return e.prototype.toCanonical=function(){switch(this.termType){case"NamedNode":return"<"+this.value+">";case"BlankNode":return"_:"+this.value;case"Literal":return p.SparqlService.stringToSPARQLString(this.value)+(this.language?"@"+this.language:!this.datatype||k.langString.equals(this.datatype)||O.string.equals(this.datatype)?"":"^^"+this.datatype.toCanonical());case"Variable":return"?"+this.value;case"DefaultGraph":return"";case"UNDEF":return"UNDEF";default:throw"Unknown term type "+this}},e.prototype.equals=function(e){return this.termType===e.termType&&this.value===e.value&&("Literal"!==this.termType||this.language===e.language&&this.datatype===e.datatype)},e}(),h=function(e){function t(r){return c()(this,t),s()(this,e.call(this,r.value,r.termType,r.language,r.datatype))}return u()(t,e),t}(d),v=function(e){function t(){return c()(this,t),s()(this,e.call(this,"","DefaultGraph"))}return u()(t,e),t.prototype.toCanonical=function(){return""},t.prototype.equals=function(e){return"DefaultGraph"===e.termType},t}(d);v.instance=new v;var g=function(e){function t(){return c()(this,t),s()(this,e.call(this,"","UNDEF"))}return u()(t,e),t.prototype.toCanonical=function(){return""},t.prototype.equals=function(e){return"UNDEF"===e.termType},t}(d);g.instance=new g;var m=function(e){function t(r){return c()(this,t),s()(this,e.call(this,r,"Variable"))}return u()(t,e),t.prototype.toCanonical=function(){return"?"+this.value},t}(d),y=function(e){function t(r){return c()(this,t),s()(this,e.call(this,r,"NamedNode"))}return u()(t,e),t.prototype.toCanonical=function(){return"<"+this.value+">"},t}(d),b=function(e){function t(r){return c()(this,t),s()(this,e.call(this,r,"BlankNode"))}return u()(t,e),t.prototype.toCanonical=function(){return"?"+this.value},t}(d),E=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments[2];return c()(this,t),s()(this,e.call(this,r,"Literal",n,i||(n?k.langString:O.string)))}return u()(t,e),t}(d),x=function(){function e(t,r,n,i){c()(this,e),this.subject=t,this.predicate=r,this.object=n,this.graph=i}return e.prototype.toCanonical=function(){return this.subject.toCanonical()+" "+this.predicate.toCanonical()+" "+this.object.toCanonical()+("DefaultGraph"===this.graph.termType?"":" "+this.graph.toCanonical())},e.prototype.equals=function(e){return this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)},e}(),S=function(){function e(t,r,n){c()(this,e),this.subject=t,this.predicate=r,this.object=n,this.graph=v.instance}return e.prototype.toCanonical=function(){return this.subject.toCanonical()+" "+this.predicate.toCanonical()+" "+this.object.toCanonical()},e.prototype.equals=function(e){return this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)},e}(),T=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];c()(this,e),this.graph=t,this.triples=r},I=function(){function e(){c()(this,e),this.nextBlankNodeId=0}return e.nodeFromBinding=function(t){return e.instance.nodeFromBinding(t)},e.nodeFromNode=function(t){return e.instance.nodeFromNode(t)},e.nodeFromCanonicalRepresentation=function(t){return e.instance.nodeFromCanonicalRepresentation(t)},e.namedNode=function(t){return e.instance.namedNode(t)},e.blankNode=function(t){return e.instance.blankNode(t)},e.literal=function(t,r){return e.instance.literal(t,r)},e.variable=function(t){return e.instance.variable(t)},e.defaultGraph=function(){return e.instance.defaultGraph()},e.triple=function(t,r,n){return e.instance.triple(t,r,n)},e.quad=function(t,r,n,i){return e.instance.quad(t,r,n,i)},e.prototype.nodeFromBinding=function(e){var t=new d(e.value,"literal"===e.type?"Literal":"uri"===e.type?"NamedNode":"BlankNode");return"literal"===e.type&&(t.language=e["xml:lang"]?e["xml:lang"]:"",t.datatype=e.datatype?new y(e.datatype):""!==t.language?k.langString:O.string),t},e.prototype.nodeFromNode=function(e){return"Literal"===e.termType?new E(e.value,e.language,e.datatype):new d(e.value,e.termType)},e.prototype.nodeFromCanonicalRepresentation=function(e){if(0===e.indexOf("<"))return new y(e.substring(1,e.length-1));if(0===e.indexOf("_:"))return new b(e.substring(2));var t=e.substring(1,e.lastIndexOf('"'));return e.lastIndexOf("@")===e.lastIndexOf('"')+1?new E(t,e.substring(e.lastIndexOf("@"))):e.lastIndexOf("^^<")===e.lastIndexOf('"')+1?new E(t,"",new y(e.substring(e.lastIndexOf("^^<"),e.length-1))):new E(t)},e.prototype.namedNode=function(e){return new y(e)},e.prototype.blankNode=function(e){return new b(e||"b"+ ++this.nextBlankNodeId)},e.prototype.literal=function(e,t){return"string"==typeof t?new E(e,t):new E(e,void 0,t)},e.prototype.variable=function(e){return new m(e)},e.prototype.defaultGraph=function(){return v.instance},e.prototype.triple=function(e,t,r){return new S(e,t,r)},e.prototype.quad=function(e,t,r,n){return new x(e,t,r,n||v.instance)},e}();I.instance=new I;var w=function e(){c()(this,e)};w.ns="http://hdlab.stanford.edu/fibra/ontology#",w.Project=new y(w.ns+"Project"),w.graph=new y(w.ns+"graph"),w.qualifiedAssertion=new y(w.ns+"qualifiedAssertion"),w.order=new y(w.ns+"order"),w.schemaNS=new y(w.ns+"schemaNS"),w.instanceNS=new y(w.ns+"instanceNS"),w.updateEndpoint=new y(w.ns+"updateEndpoint"),w.configuration=new y(w.ns+"configuration"),w.configurationReference=new y(w.ns+"configurationReference"),w.schema=new y(w.ns+"schema"),w.schemaReference=new y(w.ns+"schemaReference"),w.autocompletionQuery=new y(w.ns+"autocompletionQuery"),w.propertyQuery=new y(w.ns+"propertyQuery"),w.classQuery=new y(w.ns+"classQuery"),w.itemQuery=new y(w.ns+"itemQuery"),w.deleteItemQuery=new y(w.ns+"deleteItemQuery"),w.RemoteEndpointConfiguration=new y(w.ns+"RemoteEndpointConfiguration"),w.PrimaryEndpointConfiguration=new y(w.ns+"PrimaryEndpointConfiguration"),w.AuthorityEndpointConfiguration=new y(w.ns+"AuthorityEndpointConfiguration"),w.ArchiveEndpointConfiguration=new y(w.ns+"ArchiveEndpointConfiguration"),w.Schema=new y(w.ns+"Schema");var C=function e(){c()(this,e)};C.ns="http://www.w3.org/ns/sparql-service-description#",C._name=new y(C.ns+"name");var A=function e(){c()(this,e)};A.ns="http://www.w3.org/2004/02/skos/core#",A.prefLabel=new y(A.ns+"prefLabel"),A.altLabel=new y(A.ns+"altLabel"),A.related=new y(A.ns+"related");var N=function e(){c()(this,e)};N.ns="http://rdfs.org/ns/void#",N.sparqlEndpoint=new y(N.ns+"sparqlEndpoint");var L=function e(){c()(this,e)};L.ns="http://purl.org/dc/terms/",L.rightsHolder=new y(L.ns+"rightsHolder"),L.description=new y(L.ns+"description");var R=function e(){c()(this,e)};R.ns="http://xmlns.com/foaf/0.1/",R.homepage=new y(R.ns+"homepage");var _=function e(){c()(this,e)};_.ns="http://www.w3.org/2002/07/owl#",_.sameAs=new y(_.ns+"sameAs"),_.Thing=new y(_.ns+"Thing"),_.Class=new y(_.ns+"Class");var k=function e(){c()(this,e)};k.ns="http://www.w3.org/1999/02/22-rdf-syntax-ns#",k.type=new y(k.ns+"type"),k.langString=new y(k.ns+"langString"),k.Triple=new y(k.ns+"Triple"),k.subject=new y(k.ns+"subject"),k.predicate=new y(k.ns+"predicate"),k.object=new y(k.ns+"object"),k.value=new y(k.ns+"value");var O=function e(){c()(this,e)};O.ns="http://www.w3.org/2001/XMLSchema#",O.string=new y(O.ns+"string");var P=function e(){c()(this,e)};P.ns="http://www.cidoc-crm.org/cidoc-crm/",P.Person=new y(P.ns+"E21_Person"),P.Place=new y(P.ns+"E53_Place"),P.Group=new y(P.ns+"E74_Group");var D=function e(){c()(this,e)};D.ns="http://vocab.getty.edu/ontology#",D.AdminPlaceConcept=new y(D.ns+"AdminPlaceConcept"),D.PhysicalPlaceConcept=new y(D.ns+"PhysicalPlaceConcept"),D.PhysAdminPlaceConcept=new y(D.ns+"PhysAdminPlaceConcept"),D.PersonConcept=new y(D.ns+"PersonConcept"),D.GroupConcept=new y(D.ns+"GroupConcept");var F=function e(){c()(this,e)};F.ns="http://www.loc.gov/mads/rdf/v1#",F.CorporateName=new y(F.ns+"CorporateName"),F.PersonalName=new y(F.ns+"PersonalName"),F.NameTitle=new y(F.ns+"NameTitle"),F.Geographic=new y(F.ns+"Geographic");var j=function e(){c()(this,e)};j.ns="http://geovocab.org/spatial#",j.Feature=new y(j.ns+"Feature");var M=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new f.a;c()(this,e),this.create=t,this.map=r}return e.prototype.goc=function(e,t){return this.has(e)||this.set(e,t?t(e):this.create(e)),this.get(e)},e.prototype.get=function(e){return this.map.get(e.toCanonical())},e.prototype.remove=function(e){return this.map.remove(e.toCanonical())},e.prototype.each=function(e){var t=this;this.map.each(function(r,n,i){return e(r,I.instance.nodeFromCanonicalRepresentation(n),t)})},e.prototype.has=function(e){return this.map.has(e.toCanonical())},e.prototype.set=function(e,t){return this.map.set(e.toCanonical(),t),this},e.prototype.values=function(){return this.map.values()},e.prototype.keys=function(){return this.map.keys().map(function(e){return I.instance.nodeFromCanonicalRepresentation(e)})},e.prototype.entries=function(){return this.map.entries().map(function(e){return{key:I.instance.nodeFromCanonicalRepresentation(e.key),value:e.value}})},e.prototype.clear=function(){return this.map.clear(),this},i()(e,[{key:"size",get:function(){return this.map.size()}}]),e}(),$=(function(e){function t(r){return c()(this,t),s()(this,e.call(this,r,new f.b))}u()(t,e)}(M),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new f.a;c()(this,e),this.m=new M(void 0,t)}return e.prototype.add=function(e){return this.m.set(e,e),this},e.prototype.adda=function(e){var t=this;return e.forEach(function(e){return t.add(e)}),this},e.prototype.adds=function(e){var t=this;return e.each(function(e){return t.add(e)}),this},e.prototype.has=function(e){return this.m.has(e)},e.prototype.get=function(e){return this.m.get(e)},e.prototype.clear=function(){return this.m.clear(),this},e.prototype.remove=function(e){return this.m.remove(e)},e.prototype.values=function(){return this.m.values()},e.prototype.each=function(e){var t=this;this.m.each(function(r,n,i){return e(r,r,t)})},i()(e,[{key:"size",get:function(){return this.m.size}}]),e}()),B=function(e){function t(){return c()(this,t),s()(this,e.call(this,new f.b))}return u()(t,e),t}($)},function(module,exports,__webpack_require__){(function(process){var slowNextTick=function(){return void 0!==process&&process.nextTick?process.nextTick:"undefined"!=typeof window&&window.setImmediate?window.setImmediate:function(e){setTimeout(e,0)}}(),spin=0,yieldFrequency=100,nextTick=function(e){spin++,spin<yieldFrequency?e():(spin=0,slowNextTick(e))},hashTerm=function(e){try{if(null==e)return"";if("uri"===e.token)return"u"+e.value;if("blank"===e.token)return"b"+e.value;if("literal"===e.token){var t="l"+e.value;return t+=e.type||"",t+=e.lang||""}}catch(t){if("object"==typeof e){var r="";for(p in e)r=r+p+e[p];return r}return e}},lexicalFormBaseUri=function(e,t){var r=null;if(t=t||{},null==e.value){var n=e.prefix,i=e.suffix,o=t.namespaces[n];r=null!=o?o+i:n+":"+i}else r=e.value;return null===r?null:(-1==r.indexOf(":")&&(r=(t.base||"")+r),r)};parseISO8601=function(e){return Date.parse(e)},Date.prototype.toISOString||function(){function e(e){return e<10?"0"+e:e}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}(),iso8601=function(e){return e.toISOString()},compareDateComponents=function(e,t){var r=parseISO8601(e),n=parseISO8601(t);return r==n?0:r<n?-1:1},lexicalFormLiteral=function(e,t){var r=e.value,n=e.lang,i=e.type,o=null;if(null!=r&&null!=i&&"string"!=typeof i){var s=i.value;if(null==s){var a=i.prefix,u=i.suffix,l=t.namespaces[a];e.type=l+u,s=l+u}o=-1!=s.indexOf("hexBinary")?'"'+e.value.toLowerCase()+'"^^<'+s+">":'"'+e.value+'"^^<'+s+">"}else o=null==n&&null==i?'"'+r+'"':null==i?'"'+r+'"@'+n:-1!=i.indexOf("hexBinary")?'"'+e.value.toLowerCase()+'"^^<'+i+">":'"'+e.value+'"^^<'+i+">";return o},normalizeUnicodeLiterals=function(string){for(var escapedUnicode=string.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],dups={},i=0;i<escapedUnicode.length;i++)null==dups[escapedUnicode[i]]&&(dups[escapedUnicode[i]]=!0,string=string.replace(new RegExp("\\"+escapedUnicode[i],"g"),eval("'"+escapedUnicode[i]+"'")));return string},registerIndexedDB=function(e){if("undefined"==typeof window&&void 0!==process&&!1===process.browser){var t=_dereq_("sqlite3"),r=_dereq_("indexeddb-js"),n=new t.Database(":memory:"),i=r.makeScope("sqlite3",n);e.indexedDB=i.indexedDB,e.IDBKeyRange=i.IDBKeyRange}else{var o;o="undefined"==typeof window?self:window,o.indexedDB=o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,o.IDBKeyRange=o.IDBKeyRange||o.webkitIDBKeyRange||o.msIDBKeyRange,o.indexedDB?(e.indexedDB=o.indexedDB,e.IDBKeyRange=o.IDBKeyRange):console.log("The browser does not support IndexDB.")}},guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},hashTerm=function(e){try{if(null==e)return"";if("uri"===e.token)return"u"+e.value;if("blank"===e.token)return"b"+e.value;if("literal"===e.token){var t="l"+e.value;return t+=e.type||"",t+=e.lang||""}}catch(t){if("object"==typeof e){var r="";for(p in e)r=r+p+e[p];return r}return e}};var reject=function(e,t){for(var r=[],n=0;n<e.length;n++)t(e[n])&&r.push(e[n]);return r},include=function(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1},each=function(e,t){if(e.forEach)e.forEach(t);else for(var r=0;r<e.length;r++)t(e[r])},map=function(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n]);return r},keys=function(e){var t=[];for(var r in e)t.push(r);return t},values=function(e){var t=[];for(var r in e)t.push(e[r]);return t},size=function(e){if(e.length)return e.length;var t=0;for(var r in e)t++;return t};clone=function(e){return JSON.parse(JSON.stringify(e))};var isObject=function(e){var t=typeof e;return"function"==t||e&&"object"==t||!1},create=function(){function e(){}return function(t){if(isObject(t)){e.prototype=t;var r=new e;e.prototype=null}return r||void 0}}(),whilst=function(e,t,r){e()?t(function(n){if(n)return r(n);whilst(e,t,r)}):r()},eachSeries=function(e,t,r){if(r=r||function(){},!e.length)return r();var n=0,i=function(){t(e[n],function(t){t?(r(t),r=function(){}):(n+=1,n>=e.length?r():nextTick(i))})};i()},eachParallel=function(e,t,r){if(r=r||function(){},!e.length)return r();for(var n=!1,i=0,o=function(t){if(t)throw n=!0,new Error(t);n||++i===e.length&&r()},s=0;s<e.length;s++)!function(e,t,r,n){nextTick(function(){try{n(e[t],function(){r()})}catch(e){r(e)}})}(e,s,o,t)},reduce=function(e,t,r,n){eachSeries(e,function(e,n){r(t,e,function(e,r){t=r,n(e)})},function(e){n(e,t)})},seq=function(){var e=arguments;return function(){var t=this,r=Array.prototype.slice.call(arguments),n=r.pop();reduce(e,r,function(e,r,n){r.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);n(e,t)}]))},function(e,r){n.apply(t,[e].concat(r))})}},isWorker=function(){return(void 0===process||!0===process.browser)&&"undefined"==typeof window};module.exports={isWorker:isWorker,nextTick:nextTick,hasTerm:hashTerm,lexicalFormBaseUri:lexicalFormBaseUri,parseISO8601:parseISO8601,compareDateComponents:compareDateComponents,iso8601:iso8601,normalizeUnicodeLiterals:normalizeUnicodeLiterals,lexicalFormLiteral:lexicalFormLiteral,registerIndexedDB:registerIndexedDB,guid:guid,hashTerm:hashTerm,keys:keys,values:values,size:size,map:map,each:each,forEach:each,include:include,reject:reject,remove:reject,clone:clone,create:create,whilst:whilst,eachSeries:eachSeries,eachParallel:eachParallel,seq:seq,yieldFrequency:function(e){yieldFrequency=e}}}).call(exports,__webpack_require__(19))},function(e,t,r){"use strict";function n(e,t){if(1===arguments.length){for(var r=e[0],i=1;i<e.length;i++)r=n(r,e[i]);return r}for(var o in t)if("class"===o){var s=e[o]||[];e[o]=(Array.isArray(s)?s:[s]).concat(t[o]||[])}else if("style"===o){var s=a(e[o]),u=a(t[o]);e[o]=s+u}else e[o]=t[o];return e}function i(e,t){for(var r,n="",i="",o=Array.isArray(t),a=0;a<e.length;a++)(r=s(e[a]))&&(o&&t[a]&&(r=c(r)),n=n+i+r,i=" ");return n}function o(e){var t="",r="";for(var n in e)n&&e[n]&&f.call(e,n)&&(t=t+r+n,r=" ");return t}function s(e,t){return Array.isArray(e)?i(e,t):e&&"object"==typeof e?o(e):e||""}function a(e){if(!e)return"";if("object"==typeof e){var t="";for(var r in e)f.call(e,r)&&(t=t+r+":"+e[r]+";");return t}return e+="",";"!==e[e.length-1]?e+";":e}function u(e,t,r,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),r||-1===t.indexOf('"'))?(r&&(t=c(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}function l(e,t){var r="";for(var n in e)if(f.call(e,n)){var i=e[n];if("class"===n){i=s(i),r=u(n,i,!1,t)+r;continue}"style"===n&&(i=a(i)),r+=u(n,i,!1,t)}return r}function c(e){var t=""+e,r=d.exec(t);if(!r)return e;var n,i,o,s="";for(n=r.index,i=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}i!==n&&(s+=t.substring(i,n)),i=n+1,s+=o}return i!==n?s+t.substring(i,n):s}function p(e,t,n,i){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&t||i))throw e.message+=" on line "+n,e;try{i=i||r(486).readFileSync(t,"utf8")}catch(t){p(e,null,n)}var o=3,s=i.split("\n"),a=Math.max(n-o,0),u=Math.min(s.length,n+o),o=s.slice(a,u).map(function(e,t){var r=t+a+1;return(r==n?"  > ":"    ")+r+"| "+e}).join("\n");throw e.path=t,e.message=(t||"Pug")+":"+n+"\n"+o+"\n\n"+e.message,e}var f=Object.prototype.hasOwnProperty;t.merge=n,t.classes=s,t.style=a,t.attr=u,t.attrs=l;var d=/["&<>]/;t.escape=c,t.rethrow=p},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(36))}(0,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,o=n.WordArray,s=n.BufferedBlockAlgorithm,a=r.enc,u=(a.Utf8,a.Base64),l=r.algo,c=l.EvpKDF,p=n.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?T:E}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),f=(n.StreamCipher=p.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),r.mode={}),d=n.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=f.CBC=function(){function e(e,r,n){var i=this._iv;if(i){var o=i;this._iv=t}else var o=this._prevBlock;for(var s=0;s<n;s++)e[r+s]^=o[s]}var r=d.extend();return r.Encryptor=r.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize;e.call(this,t,r,i),n.encryptBlock(t,r),this._prevBlock=t.slice(r,r+i)}}),r.Decryptor=r.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize,o=t.slice(r,r+i);n.decryptBlock(t,r),e.call(this,t,r,i),this._prevBlock=o}}),r}(),v=r.pad={},g=v.Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(i);var u=o.create(s,n);e.concat(u)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(n.BlockCipher=p.extend({cfg:p.cfg.extend({mode:h,padding:g}),reset:function(){p.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else{var n=r.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==n?this._mode.init(this,t&&t.words):(this._mode=n.call(r,this,t&&t.words),this._mode.__creator=n)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{var t=this._process(!0);e.unpad(t)}return t},blockSize:4}),n.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),y=r.format={},b=y.OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=o.create([1398893684,1701076831]).concat(r).concat(t);else var n=t;return n.toString(u)},parse:function(e){var t=u.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=o.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return m.create({ciphertext:t,salt:n})}},E=n.SerializableCipher=i.extend({cfg:i.extend({format:b}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),o=i.finalize(t),s=i.cfg;return m.create({ciphertext:o,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),x=r.kdf={},S=x.OpenSSL={execute:function(e,t,r,n){n||(n=o.random(8));var i=c.create({keySize:t+r}).compute(e,n),s=o.create(i.words.slice(t),4*r);return i.sigBytes=4*t,m.create({key:i,iv:s,salt:n})}},T=n.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:S}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=n.kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var o=E.encrypt.call(this,e,t,i.key,n);return o.mixIn(i),o},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=i.iv,E.decrypt.call(this,e,t,i.key,n)}})}()})},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notImplemented=function(e){return function(){throw new Error(e+"(): No coreservices implementation for UI-Router is loaded.")}};var n={$q:void 0,$injector:void 0};t.services=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(291),o=n(i),s=r(287),a=n(s),u=r(99),l=n(u);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(99),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,r){var n,i;/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
!function(t,r){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,function(r,o){function s(e){var t=!!e&&"length"in e&&e.length,r=ue.type(e);return"function"!==r&&!ue.isWindow(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}function a(e,t,r){if(ue.isFunction(t))return ue.grep(e,function(e,n){return!!t.call(e,n,e)!==r});if(t.nodeType)return ue.grep(e,function(e){return e===t!==r});if("string"==typeof t){if(ye.test(t))return ue.filter(t,e,r);t=ue.filter(t,e)}return ue.grep(e,function(e){return ne.call(t,e)>-1!==r})}function u(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return ue.each(e.match(Te)||[],function(e,r){t[r]=!0}),t}function c(){Z.removeEventListener("DOMContentLoaded",c),r.removeEventListener("load",c),ue.ready()}function p(){this.expando=ue.expando+p.uid++}function f(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(Re,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:Le.test(r)?ue.parseJSON(r):r)}catch(e){}Ne.set(e,t,r)}else r=void 0;return r}function d(e,t,r,n){var i,o=1,s=20,a=n?function(){return n.cur()}:function(){return ue.css(e,t,"")},u=a(),l=r&&r[3]||(ue.cssNumber[t]?"":"px"),c=(ue.cssNumber[t]||"px"!==l&&+u)&&ke.exec(ue.css(e,t));if(c&&c[3]!==l){l=l||c[3],r=r||[],c=+u||1;do{o=o||".5",c/=o,ue.style(e,t,c+l)}while(o!==(o=a()/u)&&1!==o&&--s)}return r&&(c=+c||+u||0,i=r[1]?c+(r[1]+1)*r[2]:+r[2],n&&(n.unit=l,n.start=c,n.end=i)),i}function h(e,t){var r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&ue.nodeName(e,t)?ue.merge([e],r):r}function v(e,t){for(var r=0,n=e.length;r<n;r++)Ae.set(e[r],"globalEval",!t||Ae.get(t[r],"globalEval"))}function g(e,t,r,n,i){for(var o,s,a,u,l,c,p=t.createDocumentFragment(),f=[],d=0,g=e.length;d<g;d++)if((o=e[d])||0===o)if("object"===ue.type(o))ue.merge(f,o.nodeType?[o]:o);else if($e.test(o)){for(s=s||p.appendChild(t.createElement("div")),a=(Fe.exec(o)||["",""])[1].toLowerCase(),u=Me[a]||Me._default,s.innerHTML=u[1]+ue.htmlPrefilter(o)+u[2],c=u[0];c--;)s=s.lastChild;ue.merge(f,s.childNodes),s=p.firstChild,s.textContent=""}else f.push(t.createTextNode(o));for(p.textContent="",d=0;o=f[d++];)if(n&&ue.inArray(o,n)>-1)i&&i.push(o);else if(l=ue.contains(o.ownerDocument,o),s=h(p.appendChild(o),"script"),l&&v(s),r)for(c=0;o=s[c++];)je.test(o.type||"")&&r.push(o);return p}function m(){return!0}function y(){return!1}function b(){try{return Z.activeElement}catch(e){}}function E(e,t,r,n,i,o){var s,a;if("object"==typeof t){"string"!=typeof r&&(n=n||r,r=void 0);for(a in t)E(e,a,r,n,t[a],o);return e}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=y;else if(!i)return e;return 1===o&&(s=i,i=function(e){return ue().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=ue.guid++)),e.each(function(){ue.event.add(this,t,i,n,r)})}function x(e,t){return ue.nodeName(e,"table")&&ue.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function S(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function T(e){var t=Qe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function I(e,t){var r,n,i,o,s,a,u,l;if(1===t.nodeType){if(Ae.hasData(e)&&(o=Ae.access(e),s=Ae.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(r=0,n=l[i].length;r<n;r++)ue.event.add(t,i,l[i][r])}Ne.hasData(e)&&(a=Ne.access(e),u=ue.extend({},a),Ne.set(t,u))}}function w(e,t){var r=t.nodeName.toLowerCase();"input"===r&&De.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function C(e,t,r,n){t=te.apply([],t);var i,o,s,a,u,l,c=0,p=e.length,f=p-1,d=t[0],v=ue.isFunction(d);if(v||p>1&&"string"==typeof d&&!ae.checkClone&&Ve.test(d))return e.each(function(i){var o=e.eq(i);v&&(t[0]=d.call(this,i,o.html())),C(o,t,r,n)});if(p&&(i=g(t,e[0].ownerDocument,!1,e,n),o=i.firstChild,1===i.childNodes.length&&(i=o),o||n)){for(s=ue.map(h(i,"script"),S),a=s.length;c<p;c++)u=i,c!==f&&(u=ue.clone(u,!0,!0),a&&ue.merge(s,h(u,"script"))),r.call(e[c],u,c);if(a)for(l=s[s.length-1].ownerDocument,ue.map(s,T),c=0;c<a;c++)u=s[c],je.test(u.type||"")&&!Ae.access(u,"globalEval")&&ue.contains(l,u)&&(u.src?ue._evalUrl&&ue._evalUrl(u.src):ue.globalEval(u.textContent.replace(We,"")))}return e}function A(e,t,r){for(var n,i=t?ue.filter(t,e):e,o=0;null!=(n=i[o]);o++)r||1!==n.nodeType||ue.cleanData(h(n)),n.parentNode&&(r&&ue.contains(n.ownerDocument,n)&&v(h(n,"script")),n.parentNode.removeChild(n));return e}function N(e,t){var r=ue(t.createElement(e)).appendTo(t.body),n=ue.css(r[0],"display");return r.detach(),n}function L(e){var t=Z,r=Xe[e];return r||(r=N(e,t),"none"!==r&&r||(ze=(ze||ue("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=ze[0].contentDocument,t.write(),t.close(),r=N(e,t),ze.detach()),Xe[e]=r),r}function R(e,t,r){var n,i,o,s,a=e.style;return r=r||Je(e),s=r?r.getPropertyValue(t)||r[t]:void 0,""!==s&&void 0!==s||ue.contains(e.ownerDocument,e)||(s=ue.style(e,t)),r&&!ae.pixelMarginRight()&&Ke.test(s)&&Ye.test(t)&&(n=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=r.width,a.width=n,a.minWidth=i,a.maxWidth=o),void 0!==s?s+"":s}function _(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e){if(e in ot)return e;for(var t=e[0].toUpperCase()+e.slice(1),r=it.length;r--;)if((e=it[r]+t)in ot)return e}function O(e,t,r){var n=ke.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function P(e,t,r,n,i){for(var o=r===(n?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===r&&(s+=ue.css(e,r+Oe[o],!0,i)),n?("content"===r&&(s-=ue.css(e,"padding"+Oe[o],!0,i)),"margin"!==r&&(s-=ue.css(e,"border"+Oe[o]+"Width",!0,i))):(s+=ue.css(e,"padding"+Oe[o],!0,i),"padding"!==r&&(s+=ue.css(e,"border"+Oe[o]+"Width",!0,i)));return s}function D(e,t,r){var n=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Je(e),s="border-box"===ue.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=R(e,t,o),(i<0||null==i)&&(i=e.style[t]),Ke.test(i))return i;n=s&&(ae.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+P(e,t,r||(s?"border":"content"),n,o)+"px"}function F(e,t){for(var r,n,i,o=[],s=0,a=e.length;s<a;s++)n=e[s],n.style&&(o[s]=Ae.get(n,"olddisplay"),r=n.style.display,t?(o[s]||"none"!==r||(n.style.display=""),""===n.style.display&&Pe(n)&&(o[s]=Ae.access(n,"olddisplay",L(n.nodeName)))):(i=Pe(n),"none"===r&&i||Ae.set(n,"olddisplay",i?r:ue.css(n,"display"))));for(s=0;s<a;s++)n=e[s],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[s]||"":"none"));return e}function j(e,t,r,n,i){return new j.prototype.init(e,t,r,n,i)}function M(){return r.setTimeout(function(){st=void 0}),st=ue.now()}function $(e,t){var r,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)r=Oe[n],i["margin"+r]=i["padding"+r]=e;return t&&(i.opacity=i.width=e),i}function B(e,t,r){for(var n,i=(H.tweeners[t]||[]).concat(H.tweeners["*"]),o=0,s=i.length;o<s;o++)if(n=i[o].call(r,t,e))return n}function U(e,t,r){var n,i,o,s,a,u,l,c=this,p={},f=e.style,d=e.nodeType&&Pe(e),h=Ae.get(e,"fxshow");r.queue||(a=ue._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ue.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(r.overflow=[f.overflow,f.overflowX,f.overflowY],l=ue.css(e,"display"),"inline"===("none"===l?Ae.get(e,"olddisplay")||L(e.nodeName):l)&&"none"===ue.css(e,"float")&&(f.display="inline-block")),r.overflow&&(f.overflow="hidden",c.always(function(){f.overflow=r.overflow[0],f.overflowX=r.overflow[1],f.overflowY=r.overflow[2]}));for(n in t)if(i=t[n],ut.exec(i)){if(delete t[n],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!h||void 0===h[n])continue;d=!0}p[n]=h&&h[n]||ue.style(e,n)}else l=void 0;if(ue.isEmptyObject(p))"inline"===("none"===l?L(e.nodeName):l)&&(f.display=l);else{h?"hidden"in h&&(d=h.hidden):h=Ae.access(e,"fxshow",{}),o&&(h.hidden=!d),d?ue(e).show():c.done(function(){ue(e).hide()}),c.done(function(){var t;Ae.remove(e,"fxshow");for(t in p)ue.style(e,t,p[t])});for(n in p)s=B(d?h[n]:0,n,c),n in h||(h[n]=s.start,d&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function G(e,t){var r,n,i,o,s;for(r in e)if(n=ue.camelCase(r),i=t[n],o=e[r],ue.isArray(o)&&(i=o[1],o=e[r]=o[0]),r!==n&&(e[n]=o,delete e[r]),(s=ue.cssHooks[n])&&"expand"in s){o=s.expand(o),delete e[n];for(r in o)r in e||(e[r]=o[r],t[r]=i)}else t[n]=i}function H(e,t,r){var n,i,o=0,s=H.prefilters.length,a=ue.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=st||M(),r=Math.max(0,l.startTime+l.duration-t),n=r/l.duration||0,o=1-n,s=0,u=l.tweens.length;s<u;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,r]),o<1&&u?r:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:ue.extend({},t),opts:ue.extend(!0,{specialEasing:{},easing:ue.easing._default},r),originalProperties:t,originalOptions:r,startTime:st||M(),duration:r.duration,tweens:[],createTween:function(t,r){var n=ue.Tween(e,l.opts,t,r,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){var r=0,n=t?l.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)l.tweens[r].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),c=l.props;for(G(c,l.opts.specialEasing);o<s;o++)if(n=H.prefilters[o].call(l,e,c,l.opts))return ue.isFunction(n.stop)&&(ue._queueHooks(l.elem,l.opts.queue).stop=ue.proxy(n.stop,n)),n;return ue.map(c,B,l),ue.isFunction(l.opts.start)&&l.opts.start.call(e,l),ue.fx.timer(ue.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function q(e){return e.getAttribute&&e.getAttribute("class")||""}function V(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,i=0,o=t.toLowerCase().match(Te)||[];if(ue.isFunction(r))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function Q(e,t,r,n){function i(a){var u;return o[a]=!0,ue.each(e[a]||[],function(e,a){var l=a(t,r,n);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=e===Nt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var r,n,i=ue.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ue.extend(!0,e,n),e}function z(e,t,r){for(var n,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in a)if(a[i]&&a[i].test(n)){u.unshift(i);break}if(u[0]in r)o=u[0];else{for(i in r){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),r[o]}function X(e,t,r,n){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(r[e.responseFields[o]]=t),!u&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[i]:!0!==l[i]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function Y(e,t,r,n){var i;if(ue.isArray(t))ue.each(t,function(t,i){r||kt.test(e)?n(e,i):Y(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,n)});else if(r||"object"!==ue.type(t))n(e,t);else for(i in t)Y(e+"["+i+"]",t[i],r,n)}function K(e){return ue.isWindow(e)?e:9===e.nodeType&&e.defaultView}var J=[],Z=r.document,ee=J.slice,te=J.concat,re=J.push,ne=J.indexOf,ie={},oe=ie.toString,se=ie.hasOwnProperty,ae={},ue=function(e,t){return new ue.fn.init(e,t)},le=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ce=/^-ms-/,pe=/-([\da-z])/gi,fe=function(e,t){return t.toUpperCase()};ue.fn=ue.prototype={jquery:"2.2.4",constructor:ue,selector:"",length:0,toArray:function(){return ee.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:ee.call(this)},pushStack:function(e){var t=ue.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ue.each(this,e)},map:function(e){return this.pushStack(ue.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:re,sort:J.sort,splice:J.splice},ue.extend=ue.fn.extend=function(){var e,t,r,n,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||ue.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(t in e)r=s[t],n=e[t],s!==n&&(l&&n&&(ue.isPlainObject(n)||(i=ue.isArray(n)))?(i?(i=!1,o=r&&ue.isArray(r)?r:[]):o=r&&ue.isPlainObject(r)?r:{},s[t]=ue.extend(l,o,n)):void 0!==n&&(s[t]=n));return s},ue.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ue.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!ue.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==ue.type(e)||e.nodeType||ue.isWindow(e))return!1;if(e.constructor&&!se.call(e,"constructor")&&!se.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||se.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ie[oe.call(e)]||"object":typeof e},globalEval:function(e){var t,r=eval;(e=ue.trim(e))&&(1===e.indexOf("use strict")?(t=Z.createElement("script"),t.text=e,Z.head.appendChild(t).parentNode.removeChild(t)):r(e))},camelCase:function(e){return e.replace(ce,"ms-").replace(pe,fe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,n=0;if(s(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(le,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(s(Object(e))?ue.merge(r,"string"==typeof e?[e]:e):re.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:ne.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,r){for(var n=[],i=0,o=e.length,s=!r;i<o;i++)!t(e[i],i)!==s&&n.push(e[i]);return n},map:function(e,t,r){var n,i,o=0,a=[];if(s(e))for(n=e.length;o<n;o++)null!=(i=t(e[o],o,r))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&a.push(i);return te.apply([],a)},guid:1,proxy:function(e,t){var r,n,i;if("string"==typeof t&&(r=e[t],t=e,e=r),ue.isFunction(e))return n=ee.call(arguments,2),i=function(){return e.apply(t||this,n.concat(ee.call(arguments)))},i.guid=e.guid=e.guid||ue.guid++,i},now:Date.now,support:ae}),"function"==typeof Symbol&&(ue.fn[Symbol.iterator]=J[Symbol.iterator]),ue.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ie["[object "+t+"]"]=t.toLowerCase()});var de=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){function t(e,t,r,n){var i,o,s,a,l,p,f,d,h=t&&t.ownerDocument,v=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==v&&9!==v&&11!==v)return r;if(!n&&((t?t.ownerDocument||t:M)!==R&&L(t),t=t||R,k)){if(11!==v&&(p=ve.exec(e)))if(i=p[1]){if(9===v){if(!(s=t.getElementById(i)))return r;if(s.id===i)return r.push(s),r}else if(h&&(s=h.getElementById(i))&&F(t,s)&&s.id===i)return r.push(s),r}else{if(p[2])return Y.apply(r,t.getElementsByTagName(e)),r;if((i=p[3])&&b.getElementsByClassName&&t.getElementsByClassName)return Y.apply(r,t.getElementsByClassName(i)),r}if(b.qsa&&!H[e+" "]&&(!O||!O.test(e))){if(1!==v)h=t,d=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(me,"\\$&"):t.setAttribute("id",a=j),f=T(e),o=f.length,l=ce.test(a)?"#"+a:"[id='"+a+"']";o--;)f[o]=l+" "+c(f[o]);d=f.join(","),h=ge.test(e)&&u(t.parentNode)||t}if(d)try{return Y.apply(r,h.querySelectorAll(d)),r}catch(e){}finally{a===j&&t.removeAttribute("id")}}}return w(e.replace(oe,"$1"),t,r,n)}function r(){function e(r,n){return t.push(r+" ")>E.cacheLength&&delete e[t.shift()],e[r+" "]=n}var t=[];return e}function n(e){return e[j]=!0,e}function i(e){var t=R.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var r=e.split("|"),n=r.length;n--;)E.attrHandle[r[n]]=t}function s(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function a(e){return n(function(t){return t=+t,n(function(r,n){for(var i,o=e([],r.length,t),s=o.length;s--;)r[i=o[s]]&&(r[i]=!(n[i]=r[i]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function l(){}function c(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function p(e,t,r){var n=t.dir,i=r&&"parentNode"===n,o=B++;return t.first?function(t,r,o){for(;t=t[n];)if(1===t.nodeType||i)return e(t,r,o)}:function(t,r,s){var a,u,l,c=[$,o];if(s){for(;t=t[n];)if((1===t.nodeType||i)&&e(t,r,s))return!0}else for(;t=t[n];)if(1===t.nodeType||i){if(l=t[j]||(t[j]={}),u=l[t.uniqueID]||(l[t.uniqueID]={}),(a=u[n])&&a[0]===$&&a[1]===o)return c[2]=a[2];if(u[n]=c,c[2]=e(t,r,s))return!0}}}function f(e){return e.length>1?function(t,r,n){for(var i=e.length;i--;)if(!e[i](t,r,n))return!1;return!0}:e[0]}function d(e,r,n){for(var i=0,o=r.length;i<o;i++)t(e,r[i],n);return n}function h(e,t,r,n,i){for(var o,s=[],a=0,u=e.length,l=null!=t;a<u;a++)(o=e[a])&&(r&&!r(o,n,i)||(s.push(o),l&&t.push(a)));return s}function v(e,t,r,i,o,s){return i&&!i[j]&&(i=v(i)),o&&!o[j]&&(o=v(o,s)),n(function(n,s,a,u){var l,c,p,f=[],v=[],g=s.length,m=n||d(t||"*",a.nodeType?[a]:a,[]),y=!e||!n&&t?m:h(m,f,e,a,u),b=r?o||(n?e:g||i)?[]:s:y;if(r&&r(y,b,a,u),i)for(l=h(b,v),i(l,[],a,u),c=l.length;c--;)(p=l[c])&&(b[v[c]]=!(y[v[c]]=p));if(n){if(o||e){if(o){for(l=[],c=b.length;c--;)(p=b[c])&&l.push(y[c]=p);o(null,b=[],l,u)}for(c=b.length;c--;)(p=b[c])&&(l=o?J(n,p):f[c])>-1&&(n[l]=!(s[l]=p))}}else b=h(b===s?b.splice(g,b.length):b),o?o(null,s,b,u):Y.apply(s,b)})}function g(e){for(var t,r,n,i=e.length,o=E.relative[e[0].type],s=o||E.relative[" "],a=o?1:0,u=p(function(e){return e===t},s,!0),l=p(function(e){return J(t,e)>-1},s,!0),d=[function(e,r,n){var i=!o&&(n||r!==C)||((t=r).nodeType?u(e,r,n):l(e,r,n));return t=null,i}];a<i;a++)if(r=E.relative[e[a].type])d=[p(f(d),r)];else{if(r=E.filter[e[a].type].apply(null,e[a].matches),r[j]){for(n=++a;n<i&&!E.relative[e[n].type];n++);return v(a>1&&f(d),a>1&&c(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(oe,"$1"),r,a<n&&g(e.slice(a,n)),n<i&&g(e=e.slice(n)),n<i&&c(e))}d.push(r)}return f(d)}function m(e,r){var i=r.length>0,o=e.length>0,s=function(n,s,a,u,l){var c,p,f,d=0,v="0",g=n&&[],m=[],y=C,b=n||o&&E.find.TAG("*",l),x=$+=null==y?1:Math.random()||.1,S=b.length;for(l&&(C=s===R||s||l);v!==S&&null!=(c=b[v]);v++){if(o&&c){for(p=0,s||c.ownerDocument===R||(L(c),a=!k);f=e[p++];)if(f(c,s||R,a)){u.push(c);break}l&&($=x)}i&&((c=!f&&c)&&d--,n&&g.push(c))}if(d+=v,i&&v!==d){for(p=0;f=r[p++];)f(g,m,s,a);if(n){if(d>0)for(;v--;)g[v]||m[v]||(m[v]=z.call(u));m=h(m)}Y.apply(u,m),l&&!n&&m.length>0&&d+r.length>1&&t.uniqueSort(u)}return l&&($=x,C=y),g};return i?n(s):s}var y,b,E,x,S,T,I,w,C,A,N,L,R,_,k,O,P,D,F,j="sizzle"+1*new Date,M=e.document,$=0,B=0,U=r(),G=r(),H=r(),q=function(e,t){return e===t&&(N=!0),0},V=1<<31,Q={}.hasOwnProperty,W=[],z=W.pop,X=W.push,Y=W.push,K=W.slice,J=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ne=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),ae=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ue=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),le=new RegExp(ne),ce=new RegExp("^"+te+"$"),pe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ne),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,de=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,me=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,r){var n="0x"+t-65536;return n!==n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Ee=function(){L()};try{Y.apply(W=K.call(M.childNodes),M.childNodes),W[M.childNodes.length].nodeType}catch(e){Y={apply:W.length?function(e,t){X.apply(e,K.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}b=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},L=t.setDocument=function(e){var t,r,n=e?e.ownerDocument||e:M;return n!==R&&9===n.nodeType&&n.documentElement?(R=n,_=R.documentElement,k=!S(R),(r=R.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",Ee,!1):r.attachEvent&&r.attachEvent("onunload",Ee)),b.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=i(function(e){return e.appendChild(R.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=he.test(R.getElementsByClassName),b.getById=i(function(e){return _.appendChild(e).id=j,!R.getElementsByName||!R.getElementsByName(j).length}),b.getById?(E.find.ID=function(e,t){if(void 0!==t.getElementById&&k){var r=t.getElementById(e);return r?[r]:[]}},E.filter.ID=function(e){var t=e.replace(ye,be);return function(e){return e.getAttribute("id")===t}}):(delete E.find.ID,E.filter.ID=function(e){var t=e.replace(ye,be);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}}),E.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;r=o[i++];)1===r.nodeType&&n.push(r);return n}return o},E.find.CLASS=b.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&k)return t.getElementsByClassName(e)},P=[],O=[],(b.qsa=he.test(R.querySelectorAll))&&(i(function(e){_.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+j+"-]").length||O.push("~="),e.querySelectorAll(":checked").length||O.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||O.push(".#.+[+~]")}),i(function(e){var t=R.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(b.matchesSelector=he.test(D=_.matches||_.webkitMatchesSelector||_.mozMatchesSelector||_.oMatchesSelector||_.msMatchesSelector))&&i(function(e){b.disconnectedMatch=D.call(e,"div"),D.call(e,"[s!='']:x"),P.push("!=",ne)}),O=O.length&&new RegExp(O.join("|")),P=P.length&&new RegExp(P.join("|")),t=he.test(_.compareDocumentPosition),F=t||he.test(_.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return N=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!b.sortDetached&&t.compareDocumentPosition(e)===r?e===R||e.ownerDocument===M&&F(M,e)?-1:t===R||t.ownerDocument===M&&F(M,t)?1:A?J(A,e)-J(A,t):0:4&r?-1:1)}:function(e,t){if(e===t)return N=!0,0;var r,n=0,i=e.parentNode,o=t.parentNode,a=[e],u=[t];if(!i||!o)return e===R?-1:t===R?1:i?-1:o?1:A?J(A,e)-J(A,t):0;if(i===o)return s(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)u.unshift(r);for(;a[n]===u[n];)n++;return n?s(a[n],u[n]):a[n]===M?-1:u[n]===M?1:0},R):R},t.matches=function(e,r){return t(e,null,null,r)},t.matchesSelector=function(e,r){if((e.ownerDocument||e)!==R&&L(e),r=r.replace(ue,"='$1']"),b.matchesSelector&&k&&!H[r+" "]&&(!P||!P.test(r))&&(!O||!O.test(r)))try{var n=D.call(e,r);if(n||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(r,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&L(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&L(e);var r=E.attrHandle[t.toLowerCase()],n=r&&Q.call(E.attrHandle,t.toLowerCase())?r(e,t,!k):void 0;return void 0!==n?n:b.attributes||!k?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,r=[],n=0,i=0;if(N=!b.detectDuplicates,A=!b.sortStable&&e.slice(0),e.sort(q),N){for(;t=e[i++];)t===e[i]&&(n=r.push(i));for(;n--;)e.splice(r[n],1)}return A=null,e},x=t.getText=function(e){var t,r="",n=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=x(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[n++];)r+=x(t);return r},E=t.selectors={cacheLength:50,createPseudo:n,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&le.test(r)&&(t=T(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,r,n){return function(i){var o=t.attr(i,e);return null==o?"!="===r:!r||(o+="","="===r?o===n:"!="===r?o!==n:"^="===r?n&&0===o.indexOf(n):"*="===r?n&&o.indexOf(n)>-1:"$="===r?n&&o.slice(-n.length)===n:"~="===r?(" "+o.replace(ie," ")+" ").indexOf(n)>-1:"|="===r&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,r,n,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,u){var l,c,p,f,d,h,v=o!==s?"nextSibling":"previousSibling",g=t.parentNode,m=a&&t.nodeName.toLowerCase(),y=!u&&!a,b=!1;if(g){if(o){for(;v;){for(f=t;f=f[v];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;h=v="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?g.firstChild:g.lastChild],s&&y){for(f=g,p=f[j]||(f[j]={}),c=p[f.uniqueID]||(p[f.uniqueID]={}),l=c[e]||[],d=l[0]===$&&l[1],b=d&&l[2],f=d&&g.childNodes[d];f=++d&&f&&f[v]||(b=d=0)||h.pop();)if(1===f.nodeType&&++b&&f===t){c[e]=[$,d,b];break}}else if(y&&(f=t,p=f[j]||(f[j]={}),c=p[f.uniqueID]||(p[f.uniqueID]={}),l=c[e]||[],d=l[0]===$&&l[1],b=d),!1===b)for(;(f=++d&&f&&f[v]||(b=d=0)||h.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++b||(y&&(p=f[j]||(f[j]={}),c=p[f.uniqueID]||(p[f.uniqueID]={}),c[e]=[$,b]),f!==t)););return(b-=i)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,r){var i,o=E.pseudos[e]||E.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[j]?o(r):o.length>1?(i=[e,e,"",r],E.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,i=o(e,r),s=i.length;s--;)n=J(e,i[s]),e[n]=!(t[n]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:n(function(e){var t=[],r=[],i=I(e.replace(oe,"$1"));return i[j]?n(function(e,t,r,n){for(var o,s=i(e,null,n,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,n,o){return t[0]=e,i(t,null,o,r),t[0]=null,!r.pop()}}),has:n(function(e){return function(r){return t(e,r).length>0}}),contains:n(function(e){return e=e.replace(ye,be),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:n(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,be).toLowerCase(),function(t){var r;do{if(r=k?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===_},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return de.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,r){return[r<0?r+t:r]}),even:a(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:a(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:a(function(e,t,r){for(var n=r<0?r+t:r;--n>=0;)e.push(n);return e}),gt:a(function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e})}},E.pseudos.nth=E.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})E.pseudos[y]=function(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}(y);return l.prototype=E.filters=E.pseudos,E.setFilters=new l,T=t.tokenize=function(e,r){var n,i,o,s,a,u,l,c=G[e+" "];if(c)return r?0:c.slice(0);for(a=e,u=[],l=E.preFilter;a;){n&&!(i=se.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),n=!1,(i=ae.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(oe," ")}),a=a.slice(n.length));for(s in E.filter)!(i=pe[s].exec(a))||l[s]&&!(i=l[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return r?a.length:a?t.error(e):G(e,u).slice(0)},I=t.compile=function(e,t){var r,n=[],i=[],o=H[e+" "];if(!o){for(t||(t=T(e)),r=t.length;r--;)o=g(t[r]),o[j]?n.push(o):i.push(o);o=H(e,m(i,n)),o.selector=e}return o},w=t.select=function(e,t,r,n){var i,o,s,a,l,p="function"==typeof e&&e,f=!n&&T(e=p.selector||e);if(r=r||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&b.getById&&9===t.nodeType&&k&&E.relative[o[1].type]){if(!(t=(E.find.ID(s.matches[0].replace(ye,be),t)||[])[0]))return r;p&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pe.needsContext.test(e)?0:o.length;i--&&(s=o[i],!E.relative[a=s.type]);)if((l=E.find[a])&&(n=l(s.matches[0].replace(ye,be),ge.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),!(e=n.length&&c(o)))return Y.apply(r,n),r;break}}return(p||I(e,f))(n,t,!k,r,!t||ge.test(e)&&u(t.parentNode)||t),r},b.sortStable=j.split("").sort(q).join("")===j,b.detectDuplicates=!!N,L(),b.sortDetached=i(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(Z,function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(r);ue.find=de,ue.expr=de.selectors,ue.expr[":"]=ue.expr.pseudos,ue.uniqueSort=ue.unique=de.uniqueSort,ue.text=de.getText,ue.isXMLDoc=de.isXML,ue.contains=de.contains;var he=function(e,t,r){for(var n=[],i=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&ue(e).is(r))break;n.push(e)}return n},ve=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},ge=ue.expr.match.needsContext,me=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ye=/^.[^:#\[\.,]*$/;ue.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ue.find.matchesSelector(n,e)?[n]:[]:ue.find.matches(e,ue.grep(t,function(e){return 1===e.nodeType}))},ue.fn.extend({find:function(e){var t,r=this.length,n=[],i=this;if("string"!=typeof e)return this.pushStack(ue(e).filter(function(){for(t=0;t<r;t++)if(ue.contains(i[t],this))return!0}));for(t=0;t<r;t++)ue.find(e,i[t],n);return n=this.pushStack(r>1?ue.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&ge.test(e)?ue(e):e||[],!1).length}});var be,Ee=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ue.fn.init=function(e,t,r){var n,i;if(!e)return this;if(r=r||be,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ee.exec(e))||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ue?t[0]:t,ue.merge(this,ue.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),me.test(n[1])&&ue.isPlainObject(t))for(n in t)ue.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=Z.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ue.isFunction(e)?void 0!==r.ready?r.ready(e):e(ue):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ue.makeArray(e,this))}).prototype=ue.fn,be=ue(Z);var xe=/^(?:parents|prev(?:Until|All))/,Se={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({has:function(e){var t=ue(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(ue.contains(this,t[e]))return!0})},closest:function(e,t){for(var r,n=0,i=this.length,o=[],s=ge.test(e)||"string"!=typeof e?ue(e,t||this.context):0;n<i;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(s?s.index(r)>-1:1===r.nodeType&&ue.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?ue.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ne.call(ue(e),this[0]):ne.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ue.uniqueSort(ue.merge(this.get(),ue(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ue.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return he(e,"parentNode")},parentsUntil:function(e,t,r){return he(e,"parentNode",r)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return he(e,"nextSibling")},prevAll:function(e){return he(e,"previousSibling")},nextUntil:function(e,t,r){return he(e,"nextSibling",r)},prevUntil:function(e,t,r){return he(e,"previousSibling",r)},siblings:function(e){return ve((e.parentNode||{}).firstChild,e)},children:function(e){return ve(e.firstChild)},contents:function(e){return e.contentDocument||ue.merge([],e.childNodes)}},function(e,t){ue.fn[e]=function(r,n){var i=ue.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=ue.filter(n,i)),this.length>1&&(Se[e]||ue.uniqueSort(i),xe.test(e)&&i.reverse()),this.pushStack(i)}});var Te=/\S+/g;ue.Callbacks=function(e){e="string"==typeof e?l(e):ue.extend({},e);var t,r,n,i,o=[],s=[],a=-1,u=function(){for(i=e.once,n=t=!0;s.length;a=-1)for(r=s.shift();++a<o.length;)!1===o[a].apply(r[0],r[1])&&e.stopOnFalse&&(a=o.length,r=!1);e.memory||(r=!1),t=!1,i&&(o=r?[]:"")},c={add:function(){return o&&(r&&!t&&(a=o.length-1,s.push(r)),function t(r){ue.each(r,function(r,n){ue.isFunction(n)?e.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==ue.type(n)&&t(n)})}(arguments),r&&!t&&u()),this},remove:function(){return ue.each(arguments,function(e,t){for(var r;(r=ue.inArray(t,o,r))>-1;)o.splice(r,1),r<=a&&a--}),this},has:function(e){return e?ue.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=r="",this},disabled:function(){return!o},lock:function(){return i=s=[],r||(o=r=""),this},locked:function(){return!!i},fireWith:function(e,r){return i||(r=r||[],r=[e,r.slice?r.slice():r],s.push(r),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},ue.extend({Deferred:function(e){var t=[["resolve","done",ue.Callbacks("once memory"),"resolved"],["reject","fail",ue.Callbacks("once memory"),"rejected"],["notify","progress",ue.Callbacks("memory")]],r="pending",n={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ue.Deferred(function(r){ue.each(t,function(t,o){var s=ue.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&ue.isFunction(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[o[0]+"With"](this===n?r.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ue.extend(e,n):n}},i={};return n.pipe=n.then,ue.each(t,function(e,o){var s=o[2],a=o[3];n[o[1]]=s.add,a&&s.add(function(){r=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?n:this,arguments),this},i[o[0]+"With"]=s.fireWith}),n.promise(i),e&&e.call(i,i),i},when:function(e){var t,r,n,i=0,o=ee.call(arguments),s=o.length,a=1!==s||e&&ue.isFunction(e.promise)?s:0,u=1===a?e:ue.Deferred(),l=function(e,r,n){return function(i){r[e]=this,n[e]=arguments.length>1?ee.call(arguments):i,n===t?u.notifyWith(r,n):--a||u.resolveWith(r,n)}};if(s>1)for(t=new Array(s),r=new Array(s),n=new Array(s);i<s;i++)o[i]&&ue.isFunction(o[i].promise)?o[i].promise().progress(l(i,r,t)).done(l(i,n,o)).fail(u.reject):--a;return a||u.resolveWith(n,o),u.promise()}});var Ie;ue.fn.ready=function(e){return ue.ready.promise().done(e),this},ue.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ue.readyWait++:ue.ready(!0)},ready:function(e){(!0===e?--ue.readyWait:ue.isReady)||(ue.isReady=!0,!0!==e&&--ue.readyWait>0||(Ie.resolveWith(Z,[ue]),ue.fn.triggerHandler&&(ue(Z).triggerHandler("ready"),ue(Z).off("ready"))))}}),ue.ready.promise=function(e){return Ie||(Ie=ue.Deferred(),"complete"===Z.readyState||"loading"!==Z.readyState&&!Z.documentElement.doScroll?r.setTimeout(ue.ready):(Z.addEventListener("DOMContentLoaded",c),r.addEventListener("load",c))),Ie.promise(e)},ue.ready.promise();var we=function(e,t,r,n,i,o,s){var a=0,u=e.length,l=null==r;if("object"===ue.type(r)){i=!0;for(a in r)we(e,t,a,r[a],!0,o,s)}else if(void 0!==n&&(i=!0,ue.isFunction(n)||(s=!0),l&&(s?(t.call(e,n),t=null):(l=t,t=function(e,t,r){return l.call(ue(e),r)})),t))for(;a<u;a++)t(e[a],r,s?n:n.call(e[a],a,t(e[a],r)));return i?e:l?t.call(e):u?t(e[0],r):o},Ce=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};p.uid=1,p.prototype={register:function(e,t){var r=t||{};return e.nodeType?e[this.expando]=r:Object.defineProperty(e,this.expando,{value:r,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Ce(e))return{};var t=e[this.expando];return t||(t={},Ce(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,i=this.cache(e);if("string"==typeof t)i[t]=r;else for(n in t)i[n]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,r){var n;return void 0===t||t&&"string"==typeof t&&void 0===r?(n=this.get(e,t),void 0!==n?n:this.get(e,ue.camelCase(t))):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n,i,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{ue.isArray(t)?n=t.concat(t.map(ue.camelCase)):(i=ue.camelCase(t),t in o?n=[t,i]:(n=i,n=n in o?[n]:n.match(Te)||[])),r=n.length;for(;r--;)delete o[n[r]]}(void 0===t||ue.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ue.isEmptyObject(t)}};var Ae=new p,Ne=new p,Le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Re=/[A-Z]/g;ue.extend({hasData:function(e){return Ne.hasData(e)||Ae.hasData(e)},data:function(e,t,r){return Ne.access(e,t,r)},removeData:function(e,t){Ne.remove(e,t)},_data:function(e,t,r){return Ae.access(e,t,r)},_removeData:function(e,t){Ae.remove(e,t)}}),ue.fn.extend({data:function(e,t){var r,n,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=Ne.get(o),1===o.nodeType&&!Ae.get(o,"hasDataAttrs"))){for(r=s.length;r--;)s[r]&&(n=s[r].name,0===n.indexOf("data-")&&(n=ue.camelCase(n.slice(5)),f(o,n,i[n])));Ae.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Ne.set(this,e)}):we(this,function(t){var r,n;if(o&&void 0===t){if(void 0!==(r=Ne.get(o,e)||Ne.get(o,e.replace(Re,"-$&").toLowerCase())))return r;if(n=ue.camelCase(e),void 0!==(r=Ne.get(o,n)))return r;if(void 0!==(r=f(o,n,void 0)))return r}else n=ue.camelCase(e),this.each(function(){var r=Ne.get(this,n);Ne.set(this,n,t),e.indexOf("-")>-1&&void 0!==r&&Ne.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ne.remove(this,e)})}}),ue.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=Ae.get(e,t),r&&(!n||ue.isArray(r)?n=Ae.access(e,t,ue.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=ue.queue(e,t),n=r.length,i=r.shift(),o=ue._queueHooks(e,t),s=function(){ue.dequeue(e,t)};"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return Ae.get(e,r)||Ae.access(e,r,{empty:ue.Callbacks("once memory").add(function(){Ae.remove(e,[t+"queue",r])})})}}),ue.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?ue.queue(this[0],e):void 0===t?this:this.each(function(){var r=ue.queue(this,e,t);ue._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&ue.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ue.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=ue.Deferred(),o=this,s=this.length,a=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(r=Ae.get(o[s],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(a));return a(),i.promise(t)}});var _e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=new RegExp("^(?:([+-])=|)("+_e+")([a-z%]*)$","i"),Oe=["Top","Right","Bottom","Left"],Pe=function(e,t){return e=t||e,"none"===ue.css(e,"display")||!ue.contains(e.ownerDocument,e)},De=/^(?:checkbox|radio)$/i,Fe=/<([\w:-]+)/,je=/^$|\/(?:java|ecma)script/i,Me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Me.optgroup=Me.option,Me.tbody=Me.tfoot=Me.colgroup=Me.caption=Me.thead,Me.th=Me.td;var $e=/<|&#?\w+;/;!function(){var e=Z.createDocumentFragment(),t=e.appendChild(Z.createElement("div")),r=Z.createElement("input");r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),t.appendChild(r),ae.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ae.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Be=/^key/,Ue=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ge=/^([^.]*)(?:\.(.+)|)/;ue.event={global:{},add:function(e,t,r,n,i){var o,s,a,u,l,c,p,f,d,h,v,g=Ae.get(e);if(g)for(r.handler&&(o=r,r=o.handler,i=o.selector),r.guid||(r.guid=ue.guid++),(u=g.events)||(u=g.events={}),(s=g.handle)||(s=g.handle=function(t){return void 0!==ue&&ue.event.triggered!==t.type?ue.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Te)||[""],l=t.length;l--;)a=Ge.exec(t[l])||[],d=v=a[1],h=(a[2]||"").split(".").sort(),d&&(p=ue.event.special[d]||{},d=(i?p.delegateType:p.bindType)||d,p=ue.event.special[d]||{},c=ue.extend({type:d,origType:v,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&ue.expr.match.needsContext.test(i),namespace:h.join(".")},o),(f=u[d])||(f=u[d]=[],f.delegateCount=0,p.setup&&!1!==p.setup.call(e,n,h,s)||e.addEventListener&&e.addEventListener(d,s)),p.add&&(p.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),ue.event.global[d]=!0)},remove:function(e,t,r,n,i){var o,s,a,u,l,c,p,f,d,h,v,g=Ae.hasData(e)&&Ae.get(e);if(g&&(u=g.events)){for(t=(t||"").match(Te)||[""],l=t.length;l--;)if(a=Ge.exec(t[l])||[],d=v=a[1],h=(a[2]||"").split(".").sort(),d){for(p=ue.event.special[d]||{},d=(n?p.delegateType:p.bindType)||d,f=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!i&&v!==c.origType||r&&r.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,p.remove&&p.remove.call(e,c));s&&!f.length&&(p.teardown&&!1!==p.teardown.call(e,h,g.handle)||ue.removeEvent(e,d,g.handle),delete u[d])}else for(d in u)ue.event.remove(e,d+t[l],r,n,!0);ue.isEmptyObject(u)&&Ae.remove(e,"handle events")}},dispatch:function(e){e=ue.event.fix(e);var t,r,n,i,o,s=[],a=ee.call(arguments),u=(Ae.get(this,"events")||{})[e.type]||[],l=ue.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(s=ue.event.handlers.call(this,e,u),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,r=0;(o=i.handlers[r++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(n=((ue.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var r,n,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(n=[],r=0;r<a;r++)o=t[r],i=o.selector+" ",void 0===n[i]&&(n[i]=o.needsContext?ue(i,this).index(u)>-1:ue.find(i,this,null,[u]).length),n[i]&&n.push(o);n.length&&s.push({elem:u,handlers:n})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var r,n,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||Z,n=r.documentElement,i=r.body,e.pageX=t.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[ue.expando])return e;var t,r,n,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Ue.test(i)?this.mouseHooks:Be.test(i)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,e=new ue.Event(o),t=n.length;t--;)r=n[t],e[r]=o[r];return e.target||(e.target=Z),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==b()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===b()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ue.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ue.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ue.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},ue.Event=function(e,t){if(!(this instanceof ue.Event))return new ue.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?m:y):this.type=e,t&&ue.extend(this,t),this.timeStamp=e&&e.timeStamp||ue.now(),this[ue.expando]=!0},ue.Event.prototype={constructor:ue.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=m,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=m,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=m,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ue.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ue.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===n||ue.contains(n,i))||(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),ue.fn.extend({on:function(e,t,r,n){return E(this,e,t,r,n)},one:function(e,t,r,n){return E(this,e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,ue(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=y),this.each(function(){ue.event.remove(this,e,r,t)})}});var He=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,qe=/<script|<style|<link/i,Ve=/checked\s*(?:[^=]|=\s*.checked.)/i,Qe=/^true\/(.*)/,We=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ue.extend({htmlPrefilter:function(e){return e.replace(He,"<$1></$2>")},clone:function(e,t,r){var n,i,o,s,a=e.cloneNode(!0),u=ue.contains(e.ownerDocument,e);if(!(ae.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ue.isXMLDoc(e)))for(s=h(a),o=h(e),n=0,i=o.length;n<i;n++)w(o[n],s[n]);if(t)if(r)for(o=o||h(e),s=s||h(a),n=0,i=o.length;n<i;n++)I(o[n],s[n]);else I(e,a);return s=h(a,"script"),s.length>0&&v(s,!u&&h(e,"script")),a},cleanData:function(e){for(var t,r,n,i=ue.event.special,o=0;void 0!==(r=e[o]);o++)if(Ce(r)){if(t=r[Ae.expando]){if(t.events)for(n in t.events)i[n]?ue.event.remove(r,n):ue.removeEvent(r,n,t.handle);r[Ae.expando]=void 0}r[Ne.expando]&&(r[Ne.expando]=void 0)}}}),ue.fn.extend({domManip:C,detach:function(e){return A(this,e,!0)},remove:function(e){return A(this,e)},text:function(e){return we(this,function(e){return void 0===e?ue.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return C(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){x(this,e).appendChild(e)}})},prepend:function(){return C(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=x(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return C(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return C(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ue.cleanData(h(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ue.clone(this,e,t)})},html:function(e){return we(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!qe.test(e)&&!Me[(Fe.exec(e)||["",""])[1].toLowerCase()]){e=ue.htmlPrefilter(e);try{for(;r<n;r++)t=this[r]||{},1===t.nodeType&&(ue.cleanData(h(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return C(this,arguments,function(t){var r=this.parentNode;ue.inArray(this,e)<0&&(ue.cleanData(h(this)),r&&r.replaceChild(t,this))},e)}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ue.fn[e]=function(e){for(var r,n=[],i=ue(e),o=i.length-1,s=0;s<=o;s++)r=s===o?this:this.clone(!0),ue(i[s])[t](r),re.apply(n,r.get());return this.pushStack(n)}});var ze,Xe={HTML:"block",BODY:"block"},Ye=/^margin/,Ke=new RegExp("^("+_e+")(?!px)[a-z%]+$","i"),Je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Ze=function(e,t,r,n){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=r.apply(e,n||[]);for(o in t)e.style[o]=s[o];return i},et=Z.documentElement;!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",et.appendChild(s);var e=r.getComputedStyle(a);t="1%"!==e.top,o="2px"===e.marginLeft,n="4px"===e.width,a.style.marginRight="50%",i="4px"===e.marginRight,et.removeChild(s)}var t,n,i,o,s=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ae.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ue.extend(ae,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==n&&e(),n},pixelMarginRight:function(){return null==n&&e(),i},reliableMarginLeft:function(){return null==n&&e(),o},reliableMarginRight:function(){var e,t=a.appendChild(Z.createElement("div"));return t.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",a.style.width="1px",et.appendChild(s),e=!parseFloat(r.getComputedStyle(t).marginRight),et.removeChild(s),a.removeChild(t),e}}))}();var tt=/^(none|table(?!-c[ea]).+)/,rt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"},it=["Webkit","O","Moz","ms"],ot=Z.createElement("div").style;ue.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=R(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=ue.camelCase(t),u=e.style;if(t=ue.cssProps[a]||(ue.cssProps[a]=k(a)||a),s=ue.cssHooks[t]||ue.cssHooks[a],void 0===r)return s&&"get"in s&&void 0!==(i=s.get(e,!1,n))?i:u[t];o=typeof r,"string"===o&&(i=ke.exec(r))&&i[1]&&(r=d(e,t,i),o="number"),null!=r&&r===r&&("number"===o&&(r+=i&&i[3]||(ue.cssNumber[a]?"":"px")),ae.clearCloneStyle||""!==r||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(r=s.set(e,r,n))||(u[t]=r))}},css:function(e,t,r,n){var i,o,s,a=ue.camelCase(t);return t=ue.cssProps[a]||(ue.cssProps[a]=k(a)||a),s=ue.cssHooks[t]||ue.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,r)),void 0===i&&(i=R(e,t,n)),"normal"===i&&t in nt&&(i=nt[t]),""===r||r?(o=parseFloat(i),!0===r||isFinite(o)?o||0:i):i}}),ue.each(["height","width"],function(e,t){ue.cssHooks[t]={get:function(e,r,n){if(r)return tt.test(ue.css(e,"display"))&&0===e.offsetWidth?Ze(e,rt,function(){return D(e,t,n)}):D(e,t,n)},set:function(e,r,n){var i,o=n&&Je(e),s=n&&P(e,t,n,"border-box"===ue.css(e,"boxSizing",!1,o),o);return s&&(i=ke.exec(r))&&"px"!==(i[3]||"px")&&(e.style[t]=r,r=ue.css(e,t)),O(e,r,s)}}}),ue.cssHooks.marginLeft=_(ae.reliableMarginLeft,function(e,t){if(t)return(parseFloat(R(e,"marginLeft"))||e.getBoundingClientRect().left-Ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ue.cssHooks.marginRight=_(ae.reliableMarginRight,function(e,t){if(t)return Ze(e,{display:"inline-block"},R,[e,"marginRight"])}),ue.each({margin:"",padding:"",border:"Width"},function(e,t){ue.cssHooks[e+t]={expand:function(r){for(var n=0,i={},o="string"==typeof r?r.split(" "):[r];n<4;n++)i[e+Oe[n]+t]=o[n]||o[n-2]||o[0];return i}},Ye.test(e)||(ue.cssHooks[e+t].set=O)}),ue.fn.extend({css:function(e,t){return we(this,function(e,t,r){var n,i,o={},s=0;if(ue.isArray(t)){for(n=Je(e),i=t.length;s<i;s++)o[t[s]]=ue.css(e,t[s],!1,n);return o}return void 0!==r?ue.style(e,t,r):ue.css(e,t)},e,t,arguments.length>1)},show:function(){return F(this,!0)},hide:function(){return F(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Pe(this)?ue(this).show():ue(this).hide()})}}),ue.Tween=j,j.prototype={constructor:j,init:function(e,t,r,n,i,o){this.elem=e,this.prop=r,this.easing=i||ue.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(ue.cssNumber[r]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,r=j.propHooks[this.prop];return this.options.duration?this.pos=t=ue.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ue.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ue.fx.step[e.prop]?ue.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ue.cssProps[e.prop]]&&!ue.cssHooks[e.prop]?e.elem[e.prop]=e.now:ue.style(e.elem,e.prop,e.now+e.unit)}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ue.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ue.fx=j.prototype.init,ue.fx.step={};var st,at,ut=/^(?:toggle|show|hide)$/,lt=/queueHooks$/;ue.Animation=ue.extend(H,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return d(r.elem,e,ke.exec(t),r),r}]},tweener:function(e,t){ue.isFunction(e)?(t=e,e=["*"]):e=e.match(Te);for(var r,n=0,i=e.length;n<i;n++)r=e[n],H.tweeners[r]=H.tweeners[r]||[],H.tweeners[r].unshift(t)},prefilters:[U],prefilter:function(e,t){t?H.prefilters.unshift(e):H.prefilters.push(e)}}),ue.speed=function(e,t,r){var n=e&&"object"==typeof e?ue.extend({},e):{complete:r||!r&&t||ue.isFunction(e)&&e,duration:e,easing:r&&t||t&&!ue.isFunction(t)&&t};return n.duration=ue.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ue.fx.speeds?ue.fx.speeds[n.duration]:ue.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){ue.isFunction(n.old)&&n.old.call(this),n.queue&&ue.dequeue(this,n.queue)},n},ue.fn.extend({fadeTo:function(e,t,r,n){return this.filter(Pe).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var i=ue.isEmptyObject(e),o=ue.speed(t,r,n),s=function(){var t=H(this,ue.extend({},e),o);(i||Ae.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ue.timers,s=Ae.get(this);if(i)s[i]&&s[i].stop&&n(s[i]);else for(i in s)s[i]&&s[i].stop&&lt.test(i)&&n(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(r),t=!1,o.splice(i,1));!t&&r||ue.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,r=Ae.get(this),n=r[e+"queue"],i=r[e+"queueHooks"],o=ue.timers,s=n?n.length:0;for(r.finish=!0,ue.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish})}}),ue.each(["toggle","show","hide"],function(e,t){var r=ue.fn[t];ue.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate($(t,!0),e,n,i)}}),ue.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ue.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}}),ue.timers=[],ue.fx.tick=function(){var e,t=0,r=ue.timers;for(st=ue.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||ue.fx.stop(),st=void 0},ue.fx.timer=function(e){ue.timers.push(e),e()?ue.fx.start():ue.timers.pop()},ue.fx.interval=13,ue.fx.start=function(){at||(at=r.setInterval(ue.fx.tick,ue.fx.interval))},ue.fx.stop=function(){r.clearInterval(at),at=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fn.delay=function(e,t){return e=ue.fx?ue.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select"),r=t.appendChild(Z.createElement("option"));e.type="checkbox",ae.checkOn=""!==e.value,ae.optSelected=r.selected,t.disabled=!0,ae.optDisabled=!r.disabled,e=Z.createElement("input"),e.value="t",e.type="radio",ae.radioValue="t"===e.value}();var ct,pt=ue.expr.attrHandle;ue.fn.extend({attr:function(e,t){return we(this,ue.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ue.removeAttr(this,e)})}}),ue.extend({attr:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?ue.prop(e,t,r):(1===o&&ue.isXMLDoc(e)||(t=t.toLowerCase(),i=ue.attrHooks[t]||(ue.expr.match.bool.test(t)?ct:void 0)),void 0!==r?null===r?void ue.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:(e.setAttribute(t,r+""),r):i&&"get"in i&&null!==(n=i.get(e,t))?n:(n=ue.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!ae.radioValue&&"radio"===t&&ue.nodeName(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n,i=0,o=t&&t.match(Te);if(o&&1===e.nodeType)for(;r=o[i++];)n=ue.propFix[r]||r,ue.expr.match.bool.test(r)&&(e[n]=!1),e.removeAttribute(r)}}),ct={set:function(e,t,r){return!1===t?ue.removeAttr(e,r):e.setAttribute(r,r),r}},ue.each(ue.expr.match.bool.source.match(/\w+/g),function(e,t){var r=pt[t]||ue.find.attr;pt[t]=function(e,t,n){var i,o;return n||(o=pt[t],pt[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,pt[t]=o),i}});var ft=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;ue.fn.extend({prop:function(e,t){return we(this,ue.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ue.propFix[e]||e]})}}),ue.extend({prop:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ue.isXMLDoc(e)||(t=ue.propFix[t]||t,i=ue.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=ue.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ae.optSelected||(ue.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ue.propFix[this.toLowerCase()]=this});var ht=/[\t\r\n\f]/g;ue.fn.extend({addClass:function(e){var t,r,n,i,o,s,a,u=0;if(ue.isFunction(e))return this.each(function(t){ue(this).addClass(e.call(this,t,q(this)))});if("string"==typeof e&&e)for(t=e.match(Te)||[];r=this[u++];)if(i=q(r),n=1===r.nodeType&&(" "+i+" ").replace(ht," ")){for(s=0;o=t[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=ue.trim(n),i!==a&&r.setAttribute("class",a)}return this},removeClass:function(e){var t,r,n,i,o,s,a,u=0;if(ue.isFunction(e))return this.each(function(t){ue(this).removeClass(e.call(this,t,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Te)||[];r=this[u++];)if(i=q(r),n=1===r.nodeType&&(" "+i+" ").replace(ht," ")){for(s=0;o=t[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");a=ue.trim(n),i!==a&&r.setAttribute("class",a)}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):ue.isFunction(e)?this.each(function(r){ue(this).toggleClass(e.call(this,r,q(this),t),t)}):this.each(function(){var t,n,i,o;if("string"===r)for(n=0,i=ue(this),o=e.match(Te)||[];t=o[n++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==r||(t=q(this),t&&Ae.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ae.get(this,"__className__")||""))})},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&(" "+q(r)+" ").replace(ht," ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g,gt=/[\x20\t\r\n\f]+/g;ue.fn.extend({val:function(e){var t,r,n,i=this[0];{if(arguments.length)return n=ue.isFunction(e),this.each(function(r){var i;1===this.nodeType&&(i=n?e.call(this,r,ue(this).val()):e,null==i?i="":"number"==typeof i?i+="":ue.isArray(i)&&(i=ue.map(i,function(e){return null==e?"":e+""})),(t=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=ue.valHooks[i.type]||ue.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(i,"value"))?r:(r=i.value,"string"==typeof r?r.replace(vt,""):null==r?"":r)}}}),ue.extend({valHooks:{option:{get:function(e){var t=ue.find.attr(e,"value");return null!=t?t:ue.trim(ue.text(e)).replace(gt," ")}},select:{get:function(e){for(var t,r,n=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,s=o?null:[],a=o?i+1:n.length,u=i<0?a:o?i:0;u<a;u++)if(r=n[u],(r.selected||u===i)&&(ae.optDisabled?!r.disabled:null===r.getAttribute("disabled"))&&(!r.parentNode.disabled||!ue.nodeName(r.parentNode,"optgroup"))){if(t=ue(r).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var r,n,i=e.options,o=ue.makeArray(t),s=i.length;s--;)n=i[s],(n.selected=ue.inArray(ue.valHooks.option.get(n),o)>-1)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),ue.each(["radio","checkbox"],function(){ue.valHooks[this]={set:function(e,t){if(ue.isArray(t))return e.checked=ue.inArray(ue(e).val(),t)>-1}},ae.checkOn||(ue.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;ue.extend(ue.event,{trigger:function(e,t,n,i){var o,s,a,u,l,c,p,f=[n||Z],d=se.call(e,"type")?e.type:e,h=se.call(e,"namespace")?e.namespace.split("."):[];if(s=a=n=n||Z,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+ue.event.triggered)&&(d.indexOf(".")>-1&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,e=e[ue.expando]?e:new ue.Event(d,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ue.makeArray(t,[e]),p=ue.event.special[d]||{},i||!p.trigger||!1!==p.trigger.apply(n,t))){if(!i&&!p.noBubble&&!ue.isWindow(n)){for(u=p.delegateType||d,mt.test(u+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(n.ownerDocument||Z)&&f.push(a.defaultView||a.parentWindow||r)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)e.type=o>1?u:p.bindType||d,c=(Ae.get(s,"events")||{})[e.type]&&Ae.get(s,"handle"),c&&c.apply(s,t),(c=l&&s[l])&&c.apply&&Ce(s)&&(e.result=c.apply(s,t),!1===e.result&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(f.pop(),t)||!Ce(n)||l&&ue.isFunction(n[d])&&!ue.isWindow(n)&&(a=n[l],a&&(n[l]=null),ue.event.triggered=d,n[d](),ue.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(e,t,r){var n=ue.extend(new ue.Event,r,{type:e,isSimulated:!0});ue.event.trigger(n,null,t)}}),ue.fn.extend({trigger:function(e,t){return this.each(function(){ue.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return ue.event.trigger(e,t,r,!0)}}),ue.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ue.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}),ue.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ae.focusin="onfocusin"in r,ae.focusin||ue.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){ue.event.simulate(t,e.target,ue.event.fix(e))};ue.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=Ae.access(n,t);i||n.addEventListener(e,r,!0),Ae.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=Ae.access(n,t)-1;i?Ae.access(n,t,i):(n.removeEventListener(e,r,!0),Ae.remove(n,t))}}});var yt=r.location,bt=ue.now(),Et=/\?/;ue.parseJSON=function(e){return JSON.parse(e+"")},ue.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||ue.error("Invalid XML: "+e),t};var xt=/#.*$/,St=/([?&])_=[^&]*/,Tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,wt=/^(?:GET|HEAD)$/,Ct=/^\/\//,At={},Nt={},Lt="*/".concat("*"),Rt=Z.createElement("a");Rt.href=yt.href,ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yt.href,type:"GET",isLocal:It.test(yt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Lt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ue.parseJSON,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ue.ajaxSettings),t):W(ue.ajaxSettings,e)},ajaxPrefilter:V(At),ajaxTransport:V(Nt),ajax:function(e,t){function n(e,t,n,a){var l,p,y,b,x,T=t;2!==E&&(E=2,u&&r.clearTimeout(u),i=void 0,s=a||"",S.readyState=e>0?4:0,l=e>=200&&e<300||304===e,n&&(b=z(f,S,n)),b=X(f,b,S,l),l?(f.ifModified&&(x=S.getResponseHeader("Last-Modified"),x&&(ue.lastModified[o]=x),(x=S.getResponseHeader("etag"))&&(ue.etag[o]=x)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=b.state,p=b.data,y=b.error,l=!y)):(y=T,!e&&T||(T="error",e<0&&(e=0))),S.status=e,S.statusText=(t||T)+"",l?v.resolveWith(d,[p,T,S]):v.rejectWith(d,[S,T,y]),S.statusCode(m),m=void 0,c&&h.trigger(l?"ajaxSuccess":"ajaxError",[S,f,l?p:y]),g.fireWith(d,[S,T]),c&&(h.trigger("ajaxComplete",[S,f]),--ue.active||ue.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,o,s,a,u,l,c,p,f=ue.ajaxSetup({},t),d=f.context||f,h=f.context&&(d.nodeType||d.jquery)?ue(d):ue.event,v=ue.Deferred(),g=ue.Callbacks("once memory"),m=f.statusCode||{},y={},b={},E=0,x="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===E){if(!a)for(a={};t=Tt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===E?s:null},setRequestHeader:function(e,t){var r=e.toLowerCase();return E||(e=b[r]=b[r]||e,y[e]=t),this},overrideMimeType:function(e){return E||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(E<2)for(t in e)m[t]=[m[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||x;return i&&i.abort(t),n(0,t),this}};if(v.promise(S).complete=g.add,S.success=S.done,S.error=S.fail,f.url=((e||f.url||yt.href)+"").replace(xt,"").replace(Ct,yt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=ue.trim(f.dataType||"*").toLowerCase().match(Te)||[""],null==f.crossDomain){l=Z.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Rt.protocol+"//"+Rt.host!=l.protocol+"//"+l.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ue.param(f.data,f.traditional)),Q(At,f,t,S),2===E)return S;c=ue.event&&f.global,c&&0==ue.active++&&ue.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!wt.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(Et.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=St.test(o)?o.replace(St,"$1_="+bt++):o+(Et.test(o)?"&":"?")+"_="+bt++)),f.ifModified&&(ue.lastModified[o]&&S.setRequestHeader("If-Modified-Since",ue.lastModified[o]),ue.etag[o]&&S.setRequestHeader("If-None-Match",ue.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Lt+"; q=0.01":""):f.accepts["*"]);for(p in f.headers)S.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(!1===f.beforeSend.call(d,S,f)||2===E))return S.abort();x="abort";for(p in{success:1,error:1,complete:1})S[p](f[p]);if(i=Q(Nt,f,t,S)){if(S.readyState=1,c&&h.trigger("ajaxSend",[S,f]),2===E)return S;f.async&&f.timeout>0&&(u=r.setTimeout(function(){S.abort("timeout")},f.timeout));try{E=1,i.send(y,n)}catch(e){if(!(E<2))throw e;n(-1,e)}}else n(-1,"No Transport");return S},getJSON:function(e,t,r){return ue.get(e,t,r,"json")},getScript:function(e,t){return ue.get(e,void 0,t,"script")}}),ue.each(["get","post"],function(e,t){ue[t]=function(e,r,n,i){return ue.isFunction(r)&&(i=i||n,n=r,r=void 0),ue.ajax(ue.extend({url:e,type:t,dataType:i,data:r,success:n},ue.isPlainObject(e)&&e))}}),ue._evalUrl=function(e){return ue.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ue.fn.extend({wrapAll:function(e){var t;return ue.isFunction(e)?this.each(function(t){ue(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ue(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ue.isFunction(e)?this.each(function(t){ue(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ue(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=ue.isFunction(e);return this.each(function(r){ue(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(){return this.parent().each(function(){ue.nodeName(this,"body")||ue(this).replaceWith(this.childNodes)}).end()}}),ue.expr.filters.hidden=function(e){return!ue.expr.filters.visible(e)},ue.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var _t=/%20/g,kt=/\[\]$/,Ot=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;ue.param=function(e,t){var r,n=[],i=function(e,t){t=ue.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ue.ajaxSettings&&ue.ajaxSettings.traditional),ue.isArray(e)||e.jquery&&!ue.isPlainObject(e))ue.each(e,function(){i(this.name,this.value)});else for(r in e)Y(r,e[r],t,i);return n.join("&").replace(_t,"+")},ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ue.prop(this,"elements");return e?ue.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ue(this).is(":disabled")&&Dt.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!De.test(e))}).map(function(e,t){var r=ue(this).val();return null==r?null:ue.isArray(r)?ue.map(r,function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:r.replace(Ot,"\r\n")}}).get()}}),ue.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Ft={0:200,1223:204},jt=ue.ajaxSettings.xhr();ae.cors=!!jt&&"withCredentials"in jt,ae.ajax=jt=!!jt,ue.ajaxTransport(function(e){var t,n;if(ae.cors||jt&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)a.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ft[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout(function(){t&&n()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ue.globalEval(e),e}}}),ue.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ue.ajaxTransport("script",function(e){if(e.crossDomain){var t,r;return{send:function(n,i){t=ue("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&i("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){r&&r()}}}});var Mt=[],$t=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mt.pop()||ue.expando+"_"+bt++;return this[e]=!0,e}}),ue.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,s,a=!1!==e.jsonp&&($t.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$t.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=ue.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace($t,"$1"+i):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||ue.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always(function(){void 0===o?ue(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Mt.push(i)),s&&ue.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),ue.parseHTML=function(e,t,r){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(r=t,t=!1),t=t||Z;var n=me.exec(e),i=!r&&[];return n?[t.createElement(n[1])]:(n=g([e],t,i),i&&i.length&&ue(i).remove(),ue.merge([],n.childNodes))};var Bt=ue.fn.load;ue.fn.load=function(e,t,r){if("string"!=typeof e&&Bt)return Bt.apply(this,arguments);var n,i,o,s=this,a=e.indexOf(" ");return a>-1&&(n=ue.trim(e.slice(a)),e=e.slice(0,a)),ue.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&ue.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(n?ue("<div>").append(ue.parseHTML(e)).find(n):e)}).always(r&&function(e,t){s.each(function(){r.apply(this,o||[e.responseText,t,e])})}),this},ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ue.fn[t]=function(e){return this.on(t,e)}}),ue.expr.filters.animated=function(e){return ue.grep(ue.timers,function(t){return e===t.elem}).length},ue.offset={setOffset:function(e,t,r){var n,i,o,s,a,u,l,c=ue.css(e,"position"),p=ue(e),f={};"static"===c&&(e.style.position="relative"),a=p.offset(),o=ue.css(e,"top"),u=ue.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(n=p.position(),s=n.top,i=n.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),ue.isFunction(t)&&(t=t.call(e,r,ue.extend({},a))),null!=t.top&&(f.top=t.top-a.top+s),null!=t.left&&(f.left=t.left-a.left+i),"using"in t?t.using.call(e,f):p.css(f)}},ue.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ue.offset.setOffset(this,e,t)});var t,r,n=this[0],i={top:0,left:0},o=n&&n.ownerDocument;if(o)return t=o.documentElement,ue.contains(t,n)?(i=n.getBoundingClientRect(),r=K(o),{top:i.top+r.pageYOffset-t.clientTop,left:i.left+r.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,r=this[0],n={top:0,left:0};return"fixed"===ue.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ue.nodeName(e[0],"html")||(n=e.offset()),n.top+=ue.css(e[0],"borderTopWidth",!0),n.left+=ue.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ue.css(r,"marginTop",!0),left:t.left-n.left-ue.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ue.css(e,"position");)e=e.offsetParent;return e||et})}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;ue.fn[e]=function(n){return we(this,function(e,n,i){var o=K(e);if(void 0===i)return o?o[t]:e[n];o?o.scrollTo(r?o.pageXOffset:i,r?i:o.pageYOffset):e[n]=i},e,n,arguments.length)}}),ue.each(["top","left"],function(e,t){ue.cssHooks[t]=_(ae.pixelPosition,function(e,r){if(r)return r=R(e,t),Ke.test(r)?ue(e).position()[t]+"px":r})}),ue.each({Height:"height",Width:"width"},function(e,t){ue.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,n){ue.fn[n]=function(n,i){var o=arguments.length&&(r||"boolean"!=typeof n),s=r||(!0===n||!0===i?"margin":"border");return we(this,function(t,r,n){var i;return ue.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===n?ue.css(t,r,s):ue.style(t,r,n,s)},t,o?n:void 0,o,null)}})}),ue.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},size:function(){return this.length}}),ue.fn.andSelf=ue.fn.addBack,n=[],void 0!==(i=function(){return ue}.apply(t,n))&&(e.exports=i);var Ut=r.jQuery,Gt=r.$;return ue.noConflict=function(e){return r.$===ue&&(r.$=Gt),e&&r.jQuery===ue&&(r.jQuery=Ut),ue},o||(r.jQuery=r.$=ue),ue})},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(65)),n(r(237)),n(r(238)),n(r(239)),n(r(240)),n(r(241)),n(r(242)),n(r(246)),n(r(132)),n(r(137)),n(r(243)),n(r(236))},function(e,t,r){"use strict";r.d(t,"a",function(){return m}),r.d(t,"e",function(){return y}),r.d(t,"c",function(){return b}),r.d(t,"b",function(){return E}),r.d(t,"d",function(){return x});var n=r(44),i=r.n(n),o=r(13),s=r.n(o),a=r(12),u=r.n(a),l=r(1),c=r.n(l),p=r(0),f=(r.n(p),r(74)),d=r(6),h=r(76),v=r(22),g=r(73),m=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];c()(this,e),this.property=t,this.object=r,this.properties=n}return e.prototype.pruned=function(){return new e(new f.a(this.property),new f.a(this.object),this.properties.map(function(e){return e.pruned()}))},e}(),y=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];c()(this,e),this.value=t,this.properties=r},b=function(e){function t(r){c()(this,t);var n=s()(this,e.call(this,r));return n.values=[],n}return u()(t,e),t.toPropertyAndValues=function(e,t){return e.values.map(function(t){return new m(e,t.value,r.i(g.a)(t.properties.map(function(e){return e.values.map(function(t){return new m(e,t.value)})})))})},t.prototype.toPropertyAndValues=function(e){return t.toPropertyAndValues(this,e)},t}(f.b),E=function(e){function t(){c()(this,t);var r=s()(this,e.apply(this,arguments));return r.localProperties=[],r.remoteProperties=[],r.localInverseProperties=[],r.remoteInverseProperties=[],r}return u()(t,e),t}(f.c),x=function(){function e(t){c()(this,e),this.workerService=t}return e.$inject=["workerService"],e.prototype.getItem=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments[2];return this.workerService.call("sparqlItemWorkerService","getItems",[[e.toCanonical()],t],r).then(function(e){return e[0]},null,function(e){return{endpointType:e.endpointType,endpoint:e.endpoint,item:e.items[0]}})},e.prototype.getItems=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments[2];return this.workerService.call("sparqlItemWorkerService","getItems",[e.map(function(e){return e.toCanonical()}),t],r)},e.prototype.getAllItems=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];return this.workerService.call("sparqlItemWorkerService","getItems",[!1,e],t)},e.prototype.createNewItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.workerService.call("sparqlItemWorkerService","createNewItem",[e.map(function(e){return e.pruned()})])},e.prototype.alterItem=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.workerService.call("sparqlItemWorkerService","alterItem",[e,t.map(function(e){return e.pruned()}),r.map(function(e){return e.pruned()})])},e.prototype.deleteItem=function(e){return this.workerService.call("sparqlItemWorkerService","deleteItem",[e])},e}();x.naiveGetLocalItemPropertiesQuery='PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX mads: <http://www.loc.gov/mads/rdf/v1#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nSELECT ?id ?itemLabel ?property ?propertyLabel ?object ?objectLabel {\n# STARTGRAPH\n  VALUES ?id { <IDS> }\n  ?id skos:prefLabel|mads:authoritativeLabel|rdfs:label ?itemLabel .\n  FILTER(LANG(?itemLabel)=\'\' || LANG(?itemLabel)=\'<PREFLANG>\')\n  ?id ?property ?object .\n  OPTIONAL {\n    ?property skos:prefLabel|rdfs:label ?propertyLabelP .\n    FILTER(LANG(?propertyLabelP)=\'\' || LANG(?propertyLabelP)=\'<PREFLANG>\')\n  }\n  BIND(COALESCE(?propertyLabelP,REPLACE(REPLACE(REPLACE(REPLACE(STR(?property),".*/",""),".*#",""),"_"," "),"([A-Z])"," $1")) AS ?propertyLabel)\n  OPTIONAL {\n    ?object skos:prefLabel|rdfs:label ?objectLabelP .\n    FILTER(LANG(?objectLabelP)=\'\' || LANG(?objectLabelP)=\'<PREFLANG>\')\n  }\n  BIND (IF(ISIRI(?object),COALESCE(?objectLabelP,REPLACE(REPLACE(REPLACE(REPLACE(STR(?object),".*/",""),".*#",""),"_"," "),"([A-Z])"," $1")),?object) AS ?objectLabel)\n# ENDGRAPH\n}',x.getLocalItemPropertiesQuery='PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX mads: <http://www.loc.gov/mads/rdf/v1#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX sf: <http://ldf.fi/functions#>\nSELECT ?id ?itemLabel ?property ?propertyLabel ?object ?objectLabel {\n# STARTGRAPH\n  VALUES ?id { <IDS> }\n  { ?id ?property ?object . }\n  UNION\n  { ?object ?property ?id . }\n  ?id sf:preferredLanguageLiteral (skos:prefLabel mads:authoritativeLabel rdfs:label skos:altLabel mads:variantLabel \'<PREFLANG>\' \'\' ?itemLabel) .\n  OPTIONAL {\n    ?property sf:preferredLanguageLiteral (skos:prefLabel mads:authoritativeLabel rdfs:label skos:altLabel mads:variantLabel \'<PREFLANG>\' \'\' ?propertyLabelP)\n  }\n  BIND(COALESCE(?propertyLabelP,REPLACE(REPLACE(REPLACE(REPLACE(STR(?property),".*/",""),".*#",""),"_"," "),"([A-Z])"," $1")) AS ?propertyLabel)\n  OPTIONAL {\n    ?object sf:preferredLanguageLiteral (skos:prefLabel mads:authoritativeLabel rdfs:label skos:altLabel mads:variantLabel \'<PREFLANG>\' \'\' ?objectLabelP) .\n  }\n  BIND (IF(ISIRI(?object),COALESCE(?objectLabelP,REPLACE(REPLACE(REPLACE(REPLACE(STR(?object),".*/",""),".*#",""),"_"," "),"([A-Z])"," $1")),?object) AS ?objectLabel)\n# ENDGRAPH\n}',x.getRemoteItemPropertiesQuery='PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX mads: <http://www.loc.gov/mads/rdf/v1#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX sf: <http://ldf.fi/functions#>\nSELECT ?id ?property ?propertyLabel ?object ?objectLabel {\nVALUES (?id ?oid) { <IDPAIRS> }\n?oid ?property ?object .\nOPTIONAL {\n  ?property sf:preferredLanguageLiteral (skos:prefLabel mads:authoritativeLabel rdfs:label skos:altLabel mads:variantLabel \'<PREFLANG>\' \'\' ?propertyLabelP)\n}\nBIND(COALESCE(?propertyLabelP,REPLACE(REPLACE(REPLACE(REPLACE(STR(?property),".*/",""),".*#",""),"_"," "),"([A-Z])"," $1")) AS ?propertyLabel)\nOPTIONAL {\n  ?object sf:preferredLanguageLiteral (skos:prefLabel mads:authoritativeLabel rdfs:label skos:altLabel mads:variantLabel \'<PREFLANG>\' \'\' ?objectLabelP) .\n}\nBIND (IF(ISIRI(?object),COALESCE(?objectLabelP,REPLACE(REPLACE(REPLACE(REPLACE(STR(?object),".*/",""),".*#",""),"_"," "),"([A-Z])"," $1")),?object) AS ?objectLabel)\n}\n',x.deleteItemQuery="DELETE {\n# STARTGRAPH\n  <ID> ?p ?o .\n  ?s ?p <ID> .\n# ENDGRAPH\n}\nWHERE {\n# STARTGRAPH\n  { <ID> ?p ?o } UNION { ?s ?p <ID> }\n# ENDGRAPH\n}\n";!function(){function e(t,r,n,i){c()(this,e),this.fibraSparqlService=t,this.$q=r,this.sparqlUpdateWorkerService=n,this.stateWorkerService=i}e.$inject=["fibraSparqlService","$q","sparqlUpdateWorkerService","stateWorkerService"],e.processItemResult=function(e,t,r,n,i,o){if(o.property){var s=r.goc(o.property.value).goc(o.object.value,function(){var r=t.goc(o.property.value,function(){var t=new b(d.a.instance.nodeFromBinding(o.property));return o.propertyLabel&&(t.label=o.propertyLabel.value),e.push(t),t}),i=new f.c(d.a.instance.nodeFromBinding(o.object));return i.sourceEndpoints=[],r.values.push(new y(i)),d.b.sameAs.equals(r)&&n.push(i),i});s.sourceEndpoints.push(i),o.objectLabel&&!s.label&&(s.label=o.objectLabel.value)}},e.prototype.getItems=function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments[2],s=this.stateWorkerService.state.project.itemQuery;s=t?s.replace(/<IDS>/g,t.join("")):s.replace(/VALUES \?id { <IDS> }/g,""),s=s.replace(/<PREFLANG>/g,this.stateWorkerService.state.language);var a=new v.a(function(e){return new E(d.a.instance.namedNode(e))}),u=this.$q.defer();return this.fibraSparqlService.query(this.stateWorkerService.state.project.endpoint,s,{timeout:o}).then(function(t){for(var s=new v.a(function(){return new v.a}),l=new v.a(function(){return new v.a(function(){return new v.a})}),c=new d.e(function(){return[]}),p=t.results.bindings,f=Array.isArray(p),g=0,p=f?p:i()(p);;){var m;if(f){if(g>=p.length)break;m=p[g++]}else{if(g=p.next(),g.done)break;m=g.value}var y=m,b=a.goc(y.id.value);y.itemLabel&&(b.label=y.itemLabel.value),e.processItemResult(b.localProperties,s.goc(y.id.value),l.goc(y.id.value),c.goc(b),r.stateWorkerService.state.project.endpoint,y)}if(n){u.notify({endpointType:"primary",endpoint:r.stateWorkerService.state.project.endpoint,items:a.values()});for(var E="",x=a.values(),S=Array.isArray(x),T=0,x=S?x:i()(x);;){var I;if(S){if(T>=x.length)break;I=x[T++]}else{if(T=x.next(),T.done)break;I=T.value}var w=I;E+="("+w.toCanonical()+w.toCanonical()+")";for(var C=c.get(w),A=Array.isArray(C),N=0,C=A?C:i()(C);;){var L;if(A){if(N>=C.length)break;L=C[N++]}else{if(N=C.next(),N.done)break;L=N.value}var R=L;E+="("+w.toCanonical()+R.toCanonical()+")"}}r.$q.all(r.stateWorkerService.state.project.remoteEndpoints().map(function(t){var n=t.itemQuery;return n=n.replace(/<IDPAIRS>/g,E),n=n.replace(/<PREFLANG>/g,r.stateWorkerService.state.language),r.fibraSparqlService.query(t.endpoint,n,{timeout:o}).then(function(r){if(0!==r.results.bindings.length){for(var n=r.results.bindings,o=Array.isArray(n),p=0,n=o?n:i()(n);;){var f;if(o){if(p>=n.length)break;f=n[p++]}else{if(p=n.next(),p.done)break;f=p.value}var d=f,h=a.goc(d.id.value);e.processItemResult(h.remoteProperties,s.goc(d.id.value),l.goc(d.id.value),c.goc(h),t.id,d)}u.notify({endpointType:"remote",endpoint:t.id,items:a.values()})}},function(e){return u.notify({endpointType:"remote",endpoint:t.id,error:h.a.stripFunctions(e)})})})).then(function(){return u.resolve(a.values())})}else u.resolve(a.values())}),u.promise},e.prototype.deleteItem=function(e){return this.fibraSparqlService.update(this.stateWorkerService.state.project.updateEndpoint,this.stateWorkerService.state.project.deleteItemQuery.replace(/<ID>/g,e.toCanonical())).then(function(e){return!0},function(e){return!1})},e.prototype.alterItem=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=[],i=[];return t.forEach(function(t){return n.push(new d.f(e,t.property,t.object))}),r.forEach(function(t){return i.push(new d.f(e,t.property,t.object))}),this.sparqlUpdateWorkerService.updateGraphs(this.stateWorkerService.state.project.updateEndpoint,[new d.g(this.stateWorkerService.state.project.graph?d.a.namedNode(this.stateWorkerService.state.project.graph):d.h.instance,n)],[new d.g(this.stateWorkerService.state.project.graph?d.a.namedNode(this.stateWorkerService.state.project.graph):d.h.instance,i)])},e.prototype.createNewItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.$q.defer(),n=new d.i(this.stateWorkerService.state.project.instanceNS+r.i(g.b)());t.notify(n);var i=[];return e.forEach(function(e){return i.push(new d.f(n,e.property,e.object))}),this.sparqlUpdateWorkerService.updateGraphs(this.stateWorkerService.state.project.updateEndpoint,[new d.g(this.stateWorkerService.state.project.graph?d.a.namedNode(this.stateWorkerService.state.project.graph):d.h.instance,i)]).then(function(){return t.resolve(n)},t.reject,t.notify),t.promise}}();p.module("fibra.services.sparql-item-service",[]).config(["$provide",function(e){e.service("sparqlItemService",x)}])},function(e,t,r){!function(t){e.exports=t()}(function(){"use strict";function e(r,n){if(!(this instanceof e))return new e(r,n);this.options=n=n?Mi(n):{},Mi(ts,n,!1),d(n);var i=n.value;"string"==typeof i&&(i=new ws(i,n.mode,null,n.lineSeparator)),this.doc=i;var o=new e.inputStyles[n.inputStyle](this),s=this.display=new t(r,i,o);s.wrapper.CodeMirror=this,l(this),a(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!Ro&&s.input.focus(),m(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new _i,keySeq:null,specialChars:null};var u=this;Eo&&xo<11&&setTimeout(function(){u.display.input.reset(!0)},20),Ht(this),Yi(),xt(this),this.curOp.forceUpdate=!0,Kn(this,i),n.autofocus&&!Ro||u.hasFocus()?setTimeout($i(mr,this),20):yr(this);for(var c in rs)rs.hasOwnProperty(c)&&rs[c](this,n[c],ns);S(this),n.finishInit&&n.finishInit(this);for(var p=0;p<as.length;++p)as[p](this);Tt(this),So&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}function t(e,t,r){var n=this;this.input=r,n.scrollbarFiller=Hi("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=Hi("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=Hi("div",null,"CodeMirror-code"),n.selectionDiv=Hi("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Hi("div",null,"CodeMirror-cursors"),n.measure=Hi("div",null,"CodeMirror-measure"),n.lineMeasure=Hi("div",null,"CodeMirror-measure"),n.lineSpace=Hi("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Hi("div",[Hi("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Hi("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=Hi("div",null,null,"position: absolute; height: "+Fs+"px; width: 1px;"),n.gutters=Hi("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Hi("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Hi("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),Eo&&xo<8&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),So||mo&&Ro||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,r.init(n)}function r(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),n(t)}function n(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,$e(e,100),e.state.modeGen++,e.curOp&&Ft(e)}function i(e){e.options.lineWrapping?(Zs(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Js(e.display.wrapper,"CodeMirror-wrap"),f(e)),s(e),Ft(e),ut(e),setTimeout(function(){y(e)},100)}function o(e){var t=bt(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/Et(e.display)-3);return function(i){if(Tn(e.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function s(e){var t=e.doc,r=o(e);t.iter(function(e){var t=r(e);t!=e.height&&ti(e,t)})}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ut(e)}function u(e){l(e),Ft(e),setTimeout(function(){x(e)},20)}function l(e){var t=e.display.gutters,r=e.options.gutters;qi(t);for(var n=0;n<r.length;++n){var i=r[n],o=t.appendChild(Hi("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",c(e)}function c(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function p(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=gn(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=mn(n);){var i=t.find(0,!0);r-=n.text.length-i.from.ch,n=i.to.line,r+=n.text.length-i.to.ch}return r}function f(e){var t=e.display,r=e.doc;t.maxLine=Jn(r,r.first),t.maxLineLength=p(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=p(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function d(e){var t=Pi(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function h(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+qe(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Qe(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function v(e,t,r){this.cm=r;var n=this.vert=Hi("div",[Hi("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Hi("div",[Hi("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(n),e(i),_s(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),_s(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,Eo&&xo<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function m(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Js(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),_s(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,r){"horizontal"==r?or(t,e):ir(t,e)},t),t.display.scrollbars.addClass&&Zs(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=h(e));var r=e.display.barWidth,n=e.display.barHeight;b(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&_(e),b(e,h(e)),r=e.display.barWidth,n=e.display.barHeight}function b(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function E(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-He(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=ni(t,n),s=ni(t,i);if(r&&r.ensure){var a=r.ensure.from.line,u=r.ensure.to.line;a<o?(o=a,s=ni(t,ii(Jn(t,a))+e.wrapper.clientHeight)):Math.min(u,t.lastLine())>=s&&(o=ni(t,ii(Jn(t,u))-e.wrapper.clientHeight),s=u)}return{from:o,to:Math.max(s,o+1)}}function x(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=I(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",s=0;s<r.length;s++)if(!r[s].hidden){e.options.fixedGutter&&r[s].gutter&&(r[s].gutter.style.left=o);var a=r[s].alignable;if(a)for(var u=0;u<a.length;u++)a[u].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function S(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=T(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(Hi("div",[Hi("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,s=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-s)+1,n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",c(e),!0}return!1}function T(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function I(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function w(e,t,r){var n=e.display;this.viewport=t,this.visible=E(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=We(e),this.force=r,this.dims=O(e),this.events=[]}function C(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Qe(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Qe(e)+"px",t.scrollbarsClipped=!0)}function A(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return Mt(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Gt(e))return!1;S(e)&&(Mt(e),t.dims=O(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),s=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(i,r.viewTo)),Mo&&(o=xn(e.doc,o),s=Sn(e.doc,s));var a=o!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;Ut(e,o,s),r.viewOffset=ii(Jn(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var u=Gt(e);if(!a&&0==u&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var l=Qi();return u>4&&(r.lineDiv.style.display="none"),P(e,r.updateLineNumbers,t.dims),u>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,l&&Qi()!=l&&l.offsetHeight&&l.focus(),qi(r.cursorDiv),qi(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,a&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,$e(e,400)),r.updateLineNumbers=null,!0}function N(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=We(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+qe(e.display)-ze(e),r.top)}),t.visible=E(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&A(e,t);n=!1){_(e);var i=h(e);Pe(e),y(e,i),R(e,i)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function L(e,t){var r=new w(e,t);if(A(e,r)){_(e),N(e,r);var n=h(e);Pe(e),y(e,n),R(e,n),r.finish()}}function R(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Qe(e)+"px"}function _(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i,o=t.view[n];if(!o.hidden){if(Eo&&xo<8){var s=o.node.offsetTop+o.node.offsetHeight;i=s-r,r=s}else{var a=o.node.getBoundingClientRect();i=a.bottom-a.top}var u=o.line.height-i;if(i<2&&(i=bt(t)),(u>.001||u<-.001)&&(ti(o.line,i),k(o.line),o.rest))for(var l=0;l<o.rest.length;l++)k(o.rest[l])}}}function k(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function O(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)r[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[s]]=o.clientWidth;return{fixedPos:I(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function P(e,t,r){function n(t){var r=t.nextSibling;return So&&_o&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var i=e.display,o=e.options.lineNumbers,s=i.lineDiv,a=s.firstChild,u=i.view,l=i.viewFrom,c=0;c<u.length;c++){var p=u[c];if(p.hidden);else if(p.node&&p.node.parentNode==s){for(;a!=p.node;)a=n(a);var f=o&&null!=t&&t<=l&&p.lineNumber;p.changes&&(Pi(p.changes,"gutter")>-1&&(f=!1),D(e,p,l,r)),f&&(qi(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(T(e.options,l)))),a=p.node.nextSibling}else{var d=H(e,p,l,r);s.insertBefore(d,a)}l+=p.size}for(;a;)a=n(a)}function D(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?$(e,t):"gutter"==o?U(e,t,r,n):"class"==o?B(t):"widget"==o&&G(e,t,n)}t.changes=null}function F(e){return e.node==e.text&&(e.node=Hi("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),Eo&&xo<8&&(e.node.style.zIndex=2)),e.node}function j(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var r=F(e);e.background=r.insertBefore(Hi("div",null,t),r.firstChild)}}function M(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):$n(e,t)}function $(e,t){var r=t.text.className,n=M(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,B(t)):r&&(t.text.className=r)}function B(e){j(e),e.line.wrapClass?F(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function U(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=F(t);t.gutterBackground=Hi("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var i=F(t),s=t.gutter=Hi("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),i.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(Hi("div",T(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var a=0;a<e.options.gutters.length;++a){var u=e.options.gutters[a],l=o.hasOwnProperty(u)&&o[u];l&&s.appendChild(Hi("div",[l],"CodeMirror-gutter-elt","left: "+n.gutterLeft[u]+"px; width: "+n.gutterWidth[u]+"px"))}}}function G(e,t,r){t.alignable&&(t.alignable=null);for(var n,i=t.node.firstChild;i;i=n){var n=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}q(e,t,r)}function H(e,t,r,n){var i=M(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),B(t),U(e,t,r,n),q(e,t,n),t.node}function q(e,t,r){if(V(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)V(e,t.rest[n],t,r,!1)}function V(e,t,r,n,i){if(t.widgets)for(var o=F(r),s=0,a=t.widgets;s<a.length;++s){var u=a[s],l=Hi("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),Q(u,l,r,n),e.display.input.setUneditable(l),i&&u.above?o.insertBefore(l,r.gutter||r.text):o.appendChild(l),wi(u,"redraw")}}function Q(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function W(e){return $o(e.line,e.ch)}function z(e,t){return Bo(e,t)<0?t:e}function X(e,t){return Bo(e,t)<0?e:t}function Y(e){e.state.focused||(e.display.input.focus(),mr(e))}function K(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var s=e.state.pasteIncoming||"paste"==i,a=o.splitLines(t),u=null;if(s&&n.ranges.length>1)if(Uo&&Uo.text.join("\n")==t){if(n.ranges.length%Uo.text.length==0){u=[];for(var l=0;l<Uo.text.length;l++)u.push(o.splitLines(Uo.text[l]))}}else a.length==n.ranges.length&&(u=Di(a,function(e){return[e]}));for(var l=n.ranges.length-1;l>=0;l--){var c=n.ranges[l],p=c.from(),f=c.to();c.empty()&&(r&&r>0?p=$o(p.line,p.ch-r):e.state.overwrite&&!s?f=$o(f.line,Math.min(Jn(o,f.line).text.length,f.ch+Oi(a).length)):Uo&&Uo.lineWise&&Uo.text.join("\n")==t&&(p=f=$o(p.line,0)));var d=e.curOp.updateInput,h={from:p,to:f,text:u?u[l%u.length]:a,origin:i||(s?"paste":e.state.cutIncoming?"cut":"+input")};Cr(e.doc,h),wi(e,"inputRead",e,h)}t&&!s&&Z(e,t),Mr(e),e.curOp.updateInput=d,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function J(e,t){var r=e.clipboardData&&e.clipboardData.getData("text/plain");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Rt(t,function(){K(t,r,0,null,"paste")}),!0}function Z(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=Br(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Jn(e.doc,i.head.line).text.slice(0,i.head.ch))&&(s=Br(e,i.head.line,"smart"));s&&wi(e,"electricInput",e,i.head.line)}}}function ee(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:$o(i,0),head:$o(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function te(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function re(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new _i,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function ne(){var e=Hi("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=Hi("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return So?e.style.width="1000px":e.setAttribute("wrap","off"),Lo&&(e.style.border="1px solid black"),te(e),t}function ie(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new _i,this.gracePeriod=!1}function oe(e,t){var r=Ze(e,t.line);if(!r||r.hidden)return null;var n=Jn(e.doc,t.line),i=Ye(r,n,t.line),o=oi(n),s="left";if(o){s=co(o,t.ch)%2?"right":"left"}var a=rt(i.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function se(e,t){return t&&(e.bad=!0),e}function ae(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return se(e.clipPos($o(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return ue(o,t,r)}}function ue(e,t,r){function n(t,r,n){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==r){var u=ri(i<0?e.line:e.rest[i]),p=o[s]+n;return(n<0||a!=t)&&(p=o[s+(n?1:0)]),$o(u,p)}}}var i=e.text.firstChild,o=!1;if(!t||!Xs(i,t))return se($o(ri(e.line),0),!0);if(t==i&&(o=!0,t=i.childNodes[r],r=0,!t)){var s=e.rest?Oi(e.rest):e.line;return se($o(ri(s),s.text.length),o)}var a=3==t.nodeType?t:null,u=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));u.parentNode!=i;)u=u.parentNode;var l=e.measure,c=l.maps,p=n(a,u,r);if(p)return se(p,o);for(var f=u.nextSibling,d=a?a.nodeValue.length-r:0;f;f=f.nextSibling){if(p=n(f,f.firstChild,0))return se($o(p.line,p.ch-d),o);d+=f.textContent.length}for(var h=u.previousSibling,d=r;h;h=h.previousSibling){if(p=n(h,h.firstChild,-1))return se($o(p.line,p.ch+d),o);d+=f.textContent.length}}function le(e,t,r,n,i){function o(e){return function(t){return t.id==e}}function s(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return""==r&&(r=t.textContent.replace(/\u200b/g,"")),void(a+=r);var c,p=t.getAttribute("cm-marker");if(p){var f=e.findMarks($o(n,0),$o(i+1,0),o(+p));return void(f.length&&(c=f[0].find())&&(a+=Zn(e.doc,c.from,c.to).join(l)))}if("false"==t.getAttribute("contenteditable"))return;for(var d=0;d<t.childNodes.length;d++)s(t.childNodes[d]);/^(pre|div|p)$/i.test(t.nodeName)&&(u=!0)}else if(3==t.nodeType){var h=t.nodeValue;if(!h)return;u&&(a+=l,u=!1),a+=h}}for(var a="",u=!1,l=e.doc.lineSeparator();s(t),t!=r;)t=t.nextSibling;return a}function ce(e,t){this.ranges=e,this.primIndex=t}function pe(e,t){this.anchor=e,this.head=t}function fe(e,t){var r=e[t];e.sort(function(e,t){return Bo(e.from(),t.from())}),t=Pi(e,r);for(var n=1;n<e.length;n++){var i=e[n],o=e[n-1];if(Bo(o.to(),i.from())>=0){var s=X(o.from(),i.from()),a=z(o.to(),i.to()),u=o.empty()?i.from()==i.head:o.from()==o.head;n<=t&&--t,e.splice(--n,2,new pe(u?a:s,u?s:a))}}return new ce(e,t)}function de(e,t){return new ce([new pe(e,t||e)],0)}function he(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ve(e,t){if(t.line<e.first)return $o(e.first,0);var r=e.first+e.size-1;return t.line>r?$o(r,Jn(e,r).text.length):ge(t,Jn(e,t.line).text.length)}function ge(e,t){var r=e.ch;return null==r||r>t?$o(e.line,t):r<0?$o(e.line,0):e}function me(e,t){return t>=e.first&&t<e.first+e.size}function ye(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=ve(e,t[n]);return r}function be(e,t,r,n){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(n){var o=Bo(r,i)<0;o!=Bo(n,i)<0?(i=r,r=n):o!=Bo(r,n)<0&&(r=n)}return new pe(i,r)}return new pe(n||r,r)}function Ee(e,t,r,n){Ce(e,new ce([be(e,e.sel.primary(),t,r)],0),n)}function xe(e,t,r){for(var n=[],i=0;i<e.sel.ranges.length;i++)n[i]=be(e,e.sel.ranges[i],t[i],null);Ce(e,fe(n,e.sel.primIndex),r)}function Se(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,Ce(e,fe(i,e.sel.primIndex),n)}function Te(e,t,r,n){Ce(e,de(t,r),n)}function Ie(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new pe(ve(e,t[r].anchor),ve(e,t[r].head))},origin:r&&r.origin};return Ps(e,"beforeSelectionChange",e,n),e.cm&&Ps(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?fe(n.ranges,n.ranges.length-1):t}function we(e,t,r){var n=e.history.done,i=Oi(n);i&&i.ranges?(n[n.length-1]=t,Ae(e,t,r)):Ce(e,t,r)}function Ce(e,t,r){Ae(e,t,r),fi(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Ae(e,t,r){(Li(e,"beforeSelectionChange")||e.cm&&Li(e.cm,"beforeSelectionChange"))&&(t=Ie(e,t,r)),Ne(e,Re(e,t,r&&r.bias||(Bo(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),r&&!1===r.scroll||!e.cm||Mr(e.cm)}function Ne(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ni(e.cm)),wi(e,"cursorActivity",e))}function Le(e){Ne(e,Re(e,e.sel,null,!1),Ms)}function Re(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],u=ke(e,s.anchor,a&&a.anchor,r,n),l=ke(e,s.head,a&&a.head,r,n);(i||u!=s.anchor||l!=s.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new pe(u,l))}return i?fe(i,t.primIndex):t}function _e(e,t,r,n,i){var o=Jn(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],u=a.marker;if((null==a.from||(u.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(u.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(i&&(Ps(u,"beforeCursorEnter"),u.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!u.atomic)continue;if(r){var l,c=u.find(n<0?1:-1);if((n<0?u.inclusiveRight:u.inclusiveLeft)&&(c=Oe(e,c,-n,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(l=Bo(c,r))&&(n<0?l<0:l>0))return _e(e,c,t,n,i)}var p=u.find(n<0?-1:1);return(n<0?u.inclusiveLeft:u.inclusiveRight)&&(p=Oe(e,p,n,p.line==t.line?o:null)),p?_e(e,p,t,n,i):null}}return t}function ke(e,t,r,n,i){var o=n||1,s=_e(e,t,r,o,i)||!i&&_e(e,t,r,o,!0)||_e(e,t,r,-o,i)||!i&&_e(e,t,r,-o,!0);return s||(e.cantEdit=!0,$o(e.first,0))}function Oe(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?ve(e,$o(t.line-1)):null:r>0&&t.ch==(n||Jn(e,t.line)).text.length?t.line<e.first+e.size-1?$o(t.line+1,0):null:new $o(t.line,t.ch+r)}function Pe(e){e.display.input.showSelection(e.display.input.prepareSelection())}function De(e,t){for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),s=0;s<r.sel.ranges.length;s++)if(!1!==t||s!=r.sel.primIndex){var a=r.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var u=a.empty();(u||e.options.showCursorWhenSelecting)&&Fe(e,a.head,i),u||je(e,a,o)}}return n}function Fe(e,t,r){var n=ht(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(Hi("div","","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=r.appendChild(Hi("div","","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function je(e,t,r){function n(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),a.appendChild(Hi("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==r?c-e:r)+"px; height: "+(n-t)+"px"))}function i(t,r,i){function o(r,n){return dt(e,$o(t,r),"div",p,n)}var a,u,p=Jn(s,t),f=p.text.length;return to(oi(p),r||0,null==i?f:i,function(e,t,s){var p,d,h,v=o(e,"left");if(e==t)p=v,d=h=v.left;else{if(p=o(t-1,"right"),"rtl"==s){var g=v;v=p,p=g}d=v.left,h=p.right}null==r&&0==e&&(d=l),p.top-v.top>3&&(n(d,v.top,null,v.bottom),d=l,v.bottom<p.top&&n(d,v.bottom,null,p.top)),null==i&&t==f&&(h=c),(!a||v.top<a.top||v.top==a.top&&v.left<a.left)&&(a=v),(!u||p.bottom>u.bottom||p.bottom==u.bottom&&p.right>u.right)&&(u=p),d<l+1&&(d=l),n(d,p.top,h-d,p.bottom)}),{start:a,end:u}}var o=e.display,s=e.doc,a=document.createDocumentFragment(),u=Ve(e.display),l=u.left,c=Math.max(o.sizerWidth,We(e)-o.sizer.offsetLeft)-u.right,p=t.from(),f=t.to();if(p.line==f.line)i(p.line,p.ch,f.ch);else{var d=Jn(s,p.line),h=Jn(s,f.line),v=bn(d)==bn(h),g=i(p.line,p.ch,v?d.text.length+1:null).end,m=i(f.line,v?0:null,f.ch).start;v&&(g.top<m.top-2?(n(g.right,g.top,null,g.bottom),n(l,m.top,m.left,m.bottom)):n(g.right,g.top,m.left-g.right,g.bottom)),g.bottom<m.top&&n(l,g.bottom,null,m.top)}r.appendChild(a)}function Me(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function $e(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,$i(Be,e))}function Be(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=ls(t.mode,Ge(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength,u=Dn(e,o,a?ls(t.mode,n):n,!0);o.styles=u.styles;var l=o.styleClasses,c=u.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var p=!s||s.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),f=0;!p&&f<s.length;++f)p=s[f]!=o.styles[f];p&&i.push(t.frontier),o.stateAfter=a?n:ls(t.mode,n)}else o.text.length<=e.options.maxHighlightLength&&jn(e,o.text,n),o.stateAfter=t.frontier%5==0?ls(t.mode,n):null;if(++t.frontier,+new Date>r)return $e(e,e.options.workDelay),!0}),i.length&&Rt(e,function(){for(var t=0;t<i.length;t++)jt(e,i[t],"text")})}}function Ue(e,t,r){for(var n,i,o=e.doc,s=r?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var u=Jn(o,a-1);if(u.stateAfter&&(!r||a<=o.frontier))return a;var l=Us(u.text,null,e.options.tabSize);(null==i||n>l)&&(i=a-1,n=l)}return i}function Ge(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return!0;var o=Ue(e,t,r),s=o>n.first&&Jn(n,o-1).stateAfter;return s=s?ls(n.mode,s):cs(n.mode),n.iter(o,t,function(r){jn(e,r.text,s);var a=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;r.stateAfter=a?ls(n.mode,s):null,++o}),r&&(n.frontier=o),s}function He(e){return e.lineSpace.offsetTop}function qe(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ve(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Vi(e.measure,Hi("pre","x")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Qe(e){return Fs-e.display.nativeBarWidth}function We(e){return e.display.scroller.clientWidth-Qe(e)-e.display.barWidth}function ze(e){return e.display.scroller.clientHeight-Qe(e)-e.display.barHeight}function Xe(e,t,r){var n=e.options.lineWrapping,i=n&&We(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var u=s[a],l=s[a+1];Math.abs(u.bottom-l.bottom)>2&&o.push((u.bottom+l.top)/2-r.top)}}o.push(r.bottom-r.top)}}function Ye(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var n=0;n<e.rest.length;n++)if(ri(e.rest[n])>r)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function Ke(e,t){t=bn(t);var r=ri(t),n=e.display.externalMeasured=new Pt(e.doc,t,r);n.lineN=r;var i=n.built=$n(e,n);return n.text=i.pre,Vi(e.display.lineMeasure,i.pre),n}function Je(e,t,r,n){return tt(e,et(e,t),r,n)}function Ze(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[$t(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function et(e,t){var r=ri(t),n=Ze(e,r);n&&!n.text?n=null:n&&n.changes&&(D(e,n,r,O(e)),e.curOp.forceUpdate=!0),n||(n=Ke(e,t));var i=Ye(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function tt(e,t,r,n,i){t.before&&(r=-1);var o,s=r+(n||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Xe(e,t.view,t.rect),t.hasHeights=!0),o=it(e,t,r,n),o.bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function rt(e,t,r){for(var n,i,o,s,a=0;a<e.length;a+=3){var u=e[a],l=e[a+1];if(t<u?(i=0,o=1,s="left"):t<l?(i=t-u,o=i+1):(a==e.length-3||t==l&&e[a+3]>t)&&(o=l-u,i=o-1,t>=l&&(s="right")),null!=i){if(n=e[a+2],u==l&&r==(n.insertLeft?"left":"right")&&(s=r),"left"==r&&0==i)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)n=e[2+(a-=3)],s="left";if("right"==r&&i==l-u)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)n=e[(a+=3)+2],s="right";break}}return{node:n,start:i,end:o,collapse:s,coverStart:u,coverEnd:l}}function nt(e,t){var r=Vo;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var n=e.length-1;n>=0&&(r=e[n]).left==r.right;n--);return r}function it(e,t,r,n){var i,o=rt(t.map,r,n),s=o.node,a=o.start,u=o.end,l=o.collapse;if(3==s.nodeType){for(var c=0;c<4;c++){for(;a&&Gi(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+u<o.coverEnd&&Gi(t.line.text.charAt(o.coverStart+u));)++u;if(i=Eo&&xo<9&&0==a&&u==o.coverEnd-o.coverStart?s.parentNode.getBoundingClientRect():nt(Vs(s,a,u).getClientRects(),n),i.left||i.right||0==a)break;u=a,a-=1,l="right"}Eo&&xo<11&&(i=ot(e.display.measure,i))}else{a>0&&(l=n="right");var p;i=e.options.lineWrapping&&(p=s.getClientRects()).length>1?p["right"==n?p.length-1:0]:s.getBoundingClientRect()}if(Eo&&xo<9&&!a&&(!i||!i.left&&!i.right)){var f=s.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+Et(e.display),top:f.top,bottom:f.bottom}:Vo}for(var d=i.top-t.rect.top,h=i.bottom-t.rect.top,v=(d+h)/2,g=t.view.measure.heights,c=0;c<g.length-1&&!(v<g[c]);c++);var m=c?g[c-1]:0,y=g[c],b={left:("right"==l?i.right:i.left)-t.rect.left,right:("left"==l?i.left:i.right)-t.rect.left,top:m,bottom:y};return i.left||i.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=d,b.rbottom=h),b}function ot(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!eo(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function st(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function at(e){e.display.externalMeasure=null,qi(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)st(e.display.view[t])}function ut(e){at(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function lt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ct(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function pt(e,t,r,n){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=Cn(t.widgets[i]);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var s=ii(t);if("local"==n?s+=He(e.display):s-=e.display.viewOffset,"page"==n||"window"==n){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==n?0:ct());var u=a.left+("window"==n?0:lt());r.left+=u,r.right+=u}return r.top+=s,r.bottom+=s,r}function ft(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=lt(),i-=ct();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:i-s.top}}function dt(e,t,r,n,i){return n||(n=Jn(e.doc,t.line)),pt(e,n,Je(e,n,t.ch,i),r)}function ht(e,t,r,n,i,o){function s(t,s){var a=tt(e,i,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,pt(e,n,a,r)}function a(e,t){var r=u[t],n=r.level%2;return e==ro(r)&&t&&r.level<u[t-1].level?(r=u[--t],e=no(r)-(r.level%2?0:1),n=!0):e==no(r)&&t<u.length-1&&r.level<u[t+1].level&&(r=u[++t],e=ro(r)-r.level%2,n=!1),n&&e==r.to&&e>r.from?s(e-1):s(e,n)}n=n||Jn(e.doc,t.line),i||(i=et(e,n));var u=oi(n),l=t.ch;if(!u)return s(l);var c=co(u,l),p=a(l,c);return null!=aa&&(p.other=a(l,aa)),p}function vt(e,t){var r=0,t=ve(e.doc,t);e.options.lineWrapping||(r=Et(e.display)*t.ch);var n=Jn(e.doc,t.line),i=ii(n)+He(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function gt(e,t,r,n){var i=$o(e,t);return i.xRel=n,r&&(i.outside=!0),i}function mt(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return gt(n.first,0,!0,-1);var i=ni(n,r),o=n.first+n.size-1;if(i>o)return gt(n.first+n.size-1,Jn(n,o).text.length,!0,1);t<0&&(t=0);for(var s=Jn(n,i);;){var a=yt(e,s,i,t,r),u=mn(s),l=u&&u.find(0,!0);if(!u||!(a.ch>l.from.ch||a.ch==l.from.ch&&a.xRel>0))return a;i=ri(s=l.to.line)}}function yt(e,t,r,n,i){function o(n){var i=ht(e,$o(r,n),"line",t,l);return a=!0,s>i.bottom?i.left-u:s<i.top?i.left+u:(a=!1,i.left)}var s=i-ii(t),a=!1,u=2*e.display.wrapper.clientWidth,l=et(e,t),c=oi(t),p=t.text.length,f=io(t),d=oo(t),h=o(f),v=a,g=o(d),m=a;if(n>g)return gt(r,d,m,1);for(;;){if(c?d==f||d==fo(t,f,1):d-f<=1){var y=n<h||n-h<=g-n?f:d,b=y==f?v:m,E=n-(y==f?h:g);if(m&&!c&&!/\s/.test(t.text.charAt(y))&&E>0&&y<t.text.length&&l.view.measure.heights.length>1){var x=tt(e,l,y,"right");s<=x.bottom&&s>=x.top&&Math.abs(n-x.right)<E&&(b=!1,y++,E=n-x.right)}for(;Gi(t.text.charAt(y));)++y;return gt(r,y,b,E<-1?-1:E>1?1:0)}var S=Math.ceil(p/2),T=f+S;if(c){T=f;for(var I=0;I<S;++I)T=fo(t,T,1)}var w=o(T);w>n?(d=T,g=w,(m=a)&&(g+=1e3),p=S):(f=T,h=w,v=a,p-=S)}}function bt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Go){Go=Hi("pre");for(var t=0;t<49;++t)Go.appendChild(document.createTextNode("x")),Go.appendChild(Hi("br"));Go.appendChild(document.createTextNode("x"))}Vi(e.measure,Go);var r=Go.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),qi(e.measure),r||1}function Et(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Hi("span","xxxxxxxxxx"),r=Hi("pre",[t]);Vi(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function xt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Wo},Qo?Qo.ops.push(e.curOp):e.curOp.ownsGroup=Qo={ops:[e.curOp],delayedCallbacks:[]}}function St(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function Tt(e){var t=e.curOp,r=t.ownsGroup;if(r)try{St(r)}finally{Qo=null;for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;It(r)}}function It(e){for(var t=e.ops,r=0;r<t.length;r++)wt(t[r]);for(var r=0;r<t.length;r++)Ct(t[r]);for(var r=0;r<t.length;r++)At(t[r]);for(var r=0;r<t.length;r++)Nt(t[r]);for(var r=0;r<t.length;r++)Lt(t[r])}function wt(e){var t=e.cm,r=t.display;C(t),e.updateMaxLine&&f(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new w(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ct(e){e.updatedDisplay=e.mustUpdate&&A(e.cm,e.update)}function At(e){var t=e.cm,r=t.display;e.updatedDisplay&&_(t),e.barMeasure=h(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Je(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Qe(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-We(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection(e.focus))}function Nt(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&or(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==Qi()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.updatedDisplay&&R(t,e.barMeasure),e.selectionChanged&&Me(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Y(e.cm)}function Lt(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&N(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null==e.scrollTop||r.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(n.scrollTop=Math.max(0,Math.min(r.scroller.scrollHeight-r.scroller.clientHeight,e.scrollTop)),r.scrollbars.setScrollTop(n.scrollTop),r.scroller.scrollTop=n.scrollTop),null==e.scrollLeft||r.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(n.scrollLeft=Math.max(0,Math.min(r.scroller.scrollWidth-r.scroller.clientWidth,e.scrollLeft)),r.scrollbars.setScrollLeft(n.scrollLeft),r.scroller.scrollLeft=n.scrollLeft,x(t)),e.scrollToPos){var i=Pr(t,ve(n,e.scrollToPos.from),ve(n,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Or(t,i)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Ps(o[a],"hide");if(s)for(var a=0;a<s.length;++a)s[a].lines.length&&Ps(s[a],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Ps(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Rt(e,t){if(e.curOp)return t();xt(e);try{return t()}finally{Tt(e)}}function _t(e,t){return function(){if(e.curOp)return t.apply(e,arguments);xt(e);try{return t.apply(e,arguments)}finally{Tt(e)}}}function kt(e){return function(){if(this.curOp)return e.apply(this,arguments);xt(this);try{return e.apply(this,arguments)}finally{Tt(this)}}}function Ot(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);xt(t);try{return e.apply(this,arguments)}finally{Tt(t)}}}function Pt(e,t,r){this.line=t,this.rest=En(t),this.size=this.rest?ri(Oi(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Tn(e,t)}function Dt(e,t,r){for(var n,i=[],o=t;o<r;o=n){var s=new Pt(e.doc,Jn(e.doc,o),o);n=o+s.size,i.push(s)}return i}function Ft(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Mo&&xn(e.doc,t)<i.viewTo&&Mt(e);else if(r<=i.viewFrom)Mo&&Sn(e.doc,r+n)>i.viewFrom?Mt(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)Mt(e);else if(t<=i.viewFrom){var o=Bt(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):Mt(e)}else if(r>=i.viewTo){var o=Bt(e,t,t,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):Mt(e)}else{var s=Bt(e,t,t,-1),a=Bt(e,r,r+n,1);s&&a?(i.view=i.view.slice(0,s.index).concat(Dt(e,s.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=n):Mt(e)}var u=i.externalMeasured;u&&(r<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(i.externalMeasured=null))}function jt(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[$t(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==Pi(s,r)&&s.push(r)}}}function Mt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function $t(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function Bt(e,t,r,n){var i,o=$t(e,t),s=e.display.view;if(!Mo||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var a=0,u=e.display.viewFrom;a<o;a++)u+=s[a].size;if(u!=t){if(n>0){if(o==s.length-1)return null;i=u+s[o].size-t,o++}else i=u-t;t+=i,r+=i}for(;xn(e.doc,r)!=r;){if(o==(n<0?0:s.length-1))return null;r+=n*s[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function Ut(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=Dt(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=Dt(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice($t(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(Dt(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,$t(e,r)))),n.viewTo=r}function Gt(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Ht(e){function t(){i.activeTouch&&(o=setTimeout(function(){i.activeTouch=null},1e3),s=i.activeTouch,s.end=+new Date)}function r(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}var i=e.display;_s(i.scroller,"mousedown",_t(e,zt)),Eo&&xo<11?_s(i.scroller,"dblclick",_t(e,function(t){if(!Ai(e,t)){var r=Wt(e,t);if(r&&!Zt(e,t)&&!Qt(e.display,t)){Ns(t);var n=e.findWordAt(r);Ee(e.doc,n.anchor,n.head)}}})):_s(i.scroller,"dblclick",function(t){Ai(e,t)||Ns(t)}),Fo||_s(i.scroller,"contextmenu",function(t){br(e,t)});var o,s={end:0};_s(i.scroller,"touchstart",function(t){if(!Ai(e,t)&&!r(t)){clearTimeout(o);var n=+new Date;i.activeTouch={start:n,moved:!1,prev:n-s.end<=300?s:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),_s(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),_s(i.scroller,"touchend",function(r){var o=i.activeTouch;if(o&&!Qt(i,r)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=e.coordsChar(i.activeTouch,"page");s=!o.prev||n(o,o.prev)?new pe(a,a):!o.prev.prev||n(o,o.prev.prev)?e.findWordAt(a):new pe($o(a.line,0),ve(e.doc,$o(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),Ns(r)}t()}),_s(i.scroller,"touchcancel",t),_s(i.scroller,"scroll",function(){i.scroller.clientHeight&&(ir(e,i.scroller.scrollTop),or(e,i.scroller.scrollLeft,!0),Ps(e,"scroll",e))}),_s(i.scroller,"mousewheel",function(t){sr(e,t)}),_s(i.scroller,"DOMMouseScroll",function(t){sr(e,t)}),_s(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Ai(e,t)||Rs(t)},over:function(t){Ai(e,t)||(rr(e,t),Rs(t))},start:function(t){tr(e,t)},drop:_t(e,er),leave:function(t){Ai(e,t)||nr(e)}};var a=i.input.getField();_s(a,"keyup",function(t){hr.call(e,t)}),_s(a,"keydown",_t(e,fr)),_s(a,"keypress",_t(e,vr)),_s(a,"focus",$i(mr,e)),_s(a,"blur",$i(yr,e))}function qt(t,r,n){if(!r!=!(n&&n!=e.Init)){var i=t.display.dragFunctions,o=r?_s:Os;o(t.display.scroller,"dragstart",i.start),o(t.display.scroller,"dragenter",i.enter),o(t.display.scroller,"dragover",i.over),o(t.display.scroller,"dragleave",i.leave),o(t.display.scroller,"drop",i.drop)}}function Vt(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Qt(e,t){for(var r=Si(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Wt(e,t,r,n){var i=e.display;if(!r&&"true"==Si(t).getAttribute("cm-not-content"))return null;var o,s,a=i.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var u,l=mt(e,o,s);if(n&&1==l.xRel&&(u=Jn(e.doc,l.line).text).length==l.ch){var c=Us(u,u.length,e.options.tabSize)-u.length;l=$o(l.line,Math.max(0,Math.round((o-Ve(e.display).left)/Et(e.display))-c))}return l}function zt(e){var t=this,r=t.display;if(!(Ai(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.shift=e.shiftKey,Qt(r,e))return void(So||(r.scroller.draggable=!1,setTimeout(function(){r.scroller.draggable=!0},100)));if(!Zt(t,e)){var n=Wt(t,e);switch(window.focus(),Ti(e)){case 1:t.state.selectingText?t.state.selectingText(e):n?Xt(t,e,n):Si(e)==r.scroller&&Ns(e);break;case 2:So&&(t.state.lastMiddleDown=+new Date),n&&Ee(t.doc,n),setTimeout(function(){r.input.focus()},20),Ns(e);break;case 3:Fo?br(t,e):gr(t)}}}}function Xt(e,t,r){Eo?setTimeout($i(Y,e),0):e.curOp.focus=Qi();var n,i=+new Date;qo&&qo.time>i-400&&0==Bo(qo.pos,r)?n="triple":Ho&&Ho.time>i-400&&0==Bo(Ho.pos,r)?(n="double",qo={time:i,pos:r}):(n="single",Ho={time:i,pos:r});var o,s=e.doc.sel,a=_o?t.metaKey:t.ctrlKey;e.options.dragDrop&&ta&&!e.isReadOnly()&&"single"==n&&(o=s.contains(r))>-1&&(Bo((o=s.ranges[o]).from(),r)<0||r.xRel>0)&&(Bo(o.to(),r)>0||r.xRel<0)?Yt(e,t,r,a):Kt(e,t,r,n,a)}function Yt(e,t,r,n){var i=e.display,o=+new Date,s=_t(e,function(a){So&&(i.scroller.draggable=!1),e.state.draggingText=!1,Os(document,"mouseup",s),Os(i.scroller,"drop",s),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(Ns(a),!n&&+new Date-200<o&&Ee(e.doc,r),So||Eo&&9==xo?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});So&&(i.scroller.draggable=!0),e.state.draggingText=s,s.copy=_o?t.altKey:t.ctrlKey,i.scroller.dragDrop&&i.scroller.dragDrop(),_s(document,"mouseup",s),_s(i.scroller,"drop",s)}function Kt(e,t,r,n,i){function o(t){if(0!=Bo(g,t))if(g=t,"rect"==n){for(var i=[],o=e.options.tabSize,s=Us(Jn(l,r.line).text,r.ch,o),a=Us(Jn(l,t.line).text,t.ch,o),u=Math.min(s,a),d=Math.max(s,a),h=Math.min(r.line,t.line),v=Math.min(e.lastLine(),Math.max(r.line,t.line));h<=v;h++){var m=Jn(l,h).text,y=Gs(m,u,o);u==d?i.push(new pe($o(h,y),$o(h,y))):m.length>y&&i.push(new pe($o(h,y),$o(h,Gs(m,d,o))))}i.length||i.push(new pe(r,r)),Ce(l,fe(f.ranges.slice(0,p).concat(i),p),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=c,E=b.anchor,x=t;if("single"!=n){if("double"==n)var S=e.findWordAt(t);else var S=new pe($o(t.line,0),ve(l,$o(t.line+1,0)));Bo(S.anchor,E)>0?(x=S.head,E=X(b.from(),S.anchor)):(x=S.anchor,E=z(b.to(),S.head))}var i=f.ranges.slice(0);i[p]=new pe(ve(l,E),x),Ce(l,fe(i,p),$s)}}function s(t){var r=++y,i=Wt(e,t,!0,"rect"==n);if(i)if(0!=Bo(i,g)){e.curOp.focus=Qi(),o(i);var a=E(u,l);(i.line>=a.to||i.line<a.from)&&setTimeout(_t(e,function(){y==r&&s(t)}),150)}else{var c=t.clientY<m.top?-20:t.clientY>m.bottom?20:0;c&&setTimeout(_t(e,function(){y==r&&(u.scroller.scrollTop+=c,s(t))}),50)}}function a(t){e.state.selectingText=!1,y=1/0,Ns(t),u.input.focus(),Os(document,"mousemove",b),Os(document,"mouseup",x),l.history.lastSelOrigin=null}var u=e.display,l=e.doc;Ns(t);var c,p,f=l.sel,d=f.ranges;if(i&&!t.shiftKey?(p=l.sel.contains(r),c=p>-1?d[p]:new pe(r,r)):(c=l.sel.primary(),p=l.sel.primIndex),ko?t.shiftKey&&t.metaKey:t.altKey)n="rect",i||(c=new pe(r,r)),r=Wt(e,t,!0,!0),p=-1;else if("double"==n){var h=e.findWordAt(r);c=e.display.shift||l.extend?be(l,c,h.anchor,h.head):h}else if("triple"==n){var v=new pe($o(r.line,0),ve(l,$o(r.line+1,0)));c=e.display.shift||l.extend?be(l,c,v.anchor,v.head):v}else c=be(l,c,r);i?-1==p?(p=d.length,Ce(l,fe(d.concat([c]),p),{scroll:!1,origin:"*mouse"})):d.length>1&&d[p].empty()&&"single"==n&&!t.shiftKey?(Ce(l,fe(d.slice(0,p).concat(d.slice(p+1)),0),{scroll:!1,origin:"*mouse"}),f=l.sel):Se(l,p,c,$s):(p=0,Ce(l,new ce([c],0),$s),f=l.sel);var g=r,m=u.wrapper.getBoundingClientRect(),y=0,b=_t(e,function(e){Ti(e)?s(e):a(e)}),x=_t(e,a);e.state.selectingText=x,_s(document,"mousemove",b),_s(document,"mouseup",x)}function Jt(e,t,r,n){try{var i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Ns(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!Li(e,r))return xi(t);o-=a.top-s.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var l=s.gutters.childNodes[u];if(l&&l.getBoundingClientRect().right>=i){var c=ni(e.doc,o),p=e.options.gutters[u];return Ps(e,r,e,c,p,t),xi(t)}}}function Zt(e,t){return Jt(e,t,"gutterClick",!0)}function er(e){var t=this;if(nr(t),!Ai(t,e)&&!Qt(t.display,e)){Ns(e),Eo&&(zo=+new Date);var r=Wt(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),s=0,a=0;a<i;++a)!function(e,n){if(!t.options.allowDropFileTypes||-1!=Pi(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=_t(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[n]=e,++s==i){r=ve(t.doc,r);var u={from:r,to:r,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Cr(t.doc,u),we(t.doc,de(r,es(u)))}}),a.readAsText(e)}}(n[a],a);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!t.state.draggingText.copy)var u=t.listSelections();if(Ae(t.doc,de(r,r)),u)for(var a=0;a<u.length;++a)kr(t.doc,"",u[a].anchor,u[a].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(e){}}}}function tr(e,t){if(Eo&&(!e.state.draggingText||+new Date-zo<100))return void Rs(t);if(!Ai(e,t)&&!Qt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Co)){var r=Hi("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",wo&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),wo&&r.parentNode.removeChild(r)}}function rr(e,t){var r=Wt(e,t);if(r){var n=document.createDocumentFragment();Fe(e,r,n),e.display.dragCursor||(e.display.dragCursor=Hi("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Vi(e.display.dragCursor,n)}}function nr(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function ir(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,mo||L(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),mo&&L(e),$e(e,100))}function or(e,t,r){(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,x(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function sr(e,t){var r=Ko(t),n=r.x,i=r.y,o=e.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(n&&a||i&&u){if(i&&_o&&So)e:for(var l=t.target,c=o.view;l!=s;l=l.parentNode)for(var p=0;p<c.length;p++)if(c[p].node==l){e.display.currentWheelTarget=l;break e}if(n&&!mo&&!wo&&null!=Yo)return i&&u&&ir(e,Math.max(0,Math.min(s.scrollTop+i*Yo,s.scrollHeight-s.clientHeight))),or(e,Math.max(0,Math.min(s.scrollLeft+n*Yo,s.scrollWidth-s.clientWidth))),(!i||i&&u)&&Ns(t),void(o.wheelStartX=null);if(i&&null!=Yo){var f=i*Yo,d=e.doc.scrollTop,h=d+o.wrapper.clientHeight;f<0?d=Math.max(0,d+f-50):h=Math.min(e.doc.height,h+f+50),L(e,{top:d,bottom:h})}Xo<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=n,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,r=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,r&&(Yo=(Yo*Xo+r)/(Xo+1),++Xo)}},200)):(o.wheelDX+=n,o.wheelDY+=i))}}function ar(e,t,r){if("string"==typeof t&&!(t=ps[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=js}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function ur(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=ds(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&ds(t,e.options.extraKeys,r,e)||ds(t,e.options.keyMap,r,e)}function lr(e,t,r,n){var i=e.state.keySeq;if(i){if(hs(t))return"handled";Jo.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=ur(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&wi(e,"keyHandled",e,t,r),"handled"!=o&&"multi"!=o||(Ns(r),Me(e)),i&&!o&&/\'$/.test(t)?(Ns(r),!0):!!o}function cr(e,t){var r=vs(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?lr(e,"Shift-"+r,t,function(t){return ar(e,t,!0)})||lr(e,r,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ar(e,t)}):lr(e,r,t,function(t){return ar(e,t)}))}function pr(e,t,r){return lr(e,"'"+r+"'",t,function(t){return ar(e,t,!0)})}function fr(e){var t=this;if(t.curOp.focus=Qi(),!Ai(t,e)){Eo&&xo<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=cr(t,e);wo&&(Zo=n?r:null,!n&&88==r&&!ia&&(_o?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||dr(t)}}function dr(e){function t(e){18!=e.keyCode&&e.altKey||(Js(r,"CodeMirror-crosshair"),Os(document,"keyup",t),Os(document,"mouseover",t))}var r=e.display.lineDiv;Zs(r,"CodeMirror-crosshair"),_s(document,"keyup",t),_s(document,"mouseover",t)}function hr(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ai(this,e)}function vr(e){var t=this;if(!(Qt(t.display,e)||Ai(t,e)||e.ctrlKey&&!e.altKey||_o&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(wo&&r==Zo)return Zo=null,void Ns(e);if(!wo||e.which&&!(e.which<10)||!cr(t,e)){pr(t,e,String.fromCharCode(null==n?r:n))||t.display.input.onKeyPress(e)}}}function gr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,yr(e))},100)}function mr(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Ps(e,"focus",e),e.state.focused=!0,Zs(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),So&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Me(e))}function yr(e){e.state.delayingBlurEvent||(e.state.focused&&(Ps(e,"blur",e),e.state.focused=!1,Js(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function br(e,t){Qt(e.display,t)||Er(e,t)||Ai(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function Er(e,t){return!!Li(e,"gutterContextMenu")&&Jt(e,t,"gutterContextMenu",!1)}function xr(e,t){if(Bo(e,t.from)<0)return e;if(Bo(e,t.to)<=0)return es(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=es(t).ch-t.to.ch),$o(r,n)}function Sr(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new pe(xr(i.anchor,t),xr(i.head,t)))}return fe(r,e.sel.primIndex)}function Tr(e,t,r){return e.line==t.line?$o(r.line,e.ch-t.ch+r.ch):$o(r.line+(e.line-t.line),e.ch)}function Ir(e,t,r){for(var n=[],i=$o(e.first,0),o=i,s=0;s<t.length;s++){var a=t[s],u=Tr(a.from,i,o),l=Tr(es(a),i,o);if(i=a.to,o=l,"around"==r){var c=e.sel.ranges[s],p=Bo(c.head,c.anchor)<0;n[s]=new pe(p?l:u,p?u:l)}else n[s]=new pe(u,u)}return new ce(n,e.sel.primIndex)}function wr(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return r&&(n.update=function(t,r,n,i){t&&(this.from=ve(e,t)),r&&(this.to=ve(e,r)),n&&(this.text=n),void 0!==i&&(this.origin=i)}),Ps(e,"beforeChange",e,n),e.cm&&Ps(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Cr(e,t,r){if(e.cm){if(!e.cm.curOp)return _t(e.cm,Cr)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(Li(e,"beforeChange")||e.cm&&Li(e.cm,"beforeChange"))||(t=wr(e,t,!0))){var n=jo&&!r&&ln(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)Ar(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text});else Ar(e,t)}}function Ar(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Bo(t.from,t.to)){var r=Sr(e,t);ci(e,t,r,e.cm?e.cm.curOp.id:NaN),Rr(e,t,r,sn(e,t));var n=[];Yn(e,function(e,r){r||-1!=Pi(n,e.history)||(Ei(e.history,t),n.push(e.history)),Rr(e,t,null,sn(e,t))})}}function Nr(e,t,r){if(!e.cm||!e.cm.state.suppressEdits||r){for(var n,i=e.history,o=e.sel,s="undo"==t?i.done:i.undone,a="undo"==t?i.undone:i.done,u=0;u<s.length&&(n=s[u],r?!n.ranges||n.equals(e.sel):n.ranges);u++);if(u!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;n=s.pop(),n.ranges;){if(di(n,a),r&&!n.equals(e.sel))return void Ce(e,n,{clearRedo:!1});o=n}var l=[];di(o,a),a.push({changes:l,generation:i.generation}),i.generation=n.generation||++i.maxGeneration;for(var c=Li(e,"beforeChange")||e.cm&&Li(e.cm,"beforeChange"),u=n.changes.length-1;u>=0;--u){var p=n.changes[u];if(p.origin=t,c&&!wr(e,p,!1))return void(s.length=0);l.push(ai(e,p));var f=u?Sr(e,p):Oi(s);Rr(e,p,f,un(e,p)),!u&&e.cm&&e.cm.scrollIntoView({from:p.from,to:es(p)});var d=[];Yn(e,function(e,t){t||-1!=Pi(d,e.history)||(Ei(e.history,p),d.push(e.history)),Rr(e,p,null,un(e,p))})}}}}function Lr(e,t){if(0!=t&&(e.first+=t,e.sel=new ce(Di(e.sel.ranges,function(e){return new pe($o(e.anchor.line+t,e.anchor.ch),$o(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Ft(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)jt(e.cm,n,"gutter")}}function Rr(e,t,r,n){if(e.cm&&!e.cm.curOp)return _t(e.cm,Rr)(e,t,r,n);if(t.to.line<e.first)return void Lr(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Lr(e,i),t={from:$o(e.first,0),to:$o(t.to.line+i,t.to.ch),text:[Oi(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:$o(o,Jn(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Zn(e,t.from,t.to),r||(r=Sr(e,t)),e.cm?_r(e.cm,t,n):Wn(e,t,n),Ae(e,r,Ms)}}function _r(e,t,r){var n=e.doc,i=e.display,s=t.from,a=t.to,u=!1,l=s.line;e.options.lineWrapping||(l=ri(bn(Jn(n,s.line))),n.iter(l,a.line+1,function(e){if(e==i.maxLine)return u=!0,!0})),n.sel.contains(t.from,t.to)>-1&&Ni(e),Wn(n,t,r,o(e)),e.options.lineWrapping||(n.iter(l,s.line+t.text.length,function(e){var t=p(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,u=!1)}),u&&(e.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,s.line),$e(e,400);var c=t.text.length-(a.line-s.line)-1;t.full?Ft(e):s.line!=a.line||1!=t.text.length||Qn(e.doc,t)?Ft(e,s.line,a.line+1,c):jt(e,s.line,"text");var f=Li(e,"changes"),d=Li(e,"change");if(d||f){var h={from:s,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&wi(e,"change",e,h),f&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function kr(e,t,r,n,i){if(n||(n=r),Bo(n,r)<0){var o=n;n=r,r=o}"string"==typeof t&&(t=e.splitLines(t)),Cr(e,{from:r,to:n,text:t,origin:i})}function Or(e,t){if(!Ai(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!No){var o=Hi("div","",null,"position: absolute; top: "+(t.top-r.viewOffset-He(e.display))+"px; height: "+(t.bottom-t.top+Qe(e)+r.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function Pr(e,t,r,n){null==n&&(n=0);for(var i=0;i<5;i++){var o=!1,s=ht(e,t),a=r&&r!=t?ht(e,r):s,u=Fr(e,Math.min(s.left,a.left),Math.min(s.top,a.top)-n,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+n),l=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=u.scrollTop&&(ir(e,u.scrollTop),Math.abs(e.doc.scrollTop-l)>1&&(o=!0)),null!=u.scrollLeft&&(or(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return s}function Dr(e,t,r,n,i){var o=Fr(e,t,r,n,i);null!=o.scrollTop&&ir(e,o.scrollTop),null!=o.scrollLeft&&or(e,o.scrollLeft)}function Fr(e,t,r,n,i){var o=e.display,s=bt(e.display);r<0&&(r=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,u=ze(e),l={};i-r>u&&(i=r+u);var c=e.doc.height+qe(o),p=r<s,f=i>c-s;if(r<a)l.scrollTop=p?0:r;else if(i>a+u){var d=Math.min(r,(f?c:i)-u);d!=a&&(l.scrollTop=d)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,v=We(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),g=n-t>v;return g&&(n=t+v),t<10?l.scrollLeft=0:t<h?l.scrollLeft=Math.max(0,t-(g?0:10)):n>v+h-3&&(l.scrollLeft=n+(g?0:10)-v),l}function jr(e,t,r){null==t&&null==r||$r(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=r&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+r)}function Mr(e){$r(e);var t=e.getCursor(),r=t,n=t;e.options.lineWrapping||(r=t.ch?$o(t.line,t.ch-1):t,n=$o(t.line,t.ch+1)),e.curOp.scrollToPos={from:r,to:n,margin:e.options.cursorScrollMargin,isCursor:!0}}function $r(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var r=vt(e,t.from),n=vt(e,t.to),i=Fr(e,Math.min(r.left,n.left),Math.min(r.top,n.top)-t.margin,Math.max(r.right,n.right),Math.max(r.bottom,n.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function Br(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=Ge(e,t):r="prev");var s=e.options.tabSize,a=Jn(o,t),u=Us(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var l,c=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==r&&((l=o.mode.indent(i,a.text.slice(c.length),a.text))==js||l>150)){if(!n)return;r="prev"}}else l=0,r="not";"prev"==r?l=t>o.first?Us(Jn(o,t-1).text,null,s):0:"add"==r?l=u+e.options.indentUnit:"subtract"==r?l=u-e.options.indentUnit:"number"==typeof r&&(l=u+r),l=Math.max(0,l);var p="",f=0;if(e.options.indentWithTabs)for(var d=Math.floor(l/s);d;--d)f+=s,p+="\t";if(f<l&&(p+=ki(l-f)),p!=c)return kr(o,p,$o(t,0),$o(t,c.length),"+input"),a.stateAfter=null,!0;for(var d=0;d<o.sel.ranges.length;d++){var h=o.sel.ranges[d];if(h.head.line==t&&h.head.ch<c.length){var f=$o(t,c.length);Se(o,d,new pe(f,f));break}}}function Ur(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=Jn(e,he(e,t)):i=ri(t),null==i?null:(n(o,i)&&e.cm&&jt(e.cm,i,r),o)}function Gr(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&Bo(o.from,Oi(n).to)<=0;){var s=n.pop();if(Bo(s.from,o.from)<0){o.from=s.from;break}}n.push(o)}Rt(e,function(){for(var t=n.length-1;t>=0;t--)kr(e.doc,"",n[t].from,n[t].to,"+delete");Mr(e)})}function Hr(e,t,r,n,i){function o(){var t=a+r;return!(t<e.first||t>=e.first+e.size)&&(a=t,c=Jn(e,t))}function s(e){var t=(i?fo:ho)(c,u,r,!0);if(null==t){if(e||!o())return!1;u=i?(r<0?oo:io)(c):r<0?c.text.length:0}else u=t;return!0}var a=t.line,u=t.ch,l=r,c=Jn(e,a);if("char"==n)s();else if("column"==n)s(!0);else if("word"==n||"group"==n)for(var p=null,f="group"==n,d=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(r<0)||s(!h);h=!1){var v=c.text.charAt(u)||"\n",g=Bi(v,d)?"w":f&&"\n"==v?"n":!f||/\s/.test(v)?null:"p";if(!f||h||g||(g="s"),p&&p!=g){r<0&&(r=1,s());break}if(g&&(p=g),r>0&&!s(!h))break}var m=ke(e,$o(a,u),t,l,!0);return Bo(t,m)||(m.hitSide=!0),m}function qr(e,t,r,n){var i,o=e.doc,s=t.left;if("page"==n){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+r*(a-(r<0?1.5:.5)*bt(e.display))}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;;){var u=mt(e,s,i);if(!u.outside)break;if(r<0?i<=0:i>=o.height){u.hitSide=!0;break}i+=5*r}return u}function Vr(t,r,n,i){e.defaults[t]=r,n&&(rs[t]=i?function(e,t,r){r!=ns&&n(e,t,r)}:n)}function Qr(e){for(var t,r,n,i,o=e.split(/-(?!$)/),e=o[o.length-1],s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Wr(e){return"string"==typeof e?fs[e]:e}function zr(e,t,r,n,i){if(n&&n.shared)return Xr(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return _t(e.cm,zr)(e,t,r,n,i);var o=new ys(e,i),s=Bo(t,r);if(n&&Mi(n,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Hi("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(yn(e,t.line,t,r,o)||t.line!=r.line&&yn(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Mo=!0}o.addToHistory&&ci(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var a,u=t.line,l=e.cm;if(e.iter(u,r.line+1,function(e){l&&o.collapsed&&!l.options.lineWrapping&&bn(e)==l.display.maxLine&&(a=!0),o.collapsed&&u!=t.line&&ti(e,0),rn(e,new Zr(o,u==t.line?t.ch:null,u==r.line?r.ch:null)),++u}),o.collapsed&&e.iter(t.line,r.line+1,function(t){Tn(e,t)&&ti(t,0)}),o.clearOnEnter&&_s(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(jo=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++ms,o.atomic=!0),l){if(a&&(l.curOp.updateMaxLine=!0),o.collapsed)Ft(l,t.line,r.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=r.line;c++)jt(l,c,"text");o.atomic&&Le(l.doc),wi(l,"markerAdded",l,o)}return o}function Xr(e,t,r,n,i){n=Mi(n),n.shared=!1;var o=[zr(e,t,r,n,i)],s=o[0],a=n.widgetNode;return Yn(e,function(e){a&&(n.widgetNode=a.cloneNode(!0)),o.push(zr(e,ve(e,t),ve(e,r),n,i));for(var u=0;u<e.linked.length;++u)if(e.linked[u].isParent)return;s=Oi(o)}),new bs(o,s)}function Yr(e){return e.findMarks($o(e.first,0),e.clipPos($o(e.lastLine())),function(e){return e.parent})}function Kr(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),s=e.clipPos(i.to);if(Bo(o,s)){var a=zr(e,o,s,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}function Jr(e){for(var t=0;t<e.length;t++){var r=e[t],n=[r.primary.doc];Yn(r.primary.doc,function(e){n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==Pi(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}}}function Zr(e,t,r){this.marker=e,this.from=t,this.to=r}function en(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function tn(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function rn(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function nn(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var o=e[i],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&"bookmark"==s.type&&(!r||!o.marker.insertLeft)){var u=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Zr(s,o.from,u?null:o.to))}}return n}function on(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var o=e[i],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&"bookmark"==s.type&&(!r||o.marker.insertLeft)){var u=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Zr(s,u?null:o.from-t,null==o.to?null:o.to-t))}}return n}function sn(e,t){if(t.full)return null;var r=me(e,t.from.line)&&Jn(e,t.from.line).markedSpans,n=me(e,t.to.line)&&Jn(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,s=0==Bo(t.from,t.to),a=nn(r,i,s),u=on(n,o,s),l=1==t.text.length,c=Oi(t.text).length+(l?i:0);if(a)for(var p=0;p<a.length;++p){var f=a[p];if(null==f.to){var d=en(u,f.marker);d?l&&(f.to=null==d.to?null:d.to+c):f.to=i}}if(u)for(var p=0;p<u.length;++p){var f=u[p];if(null!=f.to&&(f.to+=c),null==f.from){var d=en(a,f.marker);d||(f.from=c,l&&(a||(a=[])).push(f))}else f.from+=c,l&&(a||(a=[])).push(f)}a&&(a=an(a)),u&&u!=a&&(u=an(u));var h=[a];if(!l){var v,g=t.text.length-2;if(g>0&&a)for(var p=0;p<a.length;++p)null==a[p].to&&(v||(v=[])).push(new Zr(a[p].marker,null,null));for(var p=0;p<g;++p)h.push(v);h.push(u)}return h}function an(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function un(e,t){var r=gi(e,t),n=sn(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],s=n[i];if(o&&s)e:for(var a=0;a<s.length;++a){for(var u=s[a],l=0;l<o.length;++l)if(o[l].marker==u.marker)continue e;o.push(u)}else s&&(r[i]=s)}return r}function ln(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=Pi(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var s=n[o],a=s.find(0),u=0;u<i.length;++u){var l=i[u];if(!(Bo(l.to,a.from)<0||Bo(l.from,a.to)>0)){var c=[u,1],p=Bo(l.from,a.from),f=Bo(l.to,a.to);(p<0||!s.inclusiveLeft&&!p)&&c.push({from:l.from,to:a.from}),(f>0||!s.inclusiveRight&&!f)&&c.push({from:a.to,to:l.to}),i.splice.apply(i,c),u+=c.length-1}}return i}function cn(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function pn(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function fn(e){return e.inclusiveLeft?-1:0}function dn(e){return e.inclusiveRight?1:0}function hn(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=Bo(n.from,i.from)||fn(e)-fn(t);if(o)return-o;var s=Bo(n.to,i.to)||dn(e)-dn(t);return s||t.id-e.id}function vn(e,t){var r,n=Mo&&e.markedSpans;if(n)for(var i,o=0;o<n.length;++o)i=n[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!r||hn(r,i.marker)<0)&&(r=i.marker);return r}function gn(e){return vn(e,!0)}function mn(e){return vn(e,!1)}function yn(e,t,r,n,i){var o=Jn(e,t),s=Mo&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var u=s[a];if(u.marker.collapsed){var l=u.marker.find(0),c=Bo(l.from,r)||fn(u.marker)-fn(i),p=Bo(l.to,n)||dn(u.marker)-dn(i);if(!(c>=0&&p<=0||c<=0&&p>=0)&&(c<=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?Bo(l.to,r)>=0:Bo(l.to,r)>0)||c>=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?Bo(l.from,n)<=0:Bo(l.from,n)<0)))return!0}}}function bn(e){for(var t;t=gn(e);)e=t.find(-1,!0).line;return e}function En(e){for(var t,r;t=mn(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function xn(e,t){var r=Jn(e,t),n=bn(r);return r==n?t:ri(n)}function Sn(e,t){if(t>e.lastLine())return t;var r,n=Jn(e,t);if(!Tn(e,n))return t;for(;r=mn(n);)n=r.find(1,!0).line;return ri(n)+1}function Tn(e,t){var r=Mo&&t.markedSpans;if(r)for(var n,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&In(e,t,n))return!0}}function In(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return In(e,n.line,en(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&In(e,t,i))return!0}function wn(e,t,r){ii(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&jr(e,null,r)}function Cn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Xs(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),Vi(t.display.measure,Hi("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function An(e,t,r,n){var i=new Es(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Ur(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Tn(e,t)){var n=ii(t)<e.scrollTop;ti(t,t.height+Cn(i)),n&&jr(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function Nn(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),cn(e),pn(e,r);var i=n?n(e):1;i!=e.height&&ti(e,i)}function Ln(e){e.parent=null,cn(e)}function Rn(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function _n(t,r){if(t.blankLine)return t.blankLine(r);if(t.innerMode){var n=e.innerMode(t,r);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function kn(t,r,n,i){for(var o=0;o<10;o++){i&&(i[0]=e.innerMode(t,n).mode);var s=t.token(r,n);if(r.pos>r.start)return s}throw new Error("Mode "+t.name+" failed to advance stream.")}function On(e,t,r,n){function i(e){return{start:p.start,end:p.pos,string:p.current(),type:o||null,state:e?ls(s.mode,c):c}}var o,s=e.doc,a=s.mode;t=ve(s,t);var u,l=Jn(s,t.line),c=Ge(e,t.line,r),p=new gs(l.text,e.options.tabSize);for(n&&(u=[]);(n||p.pos<t.ch)&&!p.eol();)p.start=p.pos,o=kn(a,p,c),n&&u.push(i(!0));return n?u:i()}function Pn(e,t,r,n,i,o,s){var a=r.flattenSpans;null==a&&(a=e.options.flattenSpans);var u,l=0,c=null,p=new gs(t,e.options.tabSize),f=e.options.addModeClass&&[null];for(""==t&&Rn(_n(r,n),o);!p.eol();){if(p.pos>e.options.maxHighlightLength?(a=!1,s&&jn(e,t,n,p.pos),p.pos=t.length,u=null):u=Rn(kn(r,p,n,f),o),f){var d=f[0].name;d&&(u="m-"+(u?d+" "+u:d))}if(!a||c!=u){for(;l<p.start;)l=Math.min(p.start,l+5e4),i(l,c);c=u}p.start=p.pos}for(;l<p.pos;){var h=Math.min(p.pos,l+5e4);i(h,c),l=h}}function Dn(e,t,r,n){var i=[e.state.modeGen],o={};Pn(e,t.text,e.doc.mode,r,function(e,t){i.push(e,t)},o,n);for(var s=0;s<e.state.overlays.length;++s){var a=e.state.overlays[s],u=1,l=0;Pn(e,t.text,a.mode,!0,function(e,t){for(var r=u;l<e;){var n=i[u];n>e&&i.splice(u,1,e,i[u+1],n),u+=2,l=Math.min(e,n)}if(t)if(a.opaque)i.splice(r,u-r,e,"cm-overlay "+t),u=r+2;else for(;r<u;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Fn(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Ge(e,ri(t)),i=Dn(e,t,t.text.length>e.options.maxHighlightLength?ls(e.doc.mode,n):n);t.stateAfter=n,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.frontier&&e.doc.frontier++}return t.styles}function jn(e,t,r,n){var i=e.doc.mode,o=new gs(t,e.options.tabSize);for(o.start=o.pos=n||0,""==t&&_n(i,r);!o.eol();)kn(i,o,r),o.start=o.pos}function Mn(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Ts:Ss;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function $n(e,t){var r=Hi("span",null,null,So?"padding-right: .1px":null),n={pre:Hi("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(Eo||So)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o,s=i?t.rest[i-1]:t.line;n.pos=0,n.addToken=Un,Zi(e.display.measure)&&(o=oi(s))&&(n.addToken=Hn(n.addToken,o)),n.map=[];Vn(s,n,Fn(e,s,t!=e.display.externalMeasured&&ri(s))),s.styleClasses&&(s.styleClasses.bgClass&&(n.bgClass=zi(s.styleClasses.bgClass,n.bgClass||"")),s.styleClasses.textClass&&(n.textClass=zi(s.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Ji(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(So){var a=n.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Ps(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=zi(n.pre.className,n.textClass||"")),n}function Bn(e){var t=Hi("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Un(e,t,r,n,i,o,s){if(t){var a=e.splitSpaces?Gn(t,e.trailingSpace):t,u=e.cm.state.specialChars,l=!1;if(u.test(t))for(var c=document.createDocumentFragment(),p=0;;){u.lastIndex=p;var f=u.exec(t),d=f?f.index-p:t.length-p;if(d){var h=document.createTextNode(a.slice(p,p+d));Eo&&xo<9?c.appendChild(Hi("span",[h])):c.appendChild(h),e.map.push(e.pos,e.pos+d,h),e.col+=d,e.pos+=d}if(!f)break;if(p+=d+1,"\t"==f[0]){var v=e.cm.options.tabSize,g=v-e.col%v,h=c.appendChild(Hi("span",ki(g),"cm-tab"));h.setAttribute("role","presentation"),h.setAttribute("cm-text","\t"),e.col+=g}else if("\r"==f[0]||"\n"==f[0]){var h=c.appendChild(Hi("span","\r"==f[0]?"":"","cm-invalidchar"));h.setAttribute("cm-text",f[0]),e.col+=1}else{var h=e.cm.options.specialCharPlaceholder(f[0]);h.setAttribute("cm-text",f[0]),Eo&&xo<9?c.appendChild(Hi("span",[h])):c.appendChild(h),e.col+=1}e.map.push(e.pos,e.pos+1,h),e.pos++}else{e.col+=t.length;var c=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,c),Eo&&xo<9&&(l=!0),e.pos+=t.length}if(e.trailingSpace=32==a.charCodeAt(t.length-1),r||n||i||l||s){var m=r||"";n&&(m+=n),i&&(m+=i);var y=Hi("span",[c],m,s);return o&&(y.title=o),e.content.appendChild(y)}e.content.appendChild(c)}}function Gn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=""),n+=o,r=" "==o}return n}function Hn(e,t){return function(r,n,i,o,s,a,u){i=i?i+" cm-force-border":"cm-force-border";for(var l=r.pos,c=l+n.length;;){for(var p=0;p<t.length;p++){var f=t[p];if(f.to>l&&f.from<=l)break}if(f.to>=c)return e(r,n,i,o,s,a,u);e(r,n.slice(0,f.to-l),i,o,null,a,u),o=null,n=n.slice(f.to-l),l=f.to}}}function qn(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function Vn(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var s,a,u,l,c,p,f,d=i.length,h=0,v=1,g="",m=0;;){if(m==h){u=l=c=p=a="",f=null,m=1/0;for(var y,b=[],E=0;E<n.length;++E){var x=n[E],S=x.marker;"bookmark"==S.type&&x.from==h&&S.widgetNode?b.push(S):x.from<=h&&(null==x.to||x.to>h||S.collapsed&&x.to==h&&x.from==h)?(null!=x.to&&x.to!=h&&m>x.to&&(m=x.to,l=""),S.className&&(u+=" "+S.className),S.css&&(a=(a?a+";":"")+S.css),S.startStyle&&x.from==h&&(c+=" "+S.startStyle),S.endStyle&&x.to==m&&(y||(y=[])).push(S.endStyle,x.to),S.title&&!p&&(p=S.title),S.collapsed&&(!f||hn(f.marker,S)<0)&&(f=x)):x.from>h&&m>x.from&&(m=x.from)}if(y)for(var E=0;E<y.length;E+=2)y[E+1]==m&&(l+=" "+y[E]);if(!f||f.from==h)for(var E=0;E<b.length;++E)qn(t,0,b[E]);if(f&&(f.from||0)==h){if(qn(t,(null==f.to?d+1:f.to)-h,f.marker,null==f.from),null==f.to)return;f.to==h&&(f=!1)}}if(h>=d)break;for(var T=Math.min(d,m);;){if(g){var I=h+g.length;if(!f){var w=I>T?g.slice(0,T-h):g;t.addToken(t,w,s?s+u:u,c,h+w.length==m?l:"",p,a)}if(I>=T){g=g.slice(T-h),h=T;break}h=I,c=""}g=i.slice(o,o=r[v++]),s=Mn(r[v++],t.cm.options)}}else for(var v=1;v<r.length;v+=2)t.addToken(t,i.slice(o,o=r[v]),Mn(r[v+1],t.cm.options))}function Qn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Oi(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Wn(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){Nn(e,r,i,n),wi(e,"change",e,t)}function s(e,t){for(var r=e,o=[];r<t;++r)o.push(new xs(l[r],i(r),n));return o}var a=t.from,u=t.to,l=t.text,c=Jn(e,a.line),p=Jn(e,u.line),f=Oi(l),d=i(l.length-1),h=u.line-a.line;if(t.full)e.insert(0,s(0,l.length)),e.remove(l.length,e.size-l.length);else if(Qn(e,t)){var v=s(0,l.length-1);o(p,p.text,d),h&&e.remove(a.line,h),v.length&&e.insert(a.line,v)}else if(c==p)if(1==l.length)o(c,c.text.slice(0,a.ch)+f+c.text.slice(u.ch),d);else{var v=s(1,l.length-1);v.push(new xs(f+c.text.slice(u.ch),d,n)),o(c,c.text.slice(0,a.ch)+l[0],i(0)),e.insert(a.line+1,v)}else if(1==l.length)o(c,c.text.slice(0,a.ch)+l[0]+p.text.slice(u.ch),i(0)),e.remove(a.line+1,h);else{o(c,c.text.slice(0,a.ch)+l[0],i(0)),o(p,f+p.text.slice(u.ch),d);var v=s(1,l.length-1);h>1&&e.remove(a.line+1,h-1),e.insert(a.line+1,v)}wi(e,"change",e,t)}function zn(e){this.lines=e,this.parent=null;for(var t=0,r=0;t<e.length;++t)e[t].parent=this,r+=e[t].height;this.height=r}function Xn(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}function Yn(e,t,r){function n(e,i,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=i){var u=o&&a.sharedHist;r&&!u||(t(a.doc,u),n(a.doc,e,u))}}}n(e,null,!0)}function Kn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,s(e),r(e),e.options.lineWrapping||f(e),e.options.mode=t.modeOption,Ft(e)}function Jn(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function Zn(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function ei(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function ti(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function ri(e){if(null==e.parent)return null;for(var t=e.parent,r=Pi(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function ni(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var n=0;n<e.lines.length;++n){var s=e.lines[n],a=s.height;if(t<a)break;t-=a}return r+n}function ii(e){e=bn(e);for(var t=0,r=e.parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;r=o,o=r.parent)for(var n=0;n<o.children.length;++n){var s=o.children[n];if(s==r)break;t+=s.height}return t}function oi(e){var t=e.order;return null==t&&(t=e.order=ua(e.text)),t}function si(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ai(e,t){var r={from:W(t.from),to:es(t),text:Zn(e,t.from,t.to)};return hi(e,r,t.from.line,t.to.line+1),Yn(e,function(e){hi(e,r,t.from.line,t.to.line+1)},!0),r}function ui(e){for(;e.length;){if(!Oi(e).ranges)break;e.pop()}}function li(e,t){return t?(ui(e.done),Oi(e.done)):e.done.length&&!Oi(e.done).ranges?Oi(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Oi(e.done)):void 0}function ci(e,t,r,n){var i=e.history;i.undone.length=0;var o,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=li(i,i.lastOp==n))){var a=Oi(o.changes);0==Bo(t.from,t.to)&&0==Bo(t.from,a.to)?a.to=es(t):o.changes.push(ai(e,t))}else{var u=Oi(i.done);for(u&&u.ranges||di(e.sel,i.done),o={changes:[ai(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,a||Ps(e,"historyAdded")}function pi(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function fi(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||pi(e,o,Oi(i.done),t))?i.done[i.done.length-1]=t:di(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&ui(i.undone)}function di(e,t){var r=Oi(t);r&&r.ranges&&r.equals(e)||t.push(e)}function hi(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function vi(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function gi(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=0,i=[];n<t.text.length;++n)i.push(vi(r[n]));return i}function mi(e,t,r){for(var n=0,i=[];n<e.length;++n){var o=e[n];if(o.ranges)i.push(r?ce.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];i.push({changes:a});for(var u=0;u<s.length;++u){var l,c=s[u];if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var p in c)(l=p.match(/^spans_(\d+)$/))&&Pi(t,Number(l[1]))>-1&&(Oi(a)[p]=c[p],delete c[p])}}}return i}function yi(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function bi(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],s=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)yi(o.ranges[a].anchor,t,r,n),yi(o.ranges[a].head,t,r,n)}else{for(var a=0;a<o.changes.length;++a){var u=o.changes[a];if(r<u.from.line)u.from=$o(u.from.line+n,u.from.ch),u.to=$o(u.to.line+n,u.to.ch);else if(t<=u.to.line){s=!1;break}}s||(e.splice(0,i+1),i=0)}}}function Ei(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;bi(e.done,r,n,i),bi(e.undone,r,n,i)}function xi(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Si(e){return e.target||e.srcElement}function Ti(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),_o&&e.ctrlKey&&1==t&&(t=3),t}function Ii(e,t,r){var n=e._handlers&&e._handlers[t];return r?n&&n.length>0?n.slice():ks:n||ks}function wi(e,t){var r=Ii(e,t,!1);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);Qo?n=Qo.delayedCallbacks:Ds?n=Ds:(n=Ds=[],setTimeout(Ci,0));for(var o=0;o<r.length;++o)n.push(function(e){return function(){e.apply(null,i)}}(r[o]))}}function Ci(){var e=Ds;Ds=null;for(var t=0;t<e.length;++t)e[t]()}function Ai(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Ps(e,r||t.type,e,t),xi(t)||t.codemirrorIgnore}function Ni(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==Pi(r,t[n])&&r.push(t[n])}function Li(e,t){return Ii(e,t).length>0}function Ri(e){e.prototype.on=function(e,t){_s(this,e,t)},e.prototype.off=function(e,t){Os(this,e,t)}}function _i(){this.id=null}function ki(e){for(;Hs.length<=e;)Hs.push(Oi(Hs)+" ");return Hs[e]}function Oi(e){return e[e.length-1]}function Pi(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function Di(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Fi(){}function ji(e,t){var r;return Object.create?r=Object.create(e):(Fi.prototype=e,r=new Fi),t&&Mi(t,r),r}function Mi(e,t,r){t||(t={});for(var n in e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function $i(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Bi(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Ws(e))||t.test(e):Ws(e)}function Ui(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Gi(e){return e.charCodeAt(0)>=768&&zs.test(e)}function Hi(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function qi(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Vi(e,t){return qi(e).appendChild(t)}function Qi(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Wi(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function zi(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!Wi(r[n]).test(t)&&(t+=" "+r[n]);return t}function Xi(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}function Yi(){ea||(Ki(),ea=!0)}function Ki(){var e;_s(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Xi(Vt)},100))}),_s(window,"blur",function(){Xi(yr)})}function Ji(e){if(null==Ys){var t=Hi("span","");Vi(e,Hi("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ys=t.offsetWidth<=1&&t.offsetHeight>2&&!(Eo&&xo<8))}var r=Ys?Hi("span",""):Hi("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Zi(e){if(null!=Ks)return Ks;var t=Vi(e,document.createTextNode("AA")),r=Vs(t,0,1).getBoundingClientRect(),n=Vs(t,1,2).getBoundingClientRect();return qi(e),!(!r||r.left==r.right)&&(Ks=n.right-r.right<3)}function eo(e){if(null!=oa)return oa;var t=Vi(e,Hi("span","x")),r=t.getBoundingClientRect(),n=Vs(t,0,1).getBoundingClientRect();return oa=Math.abs(r.left-n.left)>1}function to(e,t,r,n){if(!e)return n(t,r,"ltr");for(var i=!1,o=0;o<e.length;++o){var s=e[o];(s.from<r&&s.to>t||t==r&&s.to==t)&&(n(Math.max(s.from,t),Math.min(s.to,r),1==s.level?"rtl":"ltr"),i=!0)}i||n(t,r,"ltr")}function ro(e){return e.level%2?e.to:e.from}function no(e){return e.level%2?e.from:e.to}function io(e){var t=oi(e);return t?ro(t[0]):0}function oo(e){var t=oi(e);return t?no(Oi(t)):e.text.length}function so(e,t){var r=Jn(e.doc,t),n=bn(r);n!=r&&(t=ri(n));var i=oi(n),o=i?i[0].level%2?oo(n):io(n):0;return $o(t,o)}function ao(e,t){for(var r,n=Jn(e.doc,t);r=mn(n);)n=r.find(1,!0).line,t=null;var i=oi(n),o=i?i[0].level%2?io(n):oo(n):n.text.length;return $o(null==t?ri(n):t,o)}function uo(e,t){var r=so(e,t.line),n=Jn(e.doc,r.line),i=oi(n);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),s=t.line==r.line&&t.ch<=o&&t.ch;return $o(r.line,s?0:o)}return r}function lo(e,t,r){var n=e[0].level;return t==n||r!=n&&t<r}function co(e,t){aa=null;for(var r,n=0;n<e.length;++n){var i=e[n];if(i.from<t&&i.to>t)return n;if(i.from==t||i.to==t){if(null!=r)return lo(e,i.level,e[r].level)?(i.from!=i.to&&(aa=r),n):(i.from!=i.to&&(aa=n),r);r=n}}return r}function po(e,t,r,n){if(!n)return t+r;do{t+=r}while(t>0&&Gi(e.text.charAt(t)));return t}function fo(e,t,r,n){var i=oi(e);if(!i)return ho(e,t,r,n);for(var o=co(i,t),s=i[o],a=po(e,t,s.level%2?-r:r,n);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return co(i,a)==o?a:(s=i[o+=r],r>0==s.level%2?s.to:s.from);if(!(s=i[o+=r]))return null;a=r>0==s.level%2?po(e,s.to,-1,n):po(e,s.from,1,n)}}function ho(e,t,r,n){var i=t+r;if(n)for(;i>0&&Gi(e.text.charAt(i));)i+=r;return i<0||i>e.text.length?null:i}var vo=navigator.userAgent,go=navigator.platform,mo=/gecko\/\d/i.test(vo),yo=/MSIE \d/.test(vo),bo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(vo),Eo=yo||bo,xo=Eo&&(yo?document.documentMode||6:bo[1]),So=/WebKit\//.test(vo),To=So&&/Qt\/\d+\.\d+/.test(vo),Io=/Chrome\//.test(vo),wo=/Opera\//.test(vo),Co=/Apple Computer/.test(navigator.vendor),Ao=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(vo),No=/PhantomJS/.test(vo),Lo=/AppleWebKit/.test(vo)&&/Mobile\/\w+/.test(vo),Ro=Lo||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(vo),_o=Lo||/Mac/.test(go),ko=/\bCrOS\b/.test(vo),Oo=/win/i.test(go),Po=wo&&vo.match(/Version\/(\d*\.\d*)/);Po&&(Po=Number(Po[1])),Po&&Po>=15&&(wo=!1,So=!0);var Do=_o&&(To||wo&&(null==Po||Po<12.11)),Fo=mo||Eo&&xo>=9,jo=!1,Mo=!1;v.prototype=Mi({update:function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=_o&&!Ao?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new _i,this.disableVert=new _i},enableZeroWidthBar:function(e,t){function r(){var n=e.getBoundingClientRect();document.elementFromPoint(n.left+1,n.bottom-1)!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},v.prototype),g.prototype=Mi({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),e.scrollbarModel={native:v,null:g},w.prototype.signal=function(e,t){Li(e,t)&&this.events.push(arguments)},w.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Ps.apply(null,this.events[e])};var $o=e.Pos=function(e,t){if(!(this instanceof $o))return new $o(e,t);this.line=e,this.ch=t},Bo=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Uo=null;re.prototype=Mi({init:function(e){function t(e){if(!Ai(n,e)){if(n.somethingSelected())Uo={lineWise:!1,text:n.getSelections()},r.inaccurateSelection&&(r.prevInput="",r.inaccurateSelection=!1,o.value=Uo.text.join("\n"),qs(o));else{if(!n.options.lineWiseCopyCut)return;var t=ee(n);Uo={lineWise:!0,text:t.text},"cut"==e.type?n.setSelections(t.ranges,null,Ms):(r.prevInput="",o.value=t.text.join("\n"),qs(o))}"cut"==e.type&&(n.state.cutIncoming=!0)}}var r=this,n=this.cm,i=this.wrapper=ne(),o=this.textarea=i.firstChild;e.wrapper.insertBefore(i,e.wrapper.firstChild),Lo&&(o.style.width="0px"),_s(o,"input",function(){Eo&&xo>=9&&r.hasSelection&&(r.hasSelection=null),r.poll()}),_s(o,"paste",function(e){Ai(n,e)||J(e,n)||(n.state.pasteIncoming=!0,r.fastPoll())}),_s(o,"cut",t),_s(o,"copy",t),_s(e.scroller,"paste",function(t){Qt(e,t)||Ai(n,t)||(n.state.pasteIncoming=!0,r.focus())}),_s(e.lineSpace,"selectstart",function(t){Qt(e,t)||Ns(t)}),_s(o,"compositionstart",function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),_s(o,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,r=e.doc,n=De(e);if(e.options.moveInputWithCursor){var i=ht(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+s.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+s.left-o.left))}return n},showSelection:function(e){var t=this.cm,r=t.display;Vi(r.cursorDiv,e.cursors),Vi(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,r,n=this.cm,i=n.doc;if(n.somethingSelected()){this.prevInput="";var o=i.sel.primary();t=ia&&(o.to().line-o.from().line>100||(r=n.getSelection()).length>1e3);var s=t?"-":r||n.getSelection();this.textarea.value=s,n.state.focused&&qs(this.textarea),Eo&&xo>=9&&(this.hasSelection=s)}else e||(this.prevInput=this.textarea.value="",Eo&&xo>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Ro||Qi()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){r.poll()||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))}var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||na(t)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var n=t.value;if(n==r&&!e.somethingSelected())return!1;if(Eo&&xo>=9&&this.hasSelection===n||_o&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=n.charCodeAt(0);if(8203!=i||r||(r=""),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,s=Math.min(r.length,n.length);o<s&&r.charCodeAt(o)==n.charCodeAt(o);)++o;var a=this;return Rt(e,function(){K(e,n.slice(o),r.length-o,null,a.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?t.value=a.prevInput="":a.prevInput=n,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){Eo&&xo>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=s.selectionStart){var e=i.somethingSelected(),t=""+(e?s.value:"");s.value="",s.value=t,n.prevInput=e?"":"",s.selectionStart=1,s.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function r(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=c,s.style.cssText=l,Eo&&xo<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=u),null!=s.selectionStart){(!Eo||Eo&&xo<9)&&t();var e=0,r=function(){o.selForContextMenu==i.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&""==n.prevInput?_t(i,ps.selectAll)(i):e++<10?o.detectingSelectAll=setTimeout(r,500):o.input.reset()};o.detectingSelectAll=setTimeout(r,200)}}var n=this,i=n.cm,o=i.display,s=n.textarea,a=Wt(i,e),u=o.scroller.scrollTop;if(a&&!wo){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(a)&&_t(i,Ce)(i.doc,de(a),Ms);var l=s.style.cssText,c=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var p=n.wrapper.getBoundingClientRect();if(s.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px; z-index: 1000; background: "+(Eo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",So)var f=window.scrollY;if(o.input.focus(),So&&window.scrollTo(null,f),o.input.reset(),i.somethingSelected()||(s.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),Eo&&xo>=9&&t(),Fo){Rs(e);var d=function(){Os(window,"mouseup",d),setTimeout(r,20)};_s(window,"mouseup",d)}else setTimeout(r,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Fi,needsContentAttribute:!1},re.prototype),ie.prototype=Mi({init:function(e){function t(e){if(!Ai(n,e)){if(n.somethingSelected())Uo={lineWise:!1,text:n.getSelections()},"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=ee(n);Uo={lineWise:!0,text:t.text},"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,0,Ms),n.replaceSelection("",null,"cut")})}if(e.clipboardData&&!Lo)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Uo.text.join("\n"));else{var r=ne(),i=r.firstChild;n.display.lineSpace.insertBefore(r,n.display.lineSpace.firstChild),i.value=Uo.text.join("\n");var o=document.activeElement;qs(i),setTimeout(function(){n.display.lineSpace.removeChild(r),o.focus()},50)}}}var r=this,n=r.cm,i=r.div=e.lineDiv;te(i),_s(i,"paste",function(e){Ai(n,e)||J(e,n)}),_s(i,"compositionstart",function(e){var t=e.data;if(r.composing={sel:n.doc.sel,data:t,startData:t},t){var i=n.doc.sel.primary(),o=n.getLine(i.head.line),s=o.indexOf(t,Math.max(0,i.head.ch-t.length));s>-1&&s<=i.head.ch&&(r.composing.sel=de($o(i.head.line,s),$o(i.head.line,s+t.length)))}}),_s(i,"compositionupdate",function(e){r.composing.data=e.data}),_s(i,"compositionend",function(e){var t=r.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||r.applyComposition(t),r.composing==t&&(r.composing=null)},50))}),_s(i,"touchstart",function(){r.forceCompositionEnd()}),_s(i,"input",function(){r.composing||!n.isReadOnly()&&r.pollContent()||Rt(r.cm,function(){Ft(n)})}),_s(i,"copy",t),_s(i,"cut",t)},prepareSelection:function(){var e=De(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),r=ae(this.cm,e.anchorNode,e.anchorOffset),n=ae(this.cm,e.focusNode,e.focusOffset);if(!r||r.bad||!n||n.bad||0!=Bo(X(r,n),t.from())||0!=Bo(z(r,n),t.to())){var i=oe(this.cm,t.from()),o=oe(this.cm,t.to());if(i||o){var s=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(i){if(!o){var u=s[s.length-1].measure,l=u.maps?u.maps[u.maps.length-1]:u.map;o={node:l[l.length-1],offset:l[l.length-2]-l[l.length-3]}}}else i={node:s[0].measure.map[2],offset:0};try{var c=Vs(i.node,i.offset,o.offset,o.node)}catch(e){}c&&(!mo&&this.cm.state.focused?(e.collapse(i.node,i.offset),c.collapsed||e.addRange(c)):(e.removeAllRanges(),e.addRange(c)),a&&null==e.anchorNode?e.addRange(a):mo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Vi(this.cm.display.cursorDiv,e.cursors),Vi(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Xs(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Rt(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var r=ae(t,e.anchorNode,e.anchorOffset),n=ae(t,e.focusNode,e.focusOffset);r&&n&&Rt(t,function(){Ce(t.doc,de(r,n),Ms),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(n.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o;if(n.line==t.viewFrom||0==(o=$t(e,n.line)))var s=ri(t.view[0].line),a=t.view[0].node;else var s=ri(t.view[o].line),a=t.view[o-1].node.nextSibling;var u=$t(e,i.line);if(u==t.view.length-1)var l=t.viewTo-1,c=t.lineDiv.lastChild;else var l=ri(t.view[u+1].line)-1,c=t.view[u+1].node.previousSibling;for(var p=e.doc.splitLines(le(e,a,c,s,l)),f=Zn(e.doc,$o(s,0),$o(l,Jn(e.doc,l).text.length));p.length>1&&f.length>1;)if(Oi(p)==Oi(f))p.pop(),f.pop(),l--;else{if(p[0]!=f[0])break;p.shift(),f.shift(),s++}for(var d=0,h=0,v=p[0],g=f[0],m=Math.min(v.length,g.length);d<m&&v.charCodeAt(d)==g.charCodeAt(d);)++d;for(var y=Oi(p),b=Oi(f),E=Math.min(y.length-(1==p.length?d:0),b.length-(1==f.length?d:0));h<E&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)++h;p[p.length-1]=y.slice(0,y.length-h),p[0]=p[0].slice(d);var x=$o(s,d),S=$o(l,f.length?Oi(f).length-h:0);return p.length>1||p[0]||Bo(x,S)?(kr(e.doc,p,x,S,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?_t(this.cm,Ft)(this.cm):e.data&&e.data!=e.startData&&_t(this.cm,K)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||_t(this.cm,K)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Fi,resetPosition:Fi,needsContentAttribute:!0},ie.prototype),e.inputStyles={textarea:re,contenteditable:ie},ce.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(0!=Bo(r.anchor,n.anchor)||0!=Bo(r.head,n.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new pe(W(this.ranges[t].anchor),W(this.ranges[t].head));return new ce(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(Bo(t,n.from())>=0&&Bo(e,n.to())<=0)return r}return-1}},pe.prototype={from:function(){return X(this.anchor,this.head)},to:function(){return z(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Go,Ho,qo,Vo={left:0,right:0,top:0,bottom:0},Qo=null,Wo=0,zo=0,Xo=0,Yo=null;Eo?Yo=-.53:mo?Yo=15:Io?Yo=-.7:Co&&(Yo=-1/3);var Ko=function(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}};e.wheelEventPixels=function(e){var t=Ko(e);return t.x*=Yo,t.y*=Yo,t};var Jo=new _i,Zo=null,es=e.changeEnd=function(e){return e.text?$o(e.from.line+e.text.length-1,Oi(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var r=this.options,n=r[e];r[e]==t&&"mode"!=e||(r[e]=t,rs.hasOwnProperty(e)&&_t(this,rs[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Wr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:kt(function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:t,opaque:r&&r.opaque}),this.state.modeGen++,Ft(this)}),removeOverlay:kt(function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void Ft(this)}}),indentLine:kt(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),me(this.doc,e)&&Br(this,e,t,r)}),indentSelection:kt(function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(Br(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&Mr(this));else{var o=i.from(),s=i.to(),a=Math.max(r,o.line);r=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var u=a;u<r;++u)Br(this,u,e);var l=this.doc.sel.ranges;0==o.ch&&t.length==l.length&&l[n].from().ch>0&&Se(this.doc,n,new pe(o,l[n].to()),Ms)}}}),getTokenAt:function(e,t){return On(this,e,t)},getLineTokens:function(e,t){return On(this,$o(e),t,!0)},getTokenTypeAt:function(e){e=ve(this.doc,e);var t,r=Fn(this,Jn(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var s=n+i>>1;if((s?r[2*s-1]:0)>=o)i=s;else{if(!(r[2*s+1]<o)){t=r[2*s+2];break}n=s+1}}var a=t?t.indexOf("cm-overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!us.hasOwnProperty(t))return r;var n=us[t],i=this.getModeAt(e);if("string"==typeof i[t])n[i[t]]&&r.push(n[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var s=n[i[t][o]];s&&r.push(s)}else i.helperType&&n[i.helperType]?r.push(n[i.helperType]):n[i.name]&&r.push(n[i.name]);for(var o=0;o<n._global.length;o++){var a=n._global[o];a.pred(i,this)&&-1==Pi(r,a.val)&&r.push(a.val)}return r},getStateAfter:function(e,t){var r=this.doc;return e=he(r,null==e?r.first+r.size-1:e),Ge(this,e+1,t)},cursorCoords:function(e,t){var r,n=this.doc.sel.primary();return r=null==e?n.head:"object"==typeof e?ve(this.doc,e):e?n.from():n.to(),ht(this,r,t||"page")},charCoords:function(e,t){return dt(this,ve(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ft(this,e,t||"page"),mt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ft(this,{top:e,left:0},t||"page").top,ni(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var r,n=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,n=!0),r=Jn(this.doc,e)}else r=e;return pt(this,r,{top:0,left:0},t||"page").top+(n?this.doc.height-ii(r):0)},defaultTextHeight:function(){return bt(this.display)},defaultCharWidth:function(){return Et(this.display)},setGutterMarker:kt(function(e,t,r){return Ur(this.doc,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&Ui(n)&&(e.gutterMarkers=null),!0})}),clearGutter:kt(function(e){var t=this,r=t.doc,n=r.first;r.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&(r.gutterMarkers[e]=null,jt(t,n,"gutter"),Ui(r.gutterMarkers)&&(r.gutterMarkers=null)),++n})}),lineInfo:function(e){if("number"==typeof e){if(!me(this.doc,e))return null;var t=e;if(!(e=Jn(this.doc,e)))return null}else{var t=ri(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o=this.display;e=ht(this,ve(this.doc,e));var s=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)s=e.top;else if("above"==n||"near"==n){var u=Math.max(o.wrapper.clientHeight,this.doc.height),l=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>u)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=u&&(s=e.bottom),a+t.offsetWidth>l&&(a=l-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==i?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),r&&Dr(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:kt(fr),triggerOnKeyPress:kt(vr),triggerOnKeyUp:hr,execCommand:function(e){if(ps.hasOwnProperty(e))return ps[e].call(null,this)},triggerElectric:kt(function(e){Z(this,e)}),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var o=0,s=ve(this.doc,e);o<t&&(s=Hr(this.doc,s,i,r,n),!s.hitSide);++o);return s},moveH:kt(function(e,t){var r=this;r.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?Hr(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()},Bs)}),deleteH:kt(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):Gr(this,function(r){var i=Hr(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=1,o=n;t<0&&(i=-1,t=-t);for(var s=0,a=ve(this.doc,e);s<t;++s){var u=ht(this,a,"div");if(null==o?o=u.left:u.left=o,a=qr(this,u,i,r),a.hitSide)break}return a},moveV:kt(function(e,t){var r=this,n=this.doc,i=[],o=!r.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(s){if(o)return e<0?s.from():s.to();var a=ht(r,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),i.push(a.left);var u=qr(r,a,e,t);return"page"==t&&s==n.sel.primary()&&jr(r,null,dt(r,u,"div").top-a.top),u},Bs),i.length)for(var s=0;s<n.sel.ranges.length;s++)n.sel.ranges[s].goalColumn=i[s]}),findWordAt:function(e){var t=this.doc,r=Jn(t,e.line).text,n=e.ch,i=e.ch;if(r){var o=this.getHelper(e,"wordChars");(e.xRel<0||i==r.length)&&n?--n:++i;for(var s=r.charAt(n),a=Bi(s,o)?function(e){return Bi(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Bi(e)};n>0&&a(r.charAt(n-1));)--n;for(;i<r.length&&a(r.charAt(i));)++i}return new pe($o(e.line,n),$o(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Zs(this.display.cursorDiv,"CodeMirror-overwrite"):Js(this.display.cursorDiv,"CodeMirror-overwrite"),Ps(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Qi()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:kt(function(e,t){null==e&&null==t||$r(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Qe(this)-this.display.barHeight,width:e.scrollWidth-Qe(this)-this.display.barWidth,clientHeight:ze(this),clientWidth:We(this)}},scrollIntoView:kt(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:$o(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)$r(this),this.curOp.scrollToPos=e;else{var r=Fr(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(r.scrollLeft,r.scrollTop)}}),setSize:kt(function(e,t){function r(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var n=this;null!=e&&(n.display.wrapper.style.width=r(e)),null!=t&&(n.display.wrapper.style.height=r(t)),n.options.lineWrapping&&at(this);var i=n.display.viewFrom;n.doc.iter(i,n.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){jt(n,i,"widget");break}++i}),n.curOp.forceUpdate=!0,Ps(n,"refresh",this)}),operation:function(e){return Rt(this,e)},refresh:kt(function(){var e=this.display.cachedTextHeight;Ft(this),this.curOp.forceUpdate=!0,ut(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==e||Math.abs(e-bt(this.display))>.5)&&s(this),Ps(this,"refresh",this)}),swapDoc:kt(function(e){var t=this.doc;return t.cm=null,Kn(this,e),ut(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,wi(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ri(e);var ts=e.defaults={},rs=e.optionHandlers={},ns=e.Init={toString:function(){return"CodeMirror.Init"}};Vr("value","",function(e,t){e.setValue(t)},!0),Vr("mode",null,function(e,t){e.doc.modeOption=t,r(e)},!0),Vr("indentUnit",2,r,!0),Vr("indentWithTabs",!1),Vr("smartIndent",!0),Vr("tabSize",4,function(e){n(e),ut(e),Ft(e)},!0),Vr("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,r.push($o(n,o))}n++});for(var i=r.length-1;i>=0;i--)kr(e.doc,t,r[i],$o(r[i].line,r[i].ch+t.length))}}),Vr("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,r,n){t.state.specialChars=new RegExp(r.source+(r.test("\t")?"":"|\t"),"g"),n!=e.Init&&t.refresh()}),Vr("specialCharPlaceholder",Bn,function(e){e.refresh()},!0),Vr("electricChars",!0),Vr("inputStyle",Ro?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Vr("rtlMoveVisually",!Oo),Vr("wholeLineUpdateBefore",!0),Vr("theme","default",function(e){a(e),u(e)},!0),Vr("keyMap","default",function(t,r,n){var i=Wr(r),o=n!=e.Init&&Wr(n);o&&o.detach&&o.detach(t,i),i.attach&&i.attach(t,o||null)}),Vr("extraKeys",null),Vr("lineWrapping",!1,i,!0),Vr("gutters",[],function(e){d(e.options),u(e)},!0),Vr("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?I(e.display)+"px":"0",e.refresh()},!0),Vr("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),Vr("scrollbarStyle","native",function(e){m(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Vr("lineNumbers",!1,function(e){d(e.options),u(e)},!0),Vr("firstLineNumber",1,u,!0),Vr("lineNumberFormatter",function(e){return e},u,!0),Vr("showCursorWhenSelecting",!1,Pe,!0),Vr("resetSelectionOnContextMenu",!0),Vr("lineWiseCopyCut",!0),Vr("readOnly",!1,function(e,t){"nocursor"==t?(yr(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),Vr("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Vr("dragDrop",!0,qt),Vr("allowDropFileTypes",null),Vr("cursorBlinkRate",530),Vr("cursorScrollMargin",0),Vr("cursorHeight",1,Pe,!0),Vr("singleCursorHeightPerLine",!0,Pe,!0),Vr("workTime",100),Vr("workDelay",100),Vr("flattenSpans",!0,n,!0),Vr("addModeClass",!1,n,!0),Vr("pollInterval",100),Vr("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Vr("historyEventDelay",1250),Vr("viewportMargin",10,function(e){e.refresh()},!0),Vr("maxHighlightLength",1e4,n,!0),Vr("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Vr("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),Vr("autofocus",null);var is=e.modes={},os=e.mimeModes={};e.defineMode=function(t,r){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(r.dependencies=Array.prototype.slice.call(arguments,2)),is[t]=r},e.defineMIME=function(e,t){os[e]=t},e.resolveMode=function(t){if("string"==typeof t&&os.hasOwnProperty(t))t=os[t];else if(t&&"string"==typeof t.name&&os.hasOwnProperty(t.name)){var r=os[t.name];"string"==typeof r&&(r={name:r}),t=ji(r,t),t.name=r.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,r){var r=e.resolveMode(r),n=is[r.name];if(!n)return e.getMode(t,"text/plain");var i=n(t,r);if(ss.hasOwnProperty(r.name)){var o=ss[r.name];for(var s in o)o.hasOwnProperty(s)&&(i.hasOwnProperty(s)&&(i["_"+s]=i[s]),i[s]=o[s])}if(i.name=r.name,r.helperType&&(i.helperType=r.helperType),r.modeProps)for(var s in r.modeProps)i[s]=r.modeProps[s];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var ss=e.modeExtensions={};e.extendMode=function(e,t){Mi(t,ss.hasOwnProperty(e)?ss[e]:ss[e]={})},e.defineExtension=function(t,r){e.prototype[t]=r},e.defineDocExtension=function(e,t){ws.prototype[e]=t},e.defineOption=Vr;var as=[];e.defineInitHook=function(e){as.push(e)};var us=e.helpers={};e.registerHelper=function(t,r,n){us.hasOwnProperty(t)||(us[t]=e[t]={_global:[]}),us[t][r]=n},e.registerGlobalHelper=function(t,r,n,i){e.registerHelper(t,r,i),us[t]._global.push({pred:n,val:i})};var ls=e.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r},cs=e.startState=function(e,t,r){return!e.startState||e.startState(t,r)};e.innerMode=function(e,t){for(;e.innerMode;){var r=e.innerMode(t);if(!r||r.mode==e)break;t=r.state,e=r.mode}return r||{mode:e,state:t}};var ps=e.commands={selectAll:function(e){e.setSelection($o(e.firstLine(),0),$o(e.lastLine()),Ms)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ms)},killLine:function(e){Gr(e,function(t){if(t.empty()){var r=Jn(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:$o(t.head.line+1,0)}:{from:t.head,to:$o(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Gr(e,function(t){return{from:$o(t.from().line,0),to:ve(e.doc,$o(t.to().line+1,0))}})},delLineLeft:function(e){Gr(e,function(e){return{from:$o(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Gr(e,function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}})},delWrappedLineRight:function(e){Gr(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection($o(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection($o(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return so(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return uo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return ao(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},Bs)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},Bs)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?uo(e,t.head):n},Bs)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),s=Us(e.getLine(o.line),o.ch,n);t.push(ki(n-s%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Rt(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++){var i=t[n].head,o=Jn(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new $o(i.line,i.ch-1)),i.ch>0)i=new $o(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),$o(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var s=Jn(e.doc,i.line-1).text;s&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),$o(i.line-1,s.length-1),$o(i.line,1),"+transpose")}r.push(new pe(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){Rt(e,function(){for(var t=e.listSelections().length,r=0;r<t;r++){var n=e.listSelections()[r];e.replaceRange(e.doc.lineSeparator(),n.anchor,n.head,"+input"),e.indentLine(n.from().line+1,null,!0)}Mr(e)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},fs=e.keyMap={};fs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},fs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},fs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},fs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},fs.default=_o?fs.macDefault:fs.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=Di(r.split(" "),Qr),o=0;o<i.length;o++){var s,a;o==i.length-1?(a=i.join(" "),s=n):(a=i.slice(0,o+1).join(" "),s="...");var u=t[a];if(u){if(u!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[r]}for(var l in t)e[l]=t[l];return e};var ds=e.lookupKey=function(e,t,r,n){t=Wr(t);var i=t.call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ds(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var s=ds(e,t.fallthrough[o],r,n);if(s)return s}}},hs=e.isModifierKey=function(e){var t="string"==typeof e?e:sa[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},vs=e.keyName=function(e,t){if(wo&&34==e.keyCode&&e.char)return!1;var r=sa[e.keyCode],n=r;return null!=n&&!e.altGraphKey&&(e.altKey&&"Alt"!=r&&(n="Alt-"+n),(Do?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(n="Ctrl-"+n),(Do?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(n="Cmd-"+n),!t&&e.shiftKey&&"Shift"!=r&&(n="Shift-"+n),n)};e.fromTextArea=function(t,r){function n(){t.value=u.getValue()}if(r=r?Mi(r):{},r.value=t.value,!r.tabindex&&t.tabIndex&&(r.tabindex=t.tabIndex),!r.placeholder&&t.placeholder&&(r.placeholder=t.placeholder),null==r.autofocus){var i=Qi();r.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(_s(t.form,"submit",n),!r.leaveSubmitMethodAlone)){var o=t.form,s=o.submit;try{var a=o.submit=function(){n(),o.submit=s,o.submit(),o.submit=a}}catch(e){}}r.finishInit=function(e){e.save=n,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,n(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Os(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=s))}},t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},r);return u};var gs=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};gs.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var r=t==e;else var r=t&&(e.test?e.test(t):e(t));if(r)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Us(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Us(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Us(this.string,null,this.tabSize)-(this.lineStart?Us(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var ms=0,ys=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ms};Ri(ys),ys.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&xt(e),Li(this,"clear")){var r=this.find();r&&wi(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=en(s.markedSpans,this);e&&!this.collapsed?jt(e,ri(s),"text"):e&&(null!=a.to&&(i=ri(s)),null!=a.from&&(n=ri(s))),s.markedSpans=tn(s.markedSpans,a),null==a.from&&this.collapsed&&!Tn(this.doc,s)&&e&&ti(s,bt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var u=bn(this.lines[o]),l=p(u);l>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=l,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Ft(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Le(e.doc)),e&&wi(e,"markerCleared",e,this),t&&Tt(e),this.parent&&this.parent.clear()}},ys.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var r,n,i=0;i<this.lines.length;++i){var o=this.lines[i],s=en(o.markedSpans,this);if(null!=s.from&&(r=$o(t?o:ri(o),s.from),-1==e))return r;if(null!=s.to&&(n=$o(t?o:ri(o),s.to),1==e))return n}return r&&{from:r,to:n}},ys.prototype.changed=function(){var e=this.find(-1,!0),t=this,r=this.doc.cm;e&&r&&Rt(r,function(){var n=e.line,i=ri(e.line),o=Ze(r,i);if(o&&(st(o),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Tn(t.doc,n)&&null!=t.height){var s=t.height;t.height=null;var a=Cn(t)-s;a&&ti(n,n.height+a)}})},ys.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Pi(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ys.prototype.detachLine=function(e){if(this.lines.splice(Pi(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var ms=0,bs=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};Ri(bs),bs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();wi(this,"clear")}},bs.prototype.find=function(e,t){return this.primary.find(e,t)};var Es=e.LineWidget=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};Ri(Es),Es.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=ri(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=Cn(this);ti(r,Math.max(0,r.height-o)),e&&Rt(e,function(){wn(e,r,-o),jt(e,n,"widget")})}},Es.prototype.changed=function(){var e=this.height,t=this.doc.cm,r=this.line;this.height=null;var n=Cn(this)-e;n&&(ti(r,r.height+n),t&&Rt(t,function(){t.curOp.forceUpdate=!0,wn(t,r,n)}))};var xs=e.Line=function(e,t,r){this.text=e,pn(this,t),this.height=r?r(this):1};Ri(xs),xs.prototype.lineNo=function(){return ri(this)};var Ss={},Ts={};zn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,Ln(i),wi(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},Xn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var o=Math.min(t,i-e),s=n.height;if(n.removeInner(e,o),this.height-=s-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof zn))){var a=[];this.collapse(a),this.children=[new zn(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var s=i.lines.length%25+25,a=s;a<i.lines.length;){var u=new zn(i.lines.slice(a,a+=25));i.height-=u.height,this.children.splice(++n,0,u),u.parent=this}i.lines=i.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new Xn(t);if(e.parent){e.size-=r.size,e.height-=r.height;var n=Pi(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{var i=new Xn(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var s=Math.min(t,o-e);if(i.iterN(e,s,r))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var Is=0,ws=e.Doc=function(e,t,r,n){if(!(this instanceof ws))return new ws(e,t,r,n);null==r&&(r=0),Xn.call(this,[new zn([new xs("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=r;var i=$o(r,0);this.sel=de(i),this.history=new si(null),this.id=++Is,this.modeOption=t,this.lineSep=n,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Wn(this,{from:i,to:i,text:e}),Ce(this,de(i),Ms)};ws.prototype=ji(Xn.prototype,{constructor:ws,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ei(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Ot(function(e){var t=$o(this.first,0),r=this.first+this.size-1;Cr(this,{from:t,to:$o(r,Jn(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),Ce(this,de(t))}),replaceRange:function(e,t,r,n){t=ve(this,t),r=r?ve(this,r):t,kr(this,e,t,r,n)},getRange:function(e,t,r){var n=Zn(this,ve(this,e),ve(this,t));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(me(this,e))return Jn(this,e)},getLineNumber:function(e){return ri(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Jn(this,e)),bn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ve(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ot(function(e,t,r){Te(this,ve(this,"number"==typeof e?$o(e,t||0):e),null,r)}),setSelection:Ot(function(e,t,r){Te(this,ve(this,e),ve(this,t||e),r)}),extendSelection:Ot(function(e,t,r){Ee(this,ve(this,e),t&&ve(this,t),r)}),extendSelections:Ot(function(e,t){xe(this,ye(this,e),t)}),extendSelectionsBy:Ot(function(e,t){xe(this,ye(this,Di(this.sel.ranges,e)),t)}),setSelections:Ot(function(e,t,r){if(e.length){for(var n=0,i=[];n<e.length;n++)i[n]=new pe(ve(this,e[n].anchor),ve(this,e[n].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Ce(this,fe(i,t),r)}}),addSelection:Ot(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new pe(ve(this,e),ve(this,t||e))),Ce(this,fe(n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=Zn(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Zn(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Ot(function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var s=i.ranges[o];n[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:r}}for(var a=t&&"end"!=t&&Ir(this,n,t),o=n.length-1;o>=0;o--)Cr(this,n[o]);a?we(this,a):this.cm&&Mr(this.cm)}),undo:Ot(function(){Nr(this,"undo")}),redo:Ot(function(){Nr(this,"redo")}),undoSelection:Ot(function(){Nr(this,"undo",!0)}),redoSelection:Ot(function(){Nr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var n=0;n<e.undone.length;n++)e.undone[n].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new si(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:mi(this.history.done),undone:mi(this.history.undone)}},setHistory:function(e){var t=this.history=new si(this.history.maxGeneration);t.done=mi(e.done.slice(0),null,!0),t.undone=mi(e.undone.slice(0),null,!0)},addLineClass:Ot(function(e,t,r){return Ur(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(Wi(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0})}),removeLineClass:Ot(function(e,t,r){return Ur(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.match(Wi(r));if(!o)return!1;var s=o.index+o[0].length;e[n]=i.slice(0,o.index)+(o.index&&s!=i.length?" ":"")+i.slice(s)||null}return!0})}),addLineWidget:Ot(function(e,t,r){return An(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return zr(this,ve(this,e),ve(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=ve(this,e),zr(this,e,e,r,"bookmark")},findMarksAt:function(e){e=ve(this,e);var t=[],r=Jn(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=ve(this,e),t=ve(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var u=s[a];null!=u.to&&i==e.line&&e.ch>=u.to||null==u.from&&i!=e.line||null!=u.from&&i==t.line&&u.from>=t.ch||r&&!r(u.marker)||n.push(u.marker.parent||u.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;if(o>e)return t=e,!0;e-=o,++r}),ve(this,$o(r,t))},indexFromPos:function(e){e=ve(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+r}),t},copy:function(e){var t=new ws(ei(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new ws(ei(this,t,r),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Kr(n,Yr(this)),n},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var r=0;r<this.linked.length;++r){var n=this.linked[r];if(n.doc==t){this.linked.splice(r,1),t.unlinkDoc(this),Jr(Yr(this));break}}if(t.history==this.history){var i=[t.id];Yn(t,function(e){i.push(e.id)},!0),t.history=new si(null),t.history.done=mi(this.history.done,i),t.history.undone=mi(this.history.undone,i)}},iterLinkedDocs:function(e){Yn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ra(e)},lineSeparator:function(){return this.lineSep||"\n"}}),ws.prototype.eachLine=ws.prototype.iter;var Cs="iter insert remove copy getEditor constructor".split(" ");for(var As in ws.prototype)ws.prototype.hasOwnProperty(As)&&Pi(Cs,As)<0&&(e.prototype[As]=function(e){return function(){return e.apply(this.doc,arguments)}}(ws.prototype[As]));Ri(ws);var Ns=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Ls=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Rs=e.e_stop=function(e){Ns(e),Ls(e)},_s=e.on=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={}),i=n[t]||(n[t]=[]);i.push(r)}},ks=[],Os=e.off=function(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else for(var n=Ii(e,t,!1),i=0;i<n.length;++i)if(n[i]==r){n.splice(i,1);break}},Ps=e.signal=function(e,t){var r=Ii(e,t,!0);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)},Ds=null,Fs=30,js=e.Pass={toString:function(){return"CodeMirror.Pass"}},Ms={scroll:!1},$s={origin:"*mouse"},Bs={origin:"+move"};_i.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Us=e.countColumn=function(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,s=i||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=r-s%r,o=a+1}},Gs=e.findColumn=function(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var s=o-n;if(o==e.length||i+s>=t)return n+Math.min(s,t-i);if(i+=o-n,i+=r-i%r,n=o+1,i>=t)return n}},Hs=[""],qs=function(e){e.select()};Lo?qs=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:Eo&&(qs=function(e){try{e.select()}catch(e){}});var Vs,Qs=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ws=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Qs.test(e))},zs=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Vs=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var Xs=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)};Eo&&xo<11&&(Qi=function(){try{return document.activeElement}catch(e){return document.body}});var Ys,Ks,Js=e.rmClass=function(e,t){var r=e.className,n=Wi(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}},Zs=e.addClass=function(e,t){var r=e.className;Wi(t).test(r)||(e.className+=(r?" ":"")+t)},ea=!1,ta=function(){if(Eo&&xo<9)return!1;var e=Hi("div");return"draggable"in e||"dragDrop"in e}(),ra=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),s=o.indexOf("\r");-1!=s?(r.push(o.slice(0,s)),t+=s+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},na=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},ia=function(){var e=Hi("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),oa=null,sa=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;e<10;e++)sa[e+48]=sa[e+96]=String(e);for(var e=65;e<=90;e++)sa[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)sa[e+111]=sa[e+63235]="F"+e}();var aa,ua=function(){function e(e){return e<=247?r.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1773?n.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,r){this.level=e,this.from=t,this.to=r}var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,u=/[1n]/;return function(r){if(!i.test(r))return!1;for(var n,l=r.length,c=[],p=0;p<l;++p)c.push(n=e(r.charCodeAt(p)));for(var p=0,f="L";p<l;++p){var n=c[p];"m"==n?c[p]=f:f=n}for(var p=0,d="L";p<l;++p){var n=c[p];"1"==n&&"r"==d?c[p]="n":s.test(n)&&(d=n,"r"==n&&(c[p]="R"))}for(var p=1,f=c[0];p<l-1;++p){var n=c[p];"+"==n&&"1"==f&&"1"==c[p+1]?c[p]="1":","!=n||f!=c[p+1]||"1"!=f&&"n"!=f||(c[p]=f),f=n}for(var p=0;p<l;++p){var n=c[p];if(","==n)c[p]="N";else if("%"==n){for(var h=p+1;h<l&&"%"==c[h];++h);for(var v=p&&"!"==c[p-1]||h<l&&"1"==c[h]?"1":"N",g=p;g<h;++g)c[g]=v;p=h-1}}for(var p=0,d="L";p<l;++p){var n=c[p];"L"==d&&"1"==n?c[p]="L":s.test(n)&&(d=n)}for(var p=0;p<l;++p)if(o.test(c[p])){for(var h=p+1;h<l&&o.test(c[h]);++h);for(var m="L"==(p?c[p-1]:"L"),y="L"==(h<l?c[h]:"L"),v=m||y?"L":"R",g=p;g<h;++g)c[g]=v;p=h-1}for(var b,E=[],p=0;p<l;)if(a.test(c[p])){var x=p;for(++p;p<l&&a.test(c[p]);++p);E.push(new t(0,x,p))}else{var S=p,T=E.length;for(++p;p<l&&"L"!=c[p];++p);for(var g=S;g<p;)if(u.test(c[g])){S<g&&E.splice(T,0,new t(1,S,g));var I=g;for(++g;g<p&&u.test(c[g]);++g);E.splice(T,0,new t(2,I,g)),S=g}else++g;S<p&&E.splice(T,0,new t(1,S,p))}return 1==E[0].level&&(b=r.match(/^\s+/))&&(E[0].from=b[0].length,E.unshift(new t(0,0,b[0].length))),1==Oi(E).level&&(b=r.match(/\s+$/))&&(Oi(E).to-=b[0].length,E.push(new t(0,l-b[0].length,l))),2==E[0].level&&E.unshift(new t(1,E[0].to,E[0].to)),E[0].level!=Oi(E).level&&E.push(new t(E[0].level,l,l)),E}}();return e.version="5.17.0",e})},function(e,t){var r=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(p===clearTimeout)return clearTimeout(e);if((p===n||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function s(){v&&d&&(v=!1,d.length?h=d.concat(h):g=-1,h.length&&a())}function a(){if(!v){var e=i(s);v=!0;for(var t=h.length;t;){for(d=h,h=[];++g<t;)d&&d[g].run();g=-1,t=h.length}d=null,v=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,p,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(e){c=r}try{p="function"==typeof clearTimeout?clearTimeout:n}catch(e){p=n}}();var d,h=[],v=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new u(e,t)),1!==h.length||v||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,r){"use strict";function n(e,t){return t.length<=e?t:t.substr(0,e-3)+"..."}function i(e,t){for(;t.length<e;)t+=" ";return t}function o(e){return e.replace(/^([A-Z])/,function(e){return e.toLowerCase()}).replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function s(e){var t=a(e),r=t.match(/^(function [^ ]+\([^)]*\))/),n=r?r[1]:t,i=e.name||"";return i&&n.match(/function \(/)?"function "+i+n.substr(9):n}function a(e){var t=p.isArray(e)?e.slice(-1)[0]:e;return t&&t.toString()||"undefined"}function u(e){function t(e){if(p.isObject(e)){if(-1!==r.indexOf(e))return"[circular ref]";r.push(e)}return y(e)}var r=[];return JSON.stringify(e,function(e,r){return t(r)}).replace(/\\"/g,'"')}function l(e){var t=new RegExp("("+e+")","g");return function(e){return e.split(t).filter(d.identity)}}function c(e,t){return p.isString(d.tail(e))&&p.isString(t)?e.slice(0,-1).concat(d.tail(e)+t):d.pushR(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var p=r(4),f=r(53),d=r(2),h=r(5),v=r(68),g=r(52);t.maxLength=n,t.padString=i,t.kebobString=o,t.functionToString=s,t.fnToString=a;var m=null,y=function(e){var t=f.Rejection.isRejectionPromise;return(m=m||h.pattern([[h.not(p.isDefined),h.val("undefined")],[p.isNull,h.val("null")],[p.isPromise,h.val("[Promise]")],[t,function(e){return e._transitionRejection.toString()}],[h.is(f.Rejection),h.invoke("toString")],[h.is(v.Transition),h.invoke("toString")],[h.is(g.Resolvable),h.invoke("toString")],[p.isInjectable,s],[h.val(!0),d.identity]]))(e)};t.stringify=u,t.beforeAfterSubstr=function(e){return function(t){if(!t)return["",""];var r=t.indexOf(e);return-1===r?[t,""]:[t.substr(0,r),t.substr(r+1)]}},t.splitOnDelim=l,t.joinNeighborsR=c},function(e,t,r){"use strict";function n(e){return e?"[ui-view#"+e.id+" tag in template from '"+(e.creationContext&&e.creationContext.name||"(root)")+"' state]: fqn: '"+e.fqn+"', name: '"+e.name+"@"+e.creationContext+"')":"ui-view (defunct)"}function i(e){return a.isNumber(e)?o[e]:o[o[e]]}Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(5),a=r(4),u=r(20),l=function(e){return"[ViewConfig#"+e.$id+" from '"+(e.viewDecl.$context.name||"(root)")+"' state]: target ui-view: '"+e.viewDecl.$uiViewName+"@"+e.viewDecl.$uiViewContextAnchor+"'"};!function(e){e[e.RESOLVE=0]="RESOLVE",e[e.TRANSITION=1]="TRANSITION",e[e.HOOK=2]="HOOK",e[e.UIVIEW=3]="UIVIEW",e[e.VIEWCONFIG=4]="VIEWCONFIG"}(o=t.Category||(t.Category={}));var c=s.parse("$id"),p=s.parse("router.$id"),f=function(e){return"Transition #"+c(e)+"-"+p(e)},d=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,t){var r=this;t.length||(t=Object.keys(o).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)}).map(function(e){return o[e]})),t.map(i).forEach(function(t){return r._enabled[t]=e})},e.prototype.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!0,e)},e.prototype.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!1,e)},e.prototype.enabled=function(e){return!!this._enabled[i(e)]},e.prototype.traceTransitionStart=function(e){this.enabled(o.TRANSITION)&&console.log(f(e)+": Started  -> "+u.stringify(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(o.TRANSITION)&&console.log(f(e)+": Ignored  <> "+u.stringify(e))},e.prototype.traceHookInvocation=function(e,t,r){if(this.enabled(o.HOOK)){var n=s.parse("traceData.hookType")(r)||"internal",i=s.parse("traceData.context.state.name")(r)||s.parse("traceData.context")(r)||"unknown",a=u.functionToString(e.registeredHook.callback);console.log(f(t)+":   Hook -> "+n+" context: "+i+", "+u.maxLength(200,a))}},e.prototype.traceHookResult=function(e,t,r){this.enabled(o.HOOK)&&console.log(f(t)+":   <- Hook returned: "+u.maxLength(200,u.stringify(e)))},e.prototype.traceResolvePath=function(e,t,r){this.enabled(o.RESOLVE)&&console.log(f(r)+":         Resolving "+e+" ("+t+")")},e.prototype.traceResolvableResolved=function(e,t){this.enabled(o.RESOLVE)&&console.log(f(t)+":               <- Resolved  "+e+" to: "+u.maxLength(200,u.stringify(e.data)))},e.prototype.traceError=function(e,t){this.enabled(o.TRANSITION)&&console.log(f(t)+": <- Rejected "+u.stringify(t)+", reason: "+e)},e.prototype.traceSuccess=function(e,t){this.enabled(o.TRANSITION)&&console.log(f(t)+": <- Success  "+u.stringify(t)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,t,r){void 0===r&&(r=""),this.enabled(o.UIVIEW)&&console.log("ui-view: "+u.padString(30,e)+" "+n(t)+r)},e.prototype.traceUIViewConfigUpdated=function(e,t){this.enabled(o.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+t+"'")},e.prototype.traceUIViewFill=function(e,t){this.enabled(o.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+u.maxLength(200,t))},e.prototype.traceViewServiceEvent=function(e,t){this.enabled(o.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+l(t))},e.prototype.traceViewServiceUIViewEvent=function(e,t){this.enabled(o.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+n(t))},e}();t.Trace=d;var h=new d;t.trace=h},function(e,t,r){"use strict";r.d(t,"c",function(){return p}),r.d(t,"a",function(){return f}),r.d(t,"d",function(){return d}),r.d(t,"b",function(){return v});var n=r(44),i=r.n(n),o=r(13),s=r.n(o),a=r(12),u=r.n(a),l=r(1),c=r.n(l),p=function(){function e(){c()(this,e),this.s={}}return e.prototype.has=function(e){return void 0!==this.s[e]},e.prototype.set=function(e,t){return this.s[e]=t,this},e.prototype.get=function(e){return this.s[e]},e.prototype.remove=function(e){var t=this.has(e);return delete this.s[e],t},e.prototype.sets=function(e){for(var t in e)this.set(t,e[t]);return this},e.prototype.setm=function(e){for(var t in e)this.set(t,e[t]);return this},e.prototype.clear=function(){return this.s={},this},e.prototype.keys=function(){var e=[];for(var t in this.s)e.push(t);return e},e.prototype.values=function(){var e=[];for(var t in this.s)e.push(this.s[t]);return e},e.prototype.entries=function(){var e=[];for(var t in this.s)e.push({key:t,value:this.s[t]});return e},e.prototype.each=function(e){for(var t in this.s)e(this.s[t],t,this)},e.prototype.size=function(){var e=0;for(var t in this.s)e++;return e},e.prototype.empty=function(){return 0===this.size()},e}(),f=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};c()(this,t);var n=s()(this,e.call(this));return n.create=r,n}return u()(t,e),t.prototype.goc=function(e,t){return this.has(e)||this.set(e,t?t(e):this.create(e)),this.get(e)},t}(p),d=(function(){function e(){c()(this,e),this.a=[]}e.prototype.clear=function(){return this.a=[],this},e.prototype.has=function(e){return-1!==this.a.indexOf(e)},e.prototype.add=function(e){return this.has(e)?this:(this.a.push(e),this)},e.prototype.adda=function(e){var t=this;return e.forEach(function(e){return t.add(e)}),this},e.prototype.adds=function(e){var t=this;return e.each(function(e){return t.add(e)}),this},e.prototype.remove=function(e){var t=this.a.indexOf(e);return-1!==t&&(this.a.splice(t,1),!0)},e.prototype.each=function(e){for(var t=this.a,r=Array.isArray(t),n=0,t=r?t:i()(t);;){var o;if(r){if(n>=t.length)break;o=t[n++]}else{if(n=t.next(),n.done)break;o=n.value}var s=o;e(s,s,this)}},e.prototype.size=function(){return this.a.length},e.prototype.empty=function(){return 0===this.size()},e.prototype.values=function(){return this.a}}(),function(){function e(){c()(this,e),this.s={}}return e.prototype.clear=function(){return this.s={},this},e.prototype.has=function(e){return void 0!==this.s[e]},e.prototype.add=function(e){return this.s[e]="",this},e.prototype.adda=function(e){var t=this;return e.forEach(function(e){return t.add(e)}),this},e.prototype.adds=function(e){var t=this;return e.each(function(e){return t.add(e)}),this},e.prototype.remove=function(e){var t=this.has(e);return delete this.s[e],t},e.prototype.each=function(e){for(var t in this.s)e(t,t,this)},e.prototype.size=function(){var e=0;for(var t in this.s)e++;return e},e.prototype.empty=function(){return 0===this.size()},e.prototype.values=function(){var e=[];for(var t in this.s)e.push(t);return e},e}()),h=function(e){function t(){c()(this,t);var r=s()(this,e.apply(this,arguments));return r.a=[],r}return u()(t,e),t.prototype.set=function(t,r){return this.has(t)||(e.prototype.set.call(this,t,r),this.a.push(r)),this},t.prototype.remove=function(t){var r=this.get(t);return void 0!==r&&(e.prototype.remove.call(this,t),this.a.splice(this.a.indexOf(r),1)),void 0!==r},t.prototype.size=function(){return this.a.length},t.prototype.values=function(){return this.a},t.prototype.clear=function(){return e.prototype.clear.call(this),this.a=[],this},t}(p),v=function(e){function t(r){c()(this,t);var n=s()(this,e.call(this));return n.create=r,n}return u()(t,e),t.prototype.goc=function(e,t){return this.has(e)||this.set(e,t?t(e):this.create(e)),this.get(e)},t}(h);!function(e){function t(){c()(this,t);var r=s()(this,e.apply(this,arguments));return r.a=[],r}u()(t,e),t.prototype.add=function(t){return this.has(t)||(e.prototype.add.call(this,t),this.a.push(t)),this},t.prototype.remove=function(t){var r=e.prototype.remove.call(this,t);return r&&this.a.splice(this.a.indexOf(t),1),r},t.prototype.size=function(){return this.a.length},t.prototype.values=function(){return this.a},t.prototype.clear=function(){return e.prototype.clear.call(this),this.a=[],this}}(d)},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(108)("wks"),i=r(80),o=r(23).Symbol,s="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=s&&o[e]||(s?o:i)("Symbol."+e))}).store=n},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(4),o=function(){function e(e,t,r,n){void 0===n&&(n={}),this._identifier=e,this._definition=t,this._options=n,this._params=r||{}}return e.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},e.prototype.identifier=function(){return this._identifier},e.prototype.params=function(){return this._params},e.prototype.$state=function(){return this._definition},e.prototype.state=function(){return this._definition&&this._definition.self},e.prototype.options=function(){return this._options},e.prototype.exists=function(){return!(!this._definition||!this._definition.self)},e.prototype.valid=function(){return!this.error()},e.prototype.error=function(){var e=this.options().relative;if(!this._definition&&e){var t=e.name?e.name:e;return"Could not resolve '"+this.name()+"' from state '"+t+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},e.prototype.toString=function(){return"'"+this.name()+"'"+n.toJson(this.params())},e}();o.isDef=function(e){return e&&e.state&&(i.isString(e.state)||i.isString(e.state.name))},t.TargetState=o},function(e,t,r){!function(t,n){e.exports=n(r(0))}(0,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(){function e(){this.objectsById={},this.assignmentsById={}}return e}();t.UniqueObjectTracker=i;var o=function(){function e(e,t){this.$http=e,this.$q=t}return e.$inject=["$http","$q"],e.stringToSPARQLString=function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\f/g,"\\f")+'"'},e.bindingsToObject=function(t,r,n,i){void 0===r&&(r={});for(var o in t){var s=o,a=r,u=s.indexOf("_"),l=-1,c=void 0;for(i&&(c=i.assignmentsById);-1!==u;){s=o.substring(l+1,u);var p=o.substring(0,u);if(n&&n.bindingTypes&&n.bindingTypes[p]&&"uniqueArray"===n.bindingTypes[p]){a[s]||(a[s]=[]),i.objectsById[p]||(i.objectsById[p]={});var f=void 0;i.objectsById[p][t[p].value]?f=i.objectsById[p][t[p].value]:(f=n.bindingConverters[p](t[p],t),i.objectsById[p][t[p].value]=f),c[p]||(c[p]={}),c[p][t[p].value]||(a[p].push(f),c[p][t[p].value]={}),c=c[p][t[p].value],a=f}else n&&n.bindingTypes&&n.bindingTypes[p]&&"single"===n.bindingTypes[p]?(i.objectsById[p]||(i.objectsById[p]={}),i.objectsById[p][t[p].value]||(a[s]=n.bindingConverters[p](t[p],t),i.objectsById[p][t[p].value]=a[s])):a[s]||(a[s]=n.bindingConverters[p](t[p],t)),a=a[s];l=u,u=o.indexOf("_",u+1)}s=o.substring(l+1);var d=void 0;if(i&&n&&n.bindingTypes&&("single"===n.bindingTypes[o]||"uniqueArray"===n.bindingTypes[o])?(i.objectsById[o]||(i.objectsById[o]={}),i.objectsById[o][t[o].value]?d=i.objectsById[o][t[o].value]:(d=n&&n.bindingConverters&&n.bindingConverters[o]?n.bindingConverters[o](t[o],t):e.bindingToValue(t[o]),i.objectsById[o][t[o].value]=d)):n&&n.bindingConverters&&n.bindingConverters[o]?d=n.bindingConverters[o](t[o],t):n&&n.bindingTypes&&n.bindingTypes[o]&&("hash"===n.bindingTypes[o]||"ignore"===n.bindingTypes[o])||(d=e.bindingToValue(t[o])),n&&n.bindingTypes&&n.bindingTypes[o])switch(n.bindingTypes[o]){case"ignore":break;case"single":a[s]=d;break;case"array":Array.isArray(a[s])||(a[s]=[]),a[s].push(d);break;case"hash":if(a[s]||(a[s]={}),d)a[s][t[o].value]=d;else if("literal"===t[o].type){var h=t[o].datatype;h||(h=t[o]["xml:lang"])||(h=""),a[s][h]=t[o].value}else a[s][t[o].value]=t[o].value;break;default:a[s]||(a[s]=[]),c[o]||(c[o]={}),c[o][t[o].value]||(c[o][t[o].value]=d,a[s].push(d))}else if(Array.isArray(a[s]))a[s].push(d);else if(null!==a[s]&&"object"==typeof a[s]&&t[o])if("literal"===t[o].type){var h=t[o].datatype;h||(h=t[o]["xml:lang"])||(h=""),n&&n.bindingConverters&&n.bindingConverters[o]?a[s][h]=n.bindingConverters[o](t[o],t):a[s][h]=t[o].value}else n&&n.bindingConverters&&n.bindingConverters[o]?a[s][t[o].value]=n.bindingConverters[o](t[o],t):a[s][t[o].value]=t[o].value;else a[s]=d}return r},e.bindingToValue=function(e){if(e){if("uri"===e.type)return e.value;if("bnode"===e.type)return e.value;if(e.datatype)switch(e.datatype){case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#decimal":return parseInt(e.value,10);case"http://www.w3.org/2001/XMLSchema#float":case"http://www.w3.org/2001/XMLSchema#double":return parseFloat(e.value);case"http://www.w3.org/2001/XMLSchema#boolean":return!!e.value}return e.value}},e.bindingToString=function(e){if(!e)return"UNDEF";var t=e.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\"/g,'\\"').replace(/\'/g,"\\'");if("uri"===e.type)return"<"+t+">";if("bnode"===e.type)return"_:"+t;if(!e.datatype)return e["xml:lang"]?'"'+t+'"@'+e["xml:lang"]:'"'+t+'"';switch(e.datatype){case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#double":case"http://www.w3.org/2001/XMLSchema#boolean":return t;case"http://www.w3.org/2001/XMLSchema#string":return'"'+t+'"';default:return'"'+t+'"^^<'+e.datatype+">"}},e.prototype.check=function(e,t){var r=this.$q.defer();return this.$http(n.extend({method:"GET",url:e,params:{query:"ASK {}"},headers:{Accept:"application/sparql-results+json"}},t)).then(function(e){return r.resolve(!0===e.data.boolean)},function(e){return r.resolve(!1)}),r.promise},e.prototype.checkUpdate=function(e,t){var r=this.$q.defer();return this.$http(n.extend({method:"POST",url:e,headers:{"Content-Type":"application/sparql-update"},data:"INSERT DATA {}"},t)).then(function(e){return r.resolve(204===e.status)},function(e){return r.resolve(!1)}),r.promise},e.prototype.checkRest=function(e,t){var r=this.$q.defer();return this.$http(n.extend({method:"POST",url:e+"?default",data:"",headers:{"Content-Type":"text/turtle"}},t)).then(function(e){return r.resolve(204===e.status)},function(e){return r.resolve(!1)}),r.promise},e.prototype.get=function(e,t,r){return this.$http(n.extend({method:"GET",url:e,params:t?{graph:t}:{default:""},headers:{Accept:"text/turtle"}},r))},e.prototype.post=function(e,t,r,i){return this.$http(n.extend({method:"POST",url:e,params:r?{graph:r}:{default:""},data:t,headers:{"Content-Type":"text/turtle"}},i))},e.prototype.put=function(e,t,r,i){return this.$http(n.extend({method:"PUT",url:e,params:r?{graph:r}:{default:""},data:t,headers:{"Content-Type":"text/turtle"}},i))},e.prototype.delete=function(e,t,r){return this.$http(n.extend({method:"DELETE",url:e,params:t?{graph:t}:{default:""}},r))},e.prototype.query=function(e,t,r){return t.length<=2048?this.$http(n.extend({method:"GET",url:e,params:{query:t},headers:{Accept:"application/sparql-results+json"}},r)):this.$http(n.extend({method:"POST",url:e,data:"query="+encodeURIComponent(t),headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"}},r))},e.prototype.construct=function(e,t,r){return t.length<=2048?this.$http(n.extend({method:"GET",url:e,params:{query:t},headers:{Accept:"text/turtle"}},r)):this.$http(n.extend({method:"POST",url:e,data:t,headers:{"Content-Type":"application/sparql-query",Accept:"text/turtle"}},r))},e.prototype.update=function(e,t,r){return this.$http(n.extend({method:"POST",url:e,headers:{"Content-Type":"application/sparql-update"},data:t},r))},e}();t.SparqlService=o,n.module("fi.seco.sparql",[]).service("sparqlService",o)}])})},function(e,t,r){"use strict";function n(e,t){return{type:I,payload:{items:e?[e]:[],coordinates:[t]}}}function i(e,t){return{type:I,payload:{items:e,coordinates:t}}}function o(e,t,r,n){return function(i){return e.alterItem(t,r,n).then(function(e){i(s())})}}function s(){return{type:A,payload:{}}}function a(e,t,r,n){return function(i){i(u(e,t,r?[r]:[],n))}}function u(e,t,r,n){return function(i){return g(e,t,r,n).then(function(e){i(l(e))})}}function l(e){return{type:E,payload:{items:e}}}function c(e,t,r,n){return function(o){return g(e,t,r?[r]:[],n).then(function(e){return o(i(e))})}}function p(e,t,r,n){return function(o){return g(e,t,r,n).then(function(e){return o(i(e))})}}function f(e,t,r){return function(n){return n(d(e,t,r?[r]:[]))}}function d(e,t,r){return function(n){return e.all(r.map(function(e){return t.deleteItem(e)})).then(function(){return n(h(r))})}}function h(e){return{type:S,payload:{items:e}}}function v(e){return{type:w,payload:e}}function g(e,t,r,n){var i=n?m.a.instance.namedNode(n):m.b.Thing;if(r[0]){var o=r.map(function(e){return e.value?t.createNewItem([new y.a(m.c.prefLabel,m.a.instance.literal(e.value)),new y.a(m.d.type,i)]):t.createNewItem([new y.a(m.d.type,i)])});return e.all(o)}return t.createNewItem([new y.a(m.d.type,i),new y.a(m.c.prefLabel,m.a.instance.literal(""))]).then(function(e){return[e]})}Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"CREATE_TYPE",function(){return b}),r.d(t,"ITEMS_CREATED",function(){return E}),r.d(t,"CREATE_DISPLAY_ITEMS",function(){return x}),r.d(t,"ITEMS_DELETED",function(){return S}),r.d(t,"CLEAR_TYPES",function(){return T}),r.d(t,"DISPLAY_ITEMS",function(){return I}),r.d(t,"HIDE_ITEM",function(){return w}),r.d(t,"CREATE_LOCAL_ITEM",function(){return C}),r.d(t,"ITEM_PROPERTIES",function(){return A}),r.d(t,"SET_ORDERED_TYPES",function(){return N}),t.displayItem=n,t.displayItems=i,t.itemProperty=o,t.itemPropertyUpdated=s,t.createItem=a,t.createItems=u,t.itemsCreated=l,t.createDisplayItem=c,t.createDisplayItems=p,t.deleteItem=f,t.deleteItems=d,t.itemsDeleted=h,t.hideItem=v;var m=r(6),y=r(16),b="CREATE_TYPE",E="ITEMS_CREATED",x="CREATE_DISPLAY_ITEMS",S="ITEMS_DELETED",T="CLEAR_TYPES",I="DISPLAY_ITEMS",w="HIDE_ITEM",C="CREATE_LOCAL_ITEM",A="ITEM_PROPERTIES",N="SET_ORDERED_TYPES"},function(e,t,r){"use strict";function n(e){return{type:f,payload:e}}function i(){return{type:d,payload:void 0}}function o(e){return{type:h,payload:e}}function s(e,t){return function(r){return t.createNewItem([new u.a(l.c.prefLabel,l.a.instance.literal(e)),new u.a(l.d.type,l.b.Class)]).then(function(t){r(a(t,e))})}}function a(e,t){return{type:p,payload:{node:e,label:t}}}Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"CREATE_TYPE",function(){return c}),r.d(t,"TYPE_CREATED",function(){return p}),r.d(t,"ADD_TYPE",function(){return f}),r.d(t,"CLEAR_TYPES",function(){return d}),r.d(t,"SET_ORDERED_TYPES",function(){return h}),t.addType=n,t.clearTypes=i,t.setOrderedTypes=o,t.createType=s,t.typeCreated=a;var u=r(16),l=r(6),c="CREATE_TYPE",p="TYPE_CREATED",f="ADD_TYPE",d="CLEAR_TYPES",h="SET_ORDERED_TYPES"},function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return a});var n=r(1),i=r.n(n),o=r(6),s=function(){function e(t,r){i()(this,e),this.sparqlEndpoint=t,this.graph=r}return e.clone=function(t){return new e(t.sparqlEndpoint,t.graph)},e}(),a=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];i()(this,e),this.labels=n,this.url=o,this.descriptions=s,this.rightsHolders=a,this.source={sparqlEndpoint:null},this.id=t,this.source=r}return e.toTurtle=function(e,t,r){r.skos=o.c.ns,r.dcterms=o.n.ns,r.foaf=o.o.ns,r.fibra=o.k.ns,r.rdf=o.d.ns;var n=t.get(e.id);e.labels.forEach(function(e){e.value&&(n=n+"\nskos:prefLabel "+e.toCanonical()+" ;")}),e.descriptions.forEach(function(e){e.value&&(n=n+"\ndcterms:description "+e.toCanonical()+" ;")}),e.url&&(n=n+"\nfoaf:homepage <"+e.url+"> ;"),e.rightsHolders.length>0&&(n+="\ndcterms:rightsHolder ",e.rightsHolders.forEach(function(e){n=n+"<"+e.id+">, ",t.has(e.id)||(t.set(e.id,"<"+e.id+"> a foaf:Agent ;"),e.toTurtle(t,r))}),n=n.substring(0,n.length-2)+" ;",e.rightsHolders.length>1&&e.rightsHolders.forEach(function(e,t){n=n+"\nfibra:qualifiedAssertion [\n  rdf:predicate dcterms:rightsHolder ;\n  rdf:object <"+e.id+"> ;\n  fibra:order "+t+" ;\n] ;"})),t.set(e.id,n)},e.prototype.toTurtle=function(t,r){e.toTurtle(this,t,r)},e}()},function(e,t,r){e.exports=!r(47)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(23),i=r(18),o=r(164),s=r(48),a=function(e,t,r){var u,l,c,p=e&a.F,f=e&a.G,d=e&a.S,h=e&a.P,v=e&a.B,g=e&a.W,m=f?i:i[t]||(i[t]={}),y=m.prototype,b=f?n:d?n[t]:(n[t]||{}).prototype;f&&(r=t);for(u in r)(l=!p&&b&&void 0!==b[u])&&u in m||(c=l?b[u]:r[u],m[u]=f&&"function"!=typeof b[u]?r[u]:v&&l?o(c,n):g&&b[u]==c?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):h&&"function"==typeof c?o(Function.call,c):c,h&&((m.virtual||(m.virtual={}))[u]=c,e&a.R&&y&&!y[u]&&s(y,u,c)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(46),i=r(166),o=r(111),s=Object.defineProperty;t.f=r(31)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(167),i=r(101);e.exports=function(e){return n(i(e))}},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(115),r(114))}(0,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,o=t.algo,s=o.MD5,a=o.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),o=i.create(),s=o.words,a=r.keySize,u=r.iterations;s.length<a;){l&&n.update(l);var l=n.update(e).finalize(t);n.reset();for(var c=1;c<u;c++)l=n.finalize(l),n.reset();o.concat(l)}return o.sigBytes=4*a,o}});t.EvpKDF=function(e,t,r){return a.create(r).compute(e,t)}}(),e.EvpKDF})},function(e,t){},function(e,t,r){"use strict";function n(e){if(!(this instanceof n))return new n(e);l.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||s(o,this)}function o(e){e.end()}var s=r(82),a=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=n;var u=r(60);u.inherits=r(25);var l=r(195),c=r(126);u.inherits(n,l);for(var p=a(c.prototype),f=0;f<p.length;f++){var d=p[f];n.prototype[d]||(n.prototype[d]=c.prototype[d])}Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),n.prototype._destroy=function(e,t){this.push(null),this.end(),s(t,e)}},function(e,t,r){"use strict";var n=r(14),i=(r(39),r(130)),o=function(e,t){var r=e.getPrefixesFromQuery();if(0==!t.string.indexOf("<")&&(t.tokenPrefix=t.string.substring(0,t.string.indexOf(":")+1),null!=r[t.tokenPrefix.slice(0,-1)]&&(t.tokenPrefixUri=r[t.tokenPrefix.slice(0,-1)])),t.autocompletionString=t.string.trim(),0==!t.string.indexOf("<")&&t.string.indexOf(":")>-1)for(var n in r)if(t.tokenPrefix===n+":"){t.autocompletionString=r[n],t.autocompletionString+=t.string.substring(n.length+1);break}return 0==t.autocompletionString.indexOf("<")&&(t.autocompletionString=t.autocompletionString.substring(1)),-1!==t.autocompletionString.indexOf(">",t.length-1)&&(t.autocompletionString=t.autocompletionString.substring(0,t.autocompletionString.length-1)),t},s=function(e,t,r){return r=t.tokenPrefix&&t.autocompletionString&&t.tokenPrefixUri?t.tokenPrefix+r.substring(t.tokenPrefixUri.length):"<"+r+">"},a=0===window.location.protocol.indexOf("http")?"//":"http://",u=function(e,t,o,s){if(!o||!o.string||0==o.string.trim().length)return e.autocompleters.notifications.getEl(t).empty().append("Nothing to autocomplete yet!"),!1;var u={q:o.autocompletionString,page:1};"classes"==t.name?u.type="class":u.type="property";var l=[],c="",p=function(){c=a+"lov.okfn.org/dataset/lov/api/v2/autocomplete/terms?"+n.param(u)};p();var f=function(){u.page++,p()},d=function(){n.get(c,function(r){for(var i=0;i<r.results.length;i++)n.isArray(r.results[i].uri)&&r.results[i].uri.length>0?l.push(r.results[i].uri[0]):l.push(r.results[i].uri);l.length<r.total_results&&l.length<50?(f(),d()):(l.length>0?e.autocompleters.notifications.hide(e,t):e.autocompleters.notifications.getEl(t).text("0 matches found..."),s(l))}).fail(function(r,n,i){e.autocompleters.notifications.getEl(t).empty().append("Failed fetching suggestions..")})};e.autocompleters.notifications.getEl(t).empty().append(n("<span>Fetchting autocompletions &nbsp;</span>")).append(n(i.svg.getElement(r(207).loader)).addClass("notificationLoader")),d()};e.exports={fetchFromLov:u,preprocessResourceTokenForCompletion:o,postprocessResourceTokenForCompletion:s}},function(e,t,r){"use strict";function n(e){function t(){return e.value}return e=h(e)&&{value:e}||e,t.__cacheable=!0,u.extend(e,{$$fn:c.isInjectable(e.value)?e.value:t})}function i(e,t,r,n,i){if(e.type&&t&&"string"!==t.name)throw new Error("Param '"+n+"' has two type configurations.");if(e.type&&t&&"string"===t.name&&i.type(e.type))return i.type(e.type);if(t)return t;if(!e.type){var o=r===a.CONFIG?"any":r===a.PATH?"path":r===a.SEARCH?"query":"string";return i.type(o)}return e.type instanceof f.ParamType?e.type:i.type(e.type)}function o(e,t,r){var n=e.squash;if(!t||!1===n)return!1;if(!c.isDefined(n)||null==n)return r;if(!0===n||c.isString(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function s(e,t,r,n){var i,o,s=[{from:"",to:r||t?void 0:""},{from:null,to:r||t?void 0:""}];return i=c.isArray(e.replace)?e.replace:[],c.isString(n)&&i.push({from:n,to:void 0}),o=u.map(i,l.prop("from")),u.filter(s,function(e){return-1===o.indexOf(e.from)}).concat(i)}Object.defineProperty(t,"__esModule",{value:!0});var a,u=r(2),l=r(5),c=r(4),p=r(11),f=r(88),d=Object.prototype.hasOwnProperty,h=function(e){return 0===["value","type","squash","array","dynamic"].filter(d.bind(e||{})).length};!function(e){e[e.PATH=0]="PATH",e[e.SEARCH=1]="SEARCH",e[e.CONFIG=2]="CONFIG"}(a=t.DefType||(t.DefType={}));var v=function(){function e(e,t,r,l,p){r=n(r),t=i(r,t,l,e,p.paramTypes);var f=function(){var t={array:l===a.SEARCH&&"auto"},n=e.match(/\[\]$/)?{array:!0}:{};return u.extend(t,n,r).array}();t=f?t.$asArray(f,l===a.SEARCH):t;var d=void 0!==r.value||l===a.SEARCH,h=c.isDefined(r.dynamic)?!!r.dynamic:!!t.dynamic,v=c.isDefined(r.raw)?!!r.raw:!!t.raw,g=o(r,d,p.defaultSquashPolicy()),m=s(r,f,d,g),y=c.isDefined(r.inherit)?!!r.inherit:!!t.inherit;u.extend(this,{id:e,type:t,location:l,isOptional:d,dynamic:h,raw:v,squash:g,replace:m,inherit:y,array:f,config:r})}return e.prototype.isDefaultValue=function(e){return this.isOptional&&this.type.equals(this.value(),e)},e.prototype.value=function(e){var t=this;return e=function(e){for(var r=0,n=t.replace;r<n.length;r++){var i=n[r];if(i.from===e)return i.to}return e}(e),c.isUndefined(e)?function(){if(t._defaultValueCache)return t._defaultValueCache.defaultValue;if(!p.services.$injector)throw new Error("Injectable functions cannot be called at configuration time");var e=p.services.$injector.invoke(t.config.$$fn);if(null!==e&&void 0!==e&&!t.type.is(e))throw new Error("Default value ("+e+") for parameter '"+t.id+"' is not an instance of ParamType ("+t.type.name+")");return t.config.$$fn.__cacheable&&(t._defaultValueCache={defaultValue:e}),e}():this.type.$normalize(e)},e.prototype.isSearch=function(){return this.location===a.SEARCH},e.prototype.validates=function(e){if((c.isUndefined(e)||null===e)&&this.isOptional)return!0;var t=this.type.$normalize(e);if(!this.type.is(t))return!1;var r=this.type.encode(t);return!(c.isString(r)&&!this.type.pattern.exec(r))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e.values=function(e,t){void 0===t&&(t={});for(var r={},n=0,i=e;n<i.length;n++){var o=i[n];r[o.id]=o.value(t[o.id])}return r},e.changed=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),e.filter(function(e){return!e.type.equals(t[e.id],r[e.id])})},e.equals=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),0===e.changed(t,r,n).length},e.validates=function(e,t){return void 0===t&&(t={}),e.map(function(e){return e.validates(t[e.id])}).reduce(u.allTrueR,!0)},e}();t.Param=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.CREATE=0]="CREATE",e[e.BEFORE=1]="BEFORE",e[e.RUN=2]="RUN",e[e.SUCCESS=3]="SUCCESS",e[e.ERROR=4]="ERROR"}(t.TransitionHookPhase||(t.TransitionHookPhase={}));!function(e){e[e.TRANSITION=0]="TRANSITION",e[e.STATE=1]="STATE"}(t.TransitionHookScope||(t.TransitionHookScope={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=angular;t.ng=n&&n.module?n:i},function(e,t,r){"use strict";r.d(t,"a",function(){return f}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return h});var n=r(13),i=r.n(n),o=r(12),s=r.n(o),a=r(1),u=r.n(a),l=r(74),c=r(22),p=function(){function e(t){u()(this,e),this.id=t,this.labels=[],this.descriptions=[],this.types=[]}return e.prototype.getLabel=function(e){return this.asNode(e).label},e.prototype.asNode=function(e){var t=this.asNodes[e];if(t)return t;if(t=this.asNodes[""])return t;for(var r in this.asNodes)return this.asNodes[r]},e.prototype.buildAsNodes=function(){var e=this;if(!this.asNodes){this.asNodes={};var t=new c.d,r=new c.c,n=new c.c,i=new c.c;this.labels.forEach(function(e){r.set(e.language,e.value),r.has("")||r.set("",e.value),t.add(e.language)}),this.descriptions.forEach(function(e){n.set(e.language,e.value),n.has("")||n.set("",e.value),t.add(e.language)}),this.types.forEach(function(e){e.buildAsNodes();var r=new c.c;i.set(e.id.value,r),e.labels.forEach(function(e){r.set(e.language,e.value),r.has("")||r.set("",e.value),t.add(e.language)})}),t.each(function(t){var i=new l.c(e.id);i.label=r.get(t),i.label||(i.label=r.get("")),i.description=n.get(t),i.description||(i.description=n.get("")),i.types=e.types.map(function(r){return r.id===e.id?i:r.asNode(t)}),e.asNodes[t]=i})}},e}(),f=function(e){function t(r){u()(this,t);var n=i()(this,e.call(this,r));return n.superClasses=[],n.subClasses=[],n.properties=[],n.inverseProperties=[],n}return s()(t,e),t}(p),d=function(e){function t(r){u()(this,t);var n=i()(this,e.call(this,r));return n.domains=[],n.ranges=[],n.superProperties=[],n.subProperties=[],n}return s()(t,e),t}(p),h=function(){function e(){u()(this,e),this.classMap=new c.c,this.propertyMap=new c.c,this.rootClasses=[],this.rootProperties=[]}return e.getFilter=function(e){return 0===e.length?"":"FILTER (?groupId IN ("+e.map(function(e){return e.toCanonical()}).join(", ")+"))"},e}();h.propertyQuery="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX sf: <http://ldf.fi/functions#>\nPREFIX dcterms: <http://purl.org/dc/terms/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nSELECT ?id ?domains ?ranges ?labels ?descriptions ?types ?inverseProperty ?superProperties ?subProperties {\n# STARTGRAPH\n  {\n    ?types rdfs:subClassOf* rdf:Property .\n    ?id a ?types .\n  }\n    {\n    ?id skos:prefLabel|rdfs:label ?labels .\n  } UNION {\n    ?id rdfs:comment|dcterms:description ?descriptions .\n  } UNION {\n    ?id owl:inverseOf ?inverseProperty .\n  } UNION {\n    ?id rdfs:domain ?domains .\n  } UNION {\n    ?id rdfs:range ?ranges .\n  } UNION {\n    ?id rdfs:subPropertyOf ?superProperties .\n  } UNION {\n    ?subProperties rdfs:subPropertyOf ?id .\n  }\n# ENDGRAPH\n}",h.classQuery="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX sf: <http://ldf.fi/functions#>\nPREFIX dcterms: <http://purl.org/dc/terms/>\nSELECT ?id ?types ?labels ?descriptions ?superClasses ?subClasses {\n# STARTGRAPH\n  {\n    ?types rdfs:subClassOf* rdfs:Class .\n    ?id a ?types .\n  }\n  {\n    ?id skos:prefLabel|rdfs:label ?labels .\n  } UNION {\n    ?id rdfs:comment|dcterms:description ?descriptions .\n  } UNION {\n    ?id rdfs:subClassOf ?superClasses .\n  } UNION {\n    ?subClasses rdfs:subClassOf ?id .\n  }\n# ENDGRAPH\n}"},function(e,t,r){e.exports={default:r(305),__esModule:!0}},function(e,t,r){"use strict";(function(e){function n(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,r){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return s(this,e,t,r)}function s(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,r,n):"string"==typeof t?c(e,t,r):d(e,t)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,r,n){return a(t),t<=0?i(e,t):void 0!==r?"string"==typeof n?i(e,t).fill(r,n):i(e,t).fill(r):i(e,t)}function l(e,t){if(a(t),e=i(e,t<0?0:0|h(t)),!o.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function c(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!o.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|g(t,r);e=i(e,n);var s=e.write(t,r);return s!==n&&(e=e.slice(0,s)),e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=i(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=p(e,t),e}function d(e,t){if(o.isBuffer(t)){var r=0|h(t.length);return e=i(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||X(t.length)?i(e,0):p(e,t);if("Buffer"===t.type&&J(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),o.alloc(+e)}function g(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(n)return q(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return N(this,t,r);case"ascii":return R(this,t,r);case"latin1":case"binary":return _(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:E(e,t,r,n,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):E(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,r,n,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}var l;if(i){var c=-1;for(l=r;l<a;l++)if(o(e,l)===o(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*s}else-1!==c&&(l-=l-c),c=-1}else for(r+u>a&&(r=a-u),l=r;l>=0;l--){for(var p=!0,f=0;f<u;f++)if(o(e,l+f)!==o(t,f)){p=!1;break}if(p)return l}return-1}function x(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function S(e,t,r,n){return z(q(t,e.length-r),e,r,n)}function T(e,t,r,n){return z(V(t),e,r,n)}function I(e,t,r,n){return T(e,t,r,n)}function w(e,t,r,n){return z(W(t),e,r,n)}function C(e,t,r,n){return z(Q(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?Y.fromByteArray(e):Y.fromByteArray(e.slice(t,r))}function N(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){var u,l,c,p;switch(a){case 1:o<128&&(s=o);break;case 2:u=e[i+1],128==(192&u)&&(p=(31&o)<<6|63&u)>127&&(s=p);break;case 3:u=e[i+1],l=e[i+2],128==(192&u)&&128==(192&l)&&(p=(15&o)<<12|(63&u)<<6|63&l)>2047&&(p<55296||p>57343)&&(s=p);break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(p=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&p<1114112&&(s=p)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=a}return L(n)}function L(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Z));return r}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function _(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=H(e[o]);return i}function O(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function P(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function F(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function j(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function M(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function $(e,t,r,n,i){return i||M(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,i){return i||M(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,r,n,52,8),r+8}function U(e){if(e=G(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function G(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function Q(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function W(e){return Y.toByteArray(U(e))}function z(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function X(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var Y=r(295),K=r(370),J=r(182);t.Buffer=o,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=n(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,r){return s(null,e,t,r)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,r){return u(null,e,t,r)},o.allocUnsafe=function(e){return l(null,e)},o.allocUnsafeSlow=function(e){return l(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!J(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?N(this,0,e):m.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,r,n,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var s=i-n,a=r-t,u=Math.min(s,a),l=this.slice(n,i),c=e.slice(t,r),p=0;p<u;++p)if(l[p]!==c[p]){s=l[p],a=c[p];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return x(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":return T(this,e,t,r);case"latin1":case"binary":return I(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n;if(o.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=o.prototype;else{var i=t-e;n=new o(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+e]}return n},o.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},o.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),K.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),K.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),K.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),K.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){D(this,e,t,r,Math.pow(2,8*r)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},o.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){D(this,e,t,r,Math.pow(2,8*r)-1,0)}var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},o.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,r){return $(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return $(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,s=n-r;if(this===e&&r<t&&t<n)for(i=s-1;i>=0;--i)e[i+t]=this[i+r];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),t);return s},o.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var a=o.isBuffer(e)?e:q(new o(e,n).toString()),u=a.length;for(s=0;s<r-t;++s)this[s+t]=a[s%u]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,r(10))},function(e,t,r){var n=r(58);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(34),i=r(79);e.exports=r(31)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){!function(n,i){e.exports=t=i(r(3))}(0,function(e){return function(){function t(e,t,r){for(var n=[],o=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2,u=r[e.charCodeAt(s)]>>>6-s%4*2;n[o>>>2]|=(a|u)<<24-o%4*8,o++}return i.create(n,o)}var r=e,n=r.lib,i=n.WordArray,o=r.enc;o.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=t[o>>>2]>>>24-o%4*8&255,a=t[o+1>>>2]>>>24-(o+1)%4*8&255,u=t[o+2>>>2]>>>24-(o+2)%4*8&255,l=s<<16|a<<8|u,c=0;c<4&&o+.75*c<r;c++)i.push(n.charAt(l>>>6*(3-c)&63));var p=n.charAt(64);if(p)for(;i.length%4;)i.push(p);return i.join("")},parse:function(e){var r=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(r=a)}return t(e,r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64})},function(e,t,r){!function(n,i){e.exports=t=i(r(3))}(0,function(e){return function(t){function r(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+i+s;return(a<<o|a>>>32-o)+t}function n(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+i+s;return(a<<o|a>>>32-o)+t}function i(e,t,r,n,i,o,s){var a=e+(t^r^n)+i+s;return(a<<o|a>>>32-o)+t}function o(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+i+s;return(a<<o|a>>>32-o)+t}var s=e,a=s.lib,u=a.WordArray,l=a.Hasher,c=s.algo,p=[];!function(){for(var e=0;e<64;e++)p[e]=4294967296*t.abs(t.sin(e+1))|0}();var f=c.MD5=l.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var s=0;s<16;s++){var a=t+s,u=e[a];e[a]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var l=this._hash.words,c=e[t+0],f=e[t+1],d=e[t+2],h=e[t+3],v=e[t+4],g=e[t+5],m=e[t+6],y=e[t+7],b=e[t+8],E=e[t+9],x=e[t+10],S=e[t+11],T=e[t+12],I=e[t+13],w=e[t+14],C=e[t+15],A=l[0],N=l[1],L=l[2],R=l[3];A=r(A,N,L,R,c,7,p[0]),R=r(R,A,N,L,f,12,p[1]),L=r(L,R,A,N,d,17,p[2]),N=r(N,L,R,A,h,22,p[3]),A=r(A,N,L,R,v,7,p[4]),R=r(R,A,N,L,g,12,p[5]),L=r(L,R,A,N,m,17,p[6]),N=r(N,L,R,A,y,22,p[7]),A=r(A,N,L,R,b,7,p[8]),R=r(R,A,N,L,E,12,p[9]),L=r(L,R,A,N,x,17,p[10]),N=r(N,L,R,A,S,22,p[11]),A=r(A,N,L,R,T,7,p[12]),R=r(R,A,N,L,I,12,p[13]),L=r(L,R,A,N,w,17,p[14]),N=r(N,L,R,A,C,22,p[15]),A=n(A,N,L,R,f,5,p[16]),R=n(R,A,N,L,m,9,p[17]),L=n(L,R,A,N,S,14,p[18]),N=n(N,L,R,A,c,20,p[19]),A=n(A,N,L,R,g,5,p[20]),R=n(R,A,N,L,x,9,p[21]),L=n(L,R,A,N,C,14,p[22]),N=n(N,L,R,A,v,20,p[23]),A=n(A,N,L,R,E,5,p[24]),R=n(R,A,N,L,w,9,p[25]),L=n(L,R,A,N,h,14,p[26]),N=n(N,L,R,A,b,20,p[27]),A=n(A,N,L,R,I,5,p[28]),R=n(R,A,N,L,d,9,p[29]),L=n(L,R,A,N,y,14,p[30]),N=n(N,L,R,A,T,20,p[31]),A=i(A,N,L,R,g,4,p[32]),R=i(R,A,N,L,b,11,p[33]),L=i(L,R,A,N,S,16,p[34]),N=i(N,L,R,A,w,23,p[35]),A=i(A,N,L,R,f,4,p[36]),R=i(R,A,N,L,v,11,p[37]),L=i(L,R,A,N,y,16,p[38]),N=i(N,L,R,A,x,23,p[39]),A=i(A,N,L,R,I,4,p[40]),R=i(R,A,N,L,c,11,p[41]),L=i(L,R,A,N,h,16,p[42]),N=i(N,L,R,A,m,23,p[43]),A=i(A,N,L,R,E,4,p[44]),R=i(R,A,N,L,T,11,p[45]),L=i(L,R,A,N,C,16,p[46]),N=i(N,L,R,A,d,23,p[47]),A=o(A,N,L,R,c,6,p[48]),R=o(R,A,N,L,y,10,p[49]),L=o(L,R,A,N,w,15,p[50]),N=o(N,L,R,A,g,21,p[51]),A=o(A,N,L,R,T,6,p[52]),R=o(R,A,N,L,h,10,p[53]),L=o(L,R,A,N,x,15,p[54]),N=o(N,L,R,A,f,21,p[55]),A=o(A,N,L,R,b,6,p[56]),R=o(R,A,N,L,C,10,p[57]),L=o(L,R,A,N,m,15,p[58]),N=o(N,L,R,A,I,21,p[59]),A=o(A,N,L,R,v,6,p[60]),R=o(R,A,N,L,S,10,p[61]),L=o(L,R,A,N,d,15,p[62]),N=o(N,L,R,A,E,21,p[63]),l[0]=l[0]+A|0,l[1]=l[1]+N|0,l[2]=l[2]+L|0,l[3]=l[3]+R|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296),s=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,u=a.words,l=0;l<4;l++){var c=u[l];u[l]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return a},clone:function(){var e=l.clone.call(this);return e._hash=this._hash.clone(),e}});s.MD5=l._createHelper(f),s.HmacMD5=l._createHmacHelper(f)}(Math),e.MD5})},function(e,t,r){(function(t){function r(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function n(e,t){return Array.prototype.slice.call(e,t||0)}function i(e,t){s(e,function(e,r){return t(e,r),!1})}function o(e,t){var r=a(e)?[]:{};return s(e,function(e,n){return r[n]=t(e,n),!1}),r}function s(e,t){if(a(e)){for(var r=0;r<e.length;r++)if(t(e[r],r))return e[r]}else for(var n in e)if(e.hasOwnProperty(n)&&t(e[n],n))return e[n]}function a(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function u(e){return e&&"[object Function]"==={}.toString.call(e)}function l(e){return e&&"[object Object]"==={}.toString.call(e)}var c=function(){return Object.assign?Object.assign:function(e,t,r,n){for(var o=1;o<arguments.length;o++)i(Object(arguments[o]),function(t,r){e[r]=t});return e}}(),p=function(){function e(){}return Object.create?function(e,t,r,i){var o=n(arguments,1);return c.apply(this,[Object.create(e)].concat(o))}:function(t,r,i,o){var s=n(arguments,1);return e.prototype=t,c.apply(this,[new e].concat(s))}}(),f=function(){return String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}(),d="undefined"!=typeof window?window:t;e.exports={assign:c,create:p,trim:f,bind:r,slice:n,each:i,map:o,pluck:s,isList:a,isFunction:u,isObject:l,Global:d}}).call(t,r(10))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(11),o=r(21),s=r(20),a=r(4);t.defaultResolvePolicy={when:"LAZY",async:"WAIT"};var u=function(){function e(t,r,o,s,u){if(this.resolved=!1,this.promise=void 0,t instanceof e)n.extend(this,t);else if(a.isFunction(r)){if(null==t||void 0==t)throw new Error("new Resolvable(): token argument is required");if(!a.isFunction(r))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=t,this.policy=s,this.resolveFn=r,this.deps=o||[],this.data=u,this.resolved=void 0!==u,this.promise=this.resolved?i.services.$q.when(this.data):void 0}else if(a.isObject(t)&&t.token&&a.isFunction(t.resolveFn)){var l=t;return new e(l.token,l.resolveFn,l.deps,l.policy,l.data)}}return e.prototype.getPolicy=function(e){var r=this.policy||{},n=e&&e.resolvePolicy||{};return{when:r.when||n.when||t.defaultResolvePolicy.when,async:r.async||n.async||t.defaultResolvePolicy.async}},e.prototype.resolve=function(e,t){var r=this,s=i.services.$q,a=function(){return s.all(e.getDependencies(r).map(function(r){return r.get(e,t)}))},u=function(e){return r.resolveFn.apply(null,e)},l=function(e){var t=e.cache(1);return t.take(1).toPromise().then(function(){return t})},c=e.findNode(this),p=c&&c.state,f="RXWAIT"===this.getPolicy(p).async?l:n.identity,d=function(e){return r.data=e,r.resolved=!0,o.trace.traceResolvableResolved(r,t),r.data};return this.promise=s.when().then(a).then(u).then(f).then(d)},e.prototype.get=function(e,t){return this.promise||this.resolve(e,t)},e.prototype.toString=function(){return"Resolvable(token: "+s.stringify(this.token)+", requires: ["+this.deps.map(s.stringify)+"])"},e.prototype.clone=function(){return new e(this)},e}();u.fromData=function(e,t){return new u(e,function(){return t},null,null,t)},t.Resolvable=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(2),o=r(20),s=r(5);!function(e){e[e.SUPERSEDED=2]="SUPERSEDED",e[e.ABORTED=3]="ABORTED",e[e.INVALID=4]="INVALID",e[e.IGNORED=5]="IGNORED",e[e.ERROR=6]="ERROR"}(n=t.RejectType||(t.RejectType={}));var a=0,u=function(){function e(e,t,r){this.$id=a++,this.type=e,this.message=t,this.detail=r}return e.prototype.toString=function(){var e=function(e){return e&&e.toString!==Object.prototype.toString?e.toString():o.stringify(e)}(this.detail),t=this;return"Transition Rejection($id: "+t.$id+" type: "+t.type+", message: "+t.message+", detail: "+e+")"},e.prototype.toPromise=function(){return i.extend(i.silentRejection(this),{_transitionRejection:this})},e.isRejectionPromise=function(t){return t&&"function"==typeof t.then&&s.is(e)(t._transitionRejection)},e.superseded=function(t,r){var i=new e(n.SUPERSEDED,"The transition has been superseded by a different transition",t);return r&&r.redirected&&(i.redirected=!0),i},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(t){return new e(n.INVALID,"This transition is invalid",t)},e.ignored=function(t){return new e(n.IGNORED,"The transition was ignored",t)},e.aborted=function(t){return new e(n.ABORTED,"The transition has been aborted",t)},e.errored=function(t){return new e(n.ERROR,"The transition errored",t)},e.normalize=function(t){return s.is(e)(t)?t:e.errored(t)},e}();t.Rejection=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(41),i=r(2),o=r(20),s=r(4),a=r(5),u=r(21),l=r(11),c=r(53),p=r(26),f={current:i.noop,transition:null,traceData:{},bind:null},d=function(){function e(e,t,r,o){var s=this;this.transition=e,this.stateContext=t,this.registeredHook=r,this.options=o,this.isSuperseded=function(){return s.type.hookPhase===n.TransitionHookPhase.RUN&&!s.options.transition.isActive()},this.options=i.defaults(o,f),this.type=r.eventType}return e.prototype.logError=function(e){this.transition.router.stateService.defaultErrorHandler()(e)},e.prototype.invokeHook=function(){var e=this,t=this.registeredHook;if(!t._deregistered){var r=this.getNotCurrentRejection();if(r)return r;var n=this.options;u.trace.traceHookInvocation(this,this.transition,n);var i=function(e){return c.Rejection.normalize(e).toPromise()},o=function(r){return t.eventType.getErrorHandler(e)(r)},a=function(r){return t.eventType.getResultHandler(e)(r)};try{var l=function(){return t.callback.call(n.bind,e.transition,e.stateContext)}();return!this.type.synchronous&&s.isPromise(l)?l.catch(i).then(a,o):a(l)}catch(e){return o(c.Rejection.normalize(e))}}},e.prototype.handleHookResult=function(e){var t=this,r=this.getNotCurrentRejection();return r||(s.isPromise(e)?e.then(function(e){return t.handleHookResult(e)}):(u.trace.traceHookResult(e,this.transition,this.options),!1===e?c.Rejection.aborted("Hook aborted transition").toPromise():a.is(p.TargetState)(e)?c.Rejection.redirected(e).toPromise():void 0))},e.prototype.getNotCurrentRejection=function(){var e=this.transition.router;return e._disposed?c.Rejection.aborted("UIRouter instance #"+e.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?c.Rejection.aborted().toPromise():this.isSuperseded()?c.Rejection.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var e=this,t=e.options,r=e.registeredHook,n=a.parse("traceData.hookType")(t)||"internal",i=a.parse("traceData.context.state.name")(t)||a.parse("traceData.context")(t)||"unknown",s=o.fnToString(r.callback);return n+" context: "+i+", "+o.maxLength(200,s)},e.chain=function(e,t){var r=function(e,t){return e.then(function(){return t.invokeHook()})};return e.reduce(r,t||l.services.$q.when())},e.invokeHooks=function(t,r){for(var n=0;n<t.length;n++){var i=t[n].invokeHook();if(s.isPromise(i)){var o=t.slice(n+1);return e.chain(o,i).then(r)}}return r()},e.runAllHooks=function(e){e.forEach(function(e){return e.invokeHook()})},e}();d.HANDLE_RESULT=function(e){return function(t){return e.handleHookResult(t)}},d.LOG_REJECTED_RESULT=function(e){return function(t){s.isPromise(t)&&t.catch(function(t){return e.logError(c.Rejection.normalize(t))})}},d.LOG_ERROR=function(e){return function(t){return e.logError(t)}},d.REJECT_ERROR=function(e){return function(e){return i.silentRejection(e)}},d.THROW_ERROR=function(e){return function(e){throw e}},t.TransitionHook=d},function(e,t,r){"use strict";function n(e){var r=function(e){return e||""},n=t.splitHash(e).map(r),i=n[0],o=n[1],s=t.splitQuery(i).map(r);return{path:s[0],search:s[1],hash:o,url:e}}function i(e,t,r,n){return function(i){function o(e){e.dispose(s),e.dispose(a)}var s=i.locationService=new r(i),a=i.locationConfig=new n(i,t);return{name:e,service:s,configuration:a,dispose:o}}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(65),s=r(2),a=function(e){return function(t){if(!t)return["",""];var r=t.indexOf(e);return-1===r?[t,""]:[t.substr(0,r),t.substr(r+1)]}};t.splitHash=a("#"),t.splitQuery=a("?"),t.splitEqual=a("="),t.trimHashVal=function(e){return e?e.replace(/^#/,""):""},t.keyValsToObjectR=function(e,t){var r=t[0],n=t[1];return e.hasOwnProperty(r)?o.isArray(e[r])?e[r].push(n):e[r]=[e[r],n]:e[r]=n,e},t.getParams=function(e){return e.split("&").filter(s.identity).map(t.splitEqual).reduce(t.keyValsToObjectR,{})},t.parseUrl=n,t.buildUrl=function(e){var t=e.path(),r=e.search(),n=e.hash(),i=Object.keys(r).map(function(e){var t=r[e];return(o.isArray(t)?t:[t]).map(function(t){return e+"="+t})}).reduce(s.unnestR,[]).join("&");return t+(i?"?"+i:"")+(n?"#"+n:"")},t.locationPluginFactory=i},function(e,t,r){"use strict";r.d(t,"b",function(){return f}),r.d(t,"a",function(){return v});var n=r(44),i=r.n(n),o=r(1),s=r.n(o),a=r(6),u=r(76),l=r(22),c=r(27),p=(r.n(c),r(0)),f=(r.n(p),function e(){s()(this,e),this.localMatchingResults=[],this.localNonMatchingResults=[],this.remoteResults=[]}),d=function e(t){s()(this,e),this.label=t,this.results=[]},h=function e(t,r,n,i){s()(this,e),this.ids=t,this.datasources=r,this.matchedLabel=n,this.prefLabel=i,this.additionalInformation={}},v=function(){function e(t){s()(this,e),this.workerService=t}return e.$inject=["workerService"],e.prototype.autocomplete=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments[4];return this.workerService.call("sparqlAutocompleteWorkerService","autocomplete",[e,t,r,n],i)},e}();v.naiveMatchQueryTemplate='PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX mads: <http://www.loc.gov/mads/rdf/v1#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX dcterms: <http://purl.org/dc/terms/>\nSELECT ?groupId ?id ?prefLabel ?matchedLabel ?sameAs ?altLabel { # ADDITIONALVARIABLES\nGRAPH <GRAPH> {\n  {\n    SELECT ?groupId ?id {\n      {\n        ?id skos:prefLabel|rdfs:label|skos:altLabel|mads:authoritativeLabel|mads:variantLabel <QUERY> .\n      } UNION {\n        ?id skos:prefLabel|rdfs:label|skos:altLabel|mads:authoritativeLabel|mads:variantLabel <QUERY>@<PREFLANG> .\n      }\n      ?id a ?groupId .\n    }\n    GROUP BY ?groupId ?id\n    HAVING(BOUND(?id))\n    LIMIT <LIMIT>\n  }\n  ?id skos:prefLabel|rdfs:label|skos:altLabel|mads:authoritativeLabel|mads:variantLabel ?matchedLabel .\n  FILTER (REGEX(LCASE(?matchedLabel),CONCAT("\\\\b",LCASE(<QUERY>))))\n  BIND(COALESCE(?groupLabelP,REPLACE(REPLACE(REPLACE(REPLACE(STR(?groupId),".*/",""),".*#",""),"_"," "),"([A-Z])"," $1")) AS ?groupLabel)\n  {\n    ?id  rdfs:label|skos:prefLabel|mads:authoritativeLabel ?prefLabel .\n  } UNION {\n    ?id owl:sameAs ?sameAs .\n  } UNION {\n    ?id skos:altLabel|mads:variantLabel ?altLabel .\n  }\n  # ADDITIONALSELECT\n}\n}',v.defaultMatchQuery='\nPREFIX text: <http://jena.apache.org/text#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX mads: <http://www.loc.gov/mads/rdf/v1#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX sf: <http://ldf.fi/functions#>\nPREFIX fibra: <http://ldf.fi/fibra/schema#>\nPREFIX dcterms: <http://purl.org/dc/terms/>\nSELECT ?groupId ?id ?prefLabel ?matchedLabel ?sameAs ?altLabel { # ADDITIONALVARIABLES\n# STARTGRAPH\n  {\n    SELECT ?groupId ?id (SUM(?sc) AS ?score) {\n      {\n        SELECT ?groupId ?id ?sc {\n          BIND(CONCAT("\\"",REPLACE(<QUERY>,"([\\\\+\\\\-\\\\&\\\\|\\\\!\\\\(\\\\)\\\\{\\\\}\\\\[\\\\]\\\\^\\\\\\"\\\\~\\\\*\\\\?\\\\:\\\\/\\\\\\\\])","\\\\$1"),"\\"") AS ?query)\n          (?id ?sc) text:query ?query .\n          ?id skos:prefLabel|rdfs:label|skos:altLabel|mads:authoritativeLabel|mads:variantLabel ?matchedLabel\n          FILTER (LCASE(?matchedLabel)=LCASE(<QUERY>))\n          ?id a ?groupIdLocal .\n          BIND(?groupIdLocal AS ?groupId)\n          # CONSTRAINTS\n        }\n        GROUP BY ?groupId ?id ?sc\n        LIMIT <LIMIT>\n      } UNION {\n        SELECT ?groupId ?id ?sc {\n          BIND(CONCAT(REPLACE(<QUERY>,"([\\\\+\\\\-\\\\&\\\\|\\\\!\\\\(\\\\)\\\\{\\\\}\\\\[\\\\]\\\\^\\\\\\"\\\\~\\\\*\\\\?\\\\:\\\\/\\\\\\\\])","\\\\$1"),"*") AS ?query)\n          (?id ?sc) text:query ?query .\n          ?id a ?groupIdLocal .\n          BIND(?groupIdLocal AS ?groupId)\n          # CONSTRAINTS\n        }\n        GROUP BY ?groupId ?id ?sc\n        LIMIT <LIMIT>\n      }\n    }\n    GROUP BY ?groupId ?id\n    HAVING(BOUND(?id))\n    LIMIT <LIMIT>\n  }\n  ?id skos:prefLabel|rdfs:label|skos:altLabel|mads:authoritativeLabel|mads:variantLabel ?matchedLabel\n  FILTER (REGEX(LCASE(?matchedLabel),CONCAT("\\\\b",LCASE(<QUERY>))))\n  {\n    ?id sf:preferredLanguageLiteral (skos:prefLabel mads:authoritativeLabel rdfs:label skos:altLabel mads:variantLabel \'<PREFLANG>\' \'\' ?prefLabel) .\n  } UNION {\n    ?id owl:sameAs ?sameAs .\n  } UNION {\n    ?id skos:altLabel|mads:variantLabel ?altLabel .\n  }\n  # ADDITIONALSELECT\n# ENDGRAPH\n}\n';var g=function e(){s()(this,e),this.idToIdSet=new l.a(function(){return new l.d}),this.idToGroupIdSet=new l.a(function(){return new l.d}),this.ifpVarPlusValueToIdSet=new l.a(function(){return new l.a(function(){return new l.d})}),this.idToPrefLabelSet=new l.a(function(){return new a.m}),this.idToMatchedLabelSet=new l.a(function(){return new a.m}),this.idToAltLabelSet=new l.a(function(){return new a.m}),this.idToDatasourceSet=new l.a(function(){return new l.d}),this.seen=new l.d};!function(){function e(t,r,n){s()(this,e),this.$q=t,this.fibraSparqlService=r,this.stateWorkerService=n}e.$inject=["$q","fibraSparqlService","stateWorkerService"],e.processBindings=function(e,t,r){r.results.bindings.forEach(function(n){var o=n.id.value;e.idToIdSet.goc(o).add(o),e.idToDatasourceSet.goc(o).add(t),n.prefLabel&&e.idToPrefLabelSet.goc(o).add(a.a.instance.nodeFromBinding(n.prefLabel)),n.altLabel&&e.idToAltLabelSet.goc(o).add(a.a.instance.nodeFromBinding(n.altLabel)),n.matchedLabel&&e.idToMatchedLabelSet.goc(o).add(a.a.instance.nodeFromBinding(n.matchedLabel)),n.groupId&&(e.idToGroupIdSet.goc(o).add(n.groupId.value),n.groupLabel&&e.idToPrefLabelSet.goc(n.groupId.value).add(a.a.instance.nodeFromBinding(n.groupLabel))),n.sameAs&&(e.idToIdSet.get(o).add(n.sameAs.value),e.idToIdSet.goc(n.sameAs.value).add(o));for(var s=r.head.vars,u=Array.isArray(s),l=0,s=u?s:i()(s);;){var c;if(u){if(l>=s.length)break;c=s[l++]}else{if(l=s.next(),l.done)break;c=l.value}var p=c;0===p.indexOf("ifp")&&n[p]&&e.ifpVarPlusValueToIdSet.goc(p.substring(3)).goc(n[p].value).add(o)}})},e.buildResults=function(e,t,r,n){var i=[];return e.idToIdSet.each(function(o,s){if(!e.seen.has(s)&&!o.values().some(function(t){return e.seen.has(t)})){e.seen.adds(o);var u=new h(o.values().map(function(e){return a.a.instance.namedNode(e)}),e.idToDatasourceSet.get(s).values(),e.idToMatchedLabelSet.get(s).values()[0],e.idToPrefLabelSet.has(s)?e.idToPrefLabelSet.get(s).values()[0]:null);e.idToAltLabelSet.has(s)&&(u.additionalInformation.altLabel=e.idToAltLabelSet.get(s).values()),u.additionalInformation.type=e.idToGroupIdSet.get(s).values().map(function(e){return a.a.instance.namedNode(e)}),u.additionalInformation.typeLabel=e.idToGroupIdSet.get(s).values().map(function(t){return e.idToPrefLabelSet.has(s)?e.idToPrefLabelSet.get(s).values()[0]:null}),e.idToGroupIdSet.get(s).each(function(o){return t.goc(o,function(){var t=r.classMap.has(o)?r.classMap.get(o).getLabel(n):e.idToPrefLabelSet.has(o)?e.idToPrefLabelSet.get(o).values()[0].value:o,s=new d(t);return i.push(s),s}).results.push(u)})}}),i},e.unifyResults=function(e){e.ifpVarPlusValueToIdSet.each(function(t){return t.each(function(t){return t.each(function(r){return e.idToIdSet.goc(r).adds(t)})})}),e.idToIdSet.each(function(t,r){return t.each(function(n){var i=e.idToIdSet.get(n);if(t!==i){e.idToIdSet.set(n,t),t.adds(i);var o=e.idToDatasourceSet.get(r),s=e.idToDatasourceSet.get(n);o?(s&&o.adds(s),e.idToDatasourceSet.set(n,o)):s&&e.idToDatasourceSet.set(r,s);var a=e.idToGroupIdSet.get(r),u=e.idToGroupIdSet.get(n);a?(u&&a.adds(u),e.idToGroupIdSet.set(n,a)):u&&e.idToGroupIdSet.set(r,u);var l=e.idToPrefLabelSet.get(r),c=e.idToPrefLabelSet.get(n);l?(c&&l.adds(c),e.idToPrefLabelSet.set(n,l)):c&&e.idToPrefLabelSet.set(r,c),l=e.idToMatchedLabelSet.get(r),c=e.idToMatchedLabelSet.get(n),l?(c&&l.adds(c),e.idToMatchedLabelSet.set(n,l)):c&&e.idToMatchedLabelSet.set(r,c),l=e.idToAltLabelSet.get(r),c=e.idToAltLabelSet.get(n),l?(c&&l.adds(c),e.idToAltLabelSet.set(n,l)):c&&e.idToAltLabelSet.set(r,c)}})})},e.prototype.autocomplete=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments[4],a=this.$q.defer(),p=new f,d=this.stateWorkerService.state.project.autocompletionQuery;d=d.replace(/<QUERY>/g,c.SparqlService.stringToSPARQLString(t)),d=d.replace(/<LIMIT>/g,""+r),d=d.replace(/# CONSTRAINTS/g,o),d=d.replace(/<PREFLANG>/g,this.stateWorkerService.state.language);var h=new g,v=this.fibraSparqlService.query(this.stateWorkerService.state.project.endpoint,d,{timeout:s}).then(function(t){e.processBindings(h,i.stateWorkerService.state.project.endpoint,t),p.localMatchingResults=e.buildResults(h,new l.a,i.stateWorkerService.state.project.dataModel,i.stateWorkerService.state.language),n?a.notify({endpointType:"primary",endpoint:i.stateWorkerService.state.project.id,results:p}):a.resolve(p)});if(n){var m=new l.a;this.$q.all(this.stateWorkerService.state.project.remoteEndpoints().map(function(n){return d=n.autocompletionQuery,d=d.replace(/<QUERY>/g,c.SparqlService.stringToSPARQLString(t)),d=d.replace(/<LIMIT>/g,""+r),d=d.replace(/<PREFLANG>/g,i.stateWorkerService.state.language),i.fibraSparqlService.query(n.endpoint,d,{timeout:s}).then(function(t){0!==t.results.bindings.length&&v.then(function(){e.processBindings(h,n.id,t),e.unifyResults(h),p.remoteResults=p.remoteResults.concat(e.buildResults(h,m,i.stateWorkerService.state.project.dataModel,i.stateWorkerService.state.language)),a.notify({endpointType:"remote",endpoint:n.id,results:p})})},function(e){return a.notify({endpointType:"remote",endpoint:n.id,error:u.a.stripFunctions(e)})})})).then(function(){return a.resolve(p)})}return a.promise}}();p.module("fibra.services.sparql-autocomplete-service",[]).config(["$provide",function(e){e.service("sparqlAutocompleteService",v)}])},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(1),i=r.n(n),o=r(0),s=(r.n(o),r(95)),a=function(){function e(t){i()(this,e),this.workerService=t}return e.$inject=["workerService"],e.prototype.getTree=function(e,t,r){return this.workerService.call("sparqlTreeWorkerService","getTree",[e,t],r)},e}();a.getClassTreeQuery='PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX sf: <http://ldf.fi/functions#>\nSELECT ?subClass ?superClass ?class ?classLabel ?instances {\n# STARTGRAPH\n  {\n    ?groupId rdfs:subClassOf ?class .\n    FILTER EXISTS {\n      ?id a ?groupId .\n      # CONSTRAINTS\n    }\n    BIND(?groupId AS ?subClass)\n  } UNION {\n    {\n      SELECT ?groupId (COUNT(*) AS ?instances) {\n        ?id a ?groupId .\n      }\n      GROUP BY ?groupId\n    }\n    # CONSTRAINTS\n    BIND (?groupId AS ?class)\n  }\n  OPTIONAL {\n    ?class sf:preferredLanguageLiteral (skos:prefLabel rdfs:label skos:altLabel \'en\' \'\' ?classLabelP) .\n  }\n  FILTER(ISIRI(?class))\n  BIND(COALESCE(?classLabelP,REPLACE(REPLACE(REPLACE(REPLACE(STR(?class),".*/",""),".*#",""),"_"," "),"([A-Z])"," $1")) AS ?classLabel)\n# ENDGRAPH\n}\n';!function(){function e(t){i()(this,e),this.fibraSparqlService=t}e.$inject=["fibraSparqlService"],e.prototype.getTree=function(e,t,r){return this.fibraSparqlService.query(e,t,{timeout:r}).then(function(e){var t={},r={};e.results.bindings.forEach(function(e){if(e.classLabel&&(r[e.class.value]=new s.a(e.class.value,e.classLabel.value)),e.instances&&(r[e.class.value].instances=parseInt(e.instances.value,10)),e.subClass){var n=e.subClass.value;t[n]||(t[n]={}),t[n][e.class.value]=!0}if(e.superClass){var i=e.class.value;t[i]||(t[i]={}),t[i][e.superClass.value]=!0}});var n=[];for(var i in r)if(t[i])for(var o in t[i])r[o].children.push(r[i]);else n.push(r[i]);return n})}}();o.module("fibra.services.sparql-tree-service",[]).config(["$provide",function(e){e.service("sparqlTreeService",a)}])},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(173),i=r(102);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){(function(e){function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function n(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function l(e){return void 0===e}function c(e){return"[object RegExp]"===g(e)}function p(e){return"object"==typeof e&&null!==e}function f(e){return"[object Date]"===g(e)}function d(e){return"[object Error]"===g(e)||e instanceof Error}function h(e){return"function"==typeof e}function v(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function g(e){return Object.prototype.toString.call(e)}t.isArray=r,t.isBoolean=n,t.isNull=i,t.isNullOrUndefined=o,t.isNumber=s,t.isString=a,t.isSymbol=u,t.isUndefined=l,t.isRegExp=c,t.isObject=p,t.isDate=f,t.isError=d,t.isFunction=h,t.isPrimitive=v,t.isBuffer=e.isBuffer}).call(t,r(45).Buffer)},function(e,t,r){t=e.exports=r(195),t.Stream=t,t.Readable=t,t.Writable=r(126),t.Duplex=r(38),t.Transform=r(196),t.PassThrough=r(435)},function(e,t,r){"use strict";window.console=window.console||{log:function(){}};var n=r(14),i=r(17),o=r(86),s=r(130),a=r(207);r(473),r(163),r(300),r(301),r(299),r(208),r(302),r(304),r(298),r(303),r(297),r(475);var u=e.exports=function(e,t){var r=n("<div>",{class:"yasqe"}).appendTo(n(e));t=l(t);var o=c(i(r[0],t));return d(o),o},l=function(e){return n.extend(!0,{},u.defaults,e)},c=function(e){e.autocompleters=r(478)(u,e),e.options.autocompleters&&e.options.autocompleters.forEach(function(t){u.Autocompleters[t]&&e.autocompleters.init(t,u.Autocompleters[t])}),e.lastQueryDuration=null,e.getCompleteToken=function(t,n){return r(85).getCompleteToken(e,t,n)},e.getPreviousNonWsToken=function(t,n){return r(85).getPreviousNonWsToken(e,t,n)},e.getNextNonWsToken=function(t,n){return r(85).getNextNonWsToken(e,t,n)},e.collapsePrefixes=function(t){void 0===t&&(t=!0),e.foldCode(r(208).findFirstPrefixLine(e),u.fold.prefix,t?"fold":"unfold")};var t=null,i=null;return e.setBackdrop=function(r){(e.options.backdrop||0===e.options.backdrop||"0"===e.options.backdrop)&&(null===i&&1===(i=+e.options.backdrop)&&(i=400),t||(t=n("<div>",{class:"backdrop"}).click(function(){n(this).hide()}).insertAfter(n(e.getWrapperElement()))),r?t.show(i):t.hide(i))},e.query=function(t){u.executeQuery(e,t)},e.getUrlArguments=function(t){return u.getUrlArguments(e,t)},e.getPrefixesFromQuery=function(){return r(131).getPrefixesFromQuery(e)},e.addPrefixes=function(t){return r(131).addPrefixes(e,t)},e.removePrefixes=function(t){return r(131).removePrefixes(e,t)},e.getValueWithoutComments=function(){var t="";return u.runMode(e.getValue(),"sparql11",function(e,r){"comment"!=r&&(t+=e)}),t},e.getQueryType=function(){return e.queryType},e.getQueryMode=function(){var t=e.getQueryType();return"INSERT"==t||"DELETE"==t||"LOAD"==t||"CLEAR"==t||"CREATE"==t||"DROP"==t||"COPY"==t||"MOVE"==t||"ADD"==t?"update":"query"},e.setCheckSyntaxErrors=function(t){e.options.syntaxErrorCheck=t,g(e)},e.enableCompleter=function(t){p(e.options,t),u.Autocompleters[t]&&e.autocompleters.init(t,u.Autocompleters[t])},e.disableCompleter=function(t){f(e.options,t)},e},p=function(e,t){e.autocompleters||(e.autocompleters=[]),e.autocompleters.push(t)},f=function(e,t){if("object"==typeof e.autocompleters){var r=n.inArray(t,e.autocompleters);r>=0&&(e.autocompleters.splice(r,1),f(e,t))}},d=function(e){var t=o.getPersistencyId(e,e.options.persistent);if(t){var r=s.storage.get(t);r&&e.setValue(r)}u.drawButtons(e),e.on("blur",function(e,t){u.storeQuery(e)}),e.on("change",function(e,t){g(e),u.updateQueryButton(e),u.positionButtons(e)}),e.on("changes",function(){g(e),u.updateQueryButton(e),u.positionButtons(e)}),e.on("cursorActivity",function(e,t){v(e)}),e.prevQueryValid=!1,g(e),u.positionButtons(e),n(e.getWrapperElement()).on("mouseenter",".cm-atom",function(){var t=n(this).text();n(e.getWrapperElement()).find(".cm-atom").filter(function(){return n(this).text()===t}).addClass("matchingVar")}).on("mouseleave",".cm-atom",function(){n(e.getWrapperElement()).find(".matchingVar").removeClass("matchingVar")}),e.options.consumeShareLink&&(e.options.consumeShareLink(e,h()),window.addEventListener("hashchange",function(){e.options.consumeShareLink(e,h())})),e.options.collapsePrefixesOnLoad&&e.collapsePrefixes(!0)},h=function(){var e=null;return window.location.hash.length>1&&(e=n.deparam(location.href.split("#")[1])),e&&"query"in e||!(window.location.search.length>1)||(e=n.deparam(window.location.search.substring(1))),e},v=function(e){e.cursor=n(".CodeMirror-cursor"),e.buttons&&e.buttons.is(":visible")&&e.cursor.length>0&&(o.elementsOverlap(e.cursor,e.buttons)?e.buttons.find("svg").attr("opacity","0.2"):e.buttons.find("svg").attr("opacity","1.0"))},g=function(e,t){e.queryValid=!0,e.clearGutter("gutterErrorBar");for(var i=null,o=0;o<e.lineCount();++o){var u=!1;e.prevQueryValid||(u=!0);var l=e.getTokenAt({line:o,ch:e.getLine(o).length},u),i=l.state;if(e.queryType=i.queryType,0==i.OK){if(!e.options.syntaxErrorCheck)return void n(e.getWrapperElement).find(".sp-error").css("color","black");var c=s.svg.getElement(a.warning);i.errorMsg?r(210)(e,c,function(){return n("<div/>").text(l.state.errorMsg).html()}):i.possibleCurrent&&i.possibleCurrent.length>0&&r(210)(e,c,function(){var e=[];return i.possibleCurrent.forEach(function(t){e.push("<strong style='text-decoration:underline'>"+n("<div/>").text(t).html()+"</strong>")}),"This line is invalid. Expected: "+e.join(", ")}),c.style.marginTop="2px",c.style.marginLeft="2px",c.className="parseErrorIcon",e.setGutterMarker(o,"gutterErrorBar",c),e.queryValid=!1;break}}if(e.prevQueryValid=e.queryValid,t&&null!=i&&void 0!=i.stack){var p=i.stack,f=i.stack.length;f>1?e.queryValid=!1:1==f&&"solutionModifier"!=p[0]&&"?limitOffsetClauses"!=p[0]&&"?offsetClause"!=p[0]&&(e.queryValid=!1)}};n.extend(u,i),u.Autocompleters={},u.registerAutocompleter=function(e,t){u.Autocompleters[e]=t,p(u.defaults,e)},u.autoComplete=function(e){e.autocompleters.autoComplete(!1)},u.registerAutocompleter("prefixes",r(480)),u.registerAutocompleter("properties",r(481)),u.registerAutocompleter("classes",r(479)),u.registerAutocompleter("variables",r(482)),u.positionButtons=function(e){var t=n(e.getWrapperElement()).find(".CodeMirror-vscrollbar"),r=0;t.is(":visible")&&(r=t.outerWidth()),e.buttons.is(":visible")&&e.buttons.css("right",r+4)},u.createShareLink=function(e){var t={};return window.location.hash.length>1&&(t=n.deparam(window.location.hash.substring(1))),t.query=e.getValue(),t},u.getAsCurl=function(e,t){return r(483).createCurlString(e,t)},u.consumeShareLink=function(e,t){t&&t.query&&e.setValue(t.query)},u.drawButtons=function(e){if(e.buttons=n("<div class='yasqe_buttons'></div>").appendTo(n(e.getWrapperElement())),e.options.createShareLink){var t=n(s.svg.getElement(a.share));t.click(function(r){r.stopPropagation();var i=n("<div class='yasqe_sharePopup'></div>").appendTo(e.buttons);n("html").click(function(){i&&i.remove()}),i.click(function(e){e.stopPropagation()});var o=n("<input>").val(location.protocol+"//"+location.host+location.pathname+location.search+"#"+n.param(e.options.createShareLink(e)));o.focus(function(){var e=n(this);e.select(),e.mouseup(function(){return e.unbind("mouseup"),!1})}),i.empty().append(n("<div>",{class:"inputWrapper"}).append(o)),e.options.createShortLink&&(i.addClass("enableShort"),n("<button>Shorten</button>").addClass("yasqe_btn yasqe_btn-sm yasqe_btn-primary").click(function(){n(this).parent().find("button").attr("disabled","disabled"),e.options.createShortLink(o.val(),function(e,t){e?(o.remove(),i.find(".inputWrapper").append(n("<span>",{class:"shortlinkErr"}).text(e))):o.val(t).focus()})}).appendTo(i)),n("<button>CURL</button>").addClass("yasqe_btn yasqe_btn-sm yasqe_btn-primary").click(function(){n(this).parent().find("button").attr("disabled","disabled"),o.val(u.getAsCurl(e)).focus()}).appendTo(i);var s=t.position();i.css("top",s.top+t.outerHeight()+parseInt(i.css("padding-top"))+"px").css("left",s.left+t.outerWidth()-i.outerWidth()+"px"),o.focus()}).addClass("yasqe_share").attr("title","Share your query").appendTo(e.buttons)}var r=n("<div>",{class:"fullscreenToggleBtns"}).append(n(s.svg.getElement(a.fullscreen)).addClass("yasqe_fullscreenBtn").attr("title","Set editor full screen").click(function(){e.setOption("fullScreen",!0)})).append(n(s.svg.getElement(a.smallscreen)).addClass("yasqe_smallscreenBtn").attr("title","Set editor to normal size").click(function(){e.setOption("fullScreen",!1)}));e.buttons.append(r),e.options.sparql.showQueryButton&&(n("<div>",{class:"yasqe_queryButton"}).click(function(){n(this).hasClass("query_busy")?(e.xhr&&e.xhr.abort(),u.updateQueryButton(e)):e.query()}).appendTo(e.buttons),u.updateQueryButton(e))};var m={busy:"loader",valid:"query",error:"queryInvalid"};u.updateQueryButton=function(e,t){var r=n(e.getWrapperElement()).find(".yasqe_queryButton");0!=r.length&&(t||(t="valid",!1===e.queryValid&&(t="error")),t!=e.queryStatus&&(r.empty().removeClass(function(e,t){return t.split(" ").filter(function(e){return 0==e.indexOf("query_")}).join(" ")}),"busy"==t?(r.append(n("<div>",{class:"loader"})),e.queryStatus=t):"valid"!=t&&"error"!=t||(r.addClass("query_"+t),s.svg.draw(r,a[m[t]]),e.queryStatus=t)))},u.fromTextArea=function(e,t){t=l(t);var r=(n("<div>",{class:"yasqe"}).insertBefore(n(e)).append(n(e)),c(i.fromTextArea(e,t)));return d(r),r},u.storeQuery=function(e){var t=o.getPersistencyId(e,e.options.persistent);t&&s.storage.set(t,e.getValue(),"month",e.options.onQuotaExceeded)},u.commentLines=function(e){for(var t=e.getCursor(!0).line,r=e.getCursor(!1).line,n=Math.min(t,r),i=Math.max(t,r),o=!0,s=n;s<=i;s++){var a=e.getLine(s);if(0==a.length||"#"!=a.substring(0,1)){o=!1;break}}for(var s=n;s<=i;s++)o?e.replaceRange("",{line:s,ch:0},{line:s,ch:1}):e.replaceRange("#",{line:s,ch:0})},u.copyLineUp=function(e){var t=e.getCursor(),r=e.lineCount();e.replaceRange("\n",{line:r-1,ch:e.getLine(r-1).length});for(var n=r;n>t.line;n--){var i=e.getLine(n-1);e.replaceRange(i,{line:n,ch:0},{line:n,ch:e.getLine(n).length})}},u.copyLineDown=function(e){u.copyLineUp(e);var t=e.getCursor();t.line++,e.setCursor(t)},u.doAutoFormat=function(e){e.somethingSelected()||e.execCommand("selectAll");var t={line:e.getCursor(!1).line,ch:e.getSelection().length};y(e,e.getCursor(!0),t)};var y=function(e,t,r){var n=e.indexFromPos(t),i=e.indexFromPos(r),o=b(e.getValue(),n,i);e.operation(function(){e.replaceRange(o,t,r);for(var i=e.posFromIndex(n).line,s=e.posFromIndex(n+o.length).line,a=i;a<=s;a++)e.indentLine(a,"smart")})},b=function(e,t,r){e=e.substring(t,r);var o=[["keyword","ws","prefixed","ws","uri"],["keyword","ws","uri"]],s=["{",".",";"],a=["}"],u=function(e,t){for(var r=0;r<o.length;r++)if(p.valueOf().toString()==o[r].valueOf().toString())return 1;for(var r=0;r<s.length;r++)if(e==s[r])return 1;for(var r=0;r<a.length;r++)if(""!=n.trim(c)&&e==a[r])return-1;return 0},l="",c="",p=[];return i.runMode(e,"sparql11",function(e,t){p.push(t);var r=u(e);0!=r?(1==r?(l+=e+"\n",c=""):(l+="\n"+e,c=e),p=[]):(c+=e,l+=e),1==p.length&&"sp-ws"==p[0]&&(p=[])}),n.trim(l.replace(/\n\s*\n/g,"\n"))};r(209),r(484),u.$=n,u.version={CodeMirror:i.version,YASQE:r(477).version,jquery:n.fn.jquery,"yasgui-utils":s.version}},function(e,t){e.exports=d3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.text=e,this.glob=e.split(".");var t=this.text.split(".").map(function(e){return"**"===e?"(?:|(?:\\.[^.]*)*)":"*"===e?"\\.[^.]*":"\\."+e}).join("");this.regexp=new RegExp("^"+t+"$")}return e.prototype.matches=function(e){return this.regexp.test("."+e)},e.is=function(e){return!!/[!,*]+/.exec(e)},e.fromString=function(t){return e.is(t)?new e(t):null},e}();t.Glob=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(2)),n(r(11)),n(r(64)),n(r(5)),n(r(4)),n(r(87)),n(r(20)),n(r(21))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(5),o=r(26),s=r(89),a=function(){function e(){}return e.makeTargetState=function(e){var t=n.tail(e).state;return new o.TargetState(t,t,e.map(i.prop("paramValues")).reduce(n.mergeR,{}))},e.buildPath=function(e){var t=e.params();return e.$state().path.map(function(e){return new s.PathNode(e).applyRawParams(t)})},e.buildToPath=function(t,r){var n=e.buildPath(r);return r.options().inherit?e.inheritParams(t,n,Object.keys(r.params())):n},e.applyViewConfigs=function(t,r,i){r.filter(function(e){return n.inArray(i,e.state)}).forEach(function(i){var o=n.values(i.state.views||{}),s=e.subPath(r,function(e){return e===i}),a=o.map(function(e){return t.createViewConfig(s,e)});i.views=a.reduce(n.unnestR,[])})},e.inheritParams=function(e,t,r){function o(e,t){var r=n.find(e,i.propEq("state",t));return n.extend({},r&&r.paramValues)}function a(t){var i=n.extend({},t&&t.paramValues),a=n.pick(i,r);i=n.omit(i,r);var l=n.omit(o(e,t.state)||{},u),c=n.extend(i,l,a);return new s.PathNode(t.state).applyRawParams(c)}void 0===r&&(r=[]);var u=e.map(function(e){return e.paramSchema}).reduce(n.unnestR,[]).filter(function(e){return!e.inherit}).map(i.prop("id"));return t.map(a)},e.treeChanges=function(t,r,n){function i(e,t){var n=s.PathNode.clone(e);return n.paramValues=r[t].paramValues,n}for(var o=0,a=Math.min(t.length,r.length);o<a&&t[o].state!==n&&function(t,r){return t.equals(r,e.nonDynamicParams)}(t[o],r[o]);)o++;var u,l,c,p,f;u=t,l=u.slice(0,o),c=u.slice(o);var d=l.map(i);return p=r.slice(o),f=d.concat(p),{from:u,to:f,retained:l,exiting:c,entering:p}},e.matching=function(e,t,r){var i=!1;return n.arrayTuples(e,t).reduce(function(e,t){var n=t[0],o=t[1];return i=i||!n.equals(o,r),i?e:e.concat(n)},[])},e.equals=function(t,r,n){return t.length===r.length&&e.matching(t,r,n).length===t.length},e.subPath=function(e,t){var r=n.find(e,t),i=e.indexOf(r);return-1===i?void 0:e.slice(0,i+1)},e}();a.nonDynamicParams=function(e){return e.state.parameters({inherit:!1}).filter(function(e){return!e.dynamic})},a.paramValues=function(e){return e.reduce(function(e,t){return n.extend(e,t.paramValues)},{})},t.PathUtils=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(5),o=r(21),s=r(11),a=r(136),u=r(52),l=r(66),c=r(20),p=a.resolvePolicies.when,f=[p.EAGER,p.LAZY],d=[p.EAGER];t.NATIVE_INJECTOR_TOKEN="Native Injector";var h=function(){function e(e){this._path=e}return e.prototype.getTokens=function(){return this._path.reduce(function(e,t){return e.concat(t.resolvables.map(function(e){return e.token}))},[]).reduce(n.uniqR,[])},e.prototype.getResolvable=function(e){var t=this._path.map(function(e){return e.resolvables}).reduce(n.unnestR,[]).filter(function(t){return t.token===e});return n.tail(t)},e.prototype.getPolicy=function(e){var t=this.findNode(e);return e.getPolicy(t.state)},e.prototype.subContext=function(t){return new e(l.PathUtils.subPath(this._path,function(e){return e.state===t}))},e.prototype.addResolvables=function(e,t){var r=n.find(this._path,i.propEq("state",t)),o=e.map(function(e){return e.token});r.resolvables=r.resolvables.filter(function(e){return-1===o.indexOf(e.token)}).concat(e)},e.prototype.resolvePath=function(e,t){var r=this;void 0===e&&(e="LAZY");var u=n.inArray(f,e)?e:"LAZY",l=u===a.resolvePolicies.when.EAGER?d:f;o.trace.traceResolvePath(this._path,e,t);var c=function(e,t){return function(i){return n.inArray(e,r.getPolicy(i)[t])}},p=this._path.reduce(function(e,n){var o=n.resolvables.filter(c(l,"when")),s=o.filter(c(["NOWAIT"],"async")),a=o.filter(i.not(c(["NOWAIT"],"async"))),u=r.subContext(n.state),p=function(e){return e.get(u,t).then(function(t){return{token:e.token,value:t}})};return s.forEach(p),e.concat(a.map(p))},[]);return s.services.$q.all(p)},e.prototype.injector=function(){return this._injector||(this._injector=new v(this))},e.prototype.findNode=function(e){return n.find(this._path,function(t){return n.inArray(t.resolvables,e)})},e.prototype.getDependencies=function(e){var t=this,r=this.findNode(e),i=l.PathUtils.subPath(this._path,function(e){return e===r})||this._path,o=i.reduce(function(e,t){return e.concat(t.resolvables)},[]).filter(function(t){return t!==e}),s=function(e){var r=o.filter(function(t){return t.token===e});if(r.length)return n.tail(r);var i=t.injector().getNative(e);if(!i)throw new Error("Could not find Dependency Injection token: "+c.stringify(e));return new u.Resolvable(e,function(){return i},[],i)};return e.deps.map(s)},e}();t.ResolveContext=h;var v=function(){function e(e){this.context=e,this.native=this.get(t.NATIVE_INJECTOR_TOKEN)||s.services.$injector}return e.prototype.get=function(e){var t=this.context.getResolvable(e);if(t){if("NOWAIT"===this.context.getPolicy(t).async)return t.get(this.context);if(!t.resolved)throw new Error("Resolvable async .get() not complete:"+c.stringify(t.token));return t.data}return this.native&&this.native.get(e)},e.prototype.getAsync=function(e){var t=this.context.getResolvable(e);return t?t.get(this.context):s.services.$q.when(this.native.get(e))},e.prototype.getNative=function(e){return this.native&&this.native.get(e)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21),i=r(11),o=r(2),s=r(4),a=r(5),u=r(41),l=r(54),c=r(91),p=r(143),f=r(66),d=r(26),h=r(40),v=r(52),g=r(67),m=a.prop("self"),y=function(){function e(e,t,r){var n=this;if(this._deferred=i.services.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new p.HookBuilder(this),this.isActive=function(){return n.router.globals.transition===n},this.router=r,this._targetState=t,!t.valid())throw new Error(t.error());this._options=o.extend({current:a.val(this)},t.options()),this.$id=r.transitionService._transitionCount++;var s=f.PathUtils.buildToPath(e,t);this._treeChanges=f.PathUtils.treeChanges(e,s,this._options.reloadState),this.createTransitionHookRegFns();var c=this._hookBuilder.buildHooksForPhase(u.TransitionHookPhase.CREATE);l.TransitionHook.invokeHooks(c,function(){return null}),this.applyViewConfigs(r)}return e.prototype.onBefore=function(e,t,r){},e.prototype.onStart=function(e,t,r){},e.prototype.onExit=function(e,t,r){},e.prototype.onRetain=function(e,t,r){},e.prototype.onEnter=function(e,t,r){},e.prototype.onFinish=function(e,t,r){},e.prototype.onSuccess=function(e,t,r){},e.prototype.onError=function(e,t,r){},e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==u.TransitionHookPhase.CREATE}).forEach(function(t){return c.makeEvent(e,e.router.transitionService,t)})},e.prototype.getHooks=function(e){return this._registeredHooks[e]},e.prototype.applyViewConfigs=function(e){var t=this._treeChanges.entering.map(function(e){return e.state});f.PathUtils.applyViewConfigs(e.transitionService.$view,this._treeChanges.to,t)},e.prototype.$from=function(){return o.tail(this._treeChanges.from).state},e.prototype.$to=function(){return o.tail(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!c.matchState(this.$to(),t.to)||t.from&&!c.matchState(this.$from(),t.from))},e.prototype.params=function(e){return void 0===e&&(e="to"),Object.freeze(this._treeChanges[e].map(a.prop("paramValues")).reduce(o.mergeR,{}))},e.prototype.injector=function(e,t){void 0===t&&(t="to");var r=this._treeChanges[t];return e&&(r=f.PathUtils.subPath(r,function(t){return t.state===e||t.state.name===e})),new g.ResolveContext(r).injector()},e.prototype.getResolveTokens=function(e){return void 0===e&&(e="to"),new g.ResolveContext(this._treeChanges[e]).getTokens()},e.prototype.addResolvable=function(e,t){void 0===t&&(t=""),e=a.is(v.Resolvable)(e)?e:new v.Resolvable(e);var r="string"==typeof t?t:t.name,n=this._treeChanges.to,i=o.find(n,function(e){return e.state.name===r});new g.ResolveContext(n).addResolvables([e],i.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var e=this.redirectedFrom();return e&&e.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return o.map(this._treeChanges.entering,a.prop("state")).map(m)},e.prototype.exiting=function(){return o.map(this._treeChanges.exiting,a.prop("state")).map(m).reverse()},e.prototype.retained=function(){return o.map(this._treeChanges.retained,a.prop("state")).map(m)},e.prototype.views=function(e,t){void 0===e&&(e="entering");var r=this._treeChanges[e];return r=t?r.filter(a.propEq("state",t)):r,r.map(a.prop("views")).filter(o.identity).reduce(o.unnestR,[])},e.prototype.treeChanges=function(e){return e?this._treeChanges[e]:this._treeChanges},e.prototype.redirect=function(e){for(var t=1,r=this;null!=(r=r.redirectedFrom());)if(++t>20)throw new Error("Too many consecutive Transition redirects (20+)");var n={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==e.options().location&&(n.location="replace");var i=o.extend({},this.options(),e.options(),n);e=new d.TargetState(e.identifier(),e.$state(),e.params(),i);var s=this.router.transitionService.create(this._treeChanges.from,e),u=this._treeChanges.entering,l=s._treeChanges.entering;return f.PathUtils.matching(l,u,f.PathUtils.nonDynamicParams).filter(a.not(function(e){return function(t){return e&&t.state.includes[e.name]}}(e.options().reloadState))).forEach(function(e,t){e.resolvables=u[t].resolvables}),s},e.prototype._changedParams=function(){var e=this._treeChanges;if(!this._options.reload&&!e.exiting.length&&!e.entering.length&&e.to.length===e.from.length){if(!o.arrayTuples(e.to,e.from).map(function(e){return e[0].state!==e[1].state}).reduce(o.anyTrueR,!1)){var t=e.to.map(function(e){return e.paramSchema}),r=[e.to,e.from].map(function(e){return e.map(function(e){return e.paramValues})}),n=r[0],i=r[1];return o.arrayTuples(t,n,i).map(function(e){var t=e[0],r=e[1],n=e[2];return h.Param.changed(t,r,n)}).reduce(o.unnestR,[])}}},e.prototype.dynamic=function(){var e=this._changedParams();return!!e&&e.map(function(e){return e.dynamic}).reduce(o.anyTrueR,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var e=this.router.globals.transition,t=this._options.reloadState,r=function(e,r){if(e.length!==r.length)return!1;var n=f.PathUtils.matching(e,r);return e.length===n.filter(function(e){return!t||!e.state.includes[t.name]}).length},n=this.treeChanges(),i=e&&e.treeChanges();return i&&r(i.to,n.to)&&r(i.exiting,n.exiting)?"SameAsPending":0===n.exiting.length&&0===n.entering.length&&r(n.from,n.to)?"SameAsCurrent":void 0},e.prototype.run=function(){var e=this,t=l.TransitionHook.runAllHooks,r=function(t){return e._hookBuilder.buildHooksForPhase(t)},o=function(){n.trace.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),t(r(u.TransitionHookPhase.SUCCESS))},s=function(i){n.trace.traceError(i,e),e.success=!1,e._deferred.reject(i),e._error=i,t(r(u.TransitionHookPhase.ERROR))},a=function(){var e=r(u.TransitionHookPhase.RUN),t=function(){return i.services.$q.when(void 0)};return l.TransitionHook.invokeHooks(e,t)},c=function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),n.trace.traceTransitionStart(e),i.services.$q.when(void 0)},p=r(u.TransitionHookPhase.BEFORE);return l.TransitionHook.invokeHooks(p,c).then(a).then(o,s),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){s.isUndefined(this.success)&&(this._aborted=!0)},e.prototype.error=function(){var e=this.$to();return e.self.abstract?"Cannot transition to abstract state '"+e.name+"'":h.Param.validates(e.parameters(),this.params())?!1===this.success?this._error:void 0:"Param values not valid for state '"+e.name+"'"},e.prototype.toString=function(){var e=this.from(),t=this.to(),r=function(e){return null!==e["#"]&&void 0!==e["#"]?e:o.omit(e,["#"])};return"Transition#"+this.$id+"( '"+(s.isObject(e)?e.name:e)+"'"+o.toJson(r(this._treeChanges.from.map(a.prop("paramValues")).reduce(o.mergeR,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(s.isObject(t)?t.name:t)+"'"+o.toJson(r(this.params()))+" )"},e}();y.diToken=y,t.Transition=y},function(e,t,r){"use strict";function n(e,t){var r=["",""],n=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return n;switch(t.squash){case!1:r=["(",")"+(t.isOptional?"?":"")];break;case!0:n=n.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+t.squash+"|",")?"]}return n+r[0]+t.type.pattern.source+r[1]}Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=r(5),s=r(4),a=r(40),u=r(20),l=function(e,t,r){return e[t]=e[t]||r()},c=u.splitOnDelim("/"),p=function(){function e(t,r,s,a){var u=this;this.config=a,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=t,this.config=i.defaults(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:i.identity});for(var l,c,p,f=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=0,v=[],g=function(r){if(!e.nameValidator.test(r))throw new Error("Invalid parameter name '"+r+"' in pattern '"+t+"'");if(i.find(u._params,o.propEq("id",r)))throw new Error("Duplicate parameter name '"+r+"' in pattern '"+t+"'")},m=function(e,n){var o=e[2]||e[3],s=n?e[4]:e[4]||("*"===e[1]?".*":null);return{id:o,regexp:s,cfg:u.config.params[o],segment:t.substring(h,e.index),type:s?r.type(s)||function(e){return i.inherit(r.type(n?"query":"path"),{pattern:new RegExp(e,u.config.caseInsensitive?"i":void 0)})}(s):null}};(l=f.exec(t))&&(c=m(l,!1),!(c.segment.indexOf("?")>=0));)g(c.id),this._params.push(s.fromPath(c.id,c.type,this.config.paramMap(c.cfg,!1))),this._segments.push(c.segment),v.push([c.segment,i.tail(this._params)]),h=f.lastIndex;p=t.substring(h);var y=p.indexOf("?");if(y>=0){var b=p.substring(y);if(p=p.substring(0,y),b.length>0)for(h=0;l=d.exec(b);)c=m(l,!0),g(c.id),this._params.push(s.fromSearch(c.id,c.type,this.config.paramMap(c.cfg,!0))),h=f.lastIndex}this._segments.push(p),this._compiled=v.map(function(e){return n.apply(null,e)}).concat(n(p))}return e.prototype.append=function(e){return this._children.push(e),e._cache={path:this._cache.path.concat(e),parent:this,pattern:null},e},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype.exec=function(e,t,r,n){var a=this;void 0===t&&(t={}),void 0===n&&(n={});var u=l(this._cache,"pattern",function(){return new RegExp(["^",i.unnest(a._cache.path.map(o.prop("_compiled"))).join(""),!1===a.config.strict?"/?":"","$"].join(""),a.config.caseInsensitive?"i":void 0)}).exec(e);if(!u)return null;var c=this.parameters(),p=c.filter(function(e){return!e.isSearch()}),f=c.filter(function(e){return e.isSearch()}),d=this._cache.path.map(function(e){return e._segments.length-1}).reduce(function(e,t){return e+t}),h={};if(d!==u.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var v=0;v<d;v++){for(var g=p[v],m=u[v+1],y=0;y<g.replace.length;y++)g.replace[y].from===m&&(m=g.replace[y].to);m&&!0===g.array&&(m=function(e){var t=function(e){return e.split("").reverse().join("")},r=function(e){return e.replace(/\\-/g,"-")},n=t(e).split(/-(?!\\)/),o=i.map(n,t);return i.map(o,r).reverse()}(m)),s.isDefined(m)&&(m=g.type.decode(m)),h[g.id]=g.value(m)}return f.forEach(function(e){for(var r=t[e.id],n=0;n<e.replace.length;n++)e.replace[n].from===r&&(r=e.replace[n].to);s.isDefined(r)&&(r=e.type.decode(r)),h[e.id]=e.value(r)}),r&&(h["#"]=r),h},e.prototype.parameters=function(e){return void 0===e&&(e={}),!1===e.inherit?this._params:i.unnest(this._cache.path.map(function(e){return e._params}))},e.prototype.parameter=function(e,t){var r=this;void 0===t&&(t={});var n=this._cache.parent;return function(){for(var t=0,n=r._params;t<n.length;t++){var i=n[t];if(i.id===e)return i}}()||!1!==t.inherit&&n&&n.parameter(e,t)||null},e.prototype.validates=function(e){var t=function(e,t){return!e||e.validates(t)};return e=e||{},this.parameters().filter(function(t){return e.hasOwnProperty(t.id)}).map(function(r){return t(r,e[r.id])}).reduce(i.allTrueR,!0)},e.prototype.format=function(t){function r(e){var r=e.value(t[e.id]),n=e.validates(r),i=e.isDefaultValue(r);return{param:e,value:r,isValid:n,isDefaultValue:i,squash:!!i&&e.squash,encoded:e.type.encode(r)}}void 0===t&&(t={});var n=this._cache.path,o=n.map(e.pathSegmentsAndParams).reduce(i.unnestR,[]).map(function(e){return s.isString(e)?e:r(e)}),a=n.map(e.queryParams).reduce(i.unnestR,[]).map(r),u=function(e){return!1===e.isValid};if(o.concat(a).filter(u).length)return null;var l=o.reduce(function(t,r){if(s.isString(r))return t+r;var n=r.squash,o=r.encoded,a=r.param;return!0===n?t.match(/\/$/)?t.slice(0,-1):t:s.isString(n)?t+n:!1!==n?t:null==o?t:s.isArray(o)?t+i.map(o,e.encodeDashes).join("-"):a.raw?t+o:t+encodeURIComponent(o)},""),c=a.map(function(e){var t=e.param,r=e.squash,n=e.encoded,o=e.isDefaultValue;if(!(null==n||o&&!1!==r)&&(s.isArray(n)||(n=[n]),0!==n.length))return t.raw||(n=i.map(n,encodeURIComponent)),n.map(function(e){return t.id+"="+e})}).filter(i.identity).reduce(i.unnestR,[]).join("&");return l+(c?"?"+c:"")+(t["#"]?"#"+t["#"]:"")},e.encodeDashes=function(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})},e.pathSegmentsAndParams=function(e){var t=e._segments,r=e._params.filter(function(e){return e.location===a.DefType.PATH});return i.arrayTuples(t,r.concat(void 0)).reduce(i.unnestR,[]).filter(function(e){return""!==e&&s.isDefined(e)})},e.queryParams=function(e){return e._params.filter(function(e){return e.location===a.DefType.SEARCH})},e.compare=function(t,r){var n,o,l=function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(i.unnestR,[]).reduce(u.joinNeighborsR,[]).map(function(e){return s.isString(e)?c(e):e}).reduce(i.unnestR,[])},p=function(e){return e._cache.weights=e._cache.weights||l(e).map(function(e){return"/"===e?1:s.isString(e)?2:e instanceof a.Param?3:void 0})},f=i.arrayTuples(p(t),p(r));for(o=0;o<f.length;o++)if(0!==(n=f[o][0]-f[o][1]))return n;return 0},e}();p.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,t.UrlMatcher=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(55),i=r(4),o=r(2),s=function(){function e(e,t){var r=this;this.fireAfterUpdate=t,this._listener=function(e){return r._listeners.forEach(function(t){return t(e)})},this._listeners=[],this.hash=function(){return n.parseUrl(r._get()).hash},this.path=function(){return n.parseUrl(r._get()).path},this.search=function(){return n.getParams(n.parseUrl(r._get()).search)},this._location=window&&window.location,this._history=window&&window.history}return e.prototype.url=function(e,t){if(void 0===t&&(t=!0),i.isDefined(e)&&e!==this._get()&&(this._set(null,null,e,t),this.fireAfterUpdate)){var r=o.extend(new Event("locationchange"),{url:e});this._listeners.forEach(function(e){return e(r)})}return n.buildUrl(this)},e.prototype.onChange=function(e){var t=this;return this._listeners.push(e),function(){return o.removeFrom(t._listeners,e)}},e.prototype.dispose=function(e){o.deregAll(this._listeners)},e}();t.BaseLocationServices=s},function(e,t,r){"use strict";function n(e){return{type:i,payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"VERIFY_ITEM",function(){return i}),t.verifyItem=n;var i="VERIFY_ITEM"},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(1),i=r.n(n),o=r(30),s=r(73),a=r(6),u=r(0),l=(r.n(u),function(){function e(t,r,n){i()(this,e),this.projectService=r,this.toastr=n,this.disabled=!1,this.projectSources=r.getProjectSources(),this.projectSource=this.projectSources.find(function(e){return e.id===t})}return e.$inject=["sourceId","projectService","toastr"],e.prototype.delete=function(){var e=this;this.disabled=!0,this.projectService.deleteCitable(this.projectSource.updateEndpoint,this.c).then(function(){e.toastr.success("Resource deleted"),e.disabled=!1},function(t){e.toastr.error("Error deleting resource",t),e.disabled=!1})},e.prototype.save=function(){var e=this;this.disabled=!0,this.c.source=this.projectSource,this.projectService.saveCitable(this.projectSource.updateEndpoint,this.projectSource.graphStoreEndpoint,this.c).then(function(){e.toastr.success("Resource saved"),e.disabled=!1},function(t){e.toastr.error("Error saving resource",t),e.disabled=!1})},e}()),c=function(){function e(t){i()(this,e),this.fibraService=t}return e.prototype.addRightsHolder=function(){var e=new o.a("http://ldf.fi/fibra/citable_"+r.i(s.b)());e.labels=[a.a.literal("",this.fibraService.getState().language)],e.descriptions=[a.a.literal("",this.fibraService.getState().language)],this.citable.rightsHolders.push(e)},e.prototype.addLabel=function(){this.citable.labels.push(a.a.literal("",""))},e.prototype.addDescription=function(){this.citable.descriptions.push(a.a.literal("",""))},e.prototype.removeLabel=function(e){this.citable.labels.splice(e,1)},e.prototype.removeDescription=function(e){this.citable.descriptions.splice(e,1)},e}(),p=function e(){i()(this,e),this.bindings={citable:"=",noRightsHolders:"@",noId:"@",noRightsHolderIds:"@"},this.controller=c,this.template=r(400)()};u.module("fibra.components.citable-editor",["fibra.services"]).component("citableEditor",new p)},function(e,t,r){"use strict";function n(e,t){var r="";for(var n in e)r=r+"@prefix "+n+": <"+e[n]+"> .\n";return t.values().forEach(function(e){return r=r+e.substring(0,e.length-2)+" .\n\n"}),r}function i(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return s[255&e]+s[e>>8&255]+s[e>>16&255]+s[e>>24&255]+"-"+s[255&t]+s[t>>8&255]+"-"+s[t>>16&15|64]+s[t>>24&255]+"-"+s[63&r|128]+s[r>>8&255]+"-"+s[r>>16&255]+s[r>>24&255]+s[255&n]+s[n>>8&255]+s[n>>16&255]+s[n>>24&255]}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce(function(e,t){return e.concat(Array.isArray(t)?o(t):t)},t)}t.c=n,t.b=i,t.a=o;for(var s=(r(22),[]),a=0;a<256;a++)s[a]=(a<16?"0":"")+a.toString(16)},function(e,t,r){"use strict";r.d(t,"c",function(){return c}),r.d(t,"b",function(){return p}),r.d(t,"a",function(){return f});var n=r(1),i=r.n(n),o=r(13),s=r.n(o),a=r(12),u=r.n(a),l=r(6),c=function(e){function t(r,n,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];i()(this,t);var l=s()(this,e.call(this,r));return l.label=n,l.description=o,l.types=a,l.sourceEndpoints=u,l}return u()(t,e),t}(l.p),p=function(e){function t(r){i()(this,t);var n=s()(this,e.call(this,r));return n.label=r.label,n.description=r.description,n.types=r.types,n.sourceEndpoints=r.sourceEndpoints,n}return u()(t,e),t}(l.p),f=function(e){function t(r){return i()(this,t),s()(this,e.call(this,r))}return u()(t,e),t}(l.p)},function(e,t,r){"use strict";r.d(t,"a",function(){return g});var n=r(1),i=r.n(n),o=r(13),s=r.n(o),a=r(12),u=r.n(a),l=r(30),c=r(56),p=r(16),f=r(57),d=r(43),h=r(6),v=r(27),g=(r.n(v),function(e){function t(){i()(this,t);var r=s()(this,e.apply(this,arguments));return r.compatibleEndpoints=[],r.autocompletionQuery=c.a.defaultMatchQuery,r.itemQuery=p.d.getLocalItemPropertiesQuery,r.deleteItemQuery=p.d.deleteItemQuery,r.treeQuery=f.a.getClassTreeQuery,r.classQuery=d.c.classQuery,r.propertyQuery=d.c.propertyQuery,r}return u()(t,e),t.prototype.toTurtle=function(t,r){if(!t.has(this.id)){r.fibra=h.k.ns,t.set(this.id,"<"+this.id+"> a fibra:PrimaryEndpointConfiguration ;"),e.prototype.toTurtle.call(this,t,r);var n=t.get(this.id),i=this.compatibleEndpoints.filter(function(e){return e});0!==i.length&&(n+="\nfibra:compatibleEndpoint ",i.forEach(function(e){return n=n+"<"+e+">, "}),n=n.substring(0,n.length-2)+" ;"),n=n+"\nfibra:autocompletionQuery "+v.SparqlService.stringToSPARQLString(this.autocompletionQuery)+" ;\nfibra:treeQuery "+v.SparqlService.stringToSPARQLString(this.treeQuery)+" ;\nfibra:propertyQuery "+v.SparqlService.stringToSPARQLString(this.propertyQuery)+" ;\nfibra:classQuery "+v.SparqlService.stringToSPARQLString(this.classQuery)+" ;\nfibra:itemQuery "+v.SparqlService.stringToSPARQLString(this.itemQuery)+" ;\nfibra:deleteItemQuery "+v.SparqlService.stringToSPARQLString(this.deleteItemQuery)+" .",t.set(this.id,n)}},t.prototype.copyToProject=function(e){var t=this.autocompletionQuery;t=e.graph?t.replace(/# STARTGRAPH/g,"GRAPH <"+e.graph+"> {").replace(/# ENDGRAPH/g,"}"):t.replace(/.*# STARTGRAPH\n/g,"").replace(/.*# ENDGRAPH\n/g,""),e.autocompletionQuery=t,t=this.itemQuery,t=e.graph?t.replace(/# STARTGRAPH/g,"GRAPH <"+e.graph+"> {").replace(/# ENDGRAPH/g,"}"):t.replace(/.*# STARTGRAPH\n/g,"").replace(/.*# ENDGRAPH\n/g,""),e.itemQuery=t,t=this.deleteItemQuery,t=e.graph?t.replace(/# STARTGRAPH/g,"GRAPH <"+e.graph+"> {").replace(/# ENDGRAPH/g,"}"):t.replace(/.*# STARTGRAPH\n/g,"").replace(/.*# ENDGRAPH\n/g,""),e.deleteItemQuery=t,t=this.treeQuery,t=e.graph?t.replace(/# STARTGRAPH/g,"GRAPH <"+e.graph+"> {").replace(/# ENDGRAPH/g,"}"):t.replace(/.*# STARTGRAPH\n/g,"").replace(/.*# ENDGRAPH\n/g,""),e.treeQuery=t,t=this.propertyQuery,t=e.graph?t.replace(/# STARTGRAPH/g,"GRAPH <"+e.graph+"> {").replace(/# ENDGRAPH/g,"}"):t.replace(/.*# STARTGRAPH\n/g,"").replace(/.*# ENDGRAPH\n/g,""),e.propertyQuery=t,t=this.classQuery,t=e.graph?t.replace(/# STARTGRAPH/g,"GRAPH <"+e.graph+"> {").replace(/# ENDGRAPH/g,"}"):t.replace(/.*# STARTGRAPH\n/g,"").replace(/.*# ENDGRAPH\n/g,""),e.classQuery=t},t}(l.a));g.listPrimaryEndpointConfigurationsQuery="PREFIX fibra: <http://hdlab.stanford.edu/fibra/ontology#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX dcterms: <http://purl.org/dc/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nSELECT ?id ?labels ?descriptions ?compatibleEndpoints ?rightsHolders ?rightsHolders_labels ?rightsHolders_descriptions ?rightsHolders_url ?rightsHolders_order ?url ?autocompletionQuery ?itemQuery ?deleteItemQuery ?treeQuery ?properyQuery ?classQuery {\n# STARTGRAPH\n  ?id a fibra:PrimaryEndpointConfiguration .\n  { ?id skos:prefLabel ?labels }\n  UNION\n  { ?id dcterms:description ?descriptions }\n  UNION\n  { ?id fibra:compatibleEndpoint ?compatibleEndpoints }\n  UNION\n  {\n    ?id fibra:autocompletionQuery ?autocompletionQuery .\n    ?id fibra:itemQuery ?itemQuery .\n    ?id fibra:deleteItemQuery ?deleteItemQuery .\n    ?id fibra:treeQuery ?treeQuery .\n    ?id fibra:propertyQuery ?propertyQuery .\n    ?id fibra:classQuery ?classQuery .\n    OPTIONAL { ?id foaf:homepage ?url }\n  } UNION {\n    {\n      ?id dcterms:rightsHolder ?rightsHolders\n    } UNION {\n      ?id fibra:qualifiedAssertion ?qa .\n      ?qa rdf:predicate dcterms:rightsHolder .\n      ?qa rdf:object ?rightsHolders .\n      OPTIONAL { ?qa fibra:order ?rightsHolders_order }\n    }\n    {\n      ?rightsHolders skos:prefLabel ?rightsHolders_labels\n    } UNION {\n      ?rightsHolders foaf:homepage ?rightsHolders_url\n    } UNION {\n      ?rightsHolders dcterms:description ?rightsHolders_descriptions\n    }\n  }\n# ENDGRAPH\n}",g.primaryEndpointConfigurationQuery="PREFIX fibra: <http://hdlab.stanford.edu/fibra/ontology#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX dcterms: <http://purl.org/dc/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nSELECT ?labels ?descriptions ?compatibleEndpoints ?rightsHolders ?rightsHolders_labels ?rightsHolders_descriptions ?rightsHolders_url ?rightsHolders_order ?url ?autocompletionQuery ?itemQuery ?deleteItemQuery ?treeQuery ?properyQuery ?classQuery {\n# STARTGRAPH\n  { <ID> skos:prefLabel ?labels }\n  UNION\n  { <ID> dcterms:description ?descriptions }\n  UNION\n  { <ID> fibra:compatibleEndpoint ?compatibleEndpoints }\n  UNION\n  {\n    <ID> fibra:autocompletionQuery ?autocompletionQuery .\n    <ID> fibra:itemQuery ?itemQuery .\n    <ID> fibra:deleteItemQuery ?deleteItemQuery .\n    <ID> fibra:treeQuery ?treeQuery .\n    <ID> fibra:propertyQuery ?propertyQuery .\n    <ID> fibra:classQuery ?classQuery .\n    OPTIONAL { <ID> foaf:homepage ?url }\n  } UNION {\n    {\n      <ID> dcterms:rightsHolder ?rightsHolders\n    } UNION {\n      <ID> fibra:qualifiedAssertion ?qa .\n      <ID> rdf:predicate dcterms:rightsHolder .\n      <ID> rdf:object ?rightsHolders .\n      OPTIONAL { <ID> fibra:order ?rightsHolders_order }\n    }\n    {\n      ?rightsHolders skos:prefLabel ?rightsHolders_labels\n    } UNION {\n      ?rightsHolders foaf:homepage ?rightsHolders_url\n    } UNION {\n      ?rightsHolders dcterms:description ?rightsHolders_descriptions\n    }\n  }\n# ENDGRAPH\n}"},function(e,t,r){"use strict";r.d(t,"b",function(){return h}),r.d(t,"a",function(){return v});var n=r(44),i=r.n(n),o=r(289),s=r.n(o),a=r(290),u=r.n(a),l=r(99),c=r.n(l),p=r(1),f=r.n(p),d=r(0),h=(r.n(d),r(286),function(){function e(t,r,n,i,o){var s=this;f()(this,e),this.workerServicePrototypeMappingConfiguration=r,this.$q=o,this.currentWorker=0,this.deferreds=[];var a=i.location.protocol+"//"+i.location.host,u=t.importScripts.map(function(e){return 0!==e.indexOf("http")?a+(0!==e.indexOf("/")?i.location.pathname:"")+e:e}),l=i.URL.createObjectURL(new Blob([e.workerTemplate.replace(/<APP_NAME>/g,t.appName).replace(/<IMPORT_SCRIPTS>/g,u.join("','"))],{type:"application/javascript"}));this.workers=[];for(var c=0;c<t.workerThreads;c++)this.workers.push(new Worker(l)),this.workers[c].addEventListener("message",function(e){var t=e.data.event;if("broadcast"===t)n.$broadcast(e.data.name,s.restorePrototypes(e.data.args)),n.$apply();else{var r=s.deferreds[e.data.id];r&&("success"===t?(delete s.deferreds[e.data.id],r.resolve(s.restorePrototypes(e.data.data))):"failure"===t?(delete s.deferreds[e.data.id],r.reject(s.restorePrototypes(e.data.data))):r.notify(s.restorePrototypes(e.data.data)))}})}return e.$inject=["workerServiceConfiguration","workerServicePrototypeMappingConfiguration","$rootScope","$window","$q"],e.stripMarks=function(t){if(t&&t.__mark&&"object"===(void 0===t?"undefined":c()(t)))if(delete t.__mark,t instanceof Array)t.forEach(function(t){return e.stripMarks(t)});else for(var r in t)t.hasOwnProperty(r)&&e.stripMarks(t[r])},e.stripPrototypes=function(t){if(t&&t.__className&&"object"===(void 0===t?"undefined":c()(t)))if(delete t.__className,t instanceof Array)t.forEach(function(t){return e.stripPrototypes(t)});else for(var r in t)t.hasOwnProperty(r)&&e.stripPrototypes(t[r])},e.savePrototypes=function(t){return e.stripPrototypes(t),this.savePrototypesInternal(t),t},e.savePrototypesInternal=function(t){if(t&&!t.__className&&"object"===(void 0===t?"undefined":c()(t)))if(t instanceof Array)t.forEach(function(t){return e.savePrototypesInternal(t)});else{if(t.constructor.__name||"Object"!==t.constructor.name){var r=u()(t);e:for(;r!==Object.prototype;){for(var n=s()(r),o=Array.isArray(n),a=0,n=o?n:i()(n);;){var l;if(o){if(a>=n.length)break;l=n[a++]}else{if(a=n.next(),a.done)break;l=a.value}var p=l;if("constructor"!==p&&"function"==typeof t.__proto__[p]){t.__className=t.constructor.__name?t.constructor.__name:t.constructor.name;break e}}r=u()(r)}t.__className||(t.__className="Object")}for(var f in t)t.hasOwnProperty(f)&&e.savePrototypesInternal(t[f])}},e.prototype.$broadcast=function(t,r){this.workers.forEach(function(n){return n.postMessage({name:t,args:e.savePrototypes(r)})})},e.prototype.callAll=function(t,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments[3],s=this.$q.defer();this.deferreds.push(s);var a=this.deferreds.length-1,u={id:a,service:t,method:r,args:e.savePrototypes(i)};return o&&o.then(function(){n.workers.forEach(function(e){return e.postMessage({id:a,cancel:!0})}),delete n.deferreds[a]}),this.workers.forEach(function(e){return e.postMessage(u)}),s.promise},e.prototype.call=function(t,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments[3],s=this.$q.defer();this.deferreds.push(s);var a=this.deferreds.length-1,u=this.workers[this.currentWorker];return this.currentWorker=(this.currentWorker+1)%this.workers.length,o&&o.then(function(){u.postMessage({id:a,cancel:!0}),delete n.deferreds[a]}),u.postMessage({id:a,service:t,method:r,args:e.savePrototypes(i)}),s.promise},e.prototype.restorePrototypes=function(t){return this.restorePrototypesInternal(t),e.stripMarks(t),t},e.prototype.restorePrototypesInternal=function(e){var t=this;if(e&&!e.__mark&&"object"===(void 0===e?"undefined":c()(e)))if(e.__mark=!0,e instanceof Array)e.forEach(function(e){return t.restorePrototypesInternal(e)});else{if(e.__className){var r=this.workerServicePrototypeMappingConfiguration[e.__className];if(!r)throw"Unknown prototype "+e.__className;e.__proto__=r,delete e.__className}for(var n in e)e.hasOwnProperty(n)&&this.restorePrototypesInternal(e[n])}},e}());h.workerTemplate="\n    var window = self\n    window.history = {}\n    window.Node = function () {}\n    //self.setImmediate = function(fn) { return window.setTimeout(fn, 0) }\n    window.document = {\n      readyState: 'complete',\n      cookie: '',\n      querySelector: function (selector) {\n        if (selector=='html') return { innerHTML: '', getAttribute: function() {}} // angular-hot-loader patch\n      },\n      addEventListener: function() {},\n      createElement: function() {\n        return {\n          pathname: '',\n          setAttribute: function(key, value) {}\n        };\n      },\n    };\n    importScripts('<IMPORT_SCRIPTS>')\n    window.angular.module('<APP_NAME>').run(['workerWorkerService', function(workerWorkerService) {\n      self.addEventListener('message', function(e) { workerWorkerService.onMessage(e.data) })\n    }])\n    window.angular.bootstrap(null, ['<APP_NAME>'])\n    window = undefined\n    self.history = undefined\n    self.Node = undefined\n    setTimeout(function() { // angular init needs this\n      self.document = undefined\n    }, 0)\n  ";var v=function(){function e(t,r,n,i){f()(this,e),this.workerServicePrototypeMappingConfiguration=t,this.$injector=r,this.$q=n,this.$rootScope=i,this.cancellers=[]}return e.$inject=["workerServicePrototypeMappingConfiguration","$injector","$q","$rootScope"],e.stripFunctions=function(t){var r={};for(var n in t)"object"===c()(t[n])?r[n]=e.stripFunctions(t[n]):"function"!=typeof t[n]&&(r[n]=t[n]);return r},e.prototype.$broadcast=function(e,t){try{self.postMessage({event:"broadcast",name:e,args:h.savePrototypes(t)})}catch(e){throw console.log(t,e),e}},e.prototype.onMessage=function(t){var r=this;if(void 0===t.id)this.$rootScope.$broadcast(t.name,this.restorePrototypes(t.args)),this.$rootScope.$apply();else if(t.cancel){var n=this.cancellers[t.id];delete this.cancellers[t.id],n&&n.resolve()}else{var i=this.$injector.get(t.service),o=this.$q.defer();this.cancellers[t.id]=o;var s=i[t.method].apply(i,this.restorePrototypes(t.args).concat(o.promise));if(!s||!s.then){var a=this.$q.defer();a.resolve(s),s=a.promise}s.then(function(e){delete r.cancellers[t.id],self.postMessage({event:"success",id:t.id,data:h.savePrototypes(e)})},function(n){if(delete r.cancellers[t.id],n instanceof Error)throw self.postMessage({event:"failure",id:t.id,data:{name:n.name,message:n.message,stack:n.stack}}),n;self.postMessage({event:"failure",id:t.id,data:h.savePrototypes(e.stripFunctions(n))})},function(e){return self.postMessage({event:"update",id:t.id,data:h.savePrototypes(e)})})}},e.prototype.restorePrototypes=function(e){return this.restorePrototypesInternal(e),h.stripMarks(e),e},e.prototype.restorePrototypesInternal=function(e){var t=this;if(e&&!e.__mark&&"object"===(void 0===e?"undefined":c()(e)))if(e.__mark=!0,e instanceof Array)e.forEach(function(e){return t.restorePrototypesInternal(e)});else{if(e.__className){var r=this.workerServicePrototypeMappingConfiguration[e.__className];if(!r)throw"Unknown prototype "+e.__className;e.__proto__=r,delete e.__className}for(var n in e)e.hasOwnProperty(n)&&this.restorePrototypesInternal(e[n])}},e}(),g=function(){function e(){f()(this,e)}return e.prototype.setState=function(e){this.state=e},e}();d.module("fibra.services.worker-service",["fibra.services.worker-service-prototype-mapping-configuration"]).config(["$provide",function(e){e.service("stateWorkerService",g),e.service("workerService",h),e.service("workerWorkerService",v)}])},function(e,t){e.exports={}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){!function(n,i){e.exports=t=i(r(3))}(0,function(e){return function(t){var r=e,n=r.lib,i=n.Base,o=n.WordArray,s=r.x64={};s.Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var i=e[n];r.push(i.high),r.push(i.low)}return o.create(r,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++)t[n]=t[n].clone();return e}})}(),e})},function(e,t,r){"use strict";(function(t){function r(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,r)});case 3:return t.nextTick(function(){e.call(null,r,n)});case 4:return t.nextTick(function(){e.call(null,r,n,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=r:e.exports=t.nextTick}).call(t,r(19))},function(e,t,r){var n=r(124).Tree,i=r(7),o=r(7);NodeKey=function(e,t){this.subject=e.subject,this.predicate=e.predicate,this.object=e.object,this.graph=e.graph,this.order=t},NodeKey.prototype.comparator=function(e){for(var t=0;t<this.order.length;t++){var r=this.order[t];if(null==e[r])return 0;if(this[r]<e[r])return-1;if(this[r]>e[r])return 1}return 0},Pattern=function(e){this.subject=e.subject,this.predicate=e.predicate,this.object=e.object,this.graph=e.graph,this.indexKey=[],this.keyComponents={};var t=[],r=[],n=this;i.forEach(["subject","predicate","object","graph"],function(e){"string"==typeof n[e]?(r.push(e),n.keyComponents[e]=null):(t.push(e),n.keyComponents[e]=n[e],n.indexKey.push(e))}),this.order=t.concat(r),this.key=new NodeKey(this.keyComponents,this.order)},QuadIndex=function(e,t){0!=arguments&&(this.componentOrder=e.componentOrder,n.call(this,e.order,function(e){e.comparator=function(t,r){for(var n=0;n<e.componentOrder.length;n++){var i=e.componentOrder[n],o=t[i],s=r[i];if(o<s)return-1;if(o>s)return 1}return 0},e.rangeComparator=function(t,r){for(var n=0;n<e.componentOrder.length;n++){var i=e.componentOrder[n];if(null==r[i]||null==t[i])return 0;if(t[i]<r[i])return-1;if(t[i]>r[i])return 1}return 0},t(e)}))},QuadIndex.prototype=i.create(n.prototype,{constructor:n}),QuadIndex.prototype.insert=function(e,t){n.prototype.insert.call(this,e,null,function(e){t(e)})},QuadIndex.prototype.search=function(e,t){n.prototype.search.call(this,e,function(e){t(e)},!0)},QuadIndex.prototype.range=function(e,t){this._rangeTraverse(this,this.root,e,t)},QuadIndex.prototype._rangeTraverse=function(e,t,r,n){var i=r.key,s=[],a=[t];o.whilst(function(){return a.length>0},function(t){for(var r=a.shift(),n=0;n<r.numberActives&&-1===e.rangeComparator(r.keys[n].key,i);)n++;if(!0===r.isLeaf){for(var u=n;u<r.numberActives&&0===e.rangeComparator(r.keys[u].key,i);)s.push(r.keys[u].key),u++;t()}else e._diskRead(r.children[n],function(u){a.push(u);var l=n;o.whilst(function(){return l<r.numberActives&&0===e.rangeComparator(r.keys[l].key,i)},function(t){s.push(r.keys[l].key),l++,e._diskRead(r.children[l],function(e){a.push(e),t()})},function(){t()})})},function(){n(s)})},e.exports={QuadIndex:QuadIndex,Pattern:Pattern,NodeKey:NodeKey}},function(e,t,r){function n(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new n(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new n(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(446),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,r){"use strict";var n=function(e,t,r){r||(r=e.getCursor()),t||(t=e.getTokenAt(r));var i=e.getTokenAt({line:r.line,ch:t.start});return null!=i.type&&"ws"!=i.type&&null!=t.type&&"ws"!=t.type?(t.start=i.start,t.string=i.string+t.string,n(e,t,{line:r.line,ch:i.start})):null!=t.type&&"ws"==t.type?(t.start=t.start+1,t.string=t.string.substring(1),t):t},i=function(e,t,r){var n=e.getTokenAt({line:t,ch:r.start});return null!=n&&"ws"==n.type&&(n=i(e,t,n)),n},o=function(e,t,r){void 0==r&&(r=1);var n=e.getTokenAt({line:t,ch:r});return null==n||void 0==n||n.end<r?null:"ws"==n.type?o(e,t,n.end+1):n};e.exports={getPreviousNonWsToken:i,getCompleteToken:n,getNextNonWsToken:o}},function(e,t,r){"use strict";var n=r(14),i=function(e,t){var r=!1;try{void 0!==e[t]&&(r=!0)}catch(e){}return r},o=function(e,t){var r=null;return t&&(r="string"==typeof t?t:t(e)),r},s=function(){function e(e){var t,r,i;return t=n(e).offset(),r=n(e).width(),i=n(e).height(),[[t.left,t.left+r],[t.top,t.top+i]]}function t(e,t){var r,n;return r=e[0]<t[0]?e:t,n=e[0]<t[0]?t:e,r[1]>n[0]||r[0]===n[0]}return function(r,n){var i=e(r),o=e(n);return t(i[0],o[0])&&t(i[1],o[1])}}(),a=function(e,t){return"function"==typeof t?t(e):t};e.exports={keyExists:i,getPersistencyId:o,elementsOverlap:s,getString:a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=null),this._items=e,this._limit=t}return e.prototype.enqueue=function(e){var t=this._items;return t.push(e),this._limit&&t.length>this._limit&&t.shift(),e},e.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},e.prototype.clear=function(){var e=this._items;return this._items=[],e},e.prototype.size=function(){return this._items.length},e.prototype.remove=function(e){var t=this._items.indexOf(e);return t>-1&&this._items.splice(t,1)[0]},e.prototype.peekTail=function(){return this._items[this._items.length-1]},e.prototype.peekHead=function(){if(this.size())return this._items[0]},e}();t.Queue=n},function(e,t,r){"use strict";function n(e,t){function r(e){return o.isArray(e)?e:o.isDefined(e)?[e]:[]}function n(e){switch(e.length){case 0:return;case 1:return"auto"===t?e[0]:e;default:return e}}function s(e,t){return function(s){if(o.isArray(s)&&0===s.length)return s;var a=r(s),u=i.map(a,e);return!0===t?0===i.filter(u,function(e){return!e}).length:n(u)}}function a(e){return function(t,n){var i=r(t),o=r(n);if(i.length!==o.length)return!1;for(var s=0;s<i.length;s++)if(!e(i[s],o[s]))return!1;return!0}}var u=this;["encode","decode","equals","$normalize"].forEach(function(t){var r=e[t].bind(e),n="equals"===t?a:s;u[t]=n(r)}),i.extend(this,{dynamic:e.dynamic,name:e.name,pattern:e.pattern,inherit:e.inherit,is:s(e.is.bind(e),!0),$arrayMode:t})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=r(4),s=function(){function e(e){this.pattern=/.*/,this.inherit=!0,i.extend(this,e)}return e.prototype.is=function(e,t){return!0},e.prototype.encode=function(e,t){return e},e.prototype.decode=function(e,t){return e},e.prototype.equals=function(e,t){return e==t},e.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},e.prototype.toString=function(){return"{ParamType:"+this.name+"}"},e.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},e.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new n(this,e)},e}();t.ParamType=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(5),o=r(40),s=function(){function e(t){if(t instanceof e){var r=t;this.state=r.state,this.paramSchema=r.paramSchema.slice(),this.paramValues=n.extend({},r.paramValues),this.resolvables=r.resolvables.slice(),this.views=r.views&&r.views.slice()}else{var i=t;this.state=i,this.paramSchema=i.parameters({inherit:!1}),this.paramValues={},this.resolvables=i.resolvables.map(function(e){return e.clone()})}}return e.prototype.applyRawParams=function(e){var t=function(t){return[t.id,t.value(e[t.id])]};return this.paramValues=this.paramSchema.reduce(function(e,r){return n.applyPairs(e,t(r))},{}),this},e.prototype.parameter=function(e){return n.find(this.paramSchema,i.propEq("id",e))},e.prototype.equals=function(e,t){var r=this.diff(e,t);return r&&0===r.length},e.prototype.diff=function(e,t){if(this.state!==e.state)return!1;var r=t?t(this):this.paramSchema;return o.Param.changed(r,this.paramValues,e.paramValues)},e.clone=function(t){return new e(t)},e}();t.PathNode=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(5),o=r(64),s=r(4),a=function(){function e(t){return e.create(t||{})}return e.create=function(t){t=e.isStateClass(t)?new t:t;var r=n.inherit(n.inherit(t,e.prototype));return t.$$state=function(){return r},r.self=t,r.__stateObjectCache={nameGlob:o.Glob.fromString(r.name)},r},e.prototype.is=function(e){return this===e||this.self===e||this.fqn()===e},e.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var e=this.parent.fqn();return e?e+"."+this.name:this.name},e.prototype.root=function(){return this.parent&&this.parent.root()||this},e.prototype.parameters=function(e){return e=n.defaults(e,{inherit:!0,matchingKeys:null}),(e.inherit&&this.parent&&this.parent.parameters()||[]).concat(n.values(this.params)).filter(function(t){return!e.matchingKeys||e.matchingKeys.hasOwnProperty(t.id)})},e.prototype.parameter=function(e,t){return void 0===t&&(t={}),this.url&&this.url.parameter(e,t)||n.find(n.values(this.params),i.propEq("id",e))||t.inherit&&this.parent&&this.parent.parameter(e)},e.prototype.toString=function(){return this.fqn()},e}();a.isStateClass=function(e){return s.isFunction(e)&&!0===e.__uiRouterState},a.isState=function(e){return s.isObject(e.__stateObjectCache)},t.StateObject=a},function(e,t,r){"use strict";function n(e,t){function r(e){for(var t=n,r=0;r<t.length;r++){var i=new u.Glob(t[r]);if(i&&i.matches(e.name)||!i&&t[r]===e.name)return!0}return!1}var n=s.isString(t)?[t]:t;return!!(s.isFunction(n)?n:r)(e)}function i(e,t,r){function n(e,n,i){void 0===i&&(i={});var a=new l(t,r,n,e,i);return s.push(a),function(){a._deregistered=!0,o.removeFrom(s)(a)}}var i=e._registeredHooks=e._registeredHooks||{},s=i[r.name]=[];return e[r.name]=n,n}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),s=r(4),a=r(41),u=r(64);t.matchState=n;var l=function(){function e(e,t,r,n,i){void 0===i&&(i={}),this.tranSvc=e,this.eventType=t,this.callback=r,this.matchCriteria=n,this.priority=i.priority||0,this.bind=i.bind||null,this._deregistered=!1}return e.prototype._matchingNodes=function(e,t){if(!0===t)return e;var r=e.filter(function(e){return n(e.state,t)});return r.length?r:null},e.prototype._getDefaultMatchCriteria=function(){return o.map(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(e){var t=this,r=o.extend(this._getDefaultMatchCriteria(),this.matchCriteria);return o.values(this.tranSvc._pluginapi._getPathTypes()).reduce(function(n,i){var s=i.scope===a.TransitionHookScope.STATE,u=e[i.name]||[],l=s?u:[o.tail(u)];return n[i.name]=t._matchingNodes(l,r[i.name]),n},{})},e.prototype.matches=function(e){var t=this._getMatchingNodes(e);return o.values(t).every(o.identity)?t:null},e}();t.RegisteredHook=l,t.makeEvent=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(41),i=r(68),o=r(91),s=r(227),a=r(231),u=r(230),l=r(232),c=r(235),p=r(233),f=r(234),d=r(133),h=r(144),v=r(54),g=r(4),m=r(2),y=r(5),b=r(228),E=r(229);t.defaultTransOpts={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"};var x=function(){function e(e){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=e,this.$view=e.viewService,this._deregisterHookFns={},this._pluginapi=m.createProxyFunctions(y.val(this),{},y.val(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks()}return e.prototype.onCreate=function(e,t,r){},e.prototype.onBefore=function(e,t,r){},e.prototype.onStart=function(e,t,r){},e.prototype.onExit=function(e,t,r){},e.prototype.onRetain=function(e,t,r){},e.prototype.onEnter=function(e,t,r){},e.prototype.onFinish=function(e,t,r){},e.prototype.onSuccess=function(e,t,r){},e.prototype.onError=function(e,t,r){},e.prototype.dispose=function(e){m.values(this._registeredHooks).forEach(function(e){return e.forEach(function(t){t._deregistered=!0,m.removeFrom(e,t)})})},e.prototype.create=function(e,t){return new i.Transition(e,t,this._router)},e.prototype._defineCoreEvents=function(){var e=n.TransitionHookPhase,t=v.TransitionHook,r=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,r.to,!1,t.LOG_REJECTED_RESULT,t.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,r.to),this._defineEvent("onStart",e.RUN,0,r.to),this._defineEvent("onExit",e.RUN,100,r.exiting,!0),this._defineEvent("onRetain",e.RUN,200,r.retained),this._defineEvent("onEnter",e.RUN,300,r.entering),this._defineEvent("onFinish",e.RUN,400,r.to),this._defineEvent("onSuccess",e.SUCCESS,0,r.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,r.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=n.TransitionHookScope.STATE,t=n.TransitionHookScope.TRANSITION;this._definePathType("to",t),this._definePathType("from",t),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(e,t,r,n,i,s,a,u){void 0===i&&(i=!1),void 0===s&&(s=v.TransitionHook.HANDLE_RESULT),void 0===a&&(a=v.TransitionHook.REJECT_ERROR),void 0===u&&(u=!1);var l=new h.TransitionEventType(e,t,r,n,i,s,a,u);this._eventTypes.push(l),o.makeEvent(this,this,l)},e.prototype._getEvents=function(e){return(g.isDefined(e)?this._eventTypes.filter(function(t){return t.hookPhase===e}):this._eventTypes.slice()).sort(function(e,t){var r=e.hookPhase-t.hookPhase;return 0===r?e.hookOrder-t.hookOrder:r})},e.prototype._definePathType=function(e,t){this._criteriaPaths[e]={name:e,scope:t}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(e){return this._registeredHooks[e]},e.prototype._registerCoreTransitionHooks=function(){var e=this._deregisterHookFns;e.addCoreResolves=s.registerAddCoreResolvables(this),e.ignored=b.registerIgnoredTransitionHook(this),e.invalid=E.registerInvalidTransitionHook(this),e.redirectTo=a.registerRedirectToHook(this),e.onExit=u.registerOnExitHook(this),e.onRetain=u.registerOnRetainHook(this),e.onEnter=u.registerOnEnterHook(this),e.eagerResolve=l.registerEagerResolvePath(this),e.lazyResolve=l.registerLazyResolveState(this),e.loadViews=c.registerLoadEnteringViews(this),e.activateViews=c.registerActivateViews(this),e.updateGlobals=p.registerUpdateGlobalState(this),e.updateUrl=f.registerUpdateUrl(this),e.lazyLoad=d.registerLazyLoadHook(this)},e}();t.TransitionService=x},function(e,t,r){"use strict";function n(e){function t(e,t,n,i,o,s){return r._runtimeServices(i,e,n,t),delete b.router,delete b.$get,b}b=this.router=new a.UIRouter,b.stateProvider=new c.StateProvider(b.stateRegistry,b.stateService),b.stateRegistry.decorator("views",u.ng1ViewsBuilder),b.stateRegistry.decorator("onExit",p.getStateHookBuilder("onExit")),b.stateRegistry.decorator("onRetain",p.getStateHookBuilder("onRetain")),b.stateRegistry.decorator("onEnter",p.getStateHookBuilder("onEnter")),b.viewService._pluginapi._viewConfigFactory("ng1",u.getNg1ViewConfigFactory());var r=b.locationService=b.locationConfig=new f.Ng1LocationServices(e);return f.Ng1LocationServices.monkeyPatchPathParameterType(b),b.router=b,b.$get=t,t.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],b}function i(e,t,r){a.services.$injector=e,a.services.$q=t,r.stateRegistry.get().map(function(e){return e.$$state().resolvables}).reduce(a.unnestR,[]).filter(function(e){return"deferred"===e.deps}).forEach(function(t){return t.deps=e.annotate(t.resolveFn)})}function o(e){e.$watch(function(){a.trace.approximateDigests++})}Object.defineProperty(t,"__esModule",{value:!0});var s=r(42),a=r(15),u=r(94),l=r(256),c=r(157),p=r(255),f=r(253),d=r(158);s.ng.module("ui.router.angular1",[]);var h=s.ng.module("ui.router.init",[]),v=s.ng.module("ui.router.util",["ng","ui.router.init"]),g=s.ng.module("ui.router.router",["ui.router.util"]),m=s.ng.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),y=s.ng.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),b=(s.ng.module("ui.router.compat",["ui.router"]),null);n.$inject=["$locationProvider"];var E=function(e){return["$uiRouterProvider",function(t){var r=t.router[e];return r.$get=function(){return r},r}]};i.$inject=["$injector","$q","$uiRouter"];var x=function(e){return e.urlRouterProvider=new d.UrlRouterProvider(e)},S=function(){return a.extend(b.stateProvider,{$get:function(){return b.stateService}})};o.$inject=["$rootScope"],t.watchDigests=o,h.provider("$uiRouter",n),g.provider("$urlRouter",["$uiRouterProvider",x]),v.provider("$urlService",E("urlService")),v.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return b.urlMatcherFactory}]),v.provider("$templateFactory",function(){return new l.TemplateFactory}),m.provider("$stateRegistry",E("stateRegistry")),m.provider("$uiRouterGlobals",E("globals")),m.provider("$transitions",E("transitionService")),m.provider("$state",["$uiRouterProvider",S]),m.factory("$stateParams",["$uiRouter",function(e){return e.globals.params}]),y.factory("$view",function(){return b.viewService}),y.service("$trace",function(){return a.trace}),y.run(o),v.run(["$urlMatcherFactory",function(e){}]),m.run(["$state",function(e){}]),g.run(["$urlRouter",function(e){}]),h.run(i),t.getLocals=function(e){return e.getTokens().filter(a.isString).map(function(t){var r=e.getResolvable(t);return[t,"NOWAIT"===e.getPolicy(r).async?r.promise:r.data]}).reduce(a.applyPairs,{})}},function(e,t,r){"use strict";function n(){var e=null;return function(t,r){return e=e||o.services.$injector.get("$templateFactory"),[new u(t,r,e)]}}function i(e){if(!e.parent)return{};var t=["templateProvider","templateUrl","template","notify","async"],r=["controller","controllerProvider","controllerAs","resolveAs"],n=["component","bindings","componentProvider"],i=t.concat(r),a=n.concat(i);if(o.isDefined(e.views)&&s(a,e))throw new Error("State '"+e.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+a.filter(function(t){return o.isDefined(e[t])}).join(", "));var u={},l=e.views||{$default:o.pick(e,a)};return o.forEach(l,function(t,r){if(r=r||"$default",o.isString(t)&&(t={component:t}),t=o.extend({},t),s(n,t)&&s(i,t))throw new Error("Cannot combine: "+n.join("|")+" with: "+i.join("|")+" in stateview: '"+r+"@"+e.name+"'");t.resolveAs=t.resolveAs||"$resolve",t.$type="ng1",t.$context=e,t.$name=r;var a=o.ViewService.normalizeUIViewTarget(t.$context,t.$name);t.$uiViewName=a.uiViewName,t.$uiViewContextAnchor=a.uiViewContextAnchor,u[r]=t}),u}Object.defineProperty(t,"__esModule",{value:!0});var o=r(15);t.getNg1ViewConfigFactory=n;var s=function(e,t){return e.reduce(function(e,r){return e||o.isDefined(t[r])},!1)};t.ng1ViewsBuilder=i;var a=0,u=function(){function e(e,t,r){var n=this;this.path=e,this.viewDecl=t,this.factory=r,this.$id=a++,this.loaded=!1,this.getTemplate=function(e,t){return n.component?n.factory.makeComponentTemplate(e,t,n.component,n.viewDecl.bindings):n.template}}return e.prototype.load=function(){var e=this,t=o.services.$q,r=new o.ResolveContext(this.path),n=this.path.reduce(function(e,t){return o.extend(e,t.paramValues)},{}),i={template:t.when(this.factory.fromConfig(this.viewDecl,n,r)),controller:t.when(this.getController(r))};return t.all(i).then(function(t){return o.trace.traceViewServiceEvent("Loaded",e),e.controller=t.controller,o.extend(e,t.template),e})},e.prototype.getController=function(e){var t=this.viewDecl.controllerProvider;if(!o.isInjectable(t))return this.viewDecl.controller;var r=o.services.$injector.annotate(t),n=o.isArray(t)?o.tail(t):t;return new o.Resolvable("",n,r).get(e)},e}();t.Ng1ViewConfig=u},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(44),i=r.n(n),o=r(1),s=r.n(o),a=function(){function e(t,r){s()(this,e),this.id=t,this.label=r,this.children=[],this.selected=!0,this.open=!0}return e.recursivelyProcess=function(t,r){r(t),t.children.forEach(function(t){return e.recursivelyProcess(t,r)})},e.filter=function(e,t){for(var r=e.cloneWithoutChildren(),n=e.children,o=Array.isArray(n),s=0,n=o?n:i()(n);;){var a;if(o){if(s>=n.length)break;a=n[s++]}else{if(s=n.next(),s.done)break;a=s.value}var u=a;t(u)&&r.children.push(u)}return r},e.recursivelyMap=function(t,r){for(var n=[],o=t.children,s=Array.isArray(o),a=0,o=s?o:i()(o);;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if(a=o.next(),a.done)break;u=a.value}var l=u;n=n.concat(e.recursivelyMap(l,r))}return r(t,n)},e.prototype.cloneWithoutChildren=function(){var t=new e(this.id,this.label);return t.instances=this.instances,t.matchingInstances=this.matchingInstances,t.selected=this.selected,t.open=this.open,t},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return m});var n=r(1),i=r.n(n),o=r(13),s=r.n(o),a=r(12),u=r.n(a),l=r(30),c=r(43),p=r(27),f=(r.n(p),r(56)),d=r(57),h=r(16),v=r(75),g=r(6),m=function(e){function t(){i()(this,t);var r=s()(this,e.apply(this,arguments));return r.instanceNS="http://ldf.fi/fibra/",r.schemaNS="http://ldf.fi/fibra/schema#",r.dataModel=new c.c,r.autocompletionQuery=f.a.defaultMatchQuery,r.treeQuery=d.a.getClassTreeQuery,r.itemQuery=h.d.getLocalItemPropertiesQuery,r.deleteItemQuery=h.d.deleteItemQuery,r.classQuery=c.c.classQuery,r.propertyQuery=c.c.propertyQuery,r.authorityEndpoints=[],r.archiveEndpoints=[],r.schemas=[],r}return u()(t,e),t.prototype.remoteEndpoints=function(){return this.archiveEndpoints.concat(this.authorityEndpoints)},t.prototype.asTemplate=function(){var e=new v.a;return e.autocompletionQuery=this.autocompletionQuery,e.itemQuery=this.itemQuery,e.deleteItemQuery=this.deleteItemQuery,e.treeQuery=this.treeQuery,e.propertyQuery=this.propertyQuery,e.classQuery=this.classQuery,e},t.prototype.toTurtle=function(t,r){var n=this;if(!t.has(this.id)){r.fibra=g.k.ns,r.void=g.l.ns,t.set(this.id,"<"+this.id+"> a fibra:Project ;"),e.prototype.toTurtle.call(this,t,r);var i=t.get(this.id);this.schemas.length>0&&(i+="\nfibra:schema ",this.schemas.forEach(function(e){i=i+"<"+e.id+">, "}),i=i.substring(0,i.length-2)+" ;",this.schemas.filter(function(e){return e.source.sparqlEndpoint!==n.source.sparqlEndpoint||n.source.graph!==e.source.graph}).forEach(function(e){i=i+"\nfibra:schemaReference [\n  rdf:value <"+e.id+"> ;\n  void:sparqlEndpoint <"+e.source.sparqlEndpoint+"> ;",e.source.graph&&(i=i+"\n  fibra:graph <"+e.source.graph+">"),i+="\n] ;"})),this.authorityEndpoints.length>0&&(i+="\nfibra:authorityEndpoint ",this.authorityEndpoints.forEach(function(e){i=i+"<"+e.id+">, "}),i=i.substring(0,i.length-2)+" ;",this.authorityEndpoints.filter(function(e){return e.source.sparqlEndpoint!==n.source.sparqlEndpoint||n.source.graph!==e.source.graph}).forEach(function(e){i=i+"\nfibra:authorityEndpointReference [\n  rdf:value <"+e.id+"> ;\n  void:sparqlEndpoint <"+e.source.sparqlEndpoint+"> ;",e.source.graph&&(i=i+"\n  fibra:graph <"+e.source.graph+">"),i+="\n] ;"})),this.archiveEndpoints.length>0&&(i+="\nfibra:archiveEndpoint ",this.archiveEndpoints.forEach(function(e){i=i+"<"+e.id+">, "}),i=i.substring(0,i.length-2)+" ;",this.archiveEndpoints.filter(function(e){return e.source.sparqlEndpoint!==n.source.sparqlEndpoint||n.source.graph!==e.source.graph}).forEach(function(e){i=i+"\nfibra:archiveEndpointReference [\n  rdf:value <"+e.id+"> ;\n  void:sparqlEndpoint <"+e.source.sparqlEndpoint+"> ;",e.source.graph&&(i=i+"\n  fibra:graph <"+e.source.graph+">"),i+="\n] ;"})),this.graph&&(i=i+"\nfibra:graph <"+this.graph+"> ;"),i=i+"\nfibra:autocompletionQuery "+p.SparqlService.stringToSPARQLString(this.autocompletionQuery)+" ;\nfibra:treeQuery "+p.SparqlService.stringToSPARQLString(this.treeQuery)+" ;\nfibra:itemQuery "+p.SparqlService.stringToSPARQLString(this.itemQuery)+" ;\nfibra:deleteItemQuery "+p.SparqlService.stringToSPARQLString(this.deleteItemQuery)+" ;\nfibra:classQuery "+p.SparqlService.stringToSPARQLString(this.classQuery)+" ;\nfibra:propertyQuery "+p.SparqlService.stringToSPARQLString(this.propertyQuery)+" ;\nvoid:sparqlEndpoint <"+this.endpoint+"> ;\nfibra:updateEndpoint <"+this.updateEndpoint+"> ;\nfibra:graphStoreEndpoint <"+this.graphStoreEndpoint+"> ;\nfibra:schemaNS "+p.SparqlService.stringToSPARQLString(this.schemaNS)+" ;\nfibra:instanceNS "+p.SparqlService.stringToSPARQLString(this.instanceNS)+" .",t.set(this.id,i)}},t}(l.a);m.listProjectsQuery="PREFIX fibra: <http://hdlab.stanford.edu/fibra/ontology#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX dcterms: <http://purl.org/dc/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX void: <http://rdfs.org/ns/void#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nSELECT ?id ?labels ?descriptions ?url ?rightsHolders ?rightsHolders_labels ?rightsHolders_descriptions ?rightsHolder_surl ?rightsHolders_order ?instanceNS ?schemaNS ?endpoint ?graphStoreEndpoint ?updateEndpoint ?graph ?autocompletionQuery ?treeQuery ?itemQuery ?deleteItemQuery ?authorityEndpoints ?authorityEndpoints_source_graph ?authorityEndpoints_source_sparqlEndpoint ?archiveEndpoints ?archiveEndpoints_source_graph ?archiveEndpoints_source_sparqlEndpoint ?schemas ?schemas_source_graph ?schemas_source_sparqlEndpoint {\n# STARTGRAPH\n  ?id a fibra:Project .\n  {\n    ?id skos:prefLabel ?labels\n  } UNION {\n    ?id fibra:instanceNS ?instanceNS .\n    ?id fibra:schemaNS ?schemaNS .\n    ?id void:sparqlEndpoint ?endpoint .\n    ?id fibra:updateEndpoint ?updateEndpoint .\n    ?id fibra:graphStoreEndpoint ?graphStoreEndpoint .\n    ?id fibra:autocompletionQuery ?autocompletionQuery .\n    ?id fibra:treeQuery ?treeQuery .\n    ?id fibra:itemQuery ?itemQuery .\n    ?id fibra:deleteItemQuery ?deleteItemQuery .\n    OPTIONAL { ?id fibra:graph ?graph }\n  } UNION {\n    ?id foaf:homepage ?url .\n  } UNION {\n    ?id fibra:schema ?schemas\n  } UNION {\n    ?id fibra:schemaReference ?ar .\n    ?ar rdf:value ?schemas .\n    ?ar void:sparqlEndpoint ?schemas_source_sparqlEndpoint .\n    OPTIONAL { ?ar fibra:graph ?schemas_source_graph }\n  } UNION {\n    ?id fibra:authorityEndpoint ?authorityEndpoints\n  } UNION {\n    ?id fibra:authorityEndpointReference ?ar .\n    ?ar rdf:value ?authorityEndpoints .\n    ?ar void:sparqlEndpoint ?authorityEndpoints_source_sparqlEndpoint .\n    OPTIONAL { ?ar fibra:graph ?authorityEndpoints_source_graph }\n  } UNION {\n    ?id fibra:archiveEndpoint ?archiveEndpoints\n  } UNION {\n    ?id fibra:archiveEndpointReference ?ar .\n    ?ar rdf:value ?archiveEndpoints .\n    ?ar void:sparqlEndpoint ?archiveEndpoints_source_sparqlEndpoint .\n    OPTIONAL { ?ar fibra:graph ?archiveEndpoints_source_graph }\n  } UNION {\n    ?id dcterms:description ?descriptions\n  } UNION {\n    {\n      ?id dcterms:rightsHolder ?rightsHolders\n    } UNION {\n      ?id fibra:qualifiedAssertion ?qa .\n      ?qa rdf:predicate dcterms:rightsHolder .\n      ?qa rdf:object ?rightsHolders .\n      OPTIONAL { ?qa fibra:order ?rightsHolders_order }\n    }\n    {\n      ?rightsHolders skos:prefLabel ?rightsHolders_labels\n    } UNION {\n      ?rightsHolders foaf:homepage ?rightsHolders_url\n    } UNION {\n      ?rightsHolders dcterms:description ?rightsHolders_descriptions\n    }\n  }\n# ENDGRAPH\n}",m.projectQuery="PREFIX fibra: <http://hdlab.stanford.edu/fibra/ontology#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX dcterms: <http://purl.org/dc/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX void: <http://rdfs.org/ns/void#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nSELECT ?labels ?descriptions ?url ?rightsHolders ?rightsHolders_labels ?rightsHolders_descriptions ?rightsHolder_surl ?rightsHolders_order ?instanceNS ?schemaNS ?endpoint ?graphStoreEndpoint ?updateEndpoint ?graph ?autocompletionQuery ?treeQuery ?itemQuery ?deleteItemQuery ?authorityEndpoints ?authorityEndpoints_source_graph ?authorityEndpoints_source_sparqlEndpoint ?archiveEndpoints ?archiveEndpoints_source_graph ?archiveEndpoints_source_sparqlEndpoint ?schemas ?schemas_source_graph ?schemas_source_sparqlEndpoint {\n# STARTGRAPH\n  {\n    <ID> skos:prefLabel ?labels\n  } UNION {\n    <ID> fibra:instanceNS ?instanceNS .\n    <ID> fibra:schemaNS ?schemaNS .\n    <ID> void:sparqlEndpoint ?endpoint .\n    <ID> fibra:updateEndpoint ?updateEndpoint .\n    <ID> fibra:graphStoreEndpoint ?graphStoreEndpoint .\n    <ID> fibra:autocompletionQuery ?autocompletionQuery .\n    <ID> fibra:treeQuery ?treeQuery .\n    <ID> fibra:itemQuery ?itemQuery .\n    <ID> fibra:deleteItemQuery ?deleteItemQuery .\n    OPTIONAL { <ID> fibra:graph ?graph }\n  } UNION {\n    <ID> foaf:homepage ?url .\n  } UNION {\n    <ID> fibra:schema ?schemas\n  } UNION {\n    <ID> fibra:schemaReference ?ar .\n    ?ar rdf:value ?schemas .\n    ?ar void:sparqlEndpoint ?schemas_source_sparqlEndpoint .\n    OPTIONAL { ?ar fibra:graph ?schemas_source_graph }\n  } UNION {\n    <ID> fibra:authorityEndpoint ?authorityEndpoints\n  } UNION {\n    <ID> fibra:authorityEndpointReference ?ar .\n    ?ar rdf:value ?authorityEndpoints .\n    ?ar void:sparqlEndpoint ?authorityEndpoints_source_sparqlEndpoint .\n    OPTIONAL { ?ar fibra:graph ?authorityEndpoints_source_graph }\n  } UNION {\n    <ID> fibra:archiveEndpoint ?archiveEndpoints\n  } UNION {\n    <ID> fibra:archiveEndpointReference ?ar .\n    ?ar rdf:value ?archiveEndpoints .\n    ?ar void:sparqlEndpoint ?archiveEndpoints_source_sparqlEndpoint .\n    OPTIONAL { ?ar fibra:graph ?archiveEndpoints_source_graph }\n  } UNION {\n    <ID> dcterms:description ?descriptions\n  } UNION {\n    {\n      <ID> dcterms:rightsHolder ?rightsHolders\n    } UNION {\n      <ID> fibra:qualifiedAssertion ?qa .\n      ?qa rdf:predicate dcterms:rightsHolder .\n      ?qa rdf:object ?rightsHolders .\n      OPTIONAL { ?qa fibra:order ?rightsHolders_order }\n    }\n    {\n      ?rightsHolders skos:prefLabel ?rightsHolders_labels\n    } UNION {\n      ?rightsHolders foaf:homepage ?rightsHolders_url\n    } UNION {\n      ?rightsHolders dcterms:description ?rightsHolders_descriptions\n    }\n  }\n# ENDGRAPH\n}"},function(e,t,r){"use strict";r.d(t,"a",function(){return g});var n=r(1),i=r.n(n),o=r(13),s=r.n(o),a=r(12),u=r.n(a),l=r(30),c=r(6),p=r(56),f=r(43),d=r(16),h=r(57),v=r(27),g=(r.n(v),function(e){function t(){i()(this,t);var r=s()(this,e.apply(this,arguments));return r.types=[],r.autocompletionQuery=p.a.defaultMatchQuery,r.propertyQuery=f.c.propertyQuery,r.classQuery=f.c.classQuery,r.itemQuery=d.d.getRemoteItemPropertiesQuery,r.treeQuery=h.a.getClassTreeQuery,r}return u()(t,e),t.prototype.toTurtle=function(t,r){if(console.log(t),!t.has(this.id)){r.fibra=c.k.ns,r.void=c.l.ns,r.rdf=c.d.ns;var n="<"+this.id+"> a ";this.types.forEach(function(e){return n+=e.toCanonical()+" ,"}),n=n.substring(0,n.length-2)+" ;",t.set(this.id,n),e.prototype.toTurtle.call(this,t,r),n=t.get(this.id),n=n+"\nvoid:sparqlEndpoint <"+this.endpoint+"> ;\nfibra:autocompletionQuery "+v.SparqlService.stringToSPARQLString(this.autocompletionQuery)+" ;\nfibra:itemQuery "+v.SparqlService.stringToSPARQLString(this.itemQuery)+" ;\nfibra:treeQuery "+v.SparqlService.stringToSPARQLString(this.treeQuery)+" ;\nfibra:propertyQuery "+v.SparqlService.stringToSPARQLString(this.propertyQuery)+" ;\nfibra:classQuery "+v.SparqlService.stringToSPARQLString(this.classQuery)+" .",t.set(this.id,n)}},t}(l.a));g.listAuthorityEndpointConfigurationsQuery="PREFIX fibra: <http://hdlab.stanford.edu/fibra/ontology#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX dcterms: <http://purl.org/dc/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX void: <http://rdfs.org/ns/void#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nSELECT ?id ?types ?labels ?descriptions ?rightsHolders ?rightsHolders_labels ?rightsHolders_descriptions ?rightsHolders_url ?rightsHolders_order ?url ?endpoint ?autocompletionQuery ?itemQuery ?treeQuery ?propertyQuery ?classQuery {\n# STARTGRAPH\n  ?id a fibra:AuthorityEndpointConfiguration .\n  ?id a ?types .\n  { ?id skos:prefLabel ?labels }\n  UNION\n  { ?id dcterms:description ?descriptions }\n  UNION\n  {\n    ?id void:sparqlEndpoint ?endpoint .\n    ?id fibra:autocompletionQuery ?autocompletionQuery .\n    ?id fibra:itemQuery ?itemQuery .\n    ?id fibra:treeQuery ?treeQuery .\n    ?id fibra:propertyQuery ?propertyQuery .\n    ?id fibra:classQuery ?classQuery .\n    OPTIONAL { ?id foaf:homepage ?url }\n  } UNION {\n    {\n      ?id dcterms:rightsHolder ?rightsHolders\n    } UNION {\n      ?id fibra:qualifiedAssertion ?qa .\n      ?qa rdf:predicate dcterms:rightsHolder .\n      ?qa rdf:object ?rightsHolders .\n      OPTIONAL { ?qa fibra:order ?rightsHolders_order }\n    }\n    {\n      ?rightsHolders skos:prefLabel ?rightsHolders_labels\n    } UNION {\n      ?rightsHolders foaf:homepage ?rightsHolders_url\n    } UNION {\n      ?rightsHolders dcterms:description ?rightsHolders_descriptions\n    }\n  }\n# ENDGRAPH\n}",g.listArchiveEndpointConfigurationsQuery=g.listAuthorityEndpointConfigurationsQuery.replace(/fibra:AuthorityEndpointConfiguration/,"fibra:ArchiveEndpointConfiguration"),g.remoteEndpointConfigurationQuery="PREFIX fibra: <http://hdlab.stanford.edu/fibra/ontology#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX dcterms: <http://purl.org/dc/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX void: <http://rdfs.org/ns/void#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nSELECT ?types ?labels ?descriptions ?rightsHolders ?rightsHolders_labels ?rightsHolders_descriptions ?rightsHolders_url ?rightsHolders_order ?url ?endpoint ?autocompletionQuery ?itemQuery ?treeQuery ?propertyQuery ?classQuery {\n# STARTGRAPH\n  { <ID> skos:prefLabel ?labels }\n  UNION\n  { <ID> dcterms:description ?descriptions }\n  UNION\n  {\n    <ID> a ?types .\n    <ID> void:sparqlEndpoint ?endpoint .\n    <ID> fibra:autocompletionQuery ?autocompletionQuery .\n    <ID> fibra:itemQuery ?itemQuery .\n    <ID> fibra:treeQuery ?treeQuery .\n    <ID> fibra:propertyQuery ?propertyQuery .\n    <ID> fibra:classQuery ?classQuery .\n    OPTIONAL { <ID> foaf:homepage ?url }\n  } UNION {\n    {\n      <ID> dcterms:rightsHolder ?rightsHolders\n    } UNION {\n      <ID> fibra:qualifiedAssertion ?qa .\n      ?qa rdf:predicate dcterms:rightsHolder .\n      ?qa rdf:object ?rightsHolders .\n      OPTIONAL { ?qa fibra:order ?rightsHolders_order }\n    }\n    {\n      ?rightsHolders skos:prefLabel ?rightsHolders_labels\n    } UNION {\n      ?rightsHolders foaf:homepage ?rightsHolders_url\n    } UNION {\n      ?rightsHolders dcterms:description ?rightsHolders_descriptions\n    }\n  }\n# ENDGRAPH\n}"},function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r(1),i=r.n(n),o=r(13),s=r.n(o),a=r(12),u=r.n(a),l=r(30),c=r(43),p=r(6),f=r(27),d=(r.n(f),function(e){function t(){i()(this,t);var r=s()(this,e.apply(this,arguments));return r.classQuery=c.c.classQuery,r.propertyQuery=c.c.propertyQuery,r}return u()(t,e),t.prototype.toTurtle=function(t,r){if(!t.has(this.id)){r.fibra=p.k.ns,r.void=p.l.ns,t.set(this.id,"<"+this.id+"> a fibra:Schema ;"),e.prototype.toTurtle.call(this,t,r);var n=t.get(this.id);n=n+"\nvoid:sparqlEndpoint <"+this.endpoint+"> ;\nfibra:classQuery "+f.SparqlService.stringToSPARQLString(this.classQuery)+" ;\nfibra:propertyQuery "+f.SparqlService.stringToSPARQLString(this.propertyQuery)+" .",t.set(this.id,n)}},t}(l.a));d.listSchemasQuery="PREFIX fibra: <http://hdlab.stanford.edu/fibra/ontology#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX dcterms: <http://purl.org/dc/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX void: <http://rdfs.org/ns/void#>\nSELECT ?id ?labels ?descriptions ?rightsHolders ?rightsHolders_labels ?rightsHolders_descriptions ?rightsHolders_url ?rightsHolders_order ?url ?endpoint ?classQuery ?propertyQuery {\n# STARTGRAPH\n  ?id a fibra:Schema .\n  { ?id skos:prefLabel ?labels }\n  UNION\n  { ?id dcterms:description ?descriptions }\n  UNION\n  { ?id foaf:homepage ?url }\n  UNION\n  {\n    ?id void:sparqlEndpoint ?endpoint .\n    ?id fibra:classQuery ?classQuery .\n    ?id fibra:propertyQuery ?propertyQuery .\n  } UNION {\n    {\n      ?id dcterms:rightsHolder ?rightsHolders\n    } UNION {\n      ?id fibra:qualifiedAssertion ?qa .\n      ?qa rdf:predicate dcterms:rightsHolder .\n      ?qa rdf:object ?rightsHolders .\n      OPTIONAL { ?qa fibra:order ?rightsHolders_order }\n    }\n    {\n      ?rightsHolders skos:prefLabel ?rightsHolders_labels\n    } UNION {\n      ?rightsHolders foaf:homepage ?rightsHolders_url\n    } UNION {\n      ?rightsHolders dcterms:description ?rightsHolders_descriptions\n    }\n  }\n# ENDGRAPH\n}",d.schemaQuery="PREFIX fibra: <http://hdlab.stanford.edu/fibra/ontology#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX dcterms: <http://purl.org/dc/terms/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX void: <http://rdfs.org/ns/void#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nSELECT ?labels ?descriptions ?rightsHolders ?rightsHolders_labels ?rightsHolders_descriptions ?rightsHolders_url ?rightsHolders_order ?url ?endpoint ?classQuery ?propertyQuery {\n# STARTGRAPH\n  { <ID> skos:prefLabel ?labels }\n  UNION\n  { <ID> dcterms:description ?descriptions }\n  UNION\n  {\n    <ID> void:sparqlEndpoint ?endpoint .\n    <ID> fibra:classQuery ?classQuery .\n    <ID> fibra:propertyQuery ?propertyQuery .\n  } UNION {\n    {\n      <ID> dcterms:rightsHolder ?rightsHolders\n    } UNION {\n      <ID> fibra:qualifiedAssertion ?qa .\n      ?qa rdf:predicate dcterms:rightsHolder .\n      ?qa rdf:object ?rightsHolders .\n      OPTIONAL { ?qa fibra:order ?rightsHolders_order }\n    }\n    {\n      ?rightsHolders skos:prefLabel ?rightsHolders_labels\n    } UNION {\n      ?rightsHolders foaf:homepage ?rightsHolders_url\n    } UNION {\n      ?rightsHolders dcterms:description ?rightsHolders_descriptions\n    }\n  }\n# ENDGRAPH\n}\n"},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(293),o=n(i),s=r(292),a=n(s),u="function"==typeof a.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};t.default="function"==typeof a.default&&"symbol"===u(o.default)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":void 0===e?"undefined":u(e)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){e.exports=!0},function(e,t,r){var n=r(46),i=r(326),o=r(102),s=r(107)("IE_PROTO"),a=function(){},u=function(){var e,t=r(165)("iframe"),n=o.length;for(t.style.display="none",r(319).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[o[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(a.prototype=n(e),r=new a,a.prototype=null,r[s]=e):r=u(),void 0===t?r:i(r,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(34).f,i=r(33),o=r(24)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){var n=r(108)("keys"),i=r(80);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t,r){var n=r(23),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(101);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(58);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(23),i=r(18),o=r(103),s=r(113),a=r(34).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,r){t.f=r(24)},function(e,t,r){!function(n,i){e.exports=t=i(r(3))}(0,function(e){!function(){var t=e,r=t.lib,n=r.Base,i=t.enc,o=i.Utf8,s=t.algo;s.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,u=s.words,l=0;l<r;l++)a[l]^=1549556828,u[l]^=909522486;i.sigBytes=s.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})}()})},function(e,t,r){!function(n,i){e.exports=t=i(r(3))}(0,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,o=t.algo,s=[],a=o.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],u=r[4],l=0;l<80;l++){if(l<16)s[l]=0|e[t+l];else{var c=s[l-3]^s[l-8]^s[l-14]^s[l-16];s[l]=c<<1|c>>>31}var p=(n<<5|n>>>27)+u+s[l];p+=l<20?1518500249+(i&o|~i&a):l<40?1859775393+(i^o^a):l<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,u=a,a=o,o=i<<30|i>>>2,i=n,n=p}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=i._createHelper(a),t.HmacSHA1=i._createHmacHelper(a)}(),e.SHA1})},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,i,a,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(r=this._events[e],s(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(o(r))for(a=Array.prototype.slice.call(arguments,1),l=r.slice(),i=l.length,u=0;u<i;u++)l[u].apply(this,a);return!0},r.prototype.addListener=function(e,t){var i;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var i=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,i,s,a;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],s=r.length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(a=s;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){i=a;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){function r(e){return i(e)&&h.call(e,"callee")&&(!g.call(e,"callee")||v.call(e)==c)}function n(e){return null!=e&&s(e.length)&&!o(e)}function i(e){return u(e)&&n(e)}function o(e){var t=a(e)?v.call(e):"";return t==p||t==f}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function u(e){return!!e&&"object"==typeof e}var l=9007199254740991,c="[object Arguments]",p="[object Function]",f="[object GeneratorFunction]",d=Object.prototype,h=d.hasOwnProperty,v=d.toString,g=d.propertyIsEnumerable;e.exports=r},function(e,t){function r(e){return!!e&&"object"==typeof e}function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=v}function i(e){return o(e)&&f.call(e)==a}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return null!=e&&(i(e)?d.test(c.call(e)):r(e)&&u.test(e))}var a="[object Function]",u=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,p=l.hasOwnProperty,f=l.toString,d=RegExp("^"+c.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),h=function(e,t){var r=null==e?void 0:e[t];return s(r)?r:void 0}(Array,"isArray"),v=9007199254740991,g=h||function(e){return r(e)&&n(e.length)&&"[object Array]"==f.call(e)};e.exports=g},function(e,t,r){(function(t){function r(e){if(!(this instanceof r))return new r(e);if(e&&e.lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var t=this;this._tokenize=this.tokenize,this.tokenize=function(e,r){this._tokenize(e,function(e,n){!e&&/^(?:IRI|prefixed|literal|langcode|type|\.|eof)$/.test(n.type)?r&&r(e,n):r&&r(e||t._syntaxError(n.type,r=null))})}}}var n=String.fromCharCode,i="function"==typeof t?t:function(e){setTimeout(e,0)},o=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,s={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},a=/[\x00-\x20<>\\"\{\}\|\^\`]/;r.prototype={_iri:/^<((?:[^>\\]|\\[uU])+)>/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>/,_unescapedString:/^"[^"\\]+"(?=[^"\\])/,_singleQuotedString:/^"[^"\\]*(?:\\.[^"\\]*)*"(?=[^"\\])|^'[^'\\]*(?:\\.[^'\\]*)*'(?=[^'\\])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?=\.?[,;\s#()\[\]\{\}"'<])/,_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=[.,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;:\s#()\[\]\{\}"'<])/,_keyword:/^@[a-z]+(?=[\s#<:])/,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<:])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(e,t){function r(t){e(t._syntaxError(/^\S*/.exec(n)[0]))}for(var n=this._input;;){for(var i;i=this._newline.exec(n);)n=n.substr(i[0].length,n.length),this._line++;if((i=this._whitespace.exec(n))&&(n=n.substr(i[0].length,n.length)),this._endOfFile.test(n))return t&&e(n=null,{line:this._line,type:"eof",value:"",prefix:""}),this._input=n;var o,s=this._line,u="",l="",c="",p=n[0],f=null,d=0,h=!1;switch(p){case"^":if(1===n.length)break;if("^"!==n[1])return r(this);if(this._prevTokenType="^",n=n.substr(2),"<"!==n[0]){h=!0;break}case"<":if(f=this._unescapedIri.exec(n))u="IRI",l=f[1];else if(f=this._iri.exec(n)){if(null===(o=this._unescape(f[1]))||a.test(o))return r(this);u="IRI",l=o}break;case"_":((f=this._blank.exec(n))||t&&(f=this._blank.exec(n+" ")))&&(u="prefixed",c="_",l=f[1]);break;case'"':case"'":if(f=this._unescapedString.exec(n))u="literal",l=f[0];else if(f=this._singleQuotedString.exec(n)){if(null===(o=this._unescape(f[0])))return r(this);u="literal",l=o.replace(/^'|'$/g,'"')}else if(f=this._tripleQuotedString.exec(n)){if(o=f[1]||f[2],this._line+=o.split(/\r\n|\r|\n/).length-1,null===(o=this._unescape(o)))return r(this);u="literal",l=o.replace(/^'|'$/g,'"')}break;case"@":"literal"===this._prevTokenType&&(f=this._langcode.exec(n))?(u="langcode",l=f[1]):(f=this._keyword.exec(n))&&(u=f[0]);break;case".":if(1===n.length?t:n[1]<"0"||n[1]>"9"){u=".",d=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(f=this._number.exec(n))&&(u="literal",l='"'+f[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(f[1]?"double":/^[+\-]?\d+$/.test(f[0])?"integer":"decimal"));break;case"B":case"b":case"p":case"P":case"G":case"g":(f=this._sparqlKeyword.exec(n))?u=f[0].toUpperCase():h=!0;break;case"f":case"t":(f=this._boolean.exec(n))?(u="literal",l='"'+f[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean'):h=!0;break;case"a":(f=this._shortPredicates.exec(n))?(u="abbreviation",l="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):h=!0;break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":d=1,u=p;break;default:h=!0}if(h&&("@prefix"!==this._prevTokenType&&"PREFIX"!==this._prevTokenType||!(f=this._prefix.exec(n))?((f=this._prefixed.exec(n))||t&&(f=this._prefixed.exec(n+" ")))&&(u="prefixed",c=f[1]||"",l=this._unescape(f[2])):(u="prefix",l=f[1]||"")),"^"===this._prevTokenType&&(u="IRI"===u||"prefixed"===u?"type":""),!u)return t||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?r(this):this._input=n;e(null,{line:s,type:u,value:l,prefix:c}),this._prevTokenType=u,n=n.substr(d||f[0].length,n.length)}},_unescape:function(e){try{return e.replace(o,function(e,t,r,i){var o;if(t){if(o=parseInt(t,16),isNaN(o))throw new Error;return n(o)}if(r){if(o=parseInt(r,16),isNaN(o))throw new Error;return o<=65535?n(o):n(55296+(o-=65536)/1024,56320+(1023&o))}var a=s[i];if(!a)throw new Error;return a})}catch(e){return null}},_syntaxError:function(e){return this._input=null,new Error('Syntax error: unexpected "'+e+'" on line '+this._line+".")},tokenize:function(e,t){function r(e){null!==o._input&&(o._input+=e,o._tokenizeToEnd(t,!1))}function n(){null!==o._input&&o._tokenizeToEnd(t,!0)}var o=this;this._line=1,"string"==typeof e?(this._input=e,i(function(){o._tokenizeToEnd(t,!0)})):(this._input="",e&&"function"!=typeof e?("function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",r),e.on("end",n)):(this.addChunk=r,this.end=n,t||(t=e)))}},e.exports=r}).call(t,r(84).setImmediate)},function(e,t,r){function n(e){if(!(this instanceof n))return new n(e);this._tripleStack=[],this._graph=null,e=e||{},this._setBase(e.documentIRI);var t="string"==typeof e.format&&e.format.match(/\w*$/)[0].toLowerCase(),r="turtle"===t,s="trig"===t,a=/triple/.test(t),u=/quad/.test(t),l=a||u;(this._supportsNamedGraphs=!r)||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||s||a),l&&(this._base="",this._resolveIRI=function(e){return this._error("Disallowed relative IRI",e),this._callback=i,this._subject=null}),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":"_:"+e.blankNodePrefix.replace(/^_:/,""),this._lexer=e.lexer||new o({lineMode:l})}function i(){}var o=r(119),s="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a=s+"nil",u=s+"first",l=/^[a-z][a-z0-9+.-]*:/i,c=/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i,p=/(?:^|\/)\.\.?(?:$|[\/#?])/,f=0,d=0;n._resetBlankNodeIds=function(){f=d=0},n.prototype={_setBase:function(e){if(e){if(e.indexOf("#")>=0)throw new Error("Invalid base IRI "+e)}else e=null;(this._base=e)&&(this._basePath=e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(c),this._baseRoot=e[0],this._baseScheme=e[1])},_readInTopContext:function(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"@prefix":return this._sparqlStyle=!1,this._readPrefix;case"PREFIX":return this._sparqlStyle=!0,this._readPrefix;case"@base":return this._sparqlStyle=!1,this._readBaseIRI;case"BASE":return this._sparqlStyle=!0,this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}},_readSubject:function(e){switch(this._predicate=null,e.type){case"IRI":null===this._base||l.test(e.value)?this._subject=e.value:this._subject=this._resolveIRI(e);break;case"prefixed":var t=this._prefixes[e.prefix];if(void 0===t)return this._error('Undefined prefix "'+e.prefix+':"',e);this._subject=t+e.value;break;case"[":return this._subject="_:b"+d++,this._tripleStack.push({subject:this._subject,predicate:null,object:null,type:"blank"}),this._readBlankNodeHead;case"(":return this._tripleStack.push({subject:a,predicate:null,object:null,type:"list"}),this._subject=null,this._readListItem;case"}":return this._readPunctuation(e);default:return this._error("Expected subject but got "+e.type,e)}return this._readPredicateOrNamedGraph},_readPredicate:function(e){var t=e.type;switch(t){case"IRI":case"abbreviation":null===this._base||l.test(e.value)?this._predicate=e.value:this._predicate=this._resolveIRI(e);break;case"prefixed":if("_"===e.prefix)return this._error("Disallowed blank node as predicate",e);var r=this._prefixes[e.prefix];if(void 0===r)return this._error('Undefined prefix "'+e.prefix+':"',e);this._predicate=r+e.value;break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._readPredicate;default:return this._error('Expected predicate to follow "'+this._subject+'"',e)}return this._readObject},_readObject:function(e){switch(e.type){case"IRI":null===this._base||l.test(e.value)?this._object=e.value:this._object=this._resolveIRI(e);break;case"prefixed":var t=this._prefixes[e.prefix];if(void 0===t)return this._error('Undefined prefix "'+e.prefix+':"',e);this._object=t+e.value;break;case"literal":return this._object=e.value,this._readDataTypeOrLang;case"[":var r="_:b"+d++;return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:r,type:"blank"}),this._subject=r,this._readBlankNodeHead;case"(":return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:a,type:"list"}),this._subject=null,this._readListItem;default:return this._error('Expected object to follow "'+this._predicate+'"',e)}return this._getTripleEndReader()},_readPredicateOrNamedGraph:function(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)},_readGraph:function(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)},_readBlankNodeHead:function(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))},_readBlankNodeTail:function(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});var t=this._tripleStack.pop();return this._subject=t.subject,null!==t.object?(this._predicate=t.predicate,this._object=t.object,this._getTripleEndReader()):null!==this._predicate?this._readPredicate:this._readPredicateOrNamedGraph},_readDataTypeOrLang:function(e){switch(e.type){case"type":var t;if(""===e.prefix)t=null===this._base||l.test(e.value)?e.value:this._resolveIRI(e);else{var r=this._prefixes[e.prefix];if(void 0===r)return this._error('Undefined prefix "'+e.prefix+':"',e);t=r+e.value}return this._object+="^^"+t,this._getTripleEndReader();case"langcode":return this._object+="@"+e.value.toLowerCase(),this._getTripleEndReader();default:return this._getTripleEndReader().call(this,e)}},_readListItem:function(e){var t=null,r=null,n=this._subject,i=this._tripleStack,o=i[i.length-1],s=this._readListItem;switch(e.type){case"IRI":t=null===this._base||l.test(e.value)?e.value:this._resolveIRI(e);break;case"prefixed":var c=this._prefixes[e.prefix];if(void 0===c)return this._error('Undefined prefix "'+e.prefix+':"',e);t=c+e.value;break;case"literal":t=e.value,s=this._readDataTypeOrLang;break;case"[":r="_:b"+d++,t="_:b"+d++,i.push({subject:r,predicate:u,object:t,type:"blank"}),this._subject=t,s=this._readBlankNodeHead;break;case"(":r="_:b"+d++,i.push({subject:r,predicate:u,object:a,type:"list"}),this._subject=null,s=this._readListItem;break;case")":if(i.pop(),0!==i.length&&"list"===i[i.length-1].type&&this._callback(null,{subject:o.subject,predicate:o.predicate,object:o.object,graph:this._graph||""}),this._subject=o.subject,null===o.predicate){if(s=this._readPredicate,o.subject===a)return s}else if(this._predicate=o.predicate,this._object=o.object,s=this._getTripleEndReader(),o.object===a)return s;r=a;break;default:return this._error('Expected list item instead of "'+e.type+'"',e)}return null===r&&(this._subject=r="_:b"+d++),null===n?o.object===a?o.object=r:o.subject=r:this._callback(null,{subject:n,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",object:r,graph:this._graph||""}),null!==t&&this._callback(null,{subject:r,predicate:u,object:t,graph:this._graph||""}),s},_readPunctuation:function(e){var t,r=this._subject,n=this._graph;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);this._graph=null;case".":this._subject=null,t=this._readInTopContext;break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"IRI":if(this._supportsQuads&&null===this._graph){n=null===this._base||l.test(e.value)?e.value:this._resolveIRI(e),r=this._subject,t=this._readQuadPunctuation;break}case"prefixed":if(this._supportsQuads&&null===this._graph){var i=this._prefixes[e.prefix];if(void 0===i)return this._error('Undefined prefix "'+e.prefix+':"',e);n=i+e.value,t=this._readQuadPunctuation;break}default:return this._error('Expected punctuation to follow "'+this._object+'"',e)}return null!==r&&this._callback(null,{subject:r,predicate:this._predicate,object:this._object,graph:n||""}),t},_readBlankNodePunctuation:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',e)}return this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""}),t},_readQuadPunctuation:function(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext},_readPrefix:function(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)},_readPrefixIRI:function(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t;return t=null===this._base||l.test(e.value)?e.value:this._resolveIRI(e),this._prefixes[this._prefix]=t,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation},_readBaseIRI:function(e){if("IRI"!==e.type)return this._error("Expected IRI to follow base declaration",e);try{this._setBase(null===this._base||l.test(e.value)?e.value:this._resolveIRI(e))}catch(t){this._error(t.message,e)}return this._readDeclarationPunctuation},_readNamedGraphLabel:function(e){switch(e.type){case"IRI":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}},_readNamedGraphBlankLabel:function(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject="_:b"+d++,this._readGraph)},_readDeclarationPunctuation:function(e){return this._sparqlStyle?this._readInTopContext(e):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext},_getTripleEndReader:function(){var e=this._tripleStack;if(0===e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem}},_error:function(e,t){this._callback(new Error(e+" at line "+t.line+"."))},_resolveIRI:function(e){var t=e.value;switch(t[0]){case void 0:return this._base;case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return("/"===t[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return this._removeDotSegments(this._basePath+t)}},_removeDotSegments:function(e){if(!p.test(e))return e;for(var t="",r=e.length,n=-1,i=-1,o=0,s="/";n<r;){switch(s){case":":if(i<0&&"/"===e[++n]&&"/"===e[++n])for(;(i=n+1)<r&&"/"!==e[i];)n=i;break;case"?":case"#":n=r;break;case"/":if("."===e[n+1])switch(s=e[++n+1]){case"/":t+=e.substring(o,n-1),o=n+1;break;case void 0:case"?":case"#":return t+e.substring(o,n)+e.substr(n+1);case".":if(void 0===(s=e[++n+1])||"/"===s||"?"===s||"#"===s){if(t+=e.substring(o,n-2),(o=t.lastIndexOf("/"))>=i&&(t=t.substr(0,o)),"/"!==s)return t+"/"+e.substr(n+1);o=n+1}}}s=e[++n]}return t+e.substring(o)},parse:function(e,t,r){this._readCallback=this._readInTopContext,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix||"_:b"+f+++"_","function"==typeof e&&(r=t,t=e,e=null),this._callback=t||i,this._prefixCallback=r||i;var n=this;this._lexer.tokenize(e,function(e,t){null!==e?(n._callback(e),n._callback=i):void 0!==n._readCallback&&(n._readCallback=n._readCallback(t))}),e||(this.addChunk=this._lexer.addChunk,this.end=this._lexer.end)}},e.exports=n},function(e,t){function r(e,t){for(var r in i)t?e.prototype[r]=n(i[r]):e[r]=i[r];return e}function n(e){return function(t){return e(this,t)}}var i={isIRI:function(e){if(!e)return e;var t=e[0];return'"'!==t&&"_"!==t},isLiteral:function(e){return e&&'"'===e[0]},isBlank:function(e){return e&&"_:"===e.substr(0,2)},getLiteralValue:function(e){var t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]},getLiteralType:function(e){var t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")},getLiteralLanguage:function(e){var t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""},isPrefixedName:function(e){return e&&/^[^:\/"']*:[^:\/"']+$/.test(e)},expandPrefixedName:function(e,t){var r,n,i,o=/(?:^|"\^\^)([^:\/#"'\^_]*):[^\/]*$/.exec(e);return o&&(r=o[1],n=t[r],i=o.index),void 0===n?e:0===i?n+e.substr(r.length+1):e.substr(0,i+3)+n+e.substr(i+r.length+4)},createIRI:function(e){return e&&'"'===e[0]?i.getLiteralValue(e):e},createLiteral:function(e,t){if(!t)switch(typeof e){case"boolean":t="http://www.w3.org/2001/XMLSchema#boolean";break;case"number":if(isFinite(e)){t=e%1==0?"http://www.w3.org/2001/XMLSchema#integer":"http://www.w3.org/2001/XMLSchema#decimal";break}default:return'"'+e+'"'}return'"'+e+(/^[a-z]+(-[a-z0-9]+)*$/i.test(t)?'"@'+t.toLowerCase():'"^^'+t)},prefix:function(e){return i.prefixes({"":e})("")},prefixes:function(e){function t(e,t){if(t||!(e in r)){var n=Object.create(null);t=t||"",r[e]=function(e){return n[e]||(n[e]=t+e)}}return r[e]}var r=Object.create(null);for(var n in e)t(n,e[n]);return t}};e.exports=r(r)},function(e,t){function r(e,t){if(!(this instanceof r))return new r(e,t);if(e&&"function"!=typeof e.write&&(t=e,e=null),t=t||{},e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{var n="";this._outputStream={write:function(e,t,r){n+=e,r&&r()},end:function(e){e&&e(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?this._writeTriple=this._writeTripleLine:(this._graph="",this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes))}function n(e){var t=a[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}var i=/^"([^]*)"(?:\^\^(.+)|@([\-a-z]+))?$/i,o=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,s=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,a={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};r.prototype={_write:function(e,t){this._outputStream.write(e,"utf8",t)},_writeTriple:function(e,t,r,n,i){try{this._graph!==n&&(this._write((null===this._subject?"":this._graph?"\n}\n":".\n")+(n?this._encodeIriOrBlankNode(n)+" {\n":"")),this._subject=null,this._graph="["!==n[0]?n:"]"),this._subject===e?this._predicate===t?this._write(", "+this._encodeObject(r),i):this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i):this._write((null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i)}catch(e){i&&i(e)}},_writeTripleLine:function(e,t,r,n,i){delete this._prefixMatch;try{this._write(this._encodeIriOrBlankNode(e)+" "+this._encodeIriOrBlankNode(t)+" "+this._encodeObject(r)+(n?" "+this._encodeIriOrBlankNode(n)+".\n":".\n"),i)}catch(e){i&&i(e)}},_encodeIriOrBlankNode:function(e){var t=e[0];if("["===t||"("===t||"_"===t&&":"===e[1])return e;o.test(e)&&(e=e.replace(s,n));var r=this._prefixRegex.exec(e);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:e:"<"+e+">"},_encodeLiteral:function(e,t,r){return o.test(e)&&(e=e.replace(s,n)),r?'"'+e+'"@'+r:t?'"'+e+'"^^'+this._encodeIriOrBlankNode(t):'"'+e+'"'},_encodeSubject:function(e){if('"'===e[0])throw new Error("A literal as subject is not allowed: "+e);return"["===e[0]&&(this._subject="]"),this._encodeIriOrBlankNode(e)},_encodePredicate:function(e){if('"'===e[0])throw new Error("A literal as predicate is not allowed: "+e);return"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===e?"a":this._encodeIriOrBlankNode(e)},_encodeObject:function(e){if('"'!==e[0])return this._encodeIriOrBlankNode(e);var t=i.exec(e);if(!t)throw new Error("Invalid literal: "+e);return this._encodeLiteral(t[1],t[2],t[3])},_blockedWrite:function(){throw new Error("Cannot write because the writer has been closed.")},addTriple:function(e,t,r,n,i){void 0===r?this._writeTriple(e.subject,e.predicate,e.object,e.graph||"",t):"string"!=typeof n?this._writeTriple(e,t,r,"",n):this._writeTriple(e,t,r,n,i)},addTriples:function(e){for(var t=0;t<e.length;t++)this.addTriple(e[t])},addPrefix:function(e,t,r){var n={};n[e]=t,this.addPrefixes(n,r)},addPrefixes:function(e,t){var r=this._prefixIRIs,n=!1;for(var i in e){var o=e[i];/[#\/]$/.test(o)&&r[o]!==(i+=":")&&(n=!0,r[o]=i,null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null,this._graph=""),this._write("@prefix "+i+" <"+o+">.\n"))}if(n){var s="",a="";for(var u in r)s+=s?"|"+u:u,a+=(a?"|":"")+r[u];s=s.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+a+")[^/]*$|^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(n?"\n":"",t)},blank:function(e,t){var r,n,i=e;switch(void 0===e?i=[]:"string"==typeof e?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),n=i.length){case 0:return"[]";case 1:if(r=i[0],"["!==r.object[0])return"[ "+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object)+" ]";default:for(var o="[",s=0;s<n;s++)r=i[s],r.predicate===e?o+=", "+this._encodeObject(r.object):(o+=(s?";\n  ":"\n  ")+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object),e=r.predicate);return o+"\n]"}},list:function(e){for(var t=e&&e.length||0,r=new Array(t),n=0;n<t;n++)r[n]=this._encodeObject(e[n]);return"("+r.join(" ")+")"},_prefixRegex:/$0^/,end:function(e){null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(r,n){t=null,e(r,n)};if(this._endStream)try{return this._outputStream.end(t)}catch(e){}t&&t()}},e.exports=r},function(e,t,r){function n(e,t){this.name="NonSupportedSparqlFeatureError",this.feature=e,this.message=t||"SPARQL feature "+e+" non supported"}function i(e){this.name=ParserError,this.message=e||"Error parsing SPARQL query"}var o=r(425),s=r(7),a=s;n.prototype=new Error,n.constructor=n,i.prototype=new Error,i.constructor=i,AbstractQueryTree=function(){},AbstractQueryTree.prototype.parseQueryString=function(e){return o.parse(e)},AbstractQueryTree.prototype.parseExecutableUnit=function(e){if("select"===e.kind)return this.parseSelect(e);if("ask"===e.kind)return this.parseSelect(e);if("modify"===e.kind)return this.parseSelect(e);if("construct"===e.kind)return this.parseSelect(e);if("insertdata"===e.kind)return this.parseInsertData(e);if("deletedata"===e.kind)return this.parseInsertData(e);if("load"===e.kind)return e;if("clear"===e.kind)return e;if("drop"===e.kind)return e;if("create"===e.kind)return e;throw new Error("unknown executable unit: "+e.kind)},AbstractQueryTree.prototype.parseSelect=function(e){if(null==e)return console.log("error parsing query"),null;var t={freshCounter:0};return e.pattern=this.build(e.pattern,t),e},AbstractQueryTree.prototype.parseInsertData=function(e){return null==e?(console.log("error parsing query"),null):e},AbstractQueryTree.prototype.build=function(e,t){if("groupgraphpattern"===e.token)return this._buildGroupGraphPattern(e,t);if("basicgraphpattern"===e.token){var r={kind:"BGP",value:e.triplesContext};return r=AbstractQueryTree.translatePathExpressionsInBGP(r,t)}if("graphunionpattern"===e.token){return{kind:"UNION",value:[this.build(e.value[0],t),this.build(e.value[1],t)]}}if("graphgraphpattern"===e.token){return{kind:"GRAPH",value:this.build(e.value,t),graph:e.graph}}throw null!=e.token?new n(e.token,"Non implemented SPARQL graph pattern: '"+e.token+"'"):new i("Error parsing graph pattern: '"+JSON.stringify(e)+"'")},AbstractQueryTree.translatePathExpressionsInBGP=function(e,t){for(var r,n,i,o=[],s=0;s<e.value.length;s++)if(e.value[s].predicate&&"path"===e.value[s].predicate.token){r=e.value[s],n=e.value.slice(s+1);var u=AbstractQueryTree.translatePathExpression(r,t),l=null;if("BGP"!==u.kind){if("ZERO_OR_MORE_PATH"===u.kind||"ONE_OR_MORE_PATH"===u.kind){if(i=o.length>0?{kind:"JOIN",lvalue:{kind:"BGP",value:o},rvalue:u}:u,"ZERO_OR_MORE_PATH"===u.kind)if("var"===u.y.token&&0===u.y.value.indexOf("fresh:")&&"var"===u.x.token&&0===u.x.value.indexOf("fresh:"))for(var c=0;c<e.value.length;c++)e.value[c].object&&"var"===e.value[c].object.token&&e.value[c].object.value===u.x.value&&(l=a.clone(e.value[c],!0),l.object=u.y);else if("var"===u.y.token&&0===u.y.value.indexOf("fresh:"))for(var c=0;c<e.value.length;c++)e.value[c].subject&&"var"===e.value[c].subject.token&&e.value[c].subject.value===u.y.value&&(l=a.clone(e.value[c],!0),l.subject=u.x);if(n.length>0){var p=AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",value:n},t);if(null!=l){var f=o.concat([l]).concat(n);return{kind:"UNION",value:[{kind:"JOIN",lvalue:i,rvalue:p},{kind:"BGP",value:f}]}}return{kind:"JOIN",lvalue:i,rvalue:p}}return i}return u}o=o.concat(u.value)}else o.push(e.value[s]);return e.value=o,e},AbstractQueryTree.translatePathExpression=function(e,t){if("element"===e.predicate.kind){if("+"===e.predicate.modifier){e.predicate.modifier=null;var r=AbstractQueryTree.translatePathExpression(e,t);return{kind:"ONE_OR_MORE_PATH",path:r,x:e.subject,y:e.object}}if("*"===e.predicate.modifier){e.predicate.modifier=null;var r=AbstractQueryTree.translatePathExpression(e,t);return{kind:"ZERO_OR_MORE_PATH",path:r,x:e.subject,y:e.object}}return e.predicate=e.predicate.value,{kind:"BGP",value:[e]}}if("sequence"===e.predicate.kind){for(var i,o,s=e.subject,u=e.object,l=e.graph,c=[],p=0;p<e.predicate.value.length;p++)p!=e.predicate.value.length-1?(i={token:"var",value:"fresh:"+t.freshCounter},t.freshCounter++):i=u,o={subject:s,predicate:e.predicate.value[p],object:i},null!=l&&(o.graph=a.clone(l,!0)),c.push(o),p!=e.predicate.value.length-1&&(s=a.clone(i,!0));var f={kind:"BGP",value:c};return AbstractQueryTree.translatePathExpressionsInBGP(f,t)}throw new n("Non supported path expression "+e.predicate.kind)},AbstractQueryTree.prototype._buildGroupGraphPattern=function(e,t){for(var r=e.filters||[],n=e.binds||[],i={kind:"EMPTY_PATTERN"},o=0;o<e.patterns.length;o++){var s=e.patterns[o];if("optionalgraphpattern"===s.token){var a=this.build(s.value,t);i="FILTER"===a.kind?{kind:"LEFT_JOIN",lvalue:i,rvalue:a.value,filter:a.filter}:{kind:"LEFT_JOIN",lvalue:i,rvalue:a,filter:!0}}else{var a=this.build(s,t);i="EMPTY_PATTERN"==i.kind?a:{kind:"JOIN",lvalue:i,rvalue:a}}}if(i.binds=n,0!=r.length){if("EMPTY_PATTERN"===i.kind)return{kind:"FILTER",filter:r,value:i};if("LEFT_JOIN"===i.kind&&!0===i.filter)return{kind:"FILTER",filter:r,value:i};if("LEFT_JOIN"===i.kind)return{kind:"FILTER",filter:r,value:i};if("JOIN"===i.kind)return{kind:"FILTER",filter:r,value:i};if("UNION"===i.kind)return{kind:"FILTER",filter:r,value:i};if("GRAPH"===i.kind)return{kind:"FILTER",filter:r,value:i};if("BGP"===i.kind)return{kind:"FILTER",filter:r,value:i};throw new Error("Unknow kind of algebra expression: "+i.kind)}return i},AbstractQueryTree.prototype.collectBasicTriples=function(e,t){if(null==t&&(t=[]),"select"===e.kind)t=this.collectBasicTriples(e.pattern,t);else if("BGP"===e.kind)t=t.concat(e.value);else if("ZERO_OR_MORE_PATH"===e.kind)t=this.collectBasicTriples(e.path);else if("UNION"===e.kind)t=this.collectBasicTriples(e.value[0],t),t=this.collectBasicTriples(e.value[1],t);else if("GRAPH"===e.kind)t=this.collectBasicTriples(e.value,t);else if("LEFT_JOIN"===e.kind||"JOIN"===e.kind)t=this.collectBasicTriples(e.lvalue,t),t=this.collectBasicTriples(e.rvalue,t);else if("FILTER"===e.kind)t=this.collectBasicTriples(e.value,t);else if("construct"===e.kind)t=this.collectBasicTriples(e.pattern,t);else if("EMPTY_PATTERN"!==e.kind)throw"Unknown pattern: "+e.kind;return t},AbstractQueryTree.prototype.bind=function(e,t){if(null!=e.graph&&e.graph.token&&"var"===e.graph.token&&null!=t[e.graph.value]&&(e.graph=t[e.graph.value]),null!=e.filter){for(var r=[],n=0;n<e.filter.length;n++)e.filter[n].value=this._bindFilter(e.filter[n].value,t),r.push(e.filter[n]);e.filter=r}if("select"===e.kind)e.pattern=this.bind(e.pattern,t);else if("BGP"===e.kind)e.value=this._bindTripleContext(e.value,t);else if("ZERO_OR_MORE_PATH"===e.kind)e.path=this._bindTripleContext(e.path,t),e.x&&"var"===e.x.token&&null!=t[e.x.value]&&(e.x=t[e.x.value]),e.y&&"var"===e.y.token&&null!=t[e.y.value]&&(e.y=t[e.y.value]);else if("UNION"===e.kind)e.value[0]=this.bind(e.value[0],t),e.value[1]=this.bind(e.value[1],t);else if("GRAPH"===e.kind)e.value=this.bind(e.value,t);else if("LEFT_JOIN"===e.kind||"JOIN"===e.kind)e.lvalue=this.bind(e.lvalue,t),e.rvalue=this.bind(e.rvalue,t);else if("FILTER"===e.kind){var i=this;e.value=this.bind(e.value,t),e.filter=e.filter.map(function(e){return{token:"filter",value:i._bindFilter(e.value,t)}})}else if("EMPTY_PATTERN"!==e.kind)throw"Unknown pattern: "+e.kind;return e},AbstractQueryTree.prototype._bindTripleContext=function(e,t){for(var r=0;r<e.length;r++){delete e[r].graph,delete e[r].variables;for(var n in e[r]){var i=e[r][n];"var"===i.token&&null!=t[i.value]&&(e[r][n]=t[i.value])}}return e},AbstractQueryTree.prototype._bindFilter=function(e,t){if(null!=e.expressionType){var r=e.expressionType;if("relationalexpression"==r)e.op1=this._bindFilter(e.op1,t),e.op2=this._bindFilter(e.op2,t);else if("conditionalor"==r||"conditionaland"==r)for(var n=0;n<e.operands.length;n++)e.operands[n]=this._bindFilter(e.operands[n],t);else if("additiveexpression"==r){e.summand=this._bindFilter(e.summand,t);for(var n=0;n<e.summands.length;n++)e.summands[n].expression=this._bindFilter(e.summands[n].expression,t)}else if("builtincall"==r)for(var n=0;n<e.args.length;n++)e.args[n]=this._bindFilter(e.args[n],t);else if("multiplicativeexpression"==r){e.factor=this._bindFilter(e.factor,t);for(var n=0;n<e.factors.length;n++)e.factors[n].expression=this._bindFilter(e.factors[n].expression,t)}else if("unaryexpression"==r)e.expression=this._bindFilter(e.expression,t);else if("irireforfunction"==r)for(var n=0;n<e.factors.args;n++)e.args[n]=this._bindFilter(e.args[n],t);else if("atomic"==r&&"var"==e.primaryexpression&&null!=t[e.value.value]){var i=t[e.value.value];"uri"===i.token?e.primaryexpression="iri":e.primaryexpression="literal",e.value=i}}return e},AbstractQueryTree.prototype.replace=function(e,t,r,n){if(null!=e.graph&&e.graph.token&&e.graph.token===t.token&&e.graph.value==t.value&&(e.graph=a.clone(r,!0)),null!=e.filter){for(var i=[],o=0;o<e.filter.length;o++)e.filter[o].value=this._replaceFilter(e.filter[o].value,t,r,n),i.push(e.filter[o]);e.filter=i}if("select"===e.kind)e.pattern=this.replace(e.pattern,t,r,n);else if("BGP"===e.kind)e.value=this._replaceTripleContext(e.value,t,r,n);else if("ZERO_OR_MORE_PATH"===e.kind)e.path=this._replaceTripleContext(e.path,t,r,n),e.x&&e.x.token===t.token&&e.value===t.value&&(e.x=a.clone(r,!0)),e.y&&e.y.token===t.token&&e.value===t.value&&(e.y=a.clone(r,!0));else if("UNION"===e.kind)e.value[0]=this.replace(e.value[0],t,r,n),e.value[1]=this.replace(e.value[1],t,r,n);else if("GRAPH"===e.kind)e.value=this.replace(e.value,t,r);else if("LEFT_JOIN"===e.kind||"JOIN"===e.kind)e.lvalue=this.replace(e.lvalue,t,r,n),e.rvalue=this.replace(e.rvalue,t,r,n);else if("FILTER"===e.kind)e.value=this._replaceFilter(e.value,t,r,n);else if("EMPTY_PATTERN"!==e.kind)throw"Unknown pattern: "+e.kind;return e},AbstractQueryTree.prototype._replaceTripleContext=function(e,t,r,n){for(var i=0;i<e.length;i++)for(var o in e[i]){var a=e[i][o];"var"===a.token&&"var"===t.token&&a.value===t.value?e[i][o]=r:"blank"===a.token&&"blank"===t.token&&a.value===t.value?e[i][o]=r:"literal"!==a.token&&"uri"!==a.token||"literal"!==t.token&&"uri"!==t.token||a.token!==t.token||s.lexicalFormTerm(a,n)[a.token]!==s.lexicalFormTerm(t,n)[a.token]||(e[i][o]=r)}return e},AbstractQueryTree.prototype._replaceFilter=function(e,t,r,n){if(null!=e.expressionType){var i=e.expressionType;if("relationalexpression"==i)e.op1=this._replaceFilter(e.op1,t,r,n),e.op2=this._replaceFilter(e.op2,t,r,n);else if("conditionalor"==i||"conditionaland"==i)for(var o=0;o<e.operands.length;o++)e.operands[o]=this._replaceFilter(e.operands[o],t,r,n);else if("additiveexpression"==i){e.summand=this._replaceFilter(e.summand,t,r,n);for(var o=0;o<e.summands.length;o++)e.summands[o].expression=this._replaceFilter(e.summands[o].expression,t,r,n)}else if("builtincall"==i)for(var o=0;o<e.args.length;o++)e.args[o]=this._replaceFilter(e.args[o],t,r,n);else if("multiplicativeexpression"==i){e.factor=this._replaceFilter(e.factor,t,r,n);for(var o=0;o<e.factors.length;o++)e.factors[o].expression=this._replaceFilter(e.factors[o].expression,t,r,n)}else if("unaryexpression"==i)e.expression=this._replaceFilter(e.expression,t,r,n);else if("irireforfunction"==i)for(var o=0;o<e.factors.args;o++)e.args[o]=this._replaceFilter(e.args[o],t,r,n);else if("atomic"==i){var s=null;e.primaryexpression==t.token&&e.value==t.value?s=r.value:"iri"==e.primaryexpression&&"uri"==t.token&&e.value==t.value&&(s=r.value),null!=s&&("uri"===r.token?e.primaryexpression="iri":e.primaryexpression=r.token,e.value=s)}}return e},AbstractQueryTree.prototype.treeWithUnion=function(e){if(null==e)return!1;if(null==e.kind)return!1;if("select"===e.kind)return this.treeWithUnion(e.pattern);if("BGP"===e.kind)return this.treeWithUnion(e.value);if("ZERO_OR_MORE_PATH"===e.kind)return!1;if("UNION"===e.kind){if(null==e.value[0].value||null==e.value[0].value.variables||null==e.value[1].value||null==e.value[1].value.variables)return!0;if(e.value[0].variables.join("/")===e.values[1].variables.join("/"))return!!this.treeWithUnion(e.value[0])||this.treeWithUnion(e.value[1])}else{if("GRAPH"===e.kind)return!1;if("LEFT_JOIN"!==e.kind&&"JOIN"!==e.kind)return"FILTER"!==e.kind&&(e.kind,!1);if(this.treeWithUnion(e.lvalue))return!0;this.treeWithUnion(e.rvalue)}},e.exports={AbstractQueryTree:AbstractQueryTree,NonSupportedSparqlFeatureError:n,SparqlParserError:i}},function(e,t,r){"use strict";var n=r(7),i=n,o=n.nextTick,s=function(e,t){if(0!=arguments.length){this.order=e,this.root=this._allocateNode(),this.root.isLeaf=!0,this.root.level=0;var r=this;this._diskWrite(this.root,function(e){r.root=e,r._updateRootNode(r.root,function(e){r.comparator=function(e,t){return e<t?-1:e>t?1:0},r.merger=null,null!=t&&t(r)})})}};s.prototype._allocateNode=function(){return new a},s.prototype._diskWrite=function(e,t){o(function(){t(e)})},s.prototype._diskRead=function(e,t){o(function(){t(e)})},s.prototype._diskDelete=function(e,t){o(function(){t()})},s.prototype._updateRootNode=function(e,t){t(e)},s.prototype.search=function(e,t,r){var n=this.root,i=this;i.__search(i,e,n,t,r)},s.prototype.__search=function(e,t,r,n,i){for(var o=0;o<r.numberActives&&1===e.comparator(t,r.keys[o].key);)o++;o<r.numberActives&&0===e.comparator(r.keys[o].key,t)?n(null!=i&&1==i?!0:r.keys[o].data):!0===r.isLeaf?n(null):e._diskRead(r.children[o],function(r){e.__search(e,t,r,n,i)})},s.prototype.walk=function(e,t){this.__walk(this,this.root,e,t)},s.prototype.__walk=function(e,t,r,n){var o=t.numberActives,s=0;if(t.isLeaf){for(s=0;s<t.numberActives;s++)r(t.keys[s]);return n()}i.whilst(function(){return s<o},function(n){e._diskRead(t.children[s],function(i){e.__walk(e,i,r,function(){e._diskRead(t.keys[s],function(e){r(e),s++,n()})})})},function(){e._diskRead(t.children[o],function(t){e.__walk(e,t,r,function(){n()})})})},s.prototype.walkNodes=function(e){this.__walkNodes(this,root,e,function(){})},s.prototype.__walkNodes=function(e,t,r,n){if(t.isLeaf)return r(t),n();r(t);var o=t.numberActives,s=0;i.whilst(function(){return s<o},function(n){e._diskRead(t.children[s],function(t){e.__walkNodes(e,t,r,function(){s++,n()})})},function(){e._diskRead(t.children[o],function(t){e.__walkNodes(e,t,r,function(){})})})},s.prototype._splitChild=function(e,t,r,n){var i=this._allocateNode();i.isLeaf=r.isLeaf,i.level=r.level,i.numberActives=this.order-1;var o=r.keys[this.order-1];r.keys[this.order-1]=null;for(var s=0;s<this.order-1;s++)i.keys[s]=r.keys[s+this.order],r.keys[s+this.order]=null,r.isLeaf||(i.children[s]=r.children[s+this.order],r.children[s+this.order]=null);for(r.isLeaf||(i.children[s]=r.children[s+this.order],r.children[s+this.order]=null),r.numberActives=this.order-1,s=e.numberActives+1;s>t+1;s--)e.children[s]=e.children[s-1];for(e.children[t+1]=i,s=e.numberActives;s>t;s--)e.keys[s]=e.keys[s-1];e.keys[t]=o,e.numberActives++;var a=this;this._diskWrite(i,function(i){a._diskWrite(e,function(e){e.children[t+1]=i,a._diskWrite(r,function(t){return n(e)})})})},s.prototype.insert=function(e,t,r){if(this.root.numberActives===2*this.order-1){var n=this._allocateNode();n.isLeaf=!1,n.level=this.root.level+1,n.numberActives=0,n.children[0]=this.root;var i=this;this._splitChild(n,0,this.root,function(o){n=o,i.root=n,i._updateRootNode(n,function(n){i._insertNonFull(n,e,t,r)})})}else this._insertNonFull(this.root,e,t,r)},s.prototype._insertNonFull=function(e,t,r,n){var i=e.numberActives-1;this.__insertNonFull(this,e,i,t,r,n)},s.prototype.__insertNonFull=function(e,t,r,n,i,o){if(t.isLeaf){for(;r>=0&&-1===e.comparator(n,t.keys[r].key);)t.keys[r+1]=t.keys[r],r--;r>=0&&0===e.comparator(n,t.keys[r].key)?t.keys[r]={key:n,data:i}:(t.keys[r+1]={key:n,data:i},t.numberActives++),e._diskWrite(t,function(e){return o(e)})}else{for(;r>=0&&-1===e.comparator(n,t.keys[r].key);)r--;r++;var s=e;e._diskRead(t.children[r],function(a){a.numberActives===2*s.order-1?s._splitChild(t,r,a,function(){1===s.comparator(n,t.keys[r].key)&&r++,s._diskRead(t.children[r],function(t){r=t.numberActives-1,s.__insertNonFull(e,t,r,n,i,o)})}):s._diskRead(t.children[r],function(t){r=t.numberActives-1,s.__insertNonFull(e,t,r,n,i,o)})})}},s.prototype.delete=function(e,t){var r=this.root;s.prototype.__deleteSearchNode(this,e,r,t)},s.prototype.__deleteSearchNode=function(e,t,r,n){var i=0;if(0===r.numberActives)return n(!1);for(;i<r.numberActives&&1===e.comparator(t,r.keys[i].key);)i++;var o=i;if(i<r.numberActives&&0===e.comparator(t,r.keys[i].key))return e.__deleteNodeFound(e,o,t,r,n);if(!0===r.isLeaf)return n(!1);var s=r;e._diskRead(r.children[i],function(r){if(null===r)return n(!1);var a=!1,u=!1,l=null,c=null;o===s.numberActives?(u=!0,c=s.children[o-1],l=s.children[o-1]):0===o?(a=!0,l=s.children[1],c=s.children[1]):(c=s.children[o-1],l=s.children[o+1]),e._diskRead(c,function(o){e._diskRead(l,function(l){!0===u&&(l=null),!0===a&&(o=null),r.numberActives===e.order-1&&null!=s?null!=l&&l.numberActives>e.order-1?e._moveKey(s,i,-1,function(i){e.__deleteSearchNode(e,t,r,n)}):null!=o&&o.numberActives>e.order-1?e._moveKey(s,i,1,function(i){e.__deleteSearchNode(e,t,r,n)}):null!=o&&o.numberActives===e.order-1?e._mergeSiblings(s,i,-1,function(r){e.__deleteSearchNode(e,t,r,n)}):null!=l&&l.numberActives===e.order-1&&e._mergeSiblings(s,i,1,function(r){e.__deleteSearchNode(e,t,r,n)}):e.__deleteSearchNode(e,t,r,n)})})})},s.prototype.__deleteNodeFound=function(e,t,r,n,i){return n.isLeaf&&n.numberActives>e.order-1?(e._deleteKeyFromNode(n,t,function(){i(!0)}),!0):n.isLeaf&&n===e.root?(e._deleteKeyFromNode(n,t,function(){i(!0)}),!0):(!1===n.isLeaf&&e._diskRead(n.children[t],function(o){o.numberActives>e.order-1?e._getMaxKeyPos(e,o,function(s){r=s.node.keys[s.index],n.keys[t]=r,e._diskWrite(n,function(t){t=o,r=r.key,e.__deleteSearchNode(e,r,t,i)})}):e._diskRead(n.children[t+1],function(s){s.numberActives>e.order-1?e._getMinKeyPos(e,s,function(o){r=o.node.keys[o.index],n.keys[t]=r,e._diskWrite(n,function(t){t=s,r=r.key,e.__deleteSearchNode(e,r,t,i)})}):o.numberActives===e.order-1&&s.numberActives===e.order-1&&e._mergeNodes(o,n.keys[t],s,function(o){n.children[t]=o,t++;for(var s=t;s<n.numberActives;s++)n.children[s]=n.children[s+1],n.keys[s-1]=n.keys[s];n.children[s]=null,n.keys[s-1]=null,n.numberActives--,0===n.numberActives&&e.root===n&&(e.root=o),e._diskWrite(n,function(t){e.__deleteSearchNode(e,r,o,i)})})})}),void(n.isLeaf&&n.numberActives>e.order-1&&e._deleteKeyFromNode(n,t,function(t){e.__deleteSearchNode(e,r,t,i)})))},s.prototype._moveKey=function(e,t,r,n){1===r&&t--;var i=this;i._diskRead(e.children[t],function(o){i._diskRead(e.children[t+1],function(s){if(-1==r){o.keys[o.numberActives]=e.keys[t],o.children[o.numberActives+1]=s.children[0],s.children[0]=null,o.numberActives++,e.keys[t]=s.keys[0];for(var a=1;a<s.numberActives;a++)s.keys[a-1]=s.keys[a],s.children[a-1]=s.children[a];s.children[s.numberActives-1]=s.children[s.numberActives],s.numberActives--}else{s.children[s.numberActives+1]=s.children[s.numberActives];for(var a=s.numberActives;a>0;a--)s.children[a]=s.children[a-1],s.keys[a]=s.keys[a-1];s.keys[0]=null,s.children[0]=null,s.children[0]=o.children[o.numberActives],s.keys[0]=e.keys[t],s.numberActives++,o.children[o.numberActives]=null,e.keys[t]=o.keys[o.numberActives-1],o.keys[o.numberActives-1]=null,o.numberActives--}i._diskWrite(o,function(t){i._diskWrite(s,function(t){i._diskWrite(e,function(e){return n(e)})})})})})},s.prototype._mergeSiblings=function(e,t,r,n){var i,o,s,a;t===e.numberActives?(t--,s=e.children[e.numberActives-1],a=e.children[e.numberActives]):(s=e.children[t],a=e.children[t+1]);var u=this;u._diskRead(s,function(r){u._diskRead(a,function(s){var a=u._allocateNode();for(a.isLeaf=r.isLeaf,a.level=r.level,o=0;o<u.order-1;o++)a.keys[o]=r.keys[o],a.children[o]=r.children[o];for(a.keys[u.order-1]=e.keys[t],a.children[u.order-1]=r.children[u.order-1],o=0;o<u.order-1;o++)a.keys[o+u.order]=s.keys[o],a.children[o+u.order]=s.children[o];for(a.children[2*u.order-1]=s.children[u.order-1],e.children[t]=a,o=t;o<e.numberActives;o++)e.keys[o]=e.keys[o+1],e.children[o+1]=e.children[o+2];for(a.numberActives=r.numberActives+s.numberActives+1,e.numberActives--,i=e.numberActives;i<2*u.order-1;i++)e.keys[i]=null;0===e.numberActives&&u.root===e&&(u.root=a,a.level?a.isLeaf=!1:a.isLeaf=!0),u._diskWrite(a,function(t){u._diskWrite(e,function(e){u._diskDelete(r,function(){u._diskDelete(s,function(){if(u.root!==t)return n(t);u._updateRootNode(u.root,function(){return n(t)})})})})})})})},s.prototype._deleteKeyFromNode=function(e,t,r){var n=2*this.order-1;e.numberActives<n&&(n=e.numberActives);var i;if(!1===e.isLeaf)return!1;e.keys[t];for(i=t;i<n-1;i++)e.keys[i]=e.keys[i+1];e.keys.pop(),e.numberActives--,this._diskWrite(e,function(e){return r(e)})},s.prototype._mergeNodes=function(e,t,r,n){var i,o;for(i=this._allocateNode(),i.isLeaf=!0,o=0;o<e.numberActives;o++)i.keys[o]=e.keys[o],i.children[o]=e.children[o];for(i.children[e.numberActives]=e.children[e.numberActives],i.keys[e.numberActives]=t,o=0;o<r.numberActives;o++)i.keys[o+e.numberActives+1]=r.keys[o],i.children[o+e.numberActives+1]=r.children[o];i.children[2*this.order-1]=r.children[r.numberActives],i.numberActives=e.numberActives+r.numberActives+1,i.isLeaf=e.isLeaf,i.level=e.level;var s=this;this._diskWrite(i,function(t){s._diskDelete(e,function(){s._diskDelete(r,function(){return n(t)})})})},s.prototype.audit=function(e){var t=[],r=[],n=this,i=function(i){for(var o=0;o<r.length;o++)if(0===n.comparator(r[o],i)){var s=" !!! duplicated key "+i;!0===e&&console.log(s),t.push(s)}},o=null,n=this;return this.walkNodes(function(s){!0===e&&(console.log("--- Node at "+s.level+" level"),console.log(" - leaf? "+s.isLeaf),console.log(" - num actives? "+s.numberActives),console.log(" - keys: "));for(var a=s.numberActives;a<s.keys.length;a++)null!=s.keys[a]&&!0===e&&(console.log(" * warning : redundant key data"),t.push(" * warning : redundant key data"));for(var a=s.numberActives+1;a<s.children.length;a++)null!=s.children[a]&&!0===e&&(console.log(" * warning : redundant children data"),t.push(" * warning : redundant key data"));if(!1===s.isLeaf)for(var a=0;a<s.numberActives;a++){var u=this._diskRead(s.children[a]).keys[this._diskRead(s.children[a]).numberActives-1].key,l=this._diskRead(s.children[a+1]).keys[0].key;if(!0===e&&console.log("   "+s.keys[a].key+"("+u+","+l+")"),-1===n.comparator(s.keys[a].key,u)){var c=" !!! value max left "+u+" > key "+s.keys[a].key;!0===e&&console.log(c),t.push(c)}if(1===n.comparator(s.keys[a].key,l)){var c=" !!! value min right "+l+" < key "+s.keys[a].key;!0===e&&console.log(c),t.push(c)}i(s.keys[a].key),r.push(s.keys[a].key)}else{if(null===o)o=s.level;else if(o!=s.level){var c=" !!! Leaf node with wrong level value";!0===e&&console.log(c),t.push(c)}for(var a=0;a<s.numberActives;a++)!0===e&&console.log(" "+s.keys[a].key),i(s.keys[a].key),r.push(s.keys[a].key)}if(s!=n.root){if(s.numberActives>2*n.order-1){if(!0===e)var c=" !!!! MAX num keys restriction violated ";console.log(c),t.push(c)}if(s.numberActives<n.order-1){if(!0===e)var c=" !!!! MIN num keys restriction violated ";console.log(c),t.push(c)}}}),t},s.prototype._getMaxKeyPos=function(e,t,r){var n={};return null===t?r(null):!0===t.isLeaf?(n.node=t,n.index=t.numberActives-1,r(n)):(n.node=t,n.index=t.numberActives-1,e._diskRead(t.children[t.numberActives],function(t){return e._getMaxKeyPos(e,t,r)}),void 0)},s.prototype._getMinKeyPos=function(e,t,r){var n={};if(null===t&&r(null),!0===t.isLeaf)return n.node=t,n.index=0,r(n);n.node=t,n.index=0,e._diskRead(t.children[0],function(t){return e._getMinKeyPos(e,t,r)})};var a=function(){this.numberActives=0,this.isLeaf=null,this.keys=[],this.children=[],this.level=0};e.exports={Tree:s,Node:a}},function(e,t,r){var n=r(7),i=r(194).QueryFilters;RDFModel={},RDFModel.defaultContext={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#",ldp:"http://www.w3.org/ns/ldp#"},RDFModel.UrisMap=function(){this.defaultNs="",this.interfaceProperties=["get","remove","set","setDefault","addAll","resolve","shrink"]},RDFModel.UrisMap.prototype.values=function(){var e={};for(var t in this)n.include(this.interfaceProperties,t)||"function"==typeof this[t]||"defaultNs"===t||"interfaceProperties"===t||(e[t]=this[t]);return e},RDFModel.UrisMap.prototype.get=function(e){if(-1!=e.indexOf(" "))throw"Prefix must not contain any whitespaces";return this[e]},RDFModel.UrisMap.prototype.remove=function(e){if(-1!=e.indexOf(" "))throw"Prefix must not contain any whitespaces";return delete this[e],null},RDFModel.UrisMap.prototype.set=function(e,t){if(-1!=e.indexOf(" "))throw"Prefix must not contain any whitespaces";this[e]=t},RDFModel.UrisMap.prototype.setDefault=function(e){this.defaultNs=e},RDFModel.UrisMap.prototype.addAll=function(e,t){for(var r in e)n.include(this.interfaceProperties,r)||(null!=this[r]?!0===t&&(this[r]=e[r]):this[r]=e[r]);return this},RDFModel.UrisMap.prototype.resolve=function(e){var t=e.split(":"),r=t[0],n=t[1];return""===r?null==this.defaultNs?null:this.defaultNs+n:null!=this[r]?this[r]+n:null},RDFModel.UrisMap.prototype.shrink=function(e){for(var t in this){var r=this[t];if(0===e.indexOf(r)&&""!==r&&"defaultNs"!=t){return t+":"+e.split(r)[1]}}return e},RDFModel.Profile=function(){this.prefixes=new RDFModel.UrisMap,this.terms=new RDFModel.UrisMap},RDFModel.Profile.prototype.importProfile=function(e,t){this.prefixes.addAll(e.prefixes,t),this.terms.addAll(e.terms,t)},RDFModel.Profile.prototype.resolve=function(e){return-1!=e.indexOf(":")?this.prefixes.resolve(e):null!=this.terms[e]?this.terms.resolve(e):null},RDFModel.Profile.prototype.setDefaultPrefix=function(e){this.prefixes.setDefault(e)},RDFModel.Profile.prototype.setDefaultVocabulary=function(e){this.terms.setDefault(e)},RDFModel.Profile.prototype.setPrefix=function(e,t){this.prefixes.set(e,t)},RDFModel.Profile.prototype.setTerm=function(e,t){this.terms.set(e,t)},RDFModel.RDFEnvironment=function(){RDFModel.Profile.call(this),this.blankNodeCounter=0;var e=this;this.filters={s:function(e){return function(t){return t.subject.equals(e)}},p:function(e){return function(t){return t.predicate.equals(e)}},o:function(e){return function(t){return t.object.equals(e)}},sp:function(e,t){return function(r){return r.subject.equals(e)&&r.predicate.equals(t)}},so:function(e,t){return function(r){return r.subject.equals(e)&&r.object.equals(t)}},po:function(e,t){return function(r){return r.predicate.equals(e)&&r.object.equals(t)}},spo:function(e,t,r){return function(n){return n.subject.equals(e)&&n.predicate.equals(t)&&n.object.equals(r)}},describes:function(e){return function(t){return t.subject.equals(e)||t.object.equals(e)}},type:function(t){var r=e.resolve("rdf:type");return function(e){return e.predicate.equals(r)&&e.object.equals(t)}}};for(var t in RDFModel.defaultContext)this.prefixes.set(t,RDFModel.defaultContext[t])},RDFModel.RDFEnvironment.prototype=n.create(RDFModel.Profile.prototype,{constructor:RDFModel.RDFEnvironment}),RDFModel.RDFEnvironment.prototype.createBlankNode=function(){var e=new RDFModel.BlankNode(this.blankNodeCounter);return this.blankNodeCounter++,e},RDFModel.RDFEnvironment.prototype.createNamedNode=function(e){var t=this.resolve(e);return null!=t?new RDFModel.NamedNode(t):new RDFModel.NamedNode(e)},RDFModel.RDFEnvironment.prototype.createLiteral=function(e,t,r){return null!=r?new RDFModel.Literal(e,t,r.toString()):new RDFModel.Literal(e,t,r)},RDFModel.RDFEnvironment.prototype.createTriple=function(e,t,r){return new RDFModel.Triple(e,t,r)},RDFModel.RDFEnvironment.prototype.createGraph=function(e){var t=new RDFModel.Graph;if(null!=e)for(var r=0;r<e.length;r++)t.add(e[r]);return t},RDFModel.RDFEnvironment.prototype.createAction=function(e,t){return function(r){return e(r)?t(r):r}},RDFModel.RDFEnvironment.prototype.createProfile=function(e){if(!0===e)return new RDFModel.RDFEnvironment.Profile;var t=new RDFModel.RDFEnvironment.Profile;return t.importProfile(this),t},RDFModel.RDFEnvironment.prototype.createTermMap=function(e){if(!0===e)return new RDFModel.UrisMap;var t=this.terms.values(),r=new RDFModel.UrisMap;for(var n in t)r[n]=t[n];return r},RDFModel.RDFEnvironment.prototype.createPrefixMap=function(e){if(!0===e)return new RDFModel.UrisMap;var t=this.prefixes.values(),r=new RDFModel.UrisMap;for(var n in t)r[n]=t[n];return r},RDFModel.RDFNode=function(e){this.interfaceName=e,this.attributes=["interfaceName","nominalValue"]},RDFModel.RDFNode.prototype.equals=function(e){if(null==e.interfaceName)return this.valueOf()==e;for(var t in this.attributes){var r=this.attributes[t];if(this[r]!=e[r])return!1}return!0},RDFModel.BlankNode=function(e){RDFModel.RDFNode.call(this,"BlankNode"),this.nominalValue="_:"+e,this.bnodeId=e},RDFModel.BlankNode.prototype=n.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.BlankNode}),RDFModel.BlankNode.prototype.toString=function(){return this.nominalValue},RDFModel.BlankNode.prototype.toNT=function(){return this.nominalValue},RDFModel.BlankNode.prototype.valueOf=function(){return this.nominalValue},RDFModel.Literal=function(e,t,r){RDFModel.RDFNode.call(this,"Literal"),this.nominalValue=e,null!=t?this.language=t:null!=r&&(this.datatype=r)},RDFModel.Literal.prototype=n.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.Literal}),RDFModel.Literal.prototype.toString=function(){var e='"'+this.nominalValue+'"';return null!=this.language?e=e+"@"+this.language:(null!=this.datatype||this.type)&&(e=e+"^^<"+(this.datatype||this.type)+">"),e},RDFModel.Literal.prototype.toNT=function(){return this.toString()},RDFModel.Literal.prototype.valueOf=function(){return i.effectiveTypeValue({token:"literal",type:this.type||this.datatype,value:this.nominalValue,language:this.language})},RDFModel.NamedNode=function(e){RDFModel.RDFNode.call(this,"NamedNode"),null!=e.value?this.nominalValue=e.value:this.nominalValue=e},RDFModel.NamedNode.prototype=n.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.NamedNode}),RDFModel.NamedNode.prototype.toString=function(){return this.nominalValue},RDFModel.NamedNode.prototype.toNT=function(){return"<"+this.toString()+">"},RDFModel.NamedNode.prototype.valueOf=function(){return this.nominalValue},RDFModel.Triple=function(e,t,r){this.subject=e,this.predicate=t,this.object=r},RDFModel.Triple.prototype.equals=function(e){return this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)},RDFModel.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"},RDFModel.Graph=function(){this.triples=[],this.duplicates={},this.actions=[],this.length=0},RDFModel.Graph.prototype.add=function(e){for(var t=0;t<this.actions.length;t++)e=this.actions[t](e);var r=e.subject.toString()+e.predicate.toString()+e.object.toString();return this.duplicates[r]||(this.duplicates[r]=!0,this.triples.push(e)),this.length=this.triples.length,this},RDFModel.Graph.prototype.addAction=function(e,t){if(this.actions.push(e),1==t)for(var r=0;r<this.triples.length;r++)this.triples[r]=e(this.triples[r]);return this},RDFModel.Graph.prototype.addAll=function(e){for(var t=e.toArray(),r=0;r<t.length;r++)this.add(t[r]);return this.length=this.triples.length,this},RDFModel.Graph.prototype.remove=function(e){for(var t=null,r=0;r<this.triples.length;r++)if(this.triples[r].equals(e)){var n=e.subject.toString()+e.predicate.toString()+e.object.toString();delete this.duplicates[n],t=r;break}return null!=t&&this.triples.splice(t,1),this.length=this.triples.length,this},RDFModel.Graph.prototype.toArray=function(){return this.triples},RDFModel.Graph.prototype.some=function(e){for(var t=0;t<this.triples.length;t++)if(!0===e(this.triples[t],this))return!0;return!1},RDFModel.Graph.prototype.every=function(e){for(var t=0;t<this.triples.length;t++)if(!1===e(this.triples[t],this))return!1;return!0},RDFModel.Graph.prototype.filter=function(e){for(var t=new RDFModel.Graph,r=0;r<this.triples.length;r++)!0===e(this.triples[r],this)&&t.add(this.triples[r]);return t},RDFModel.Graph.prototype.forEach=function(e){for(var t=0;t<this.triples.length;t++)e(this.triples[t],this)},RDFModel.Graph.prototype.merge=function(e){for(var t=new RDFModel.Graph,r=0;r<this.triples.length;r++)t.add(this.triples[r]);return t},RDFModel.Graph.prototype.match=function(e,t,r,n){for(var i=new RDFModel.Graph,o=0,s=0;s<this.triples.length;s++){var a=this.triples[s];if((null==e||a.subject.equals(e))&&(null==t||a.predicate.equals(t))&&(null==r||a.object.equals(r))){if(!(null==n||o<n))return i;o++,i.add(a)}}return i},RDFModel.Graph.prototype.removeMatches=function(e,t,r){for(var n=[],i=0;i<this.triples.length;i++){var o=this.triples[i];(null==e||o.subject.equals(e))&&(null==t||o.predicate.equals(t))&&(null==r||o.object.equals(r))&&n.push(o)}for(var i=0;i<n.length;i++)this.remove(n[i]);return this},RDFModel.Graph.prototype.toNT=function(){var e="";return this.forEach(function(t){e+=t.toString()}),e},RDFModel.buildRDFResource=function(e,t,r,n){if("blank"===e.token)return RDFModel.buildBlankNode(e,t,r,n);if("literal"===e.token)return RDFModel.buildLiteral(e,t,r,n);if("uri"===e.token)return RDFModel.buildNamedNode(e,t,r,n);if("var"===e.token){var i=t[e.value];return null!=i?RDFModel.buildRDFResource(i,t,r,n):null}return null},RDFModel.buildBlankNode=function(e,t,r,n){return null!=e.valuetmp&&(e.value=e.valuetmp),0===e.value.indexOf("_:")&&(e.value=e.value.split("_:")[1]),new RDFModel.BlankNode(e.value)},RDFModel.buildLiteral=function(e,t,r,n){return new RDFModel.Literal(e.value,e.lang,e.type)},RDFModel.buildNamedNode=function(e,t,r,n){if(null!=e.value)return new RDFModel.NamedNode(e);if(null!=e.prefix){var i=r.resolveNsInEnvironment(e.prefix,n);return e.value=i+e.suffix,new RDFModel.NamedNode(e)}return new RDFModel.NamedNode(e)},RDFModel.rdf=new RDFModel.RDFEnvironment,e.exports=RDFModel},function(e,t,r){"use strict";(function(t,n){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){C(t,e)}}function o(e){return O.from(e)}function s(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)||O.isBuffer(e)}function a(){}function u(e,t){N=N||r(38),e=e||{},this.objectMode=!!e.objectMode,t instanceof N&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){m(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function l(e){if(N=N||r(38),!(D.call(l,this)||this instanceof N))return new l(e);this._writableState=new u(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),k.call(this)}function c(e,t){var r=new Error("write after end");e.emit("error",r),A(t,r)}function p(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),A(n,o),i=!1),i}function f(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=O.from(t,r)),t}function d(e,t,r,n,i,o){if(!r){var s=f(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else h(e,t,!1,a,n,i,o);return u}function h(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function v(e,t,r,n,i){--t.pendingcb,r?(A(i,n),A(I,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),I(e,t))}function g(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function m(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(g(r),t)v(e,r,n,t,i);else{var o=x(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||E(e,r),n?L(y,e,r,o,i):y(e,r,o,i)}}function y(e,t,r,n){r||b(e,t),t.pendingcb--,n(),I(e,t)}function b(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function E(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)o[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;o.allBuffers=u,h(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t)}else{for(;r;){var l=r.chunk,c=r.encoding,p=r.callback;if(h(e,t,!1,t.objectMode?1:l.length,l,c,p),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),I(e,t)})}function T(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,A(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function I(e,t){var r=x(t);return r&&(T(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}function w(e,t,r){t.ending=!0,I(e,t),r&&(t.finished?A(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function C(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var A=r(82);e.exports=l;var N,L=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:A;l.WritableState=u;var R=r(60);R.inherits=r(25);var _={deprecate:r(465)},k=r(198),O=r(128).Buffer,P=r(197);R.inherits(l,k),u.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(u.prototype,"buffer",{get:_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var D;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(e){return!!D.call(this,e)||e&&e._writableState instanceof u}})):D=function(e){return e instanceof this},l.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},l.prototype.write=function(e,t,r){var n=this._writableState,i=!1,u=s(e)&&!n.objectMode;return u&&!O.isBuffer(e)&&(e=o(e)),"function"==typeof t&&(r=t,t=null),u?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=a),n.ended?c(this,r):(u||p(this,n,e,r))&&(n.pendingcb++,i=d(this,n,u,e,t,r)),i},l.prototype.cork=function(){this._writableState.corked++},l.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||E(this,e))},l.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},l.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},l.prototype._writev=null,l.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||w(this,n,r)},Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),l.prototype.destroy=P.destroy,l.prototype._undestroy=P.undestroy,l.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,r(19),r(84).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(200),i=r(445),o=r(444),s=r(443),a=r(199);r(201);r.d(t,"createStore",function(){return n.b}),r.d(t,"combineReducers",function(){return i.a}),r.d(t,"bindActionCreators",function(){return o.a}),r.d(t,"applyMiddleware",function(){return s.a}),r.d(t,"compose",function(){return a.a})},function(e,t,r){function n(e,t){for(var r in e)t[r]=e[r]}function i(e,t,r){return s(e,t,r)}var o=r(45),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=o:(n(o,t),t.Buffer=i),n(s,i),i.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,r)},i.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=s(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){window.console=window.console||{log:function(){}},e.exports={storage:r(471),svg:r(472),version:{"yasgui-utils":r(470).version},nestedExists:function(e){for(var t=Array.prototype.slice.call(arguments,1),r=0;r<t.length;r++){if(!e||!e.hasOwnProperty(t[r]))return!1;e=e[t[r]]}return!0}}},function(e,t,r){"use strict";var n=function(e,t){var r=e.getPrefixesFromQuery();if("string"==typeof t)i(e,t);else for(var n in t)n in r||i(e,n+": <"+t[n]+">");e.collapsePrefixes(!1)},i=function(e,t){for(var r=null,n=0,i=e.lineCount(),o=0;o<i;o++){var s=e.getNextNonWsToken(o);null==s||"PREFIX"!=s.string&&"BASE"!=s.string||(r=s,n=o)}if(null==r)e.replaceRange("PREFIX "+t+"\n",{line:0,ch:0});else{var u=a(e,n);e.replaceRange("\n"+u+"PREFIX "+t,{line:n})}e.collapsePrefixes(!1)},o=function(e,t){for(var r in t)e.setValue(e.getValue().replace(new RegExp("PREFIX\\s*"+r+":\\s*"+function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}("<"+t[r]+">")+"\\s*","ig"),""));e.collapsePrefixes(!1)},s=function(e){return e.getTokenAt({line:e.lastLine(),ch:e.getLine(e.lastLine()).length},!0).state.prefixes},a=function(e,t,r){void 0==r&&(r=1);var n=e.getTokenAt({line:t,ch:r});return null==n||void 0==n||"ws"!=n.type?"":n.string+a(e,t,n.end+1)};e.exports={addPrefixes:n,getPrefixesFromQuery:s,removePrefixes:o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(135),i=r(87),o=function(){function e(){this.params=new n.StateParams,this.lastStartedTransitionId=-1,this.transitionHistory=new i.Queue([],1),this.successfulTransitions=new i.Queue([],1)}return e.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},e}();t.UIRouterGlobals=o},function(e,t,r){"use strict";function n(e,t){function r(t){return t&&Array.isArray(t.states)&&t.states.forEach(function(t){return e.router.stateRegistry.register(t)}),t}var n=t.$$state().lazyLoad,o=n._promise;if(!o){var s=function(e){return delete t.lazyLoad,delete t.$$state().lazyLoad,delete n._promise,e},a=function(e){return delete n._promise,i.services.$q.reject(e)};o=n._promise=i.services.$q.when(n(e,t)).then(r).then(s,a)}return o}Object.defineProperty(t,"__esModule",{value:!0});var i=r(11),o=function(e){function t(){if("url"!==e.originalTransition().options().source){var t=e.targetState();return r.stateService.target(t.identifier(),t.params(),t.options())}var n=r.urlService,i=n.match(n.parts()),o=i&&i.rule;if(o&&"STATE"===o.type){var s=o.state,a=i.match;return r.stateService.target(s,a,e.options())}r.urlService.sync()}var r=e.router,o=e.entering().filter(function(e){return!!e.$$state().lazyLoad}).map(function(t){return n(e,t)});return i.services.$q.all(o).then(t)};t.registerLazyLoadHook=function(e){return e.onBefore({entering:function(e){return!!e.lazyLoad}},o)},t.lazyLoadState=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(4),o=r(5),s=r(11),a=r(88),u=function(){function e(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=n.pick(e.prototype,["hash","string","query","path","int","bool","date","json","any"]);var t=function(e,t){return new a.ParamType(n.extend({name:t},e))};this.types=n.inherit(n.map(this.defaultTypes,t),{})}return e.prototype.dispose=function(){this.types={}},e.prototype.type=function(e,t,r){if(!i.isDefined(t))return this.types[e];if(this.types.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return this.types[e]=new a.ParamType(n.extend({name:e},t)),r&&(this.typeQueue.push({name:e,def:r}),this.enqueue||this._flushTypeQueue()),this},e.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var e=this.typeQueue.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");n.extend(this.types[e.name],s.services.$injector.invoke(e.def))}},e}();t.ParamTypes=u,function(){var e=function(e){var t=function(e){return null!=e?e.toString():e},r={encode:t,decode:t,is:o.is(String),pattern:/.*/,equals:function(e,t){return e==t}};return n.extend({},r,e)};n.extend(u.prototype,{string:e({}),path:e({pattern:/[^\/]*/}),query:e({}),hash:e({inherit:!1}),int:e({decode:function(e){return parseInt(e,10)},is:function(e){return!i.isNullOrUndefined(e)&&this.decode(e.toString())===e},pattern:/-?\d+/}),bool:e({encode:function(e){return e&&1||0},decode:function(e){return 0!==parseInt(e,10)},is:o.is(Boolean),pattern:/0|1/}),date:e({encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):void 0},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return["getFullYear","getMonth","getDate"].reduce(function(r,n){return r&&e[n]()===t[n]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:e({encode:n.toJson,decode:n.fromJson,is:o.is(Object),equals:n.equals,pattern:/[^\/]*/}),any:e({encode:n.identity,decode:n.identity,is:function(){return!0},equals:n.equals})})}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=function(){function e(e){void 0===e&&(e={}),n.extend(this,e)}return e.prototype.$inherit=function(e,t,r){var i,o=n.ancestors(t,r),s={},a=[];for(var u in o)if(o[u]&&o[u].params&&(i=Object.keys(o[u].params),i.length))for(var l in i)a.indexOf(i[l])>=0||(a.push(i[l]),s[i[l]]=this[i[l]]);return n.extend({},s,e)},e}();t.StateParams=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolvePolicies={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(145),i=r(146),o=r(92),s=r(156),a=r(141),u=r(142),l=r(132),c=r(2),p=r(4),f=r(148),d=r(21),h=0,v=function(){function e(e,t){void 0===e&&(e=f.UrlService.locationServiceStub),void 0===t&&(t=f.UrlService.locationConfigStub),this.locationService=e,this.locationConfig=t,this.$id=h++,this._disposed=!1,this._disposables=[],this.trace=d.trace,this.viewService=new s.ViewService,this.transitionService=new o.TransitionService(this),this.globals=new l.UIRouterGlobals,this.urlMatcherFactory=new n.UrlMatcherFactory,this.urlRouter=new i.UrlRouter(this),this.stateRegistry=new a.StateRegistry(this),this.stateService=new u.StateService(this),this.urlService=new f.UrlService(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(e),this.disposable(t)}return e.prototype.disposable=function(e){this._disposables.push(e)},e.prototype.dispose=function(e){var t=this;if(e&&p.isFunction(e.dispose))return void e.dispose(this);this._disposed=!0,this._disposables.slice().forEach(function(e){try{"function"==typeof e.dispose&&e.dispose(t),c.removeFrom(t._disposables,e)}catch(e){}})},e.prototype.plugin=function(e,t){void 0===t&&(t={});var r=new e(this,t);if(!r.name)throw new Error("Required property `name` missing on plugin: "+r);return this._disposables.push(r),this._plugins[r.name]=r},e.prototype.getPlugin=function(e){return e?this._plugins[e]:c.values(this._plugins)},e}();t.UIRouter=v},function(e,t,r){"use strict";function n(e){return e.name}function i(e){return e.self.$$state=function(){return e},e.self}function o(e){return e.parent&&e.parent.data&&(e.data=e.self.data=l.inherit(e.parent.data,e.data)),e.data}function s(e){return e.parent?e.parent.path.concat(e):[e]}function a(e){var t=e.parent?l.extend({},e.parent.includes):{};return t[e.name]=!0,t}function u(e){var t=function(e){var t=h.services.$injector;return e.$inject||t&&t.annotate(e,t.strictDi)||"deferred"},r=function(e){return!(!e.token||!e.resolveFn)},n=function(e){return!(!e.provide&&!e.token||!(e.useValue||e.useFactory||e.useExisting||e.useClass))},i=function(e){return!!(e&&e.val&&(c.isString(e.val)||c.isArray(e.val)||c.isFunction(e.val)))},o=function(e){return e.provide||e.token},s=f.pattern([[f.prop("resolveFn"),function(e){return new d.Resolvable(o(e),e.resolveFn,e.deps,e.policy)}],[f.prop("useFactory"),function(e){return new d.Resolvable(o(e),e.useFactory,e.deps||e.dependencies,e.policy)}],[f.prop("useClass"),function(e){return new d.Resolvable(o(e),function(){return new e.useClass},[],e.policy)}],[f.prop("useValue"),function(e){return new d.Resolvable(o(e),function(){return e.useValue},[],e.policy,e.useValue)}],[f.prop("useExisting"),function(e){return new d.Resolvable(o(e),l.identity,[e.useExisting],e.policy)}]]),a=f.pattern([[f.pipe(f.prop("val"),c.isString),function(e){return new d.Resolvable(e.token,l.identity,[e.val],e.policy)}],[f.pipe(f.prop("val"),c.isArray),function(e){return new d.Resolvable(e.token,l.tail(e.val),e.val.slice(0,-1),e.policy)}],[f.pipe(f.prop("val"),c.isFunction),function(e){return new d.Resolvable(e.token,e.val,t(e.val),e.policy)}]]),u=f.pattern([[f.is(d.Resolvable),function(e){return e}],[r,s],[n,s],[i,a],[f.val(!0),function(e){throw new Error("Invalid resolve value: "+p.stringify(e))}]]),v=e.resolve;return(c.isArray(v)?v:function(e,t){return Object.keys(e||{}).map(function(r){return{token:r,val:e[r],deps:void 0,policy:t[r]}})}(v,e.resolvePolicy||{})).map(u)}Object.defineProperty(t,"__esModule",{value:!0});var l=r(2),c=r(4),p=r(20),f=r(5),d=r(52),h=r(11),v=function(e){if(!c.isString(e))return!1;var t="^"===e.charAt(0);return{val:t?e.substring(1):e,root:t}},g=function(e,t){return function(r){var n=r;n&&n.url&&n.name&&n.name.match(/\.\*\*$/)&&(n.url+="{remainder:any}");var i=v(n.url),o=r.parent,s=i?e.compile(i.val,{params:r.params||{},paramMap:function(e,t){return!1===n.reloadOnSearch&&t&&(e=l.extend(e||{},{dynamic:!0})),e}}):n.url;if(!s)return null;if(!e.isMatcher(s))throw new Error("Invalid url '"+s+"' in state '"+r+"'");return i&&i.root?s:(o&&o.navigable||t()).url.append(s)}},m=function(e){return function(t){return!e(t)&&t.url?t:t.parent?t.parent.navigable:null}},y=function(e){return function(t){var r=function(t,r){return e.fromConfig(r,null,t)},n=t.url&&t.url.parameters({inherit:!1})||[],i=l.values(l.mapObj(l.omit(t.params||{},n.map(f.prop("id"))),r));return n.concat(i).map(function(e){return[e.id,e]}).reduce(l.applyPairs,{})}};t.resolvablesBuilder=u;var b=function(){function e(e,t){function r(t){return p(t)?null:e.find(l.parentName(t))||c()}this.matcher=e;var l=this,c=function(){return e.find("")},p=function(e){return""===e.name};this.builders={name:[n],self:[i],parent:[r],data:[o],url:[g(t,c)],navigable:[m(p)],params:[y(t.paramFactory)],views:[],path:[s],includes:[a],resolvables:[u]}}return e.prototype.builder=function(e,t){var r=this.builders,n=r[e]||[];return c.isString(e)&&!c.isDefined(t)?n.length>1?n:n[0]:c.isString(e)&&c.isFunction(t)?(r[e]=n,r[e].push(t),function(){return r[e].splice(r[e].indexOf(t,1))&&null}):void 0},e.prototype.build=function(e){var t=this,r=t.matcher,n=t.builders,i=this.parentName(e);if(i&&!r.find(i,void 0,!1))return null;for(var o in n)if(n.hasOwnProperty(o)){var s=n[o].reduce(function(e,t){return function(r){return t(r,e)}},l.noop);e[o]=s(e)}return e},e.prototype.parentName=function(e){var t=e.name||"",r=t.split(".");if(r.length>1){if(e.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+t+")");return"**"===r.pop()&&r.pop(),r.join(".")}return e.parent?c.isString(e.parent)?e.parent:e.parent.name:""},e.prototype.name=function(e){var t=e.name;if(-1!==t.indexOf(".")||!e.parent)return t;var r=c.isString(e.parent)?e.parent:e.parent.name;return r?r+"."+t:t},e}();t.StateBuilder=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),i=r(2),o=function(){function e(e){this._states=e}return e.prototype.isRelative=function(e){return e=e||"",0===e.indexOf(".")||0===e.indexOf("^")},e.prototype.find=function(e,t,r){if(void 0===r&&(r=!0),e||""===e){var o=n.isString(e),s=o?e:e.name;this.isRelative(s)&&(s=this.resolvePath(s,t));var a=this._states[s];if(a&&(o||!(o||a!==e&&a.self!==e)))return a;if(o&&r){var u=i.values(this._states),l=u.filter(function(e){return e.__stateObjectCache.nameGlob&&e.__stateObjectCache.nameGlob.matches(s)});return l.length>1&&console.log("stateMatcher.find: Found multiple matches for "+s+" using glob: ",l.map(function(e){return e.name})),l[0]}}},e.prototype.resolvePath=function(e,t){if(!t)throw new Error("No reference point given for path '"+e+"'");for(var r=this.find(t),n=e.split("."),i=0,o=n.length,s=r;i<o;i++)if(""!==n[i]||0!==i){if("^"!==n[i])break;if(!s.parent)throw new Error("Path '"+e+"' not valid for state '"+r.name+"'");s=s.parent}else s=r;var a=n.slice(i).join(".");return s.name+(s.name&&a?".":"")+a},e}();t.StateMatcher=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(4),o=r(90),s=r(5),a=function(){function e(e,t,r,n,i){this.$registry=e,this.$urlRouter=t,this.states=r,this.builder=n,this.listeners=i,this.queue=[],this.matcher=e.matcher}return e.prototype.dispose=function(){this.queue=[]},e.prototype.register=function(e){var t=this.queue,r=o.StateObject.create(e),a=r.name;if(!i.isString(a))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(a)||n.inArray(t.map(s.prop("name")),a))throw new Error("State '"+a+"' is already defined");return t.push(r),this.flush(),r},e.prototype.flush=function(){for(var e=this,t=this,r=t.queue,n=t.states,i=t.builder,o=[],s=[],a={},u=function(t){return e.states.hasOwnProperty(t)&&e.states[t]};r.length>0;){var l=r.shift(),c=l.name,p=i.build(l),f=s.indexOf(l);if(p){var d=u(c);if(d&&d.name===c)throw new Error("State '"+c+"' is already defined");var h=u(c+".**");h&&this.$registry.deregister(h),n[c]=l,this.attachRoute(l),f>=0&&s.splice(f,1),o.push(l)}else{var v=a[c];if(a[c]=r.length,f>=0&&v===r.length)return r.push(l),n;f<0&&s.push(l),r.push(l)}}return o.length&&this.listeners.forEach(function(e){return e("registered",o.map(function(e){return e.self}))}),n},e.prototype.attachRoute=function(e){!e.abstract&&e.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(e))},e}();t.StateQueueManager=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(139),i=r(138),o=r(140),s=r(2),a=r(5),u=function(){function e(e){this._router=e,this.states={},this.listeners=[],this.matcher=new n.StateMatcher(this.states),this.builder=new i.StateBuilder(this.matcher,e.urlMatcherFactory),this.stateQueue=new o.StateQueueManager(this,e.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return e.prototype._registerRoot=function(){var e={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0};(this._root=this.stateQueue.register(e)).navigable=null},e.prototype.dispose=function(){var e=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(t){return e.get(t)&&e.deregister(t)})},e.prototype.onStatesChanged=function(e){return this.listeners.push(e),function(){s.removeFrom(this.listeners)(e)}.bind(this)},e.prototype.root=function(){return this._root},e.prototype.register=function(e){return this.stateQueue.register(e)},e.prototype._deregisterTree=function(e){var t=this,r=this.get().map(function(e){return e.$$state()}),n=function(e){var t=r.filter(function(t){return-1!==e.indexOf(t.parent)});return 0===t.length?t:t.concat(n(t))},i=n([e]),o=[e].concat(i).reverse();return o.forEach(function(e){var r=t._router.urlRouter;r.rules().filter(a.propEq("state",e)).forEach(r.removeRule.bind(r)),delete t.states[e.name]}),o},e.prototype.deregister=function(e){var t=this.get(e);if(!t)throw new Error("Can't deregister state; not found: "+e);var r=this._deregisterTree(t.$$state());return this.listeners.forEach(function(e){return e("deregistered",r.map(function(e){return e.self}))}),r},e.prototype.get=function(e,t){var r=this;if(0===arguments.length)return Object.keys(this.states).map(function(e){return r.states[e].self});var n=this.matcher.find(e,t);return n&&n.self||null},e.prototype.decorator=function(e,t){return this.builder.builder(e,t)},e}();t.StateRegistry=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(4),o=r(87),s=r(11),a=r(66),u=r(89),l=r(92),c=r(53),p=r(26),f=r(40),d=r(64),h=r(67),v=r(133),g=r(5),m=function(){function e(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(e){e instanceof Error&&e.stack?(console.error(e),console.error(e.stack)):e instanceof c.Rejection?(console.error(e.toString()),e.detail&&e.detail.stack&&console.error(e.detail.stack)):console.error(e)};var r=["current","$current","params","transition"],i=Object.keys(e.prototype).filter(g.not(n.inArray(r)));n.createProxyFunctions(g.val(e.prototype),this,g.val(this),i)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(n.noop),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(e,t){function r(){var e=d.dequeue();return void 0===e?c.Rejection.invalid(t.error()).toPromise():s.services.$q.when(e(t,i,v)).then(g).then(function(e){return e||r()})}var n=this,i=a.PathUtils.makeTargetState(e),u=this.router.globals,l=function(){return u.transitionHistory.peekTail()},f=l(),d=new o.Queue(this.invalidCallbacks.slice()),v=new h.ResolveContext(e).injector(),g=function(e){if(e instanceof p.TargetState){var t=e;return t=n.target(t.identifier(),t.params(),t.options()),t.valid()?l()!==f?c.Rejection.superseded().toPromise():n.transitionTo(t.identifier(),t.params(),t.options()):c.Rejection.invalid(t.error()).toPromise()}};return r()},e.prototype.onInvalid=function(e){return this.invalidCallbacks.push(e),function(){n.removeFrom(this.invalidCallbacks)(e)}.bind(this)},e.prototype.reload=function(e){return this.transitionTo(this.current,this.params,{reload:!i.isDefined(e)||e,inherit:!1,notify:!1})},e.prototype.go=function(e,t,r){var i={relative:this.$current,inherit:!0},o=n.defaults(r,i,l.defaultTransOpts);return this.transitionTo(e,t,o)},e.prototype.target=function(e,t,r){if(void 0===r&&(r={}),i.isObject(r.reload)&&!r.reload.name)throw new Error("Invalid reload state object");var n=this.router.stateRegistry;if(r.reloadState=!0===r.reload?n.root():n.matcher.find(r.reload,r.relative),r.reload&&!r.reloadState)throw new Error("No such reload state '"+(i.isString(r.reload)?r.reload:r.reload.name)+"'");var o=n.matcher.find(e,r.relative);return new p.TargetState(e,o,t,r)},e.prototype.getCurrentPath=function(){var e=this,t=this.router.globals,r=t.successfulTransitions.peekTail();return r?r.treeChanges().to:function(){return[new u.PathNode(e.router.stateRegistry.root())]}()},e.prototype.transitionTo=function(e,t,r){var i=this;void 0===t&&(t={}),void 0===r&&(r={});var o=this.router,a=o.globals;r=n.defaults(r,l.defaultTransOpts);var u=function(){return a.transition};r=n.extend(r,{current:u});var f=this.target(e,t,r),d=this.getCurrentPath();if(!f.exists())return this._handleInvalidTargetState(d,f);if(!f.valid())return n.silentRejection(f.error());var h=function(e){return function(t){if(t instanceof c.Rejection){var r=o.globals.lastStartedTransitionId===e.$id;if(t.type===c.RejectType.IGNORED)return r&&o.urlRouter.update(),s.services.$q.when(a.current);var n=t.detail;if(t.type===c.RejectType.SUPERSEDED&&t.redirected&&n instanceof p.TargetState){var u=e.redirect(n);return u.run().catch(h(u))}if(t.type===c.RejectType.ABORTED)return r&&o.urlRouter.update(),s.services.$q.reject(t)}return i.defaultErrorHandler()(t),s.services.$q.reject(t)}},v=this.router.transitionService.create(d,f),g=v.run().catch(h(v));return n.silenceUncaughtInPromise(g),n.extend(g,{transition:v})},e.prototype.is=function(e,t,r){r=n.defaults(r,{relative:this.$current});var o=this.router.stateRegistry.matcher.find(e,r.relative);if(i.isDefined(o)){if(this.$current!==o)return!1;if(!t)return!0;var s=o.parameters({inherit:!0,matchingKeys:t});return f.Param.equals(s,f.Param.values(s,t),this.params)}},e.prototype.includes=function(e,t,r){r=n.defaults(r,{relative:this.$current});var o=i.isString(e)&&d.Glob.fromString(e);if(o){if(!o.matches(this.$current.name))return!1;e=this.$current.name}var s=this.router.stateRegistry.matcher.find(e,r.relative),a=this.$current.includes;if(i.isDefined(s)){if(!i.isDefined(a[s.name]))return!1;if(!t)return!0;var u=s.parameters({inherit:!0,matchingKeys:t});return f.Param.equals(u,f.Param.values(u,t),this.params)}},e.prototype.href=function(e,t,r){var o={lossy:!0,inherit:!0,absolute:!1,relative:this.$current};r=n.defaults(r,o),t=t||{};var s=this.router.stateRegistry.matcher.find(e,r.relative);if(!i.isDefined(s))return null;r.inherit&&(t=this.params.$inherit(t,this.$current,s));var a=s&&r.lossy?s.navigable:s;return a&&void 0!==a.url&&null!==a.url?this.router.urlRouter.href(a.url,t,{absolute:r.absolute}):null},e.prototype.defaultErrorHandler=function(e){return this._defaultErrorHandler=e||this._defaultErrorHandler},e.prototype.get=function(e,t){var r=this.router.stateRegistry;return 0===arguments.length?r.get():r.get(e,t||this.$current)},e.prototype.lazyLoad=function(e,t){var r=this.get(e);if(!r||!r.lazyLoad)throw new Error("Can not lazy load "+e);var n=this.getCurrentPath(),i=a.PathUtils.makeTargetState(n);return t=t||this.router.transitionService.create(n,i),v.lazyLoadState(t,r)},e}();t.StateService=m},function(e,t,r){"use strict";function n(e){return void 0===e&&(e=!1),function(t,r){var n=e?-1:1,i=(t.node.state.path.length-r.node.state.path.length)*n;return 0!==i?i:r.hook.priority-t.hook.priority}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=r(4),s=r(41),a=r(54),u=function(){function e(e){this.transition=e}return e.prototype.buildHooksForPhase=function(e){var t=this;return this.transition.router.transitionService._pluginapi._getEvents(e).map(function(e){return t.buildHooks(e)}).reduce(i.unnestR,[]).filter(i.identity)},e.prototype.buildHooks=function(e){var t=this.transition,r=t.treeChanges(),o=this.getMatchingHooks(e,r);if(!o)return[];var u={transition:t,current:t.options().current},l=function(n){return n.matches(r)[e.criteriaMatchPath.name].map(function(r){var o=i.extend({bind:n.bind,traceData:{hookType:e.name,context:r}},u),l=e.criteriaMatchPath.scope===s.TransitionHookScope.STATE?r.state.self:null,c=new a.TransitionHook(t,l,n,o);return{hook:n,node:r,transitionHook:c}})};return o.map(l).reduce(i.unnestR,[]).sort(n(e.reverseSort)).map(function(e){return e.transitionHook})},e.prototype.getMatchingHooks=function(e,t){var r=e.hookPhase===s.TransitionHookPhase.CREATE,n=this.transition.router.transitionService;return(r?[n]:[this.transition,n]).map(function(t){return t.getHooks(e.name)}).filter(i.assertPredicate(o.isArray,"broken event named: "+e.name)).reduce(i.unnestR,[]).filter(function(e){return e.matches(t)})},e}();t.HookBuilder=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(54),i=function(){function e(e,t,r,i,o,s,a,u){void 0===o&&(o=!1),void 0===s&&(s=n.TransitionHook.HANDLE_RESULT),void 0===a&&(a=n.TransitionHook.REJECT_ERROR),void 0===u&&(u=!1),this.name=e,this.hookPhase=t,this.hookOrder=r,this.criteriaMatchPath=i,this.reverseSort=o,this.getResultHandler=s,this.getErrorHandler=a,this.synchronous=u}return e}();t.TransitionEventType=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(4),o=r(69),s=r(40),a=r(134),u=function(){function e(){var e=this;this.paramTypes=new a.ParamTypes,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(t){return n.extend({strict:e._isStrictMode,caseInsensitive:e._isCaseInsensitive},t)},this.paramFactory={fromConfig:function(t,r,n){return new s.Param(t,r,n,s.DefType.CONFIG,e)},fromPath:function(t,r,n){return new s.Param(t,r,n,s.DefType.PATH,e)},fromSearch:function(t,r,n){return new s.Param(t,r,n,s.DefType.SEARCH,e)}},n.extend(this,{UrlMatcher:o.UrlMatcher,Param:s.Param})}return e.prototype.caseInsensitive=function(e){return this._isCaseInsensitive=i.isDefined(e)?e:this._isCaseInsensitive},e.prototype.strictMode=function(e){return this._isStrictMode=i.isDefined(e)?e:this._isStrictMode},e.prototype.defaultSquashPolicy=function(e){if(i.isDefined(e)&&!0!==e&&!1!==e&&!i.isString(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=i.isDefined(e)?e:this._defaultSquashPolicy},e.prototype.compile=function(e,t){return new o.UrlMatcher(e,this.paramTypes,this.paramFactory,this._getConfig(t))},e.prototype.isMatcher=function(e){if(!i.isObject(e))return!1;var t=!0;return n.forEach(o.UrlMatcher.prototype,function(r,n){i.isFunction(r)&&(t=t&&i.isDefined(e[n])&&i.isFunction(e[n]))}),t},e.prototype.type=function(e,t,r){var n=this.paramTypes.type(e,t,r);return i.isDefined(t)?this:n},e.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},e.prototype.dispose=function(){this.paramTypes.dispose()},e}();t.UrlMatcherFactory=u},function(e,t,r){"use strict";function n(e,t,r,n){return"/"===n?e:t?n.slice(0,-1)+e:r?n.slice(1)+e:e}function i(e){if(!(a.isFunction(e)||a.isString(e)||l.is(p.TargetState)(e)||p.TargetState.isDef(e)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return a.isFunction(e)?e:l.val(e)}Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(2),a=r(4),u=r(69),l=r(5),c=r(147),p=r(26),f=l.prop("urlMatcher");o=s.composeSort(s.sortBy(l.pipe(l.prop("priority"),function(e){return-e})),s.sortBy(l.pipe(l.prop("type"),function(e){return{STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1}[e]})),function(e,t){return f(e)&&f(t)?u.UrlMatcher.compare(f(e),f(t)):0},s.sortBy(l.prop("$id"),s.inArray(["REGEXP","RAW","OTHER"])));var d=function(){function e(t){this._sortFn=o,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=t,this.urlRuleFactory=new c.UrlRuleFactory(t),s.createProxyFunctions(l.val(e.prototype),this,l.val(this))}return e.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},e.prototype.sort=function(e){this._rules.sort(this._sortFn=e||this._sortFn),this._sorted=!0},e.prototype.ensureSorted=function(){this._sorted||this.sort()},e.prototype.match=function(e){var t=this;this.ensureSorted(),e=s.extend({path:"",search:{},hash:""},e);var r=this.rules();this._otherwiseFn&&r.push(this._otherwiseFn);for(var n,i=0;i<r.length&&(!n||0===this._sortFn(r[i],n.rule));i++){var o=function(r){var n=r.match(e,t._router);return n&&{match:n,rule:r,weight:r.matchPriority(n)}}(r[i]);n=!n||o&&o.weight>n.weight?o:n}return n},e.prototype.sync=function(e){if(!e||!e.defaultPrevented){var t=this._router,r=t.urlService,n=t.stateService,i={path:r.path(),search:r.search(),hash:r.hash()},o=this.match(i);l.pattern([[a.isString,function(e){return r.url(e,!0)}],[p.TargetState.isDef,function(e){return n.go(e.state,e.params,e.options)}],[l.is(p.TargetState),function(e){return n.go(e.state(),e.params(),e.options())}]])(o&&o.rule.handler(o.match,i,t))}},e.prototype.listen=function(e){var t=this;if(!1!==e)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(e){return t.sync(e)});this._stopFn&&this._stopFn(),delete this._stopFn},e.prototype.update=function(e){var t=this._router.locationService;if(e)return void(this.location=t.path());t.path()!==this.location&&t.url(this.location,!0)},e.prototype.push=function(e,t,r){var n=r&&!!r.replace;this._router.urlService.url(e.format(t||{}),n)},e.prototype.href=function(e,t,r){var i=e.format(t);if(null==i)return null;r=r||{absolute:!1};var o=this._router.urlService.config,s=o.html5Mode();if(s||null===i||(i="#"+o.hashPrefix()+i),i=n(i,s,r.absolute,o.baseHref()),!r.absolute||!i)return i;var a=!s&&i?"/":"",u=o.port();return u=80===u||443===u?"":":"+u,[o.protocol(),"://",o.host(),u,a,i].join("")},e.prototype.rule=function(e){var t=this;if(!c.UrlRuleFactory.isUrlRule(e))throw new Error("invalid rule");return e.$id=this._id++,e.priority=e.priority||0,this._rules.push(e),this._sorted=!1,function(){return t.removeRule(e)}},e.prototype.removeRule=function(e){s.removeFrom(this._rules,e)},e.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},e.prototype.otherwise=function(e){var t=i(e);this._otherwiseFn=this.urlRuleFactory.create(l.val(!0),t),this._sorted=!1},e.prototype.initial=function(e){var t=i(e),r=function(e,t){return 0===t.globals.transitionHistory.size()&&!!/^\/?$/.exec(e.path)};this.rule(this.urlRuleFactory.create(r,t))},e.prototype.when=function(e,t,r){var n=this.urlRuleFactory.create(e,t);return a.isDefined(r&&r.priority)&&(n.priority=r.priority),this.rule(n),n},e.prototype.deferIntercept=function(e){void 0===e&&(e=!0),this.interceptDeferred=e},e}();t.UrlRouter=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(69),i=r(4),o=r(2),s=r(5),a=function(){function e(e){this.router=e}return e.prototype.compile=function(e){return this.router.urlMatcherFactory.compile(e)},e.prototype.create=function(e,t){var r=this,o=s.pattern([[i.isString,function(e){return o(r.compile(e))}],[s.is(n.UrlMatcher),function(e){return r.fromUrlMatcher(e,t)}],[i.isState,function(e){return r.fromState(e,r.router)}],[s.is(RegExp),function(e){return r.fromRegExp(e,t)}],[i.isFunction,function(e){return new u(e,t)}]]),a=o(e);if(!a)throw new Error("invalid 'what' in when()");return a},e.prototype.fromUrlMatcher=function(e,t){function r(t){var r=e.exec(t.path,t.search,t.hash);return e.validates(r)&&r}function a(t){var r=e.parameters().filter(function(e){return e.isOptional});return r.length?r.filter(function(e){return t[e.id]}).length/r.length:1e-6}var l=t;i.isString(t)&&(t=this.router.urlMatcherFactory.compile(t)),s.is(n.UrlMatcher)(t)&&(l=function(e){return t.format(e)});var c={urlMatcher:e,matchPriority:a,type:"URLMATCHER"};return o.extend(new u(r,l),c)},e.prototype.fromState=function(e,t){var r=function(r){var n=t.stateService,i=t.globals;n.href(e,r)!==n.href(i.current,i.params)&&n.transitionTo(e,r,{inherit:!0,source:"url"})},n={state:e,type:"STATE"};return o.extend(this.fromUrlMatcher(e.url,r),n)},e.prototype.fromRegExp=function(e,t){if(e.global||e.sticky)throw new Error("Rule RegExp must not be global or sticky");var r=function(e){return t.replace(/\$(\$|\d{1,2})/,function(t,r){return e["$"===r?0:Number(r)]})},n=i.isString(t)?r:t,s=function(t){return e.exec(t.path)},a={regexp:e,type:"REGEXP"};return o.extend(new u(s,n),a)},e}();a.isUrlRule=function(e){return e&&["type","match","handler"].every(function(t){return i.isDefined(e[t])})},t.UrlRuleFactory=a;var u=function(){function e(e,t){var r=this;this.match=e,this.type="RAW",this.matchPriority=function(e){return 0-r.$id},this.handler=t||o.identity}return e}();t.BaseUrlRule=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(2),o=function(e){return e.reduce(function(e,t){return e[t]=n.notImplemented(t),e},{dispose:i.noop})},s=["url","path","search","hash","onChange"],a=["port","protocol","host","baseHref","html5Mode","hashPrefix"],u=["type","caseInsensitive","strictMode","defaultSquashPolicy"],l=["sort","when","initial","otherwise","rules","rule","removeRule"],c=["deferIntercept","listen","sync","match"],p=function(){function e(e,t){void 0===t&&(t=!0),this.router=e,this.rules={},this.config={};var r=function(){return e.locationService};i.createProxyFunctions(r,this,r,s,t);var n=function(){return e.locationConfig};i.createProxyFunctions(n,this.config,n,a,t);var o=function(){return e.urlMatcherFactory};i.createProxyFunctions(o,this.config,o,u);var p=function(){return e.urlRouter};i.createProxyFunctions(p,this.rules,p,l),i.createProxyFunctions(p,this,p,c)}return e.prototype.url=function(e,t,r){},e.prototype.path=function(){},e.prototype.search=function(){},e.prototype.hash=function(){},e.prototype.onChange=function(e){},e.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},e.prototype.dispose=function(){},e.prototype.sync=function(e){},e.prototype.listen=function(e){},e.prototype.deferIntercept=function(e){},e.prototype.match=function(e){},e}();p.locationServiceStub=o(s),p.locationConfigStub=o(a),t.UrlService=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),i=function(){function e(e,t){void 0===t&&(t=!1),this._isHtml5=t,this._baseHref=void 0,this._hashPrefix=""}return e.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},e.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},e.prototype.host=function(){return location.host},e.prototype.html5Mode=function(){return this._isHtml5},e.prototype.hashPrefix=function(e){return n.isDefined(e)?this._hashPrefix=e:this._hashPrefix},e.prototype.baseHref=function(e){return n.isDefined(e)?this._baseHref=e:this._baseHref||this.applyDocumentBaseHref()},e.prototype.applyDocumentBaseHref=function(){var e=document.getElementsByTagName("base");return this._baseHref=e.length?e[0].href.substr(location.origin.length):""},e.prototype.dispose=function(){},e}();t.BrowserLocationConfig=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(55),o=r(70),s=function(e){function t(t){var r=e.call(this,t,!1)||this;return window.addEventListener("hashchange",r._listener,!1),r}return n(t,e),t.prototype._get=function(){return i.trimHashVal(this._location.hash)},t.prototype._set=function(e,t,r,n){this._location.hash=r},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t),window.removeEventListener("hashchange",this._listener)},t}(o.BaseLocationServices);t.HashLocationService=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(65),i={},o=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,s=/([^\s,]+)/g;t.$injector={get:function(e){return i[e]},has:function(e){return null!=t.$injector.get(e)},invoke:function(e,r,o){var s=n.extend({},i,o||{}),a=t.$injector.annotate(e),u=n.assertPredicate(function(e){return s.hasOwnProperty(e)},function(e){return"DI can't find injectable: '"+e+"'"}),l=a.filter(u).map(function(e){return s[e]});return n.isFunction(e)?e.apply(r,l):e.slice(-1)[0].apply(r,l)},annotate:function(e){if(!n.isInjectable(e))throw new Error("Not an injectable function: "+e);if(e&&e.$inject)return e.$inject;if(n.isArray(e))return e.slice(0,-1);var t=e.toString().replace(o,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(s)||[]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),i=r(2),o=function(){function e(){var e=this;this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return e._port},this.protocol=function(){return e._protocol},this.host=function(){return e._host},this.baseHref=function(){return e._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(t){return n.isDefined(t)?e._hashPrefix=t:e._hashPrefix},this.dispose=i.noop}return e}();t.MemoryLocationConfig=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(70),o=function(e){function t(t){return e.call(this,t,!0)||this}return n(t,e),t.prototype._get=function(){return this._url},t.prototype._set=function(e,t,r,n){this._url=r},t}(i.BaseLocationServices);t.MemoryLocationService=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(55),o=r(70),s=function(e){function t(t){var r=e.call(this,t,!0)||this;return r._config=t.urlService.config,window.addEventListener("popstate",r._listener,!1),r}return n(t,e),t.prototype._get=function(){var e=this._location,t=e.pathname,r=e.hash,n=e.search;return n=i.splitQuery(n)[1],r=i.splitHash(r)[1],t+(n?"?"+n:"")+(r?"$"+n:"")},t.prototype._set=function(e,t,r,n){var i=this,o=i._config,s=i._history,a=o.baseHref()+r;n?s.replaceState(e,t,a):s.pushState(e,t,a)},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t),window.removeEventListener("popstate",this._listener)},t}(o.BaseLocationServices);t.PushStateLocationService=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(65);t.$q={when:function(e){return new Promise(function(t,r){return t(e)})},reject:function(e){return new Promise(function(t,r){r(e)})},defer:function(){var e={};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e},all:function(e){if(n.isArray(e))return Promise.all(e);if(n.isObject(e)){var r=Object.keys(e).map(function(t){return e[t].then(function(e){return{key:t,val:e}})});return t.$q.all(r).then(function(e){return e.reduce(function(e,t){return e[t.key]=t.val,e},{})})}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(5),o=r(4),s=r(21),a=function(){function e(){var e=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return e._uiViews},_activeViewConfigs:function(){return e._viewConfigs}}}return e.prototype._rootViewContext=function(e){return this._rootContext=e||this._rootContext},e.prototype._viewConfigFactory=function(e,t){this._viewConfigFactories[e]=t},e.prototype.createViewConfig=function(e,t){var r=this._viewConfigFactories[t.$type];if(!r)throw new Error("ViewService: No view config factory registered for type "+t.$type);var n=r(e,t);return o.isArray(n)?n:[n]},e.prototype.deactivateViewConfig=function(e){s.trace.traceViewServiceEvent("<- Removing",e),n.removeFrom(this._viewConfigs,e)},e.prototype.activateViewConfig=function(e){s.trace.traceViewServiceEvent("-> Registering",e),this._viewConfigs.push(e)},e.prototype.sync=function(){function t(e){var t=function(e){return e&&e.parent?t(e.parent)+1:1};return 1e4*e.fqn.split(".").length+t(e.creationContext)}function r(e){for(var t=e.viewDecl.$context,r=0;++r&&t.parent;)t=t.parent;return r}var o=this,s=this._uiViews.map(function(e){return[e.fqn,e]}).reduce(n.applyPairs,{}),a=i.curry(function(e,t,r,n){return t*(e(r)-e(n))}),u=function(t){var n=o._viewConfigs.filter(e.matches(s,t));return n.length>1&&n.sort(a(r,-1)),[t,n[0]]},l=function(e){var t=e[0],r=e[1];-1!==o._uiViews.indexOf(t)&&t.configUpdated(r)};this._uiViews.sort(a(t,1)).map(u).forEach(l)},e.prototype.registerUIView=function(e){s.trace.traceViewServiceUIViewEvent("-> Registering",e);var t=this._uiViews,r=function(t){return t.fqn===e.fqn};return t.filter(r).length&&s.trace.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",e),t.push(e),this.sync(),function(){if(-1===t.indexOf(e))return void s.trace.traceViewServiceUIViewEvent("Tried removing non-registered uiView",e);s.trace.traceViewServiceUIViewEvent("<- Deregistering",e),n.removeFrom(t)(e)}},e.prototype.available=function(){return this._uiViews.map(i.prop("fqn"))},e.prototype.active=function(){return this._uiViews.filter(i.prop("$config")).map(i.prop("name"))},e.normalizeUIViewTarget=function(e,t){void 0===t&&(t="");var r=t.split("@"),n=r[0]||"$default",i=o.isString(r[1])?r[1]:"^",s=/^(\^(?:\.\^)*)\.(.*$)/.exec(n);(s&&(i=s[1],n=s[2]),"!"===n.charAt(0)&&(n=n.substr(1),i=""),/^(\^(?:\.\^)*)$/.exec(i))?i=i.split(".").reduce(function(e,t){return e.parent},e).name:"."===i&&(i=e.name);return{uiViewName:n,uiViewContextAnchor:i}},e}();a.matches=function(e,t){return function(r){if(t.$type!==r.viewDecl.$type)return!1;var i=r.viewDecl,o=i.$uiViewName.split("."),s=t.fqn.split(".");if(!n.equals(o,s.slice(0-o.length)))return!1;var a=1-o.length||void 0,u=s.slice(0,a).join("."),l=e[u].creationContext;return i.$uiViewContextAnchor===(l&&l.name)}},t.ViewService=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),i=function(){function e(t,r){this.stateRegistry=t,this.stateService=r,n.createProxyFunctions(n.val(e.prototype),this,n.val(this))}return e.prototype.decorator=function(e,t){return this.stateRegistry.decorator(e,t)||this},e.prototype.state=function(e,t){return n.isObject(e)?t=e:t.name=e,this.stateRegistry.register(t),this},e.prototype.onInvalid=function(e){return this.stateService.onInvalid(e)},e}();t.StateProvider=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),i=r(15),o=function(){function e(e){this._router=e,this._urlRouter=e.urlRouter}return e.prototype.$get=function(){var e=this._urlRouter;return e.update(!0),e.interceptDeferred||e.listen(),e},e.prototype.rule=function(e){var t=this;if(!i.isFunction(e))throw new Error("'rule' must be a function");var r=function(){return e(i.services.$injector,t._router.locationService)},o=new n.BaseUrlRule(r,i.identity);return this._urlRouter.rule(o),this},e.prototype.otherwise=function(e){var t=this,r=this._urlRouter;if(i.isString(e))r.otherwise(e);else{if(!i.isFunction(e))throw new Error("'rule' must be a string or function");r.otherwise(function(){return e(i.services.$injector,t._router.locationService)})}return this},e.prototype.when=function(t,r){return(i.isArray(r)||i.isFunction(r))&&(r=e.injectableHandler(this._router,r)),this._urlRouter.when(t,r),this},e.injectableHandler=function(e,t){return function(r){return i.services.$injector.invoke(t,null,{$match:r,$stateParams:e.globals.params})}},e.prototype.deferIntercept=function(e){this._urlRouter.deferIntercept(e)},e}();t.UrlRouterProvider=o},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r(1),i=r.n(n),o=r(63),s=(r.n(o),r(16)),a=r(6),u=r(0),l=(r.n(u),r(29)),c=r(28),p=function(){function e(t,r,n,s){i()(this,e),this.$element=t,this.$scope=r,this.fibraService=n,this.$compile=s,this.propertyPopover=o.select(t[0]).append("div").classed("property-popover",!0)}return e.$inject=["$element","$scope","fibraService","$compile"],e.prototype.addPopover=function(e,t,r,n,i){var s=o.select(t.node().parentElement.parentElement).select("div.property-popover");s.select("property-popover").remove(),s.style("left",r.fx-3+"px").style("top",r.fy+12+"px");var a=e.$new(!0);a.node=r,a.close=function(){s.style("visibility","hidden")},s.node().appendChild(this.$compile('<property-popover node="node" types="types" close="close"></property-popover>')(a)[0]),s.style("visibility","visible")},e.prototype.hidePopover=function(){this.propertyPopover.style("visibility","hidden")},e}(),f=function e(){i()(this,e),this.bindings={node:"=",close:"="},this.template=r(409)(),this.controller=d},d=function(){function e(t,r,n,o,s){var u=this;i()(this,e),this.fibraService=t,this.sparqlItemService=r,this.$scope=n,this.$q=o,this.$ngRedux=s,this.thingType=a.b.Thing.value,this.showTypeCreate=!1,this.typeQuery="",this.typeQueryGS=function(e){return void 0!==e&&(u.typeQuery=e),u.typeQuery};var p=s.connect(this.mapTypesToThis,l)(this),f=s.connect(this.mapItemsToThis,c)(this);this.unsubscribe=function(){p(),f()},this.getTypes=function(){return u.types.types.concat(u.types.userTypes)}}return e.$inject=["fibraService","sparqlItemService","$scope","$q","$ngRedux"],e.prototype.$onDestroy=function(){this.unsubscribe()},e.prototype.$postLink=function(){this.label=this.node.label;var e=this.node.localProperties.filter(function(e){return"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===e.value})[0].values[0].value.value;this.chosenType=this.types.types.filter(function(t){return t.id===e})[0],this.chosenType&&(this.typeQuery=this.chosenType.label)},e.prototype.typeCreate=function(e){var t=this;e&&!this.types.types.filter(function(t){return t.label===e})[0]&&this.createType(e,this.sparqlItemService).then(function(){var r=t.types.userTypes.filter(function(t){return t.label===e})[0];return r?t.typeChange(r):t.$q.resolve({})})},e.prototype.mapTypesToThis=function(e){return{types:e.types}},e.prototype.mapItemsToThis=function(e){return{items:e.items}},e.prototype.typeEvaluate=function(e){e&&!this.getTypes().filter(function(t){return t.label===e})[0]?this.showTypeCreate=!0:this.showTypeCreate=!1},e.prototype.typeChange=function(e){var t=this;this.chosenType=e;var r=this.node.localProperties.filter(function(e){return e.value===a.d.type.value})[0].values.map(function(e){return new s.a(a.d.type,e.value)}),n=new a.i(e.id);return this.showTypeCreate=!1,this.itemProperty(this.sparqlItemService,this.node,[new s.a(a.d.type,n)],r).then(function(){var r=t.types.displayTypes;if(!r[0]&&e)return t.setOrderedTypes([e]);if(!r[1]&&e&&r[0]!==e){var n=r.concat([]);return n.push(e),t.setOrderedTypes(n)}})},e.prototype.labelChange=function(){var e=this.node.localProperties.filter(function(e){return e.value===a.c.prefLabel.value})[0].values.map(function(e){return new s.a(a.c.prefLabel,e.value)});this.itemProperty(this.sparqlItemService,this.node,[new s.a(a.c.prefLabel,a.a.instance.literal(this.label))],e)},e.prototype.deleteAndClose=function(){var e=this;this.deleteItem(this.$q,this.sparqlItemService,this.node).then(function(){e.fibraService.dispatch("change"),e.close()})},e.prototype.closePopover=function(){this.close(),this.fibraService.dispatch("change")},e}();u.module("fibra.components.property-popover",["fibra.services","ui.bootstrap"]).component("propertyPopover",new f)},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(1),i=r.n(n),o=r(0),s=(r.n(o),function(){function e(t,r,n){i()(this,e),this.$state=t,this.projectSources=n.getProjectSources(),r.sourceId&&r.sparqlEndpoint&&r.type&&(this.projectSources.push(new a(r.sourceId,r.sparqlEndpoint,r.updateEndpoint?r.updateEndpoint:r.sparqlEndpoint,r.graphStoreEndpoint?r.graphStoreEndpoint:r.sparqlEndpoint,r.graph?r.graph:"",r.type)),t.go("projects"))}return e.$inject=["$state","$stateParams","projectService"],e.prototype.deleteProjectSource=function(e){this.projectSources.splice(e,1)},e.prototype.addNewProjectSource=function(){this.projectSources.push(new a("","","","","",""))},e}()),a=function e(t,r,n,o,s,a){i()(this,e),this.id=t,this.sparqlEndpoint=r,this.updateEndpoint=n,this.graphStoreEndpoint=o,this.graph=s,this.type=a},u=function e(){i()(this,e),this.controller=s,this.template=r(414)()};o.module("fibra.components.project-sources-view",["fibra.services"]).component("projectSourcesView",new u)},function(e,t,r){"use strict";function n(e,t){var r=null,n=null,i=e.find(function(e){return""===e.language?r=e.value:n=e.value,e.language===t});return i?i.value:r||n}t.a=n;var i=r(0);r.n(i);i.module("fibra.filters.pref-lang",[]).filter("prefLang",["fibraService",function(e){return function(t){return n(t,e.getState().language)}}])},function(e,t,r){e.exports={default:r(306),__esModule:!0}},function(e,t,r){!function(e){e(r(17))}(function(e){"use strict";function t(t,i,o,s){function a(e){var r=u(t,i);if(!r||r.to.line-r.from.line<l)return null;for(var n=t.findMarksAt(r.from),o=0;o<n.length;++o)if(n[o].__isFold&&"fold"!==s){if(!e)return null;r.cleared=!0,n[o].clear()}return r}if(o&&o.call){var u=o;o=null}else var u=n(t,o,"rangeFinder");"number"==typeof i&&(i=e.Pos(i,0));var l=n(t,o,"minFoldSize"),c=a(!0);if(n(t,o,"scanUp"))for(;!c&&i.line>t.firstLine();)i=e.Pos(i.line-1,0),c=a(!1);if(c&&!c.cleared&&"unfold"!==s){var p=r(t,o);e.on(p,"mousedown",function(t){f.clear(),e.e_preventDefault(t)});var f=t.markText(c.from,c.to,{replacedWith:p,clearOnEnter:n(t,o,"clearOnEnter"),__isFold:!0});f.on("clear",function(r,n){e.signal(t,"unfold",t,r,n)}),e.signal(t,"fold",t,c.from,c.to)}}function r(e,t){var r=n(e,t,"widget");if("string"==typeof r){var i=document.createTextNode(r);r=document.createElement("span"),r.appendChild(i),r.className="CodeMirror-foldmarker"}return r}function n(e,t,r){if(t&&void 0!==t[r])return t[r];var n=e.options.foldOptions;return n&&void 0!==n[r]?n[r]:i[r]}e.newFoldFunction=function(e,r){return function(n,i){t(n,i,{rangeFinder:e,widget:r})}},e.defineExtension("foldCode",function(e,r,n){t(this,e,r,n)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),r=0;r<t.length;++r)if(t[r].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var r=t.firstLine(),n=t.lastLine();r<=n;r++)t.foldCode(e.Pos(r,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var r=t.firstLine(),n=t.lastLine();r<=n;r++)t.foldCode(e.Pos(r,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,r){for(var n=0;n<e.length;++n){var i=e[n](t,r);if(i)return i}}}),e.registerHelper("fold","auto",function(e,t){for(var r=e.getHelpers(t,"fold"),n=0;n<r.length;n++){var i=r[n](e,t);if(i)return i}});var i={rangeFinder:e.fold.auto,widget:"",minFoldSize:0,scanUp:!1,clearOnEnter:!0};e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,t){return n(this,e,t)})})},function(e,t,r){var n=r(314);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(58),i=r(23).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){e.exports=!r(31)&&!r(47)(function(){return 7!=Object.defineProperty(r(165)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(100);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){"use strict";var n=r(103),i=r(32),o=r(175),s=r(48),a=r(33),u=r(77),l=r(321),c=r(106),p=r(172),f=r(24)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,r,v,g,m,y){l(r,t,v);var b,E,x,S=function(e){if(!d&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},T=t+" Iterator",I="values"==g,w=!1,C=e.prototype,A=C[f]||C["@@iterator"]||g&&C[g],N=A||S(g),L=g?I?S("entries"):N:void 0,R="Array"==t?C.entries||A:A;if(R&&(x=p(R.call(new e)))!==Object.prototype&&(c(x,T,!0),n||a(x,f)||s(x,f,h)),I&&A&&"values"!==A.name&&(w=!0,N=function(){return A.call(this)}),n&&!y||!d&&!w&&C[f]||s(C,f,N),u[t]=N,u[T]=h,g)if(b={values:I?N:S("values"),keys:m?N:S("keys"),entries:L},y)for(E in b)E in C||o(C,E,b[E]);else i(i.P+i.F*(d||w),t,b);return b}},function(e,t,r){var n=r(78),i=r(79),o=r(35),s=r(111),a=r(33),u=r(166),l=Object.getOwnPropertyDescriptor;t.f=r(31)?l:function(e,t){if(e=o(e),t=s(t,!0),u)try{return l(e,t)}catch(e){}if(a(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t,r){var n=r(35),i=r(171).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return i(e)}catch(e){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):i(n(e))}},function(e,t,r){var n=r(173),i=r(102).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){var n=r(33),i=r(110),o=r(107)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,r){var n=r(33),i=r(35),o=r(316)(!1),s=r(107)("IE_PROTO");e.exports=function(e,t){var r,a=i(e),u=0,l=[];for(r in a)r!=s&&n(a,r)&&l.push(r);for(;t.length>u;)n(a,r=t[u++])&&(~o(l,r)||l.push(r));return l}},function(e,t,r){var n=r(32),i=r(18),o=r(47);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],s={};s[e]=t(r),n(n.S+n.F*o(function(){r(1)}),"Object",s)}},function(e,t,r){e.exports=r(48)},function(e,t,r){"use strict";var n=r(328)(!0);r(168)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){r(333);for(var n=r(23),i=r(48),o=r(77),s=r(24)("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var l=a[u],c=n[l],p=c&&c.prototype;p&&!p[s]&&i(p,s,l),o[l]=o.Array}},function(e,t,r){!function(n,i){e.exports=t=i(r(3))}(0,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,s=r.algo,a=[],u=[];!function(){function e(e){return 4294967296*(e-(0|e))|0}for(var r=2,n=0;n<64;)(function(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0})(r)&&(n<8&&(a[n]=e(t.pow(r,.5))),u[n]=e(t.pow(r,1/3)),n++),r++}();var l=[],c=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],c=r[5],p=r[6],f=r[7],d=0;d<64;d++){if(d<16)l[d]=0|e[t+d];else{var h=l[d-15],v=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,g=l[d-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[d]=v+l[d-7]+m+l[d-16]}var y=a&c^~a&p,b=n&i^n&o^i&o,E=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),x=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),S=f+x+y+u[d]+l[d],T=E+b;f=p,p=c,c=a,a=s+S|0,s=o,o=i,i=n,n=S+T|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+c|0,r[6]=r[6]+p|0,r[7]=r[7]+f|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=o._createHelper(c),r.HmacSHA256=o._createHmacHelper(c)}(Math),e.SHA256})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(81))}(0,function(e){return function(){function t(){return s.create.apply(s,arguments)}var r=e,n=r.lib,i=n.Hasher,o=r.x64,s=o.Word,a=o.WordArray,u=r.algo,l=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=t()}();var p=u.SHA512=i.extend({_doReset:function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],u=r[5],p=r[6],f=r[7],d=n.high,h=n.low,v=i.high,g=i.low,m=o.high,y=o.low,b=s.high,E=s.low,x=a.high,S=a.low,T=u.high,I=u.low,w=p.high,C=p.low,A=f.high,N=f.low,L=d,R=h,_=v,k=g,O=m,P=y,D=b,F=E,j=x,M=S,$=T,B=I,U=w,G=C,H=A,q=N,V=0;V<80;V++){var Q=c[V];if(V<16)var W=Q.high=0|e[t+2*V],z=Q.low=0|e[t+2*V+1];else{var X=c[V-15],Y=X.high,K=X.low,J=(Y>>>1|K<<31)^(Y>>>8|K<<24)^Y>>>7,Z=(K>>>1|Y<<31)^(K>>>8|Y<<24)^(K>>>7|Y<<25),ee=c[V-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ie=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),oe=c[V-7],se=oe.high,ae=oe.low,ue=c[V-16],le=ue.high,ce=ue.low,z=Z+ae,W=J+se+(z>>>0<Z>>>0?1:0),z=z+ie,W=W+ne+(z>>>0<ie>>>0?1:0),z=z+ce,W=W+le+(z>>>0<ce>>>0?1:0);Q.high=W,Q.low=z}var pe=j&$^~j&U,fe=M&B^~M&G,de=L&_^L&O^_&O,he=R&k^R&P^k&P,ve=(L>>>28|R<<4)^(L<<30|R>>>2)^(L<<25|R>>>7),ge=(R>>>28|L<<4)^(R<<30|L>>>2)^(R<<25|L>>>7),me=(j>>>14|M<<18)^(j>>>18|M<<14)^(j<<23|M>>>9),ye=(M>>>14|j<<18)^(M>>>18|j<<14)^(M<<23|j>>>9),be=l[V],Ee=be.high,xe=be.low,Se=q+ye,Te=H+me+(Se>>>0<q>>>0?1:0),Se=Se+fe,Te=Te+pe+(Se>>>0<fe>>>0?1:0),Se=Se+xe,Te=Te+Ee+(Se>>>0<xe>>>0?1:0),Se=Se+z,Te=Te+W+(Se>>>0<z>>>0?1:0),Ie=ge+he,we=ve+de+(Ie>>>0<ge>>>0?1:0);H=U,q=G,U=$,G=B,$=j,B=M,M=F+Se|0,j=D+Te+(M>>>0<F>>>0?1:0)|0,D=O,F=P,O=_,P=k,_=L,k=R,R=Se+Ie|0,L=Te+we+(R>>>0<Se>>>0?1:0)|0}h=n.low=h+R,n.high=d+L+(h>>>0<R>>>0?1:0),g=i.low=g+k,i.high=v+_+(g>>>0<k>>>0?1:0),y=o.low=y+P,o.high=m+O+(y>>>0<P>>>0?1:0),E=s.low=E+F,s.high=b+D+(E>>>0<F>>>0?1:0),S=a.low=S+M,a.high=x+j+(S>>>0<M>>>0?1:0),I=u.low=I+B,u.high=T+$+(I>>>0<B>>>0?1:0),C=p.low=C+G,p.high=w+U+(C>>>0<G>>>0?1:0),N=f.low=N+q,f.high=A+H+(N>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});r.SHA512=i._createHelper(p),r.HmacSHA512=i._createHmacHelper(p)}(),e.SHA512})},function(e,t,r){(function(n,i,o){var s;/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   2.3.0
 */
(function(){"use strict";function a(e){return"function"==typeof e||"object"==typeof e&&null!==e}function u(e){return"function"==typeof e}function l(e){return"object"==typeof e&&null!==e}function c(e){q=e}function p(e){z=e}function f(){return function(){H(h)}}function d(){return function(){setTimeout(h,1)}}function h(){for(var e=0;e<W;e+=2){(0,ee[e])(ee[e+1]),ee[e]=void 0,ee[e+1]=void 0}W=0}function v(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function y(e){try{return e.then}catch(e){return ie.error=e,ie}}function b(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function E(e,t,r){z(function(e){var n=!1,i=b(r,t,function(r){n||(n=!0,t!==r?T(e,r):w(e,r))},function(t){n||(n=!0,C(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&i&&(n=!0,C(e,i))},e)}function x(e,t){t._state===re?w(e,t._result):t._state===ne?C(e,t._result):A(t,void 0,function(t){T(e,t)},function(t){C(e,t)})}function S(e,t){if(t.constructor===e.constructor)x(e,t);else{var r=y(t);r===ie?C(e,ie.error):void 0===r?w(e,t):u(r)?E(e,t,r):w(e,t)}}function T(e,t){e===t?C(e,g()):a(t)?S(e,t):w(e,t)}function I(e){e._onerror&&e._onerror(e._result),N(e)}function w(e,t){e._state===te&&(e._result=t,e._state=re,0!==e._subscribers.length&&z(N,e))}function C(e,t){e._state===te&&(e._state=ne,e._result=t,z(I,e))}function A(e,t,r,n){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+re]=r,i[o+ne]=n,0===o&&e._state&&z(N,e)}function N(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n,i,o=e._result,s=0;s<t.length;s+=3)n=t[s],i=t[s+r],n?_(r,n,i,o):i(o);e._subscribers.length=0}}function L(){this.error=null}function R(e,t){try{return e(t)}catch(e){return oe.error=e,oe}}function _(e,t,r,n){var i,o,s,a,l=u(r);if(l){if(i=R(r,n),i===oe?(a=!0,o=i.error,i=null):s=!0,t===i)return void C(t,m())}else i=n,s=!0;t._state!==te||(l&&s?T(t,i):a?C(t,o):e===re?w(t,i):e===ne&&C(t,i))}function k(e,t){try{t(function(t){T(e,t)},function(t){C(e,t)})}catch(t){C(e,t)}}function O(e,t){var r=this;r._instanceConstructor=e,r.promise=new e(v),r._validateInput(t)?(r._input=t,r.length=t.length,r._remaining=t.length,r._init(),0===r.length?w(r.promise,r._result):(r.length=r.length||0,r._enumerate(),0===r._remaining&&w(r.promise,r._result))):C(r.promise,r._validationError())}function P(e){return new se(this,e).promise}function D(e){function t(e){T(i,e)}function r(e){C(i,e)}var n=this,i=new n(v);if(!Q(e))return C(i,new TypeError("You must pass an array to race.")),i;for(var o=e.length,s=0;i._state===te&&s<o;s++)A(n.resolve(e[s]),void 0,t,r);return i}function F(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(v);return T(r,e),r}function j(e){var t=this,r=new t(v);return C(r,e),r}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function $(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(e){this._id=pe++,this._state=void 0,this._result=void 0,this._subscribers=[],v!==e&&(u(e)||M(),this instanceof B||$(),k(this,e))}function U(){var e;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=fe)}var G;G=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H,q,V,Q=G,W=0,z=function(e,t){ee[W]=e,ee[W+1]=t,2===(W+=2)&&(q?q(h):V())},X="undefined"!=typeof window?window:void 0,Y=X||{},K=Y.MutationObserver||Y.WebKitMutationObserver,J=void 0!==n&&"[object process]"==={}.toString.call(n),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ee=new Array(1e3);V=J?function(){var e=n.nextTick,t=n.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&"0"===t[1]&&"10"===t[2]&&(e=i),function(){e(h)}}():K?function(){var e=0,t=new K(h),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}():Z?function(){var e=new MessageChannel;return e.port1.onmessage=h,function(){e.port2.postMessage(0)}}():void 0===X?function(){try{var e=r(485);return H=e.runOnLoop||e.runOnContext,f()}catch(e){return d()}}():d();var te=void 0,re=1,ne=2,ie=new L,oe=new L;O.prototype._validateInput=function(e){return Q(e)},O.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},O.prototype._init=function(){this._result=new Array(this.length)};var se=O;O.prototype._enumerate=function(){for(var e=this,t=e.length,r=e.promise,n=e._input,i=0;r._state===te&&i<t;i++)e._eachEntry(n[i],i)},O.prototype._eachEntry=function(e,t){var r=this,n=r._instanceConstructor;l(e)?e.constructor===n&&e._state!==te?(e._onerror=null,r._settledAt(e._state,t,e._result)):r._willSettleAt(n.resolve(e),t):(r._remaining--,r._result[t]=e)},O.prototype._settledAt=function(e,t,r){var n=this,i=n.promise;i._state===te&&(n._remaining--,e===ne?C(i,r):n._result[t]=r),0===n._remaining&&w(i,n._result)},O.prototype._willSettleAt=function(e,t){var r=this;A(e,void 0,function(e){r._settledAt(re,t,e)},function(e){r._settledAt(ne,t,e)})};var ae=P,ue=D,le=F,ce=j,pe=0,fe=B;B.all=ae,B.race=ue,B.resolve=le,B.reject=ce,B._setScheduler=c,B._setAsap=p,B._asap=z,B.prototype={constructor:B,then:function(e,t){var r=this,n=r._state;if(n===re&&!e||n===ne&&!t)return this;var i=new this.constructor(v),o=r._result;if(n){var s=arguments[n-1];z(function(){_(n,i,s,o)})}else A(r,i,e,t);return i},catch:function(e){return this.then(null,e)}};var de=U,he={Promise:fe,polyfill:de};void 0!==(s=function(){return he}.call(t,r,t,e))&&(e.exports=s),de()}).call(this)}).call(t,r(19),r(84).setImmediate,r(10))},function(e,t,r){"use strict";var n=function(e,t,r,n,i,o,s,a){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,i,o,s,a],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=n},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";var n=r(378),i=n.a.Symbol;t.a=i},function(e,t,r){"use strict";function n(e){if(!r.i(s.a)(e)||r.i(i.a)(e)!=a)return!1;var t=r.i(o.a)(e);if(null===t)return!0;var n=p.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}var i=r(372),o=r(374),s=r(379),a="[object Object]",u=Function.prototype,l=Object.prototype,c=u.toString,p=l.hasOwnProperty,f=c.call(Object);t.a=n},function(e,t){function r(e){var t=n(e)?a.call(e):"";return t==i||t==o}function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var i="[object Function]",o="[object GeneratorFunction]",s=Object.prototype,a=s.toString;e.exports=r},function(e,t,r){function n(e){return!!e&&"object"==typeof e}function i(e,t){return s(e,t,u)}function o(e){var t;if(!n(e)||f.call(e)!=l||a(e)||!p.call(e,"constructor")&&"function"==typeof(t=e.constructor)&&!(t instanceof t))return!1;var r;return i(e,function(e,t){r=t}),void 0===r||p.call(e,r)}var s=r(382),a=r(117),u=r(389),l="[object Object]",c=Object.prototype,p=c.hasOwnProperty,f=c.toString;e.exports=o},function(e,t,r){function n(e){return null!=e&&o(m(e))}function i(e,t){return e="number"==typeof e||f.test(e)?+e:-1,t=null==t?g:t,e>-1&&e%1==0&&e<t}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=g}function s(e){for(var t=u(e),r=t.length,n=r&&e.length,s=!!n&&o(n)&&(p(e)||c(e)),a=-1,l=[];++a<r;){var f=t[a];(s&&i(f,n)||h.call(e,f))&&l.push(f)}return l}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function u(e){if(null==e)return[];a(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(p(e)||c(e))&&t||0;for(var r=e.constructor,n=-1,s="function"==typeof r&&r.prototype===e,u=Array(t),l=t>0;++n<t;)u[n]=n+"";for(var f in e)l&&i(f,t)||"constructor"==f&&(s||!h.call(e,f))||u.push(f);return u}var l=r(385),c=r(117),p=r(118),f=/^\d+$/,d=Object.prototype,h=d.hasOwnProperty,v=l(Object,"keys"),g=9007199254740991,m=function(e){return function(t){return null==t?void 0:t[e]}}("length"),y=v?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&n(e)?s(e):a(e)?v(e):[]}:s;e.exports=y},function(e,t,r){function n(e,t){if(!(this instanceof n))return new n(e,t);this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),t=t||{},this._prefixes=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes),this.defaultGraph=t.defaultGraph||"http://example.org/#defaultGraph",e&&this.addTriples(e)}var i=r(121).expandPrefixedName;n.prototype={get size(){var e=this._size;if(null!==e)return e;var t,r,n=this._graphs;for(var i in n)for(var o in t=n[i].subjects)for(var s in r=t[o])e+=Object.keys(r[s]).length;return this._size=e},_addToIndex:function(e,t,r,n){var i=e[t]||(e[t]={}),o=i[r]||(i[r]={}),s=n in o;return s||(o[n]=null),!s},_removeFromIndex:function(e,t,r,n){var i,o=e[t],s=o[r];delete s[n];for(i in s)return;delete o[r];for(i in o)return;delete e[t]},_findInIndex:function(e,t,r,n,i,o,s,a){var u,l,c,p=[],f=!t+!r+!n,d=f>1?Object.keys(this._ids):this._entities;t&&((u=e,e={})[t]=u[t]);for(var h in e){var v=d[h];if(l=e[h]){r&&((u=l,l={})[r]=u[r]);for(var g in l){var m=d[g];if(c=l[g])for(var y=(n?n in c?[n]:[]:Object.keys(c)),b=y.length-1;b>=0;b--){var E={subject:"",predicate:"",object:"",graph:a};E[i]=v,E[o]=m,E[s]=d[y[b]],p.push(E)}}}}return p},_countInIndex:function(e,t,r,n){var i,o,s,a=0;t&&((i=e,e={})[t]=i[t]);for(var u in e)if(o=e[u]){r&&((i=o,o={})[r]=i[r]);for(var l in o)(s=o[l])&&(n?n in s&&a++:a+=Object.keys(s).length)}return a},addTriple:function(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),n=n||this.defaultGraph;var i=this._graphs[n];i||(i=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(i));var o=this._ids,s=this._entities;e=o[e]||(o[s[++this._id]=e]=this._id),t=o[t]||(o[s[++this._id]=t]=this._id),r=o[r]||(o[s[++this._id]=r]=this._id);var a=this._addToIndex(i.subjects,e,t,r);return this._addToIndex(i.predicates,t,r,e),this._addToIndex(i.objects,r,e,t),this._size=null,a},addTriples:function(e){for(var t=e.length-1;t>=0;t--)this.addTriple(e[t])},addPrefix:function(e,t){this._prefixes[e]=t},addPrefixes:function(e){for(var t in e)this.addPrefix(t,e[t])},removeTriple:function(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),n=n||this.defaultGraph;var i,o=this._ids,s=this._graphs;if(!(e=o[e]))return!1;if(!(t=o[t]))return!1;if(!(r=o[r]))return!1;if(!(i=s[n]))return!1;var a,u;if(!(a=i.subjects[e]))return!1;if(!(u=a[t]))return!1;if(!(r in u))return!1;this._removeFromIndex(i.subjects,e,t,r),this._removeFromIndex(i.predicates,t,r,e),this._removeFromIndex(i.objects,r,e,t),null!==this._size&&this._size--;for(e in i.subjects)return!0;return delete s[n],!0},removeTriples:function(e){for(var t=e.length-1;t>=0;t--)this.removeTriple(e[t])},find:function(e,t,r,n){var o=this._prefixes;return this.findByIRI(i(e,o),i(t,o),i(r,o),i(n,o))},findByIRI:function(e,t,r,n){var i,o,s,a,u=[],l={},c=this._ids;n?l[n]=this._graphs[n]:l=this._graphs;for(var p in l)if(i=l[p]){if(e&&!(o=c[e]))return u;if(t&&!(s=c[t]))return u;if(r&&!(a=c[r]))return u;o?a?u.push(this._findInIndex(i.objects,a,o,s,"object","subject","predicate",p)):u.push(this._findInIndex(i.subjects,o,s,null,"subject","predicate","object",p)):s?u.push(this._findInIndex(i.predicates,s,a,null,"predicate","object","subject",p)):a?u.push(this._findInIndex(i.objects,a,null,null,"object","subject","predicate",p)):u.push(this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",p))}return 1===u.length?u[0]:u.concat.apply([],u)},count:function(e,t,r,n){var o=this._prefixes;return this.countByIRI(i(e,o),i(t,o),i(r,o),i(n,o))},countByIRI:function(e,t,r,n){n=n||this.defaultGraph;var i=this._graphs[n],o=this._ids;return i?e&&!(e=o[e])?0:t&&!(t=o[t])?0:r&&!(r=o[r])?0:e?r?this._countInIndex(i.objects,r,e,t):this._countInIndex(i.subjects,e,t,r):t?this._countInIndex(i.predicates,t,r,e):this._countInIndex(i.objects,r,e,t):0},createBlankNode:function(e){var t,r;if(e)for(t=e="_:"+e,r=1;this._ids[t];)t=e+r++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,t}},e.exports=n},function(e,t,r){function n(e){if(!(this instanceof n))return new n(e);i.call(this,{decodeStrings:!0}),this._readableState.objectMode=!0;var t=this,r=new s(e);r.parse(function(e,r){r&&t.push(r)||e&&t.emit("error",e)},this.emit.bind(this,"prefix")),this._transform=function(e,t,n){r.addChunk(e),n()},this._flush=function(e){r.end(),e()}}var i=r(202).Transform,o=r(206),s=r(120);o.inherits(n,i),e.exports=n},function(e,t,r){function n(e){if(!(this instanceof n))return new n(e);i.call(this,{encoding:"utf8"}),this._writableState.objectMode=!0;var t=this,r=new s({write:function(e,r,n){t.push(e),n&&n()},end:function(e){t.push(null),e&&e()}},e);this._transform=function(e,t,n){r.addTriple(e,n)},this._flush=function(e){r.end(e)}}var i=r(202).Transform,o=r(206),s=r(122);o.inherits(n,i),e.exports=n},function(e,t,r){function n(e,t,r){for(var n=-1,i=s(t),o=i.length;++n<o;){var a=i[n],u=e[a],l=r(u,t[a],a,e,t);(l===l?l===u:u!==u)&&(void 0!==u||a in e)||(e[a]=l)}return e}var i=r(380),o=r(384),s=r(187),a=o(function(e,t,r){return r?n(e,t,r):i(e,t)});e.exports=a},function(e,t,r){function n(e){if(e&&!u(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function s(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var a=r(45).Buffer,u=a.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},l=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),n(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};l.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";e=e.slice(r,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=t.charCodeAt(t.length-1);if(!(n>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,n=t.charCodeAt(i);if(n>=55296&&n<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},l.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},l.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}},function(e,t,r){var n=r(7),i=r(124).Tree;Lexicon=function(e){var t=this;this.defaultGraphOid=0,this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph",this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri},this.oidCounter=1,n.seq(function(e){new i(2,function(r){t.uris=r,e()})},function(e){new i(2,function(r){t.literals=r,e()})},function(e){new i(2,function(r){t.knownGraphs=r,e()})},function(e){new i(2,function(r){t.oidUris=r,e()})},function(e){new i(2,function(r){t.oidLiterals=r,e()})},function(e){new i(2,function(r){t.oidBlanks=r,e()})})(function(){null!=e&&e(t)})},Lexicon.prototype.registerGraph=function(e,t,r){e!=this.defaultGraphOid?this.knownGraphs.insert(e,t,function(){r()}):r()},Lexicon.prototype.registeredGraphs=function(e,t){var r=[];this.knownGraphs.walk(function(t){!0===e?r.push(t.data):r.push(t.key)},function(){t(r)})},Lexicon.prototype.registerUri=function(e,t){var r=this;e===this.defaultGraphUri?t(this.defaultGraphOid):this.uris.search(e,function(i){if(null==i){var o=r.oidCounter,s="u"+o;r.oidCounter++,n.seq(function(t){r.uris.insert(e,[o,0],function(){t()})},function(t){r.oidUris.insert(s,e,function(){t()})})(function(){t(o)})}else o=i[0],i[1]=i[1]+1,t(o)})},Lexicon.prototype.resolveUri=function(e,t){e===this.defaultGraphUri?t(this.defaultGraphOid):this.uris.search(e,function(e){t(null!=e?e[0]:-1)})},Lexicon.prototype.resolveUriCost=function(e,t){e===this.defaultGraphUri?t(0):this.uris.search(e,function(e){t(null!=e?e[1]:-1)})},Lexicon.prototype.registerBlank=function(e){var t=this.oidCounter;this.oidCounter++;var r=""+t;this.oidBlanks.insert(r,r,function(){e(t)})},Lexicon.prototype.resolveBlank=function(e,t){var r=this;this.oidBlanks.search(e,function(e){if(null!=e)t(e);else{var n=r.oidCounter;this.oidCounter++,t(""+n)}})},Lexicon.prototype.resolveBlankCost=function(e,t){t(0)},Lexicon.prototype.registerLiteral=function(e,t){var r=this;this.literals.search(e,function(i){if(null==i){var o=r.oidCounter,s="l"+o;r.oidCounter++,n.seq(function(t){r.literals.insert(e,[o,0],function(){t()})},function(t){r.oidLiterals.insert(s,e,function(){t()})})(function(){t(o)})}else{var o=i[0];i[1]=i[1]+1,t(o)}})},Lexicon.prototype.resolveLiteral=function(e,t){this.literals.search(e,function(e){t(null!=e?e[0]:-1)})},Lexicon.prototype.resolveLiteralCost=function(e,t){this.literals.search(e,function(e){t(null!=e?e[1]:-1)})},Lexicon.prototype.parseLiteral=function(e){var t=e.lastIndexOf("@");if(-1!=t&&'"'===e[t-1]&&null!=e.substring(t,e.length).match(/^@[a-zA-Z\-]+$/g)){var r=e.substring(1,t-1);return{token:"literal",value:r,lang:e.substring(t+1,e.length)}}var t=e.lastIndexOf("^^");if(-1!=t&&'"'===e[t-1]&&"<"===e[t+2]&&">"===e[e.length-1]){var r=e.substring(1,t-1);return{token:"literal",value:r,type:e.substring(t+3,e.length-1)}}var r=e.substring(1,e.length-1);return{token:"literal",value:r}},Lexicon.prototype.parseUri=function(e){return{token:"uri",value:e}},Lexicon.prototype.retrieve=function(e,t){var r=this;e===this.defaultGraphOid?t({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0}):n.seq(function(t,n){r.oidUris.search("u"+e,function(e){null!=e?n(null,r.parseUri(e)):n(null,null)})},function(t,n){null==t?r.oidLiterals.search("l"+e,function(e){null!=e?n(null,r.parseLiteral(e)):n(null,null)}):n(null,t)},function(t,n){null==t?r.oidBlanks.search(""+e,function(t){null!=t?n(null,{token:"blank",value:"_:"+e}):n(null,null)}):n(null,t)})(null,function(e,r){t(r)})},Lexicon.prototype.clear=function(e){var t=this;this.defaultGraphOid=0,this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph",this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri},this.oidCounter=1,n.seq(function(e){new i(2,function(r){t.uris=r,e()})},function(e){new i(2,function(r){t.literals=r,e()})},function(e){new i(2,function(r){t.knownGraphs=r,e()})},function(e){new i(2,function(r){t.oidUris=r,e()})},function(e){new i(2,function(r){t.oidLiterals=r,e()})},function(e){new i(2,function(r){t.oidBlanks=r,e()})})(function(){null!=e&&e()})},Lexicon.prototype.unregister=function(e,t,r){var i=this;n.seq(function(r){i._unregisterTerm(e.subject.token,t.subject,r)},function(r){i._unregisterTerm(e.predicate.token,t.predicate,r)},function(r){i._unregisterTerm(e.object.token,t.object,r)},function(r){null!=e.graph?i._unregisterTerm(e.graph.token,t.graph,r):r()})(function(){r(!0)})},Lexicon.prototype._unregisterTerm=function(e,t,r){var i=this;if("uri"===e)if(t!=this.defaultGraphOid){var o="u"+t;i.oidUris.search(o,function(e){i.uris.search(e,function(s){var a=s[1];""+s[0]==""+t?0===a?n.seq(function(e){i.oidUris.delete(o,function(){e()})},function(t){i.uris.delete(e,function(){t()})},function(e){i.knownGraphs.delete(t,function(){e()})})(function(){r()}):i.uris.insert(e,[t,a-1],function(){r()}):r()})})}else r();else if("literal"===e){this.oidCounter++;var o="l"+t;i.oidLiterals.search(o,function(e){i.literals.search(e,function(s){var a=s[1];""+s[0]==""+t?0===a?n.seq(function(e){i.oidLiterals.delete(o,function(){e()})},function(t){i.literals.delete(e,function(){t()})})(function(){r()}):i.literals.insert(e,[t,a-1],function(){r()}):r()})})}else"blank"===e?i.oidBlanks.delete(""+t,function(){r()}):r()},e.exports={Lexicon:Lexicon}},function(e,t,r){var n=r(7),i=n,o=r(7);QueryFilters={};var s="http://www.w3.org/2001/XMLSchema#";QueryFilters.checkFilters=function(e,t,r,n,i,s,a){var u=[];e.filter&&"function"!=typeof e.filter&&(u=e.filter);var l=[];if(null==u||0===u.length||null!=e.length)return a(t);QueryFilters.preprocessExistentialFilters(u,t,s,n,i,function(e){o.eachSeries(e,function(e,o){QueryFilters.run(e.value,t,r,n,i,s,function(e){for(var r=[],n=0;n<e.length;n++){var i=e[n];null!=i.__nullify__?l.push(i):r.push(i)}t=r,o()})},function(){a(t.concat(l))})})},QueryFilters.preprocessExistentialFilters=function(e,t,r,n,s,a){var u=[];o.eachSeries(e,function(e,a){if("builtincall"!==e.value.expressionType||"exists"!==e.value.builtincall&&"notexists"!==e.value.builtincall)if("conditionalor"===e.value.expressionType||"conditionaland"===e.value.expressionType){var l=i.map(e.value.operands,function(e){return{value:e}});QueryFilters.preprocessExistentialFilters(l,t,r,n,s,function(t){e.value.operands=t.map(function(e){return e.value}),u.push(e),a()})}else if("multiplicativeexpression"===e.value.expressionType){var l=i.map(e.value.factors,function(e){return{value:e}});QueryFilters.preprocessExistentialFilters(l,t,r,n,s,function(t){e.value.factors=t.map(function(e){return e.value}),u.push(e),a()})}else if("additiveexpression"===e.value.expressionType){var l=i.map(e.value.summands,function(e){return{value:e}});QueryFilters.preprocessExistentialFilters(l,t,r,n,s,function(t){e.value.summands=t.map(function(e){return e.value}),u.push(e),a()})}else if("relationalexpression"===e.value.expressionType){var l=[{value:e.value.op1},{value:e.value.op2}];QueryFilters.preprocessExistentialFilters(l,t,r,n,s,function(t){e.value.op1=t[0].value,e.value.op2=t[1].value,u.push(e),a()})}else if("irireforfunction"===e.value.expressionType||"custom"===e.value.expressionType)if(null!=e.value.args){var l=i.map(e.value.args,function(e){return{value:e}});QueryFilters.preprocessExistentialFilters(l,t,r,n,s,function(t){e.value.args=t.map(function(e){return e.value}),u.push(e),a()})}else u.push(e),a();else u.push(e),a();else{var c=e.value.builtincall,p=e.value.args,f={};r.copyDenormalizedBindings(t,s.outCache,function(t){o.eachSeries(t,function(e,t){var o=i.clone(p[0],!0),a=r.abstractQueryTree.parseSelect({pattern:o},e);a=r.abstractQueryTree.bind(a.pattern,e),r.executeSelectUnit([{kind:"*"}],n,a,s,function(r){var n=null;n="exists"===c?QueryFilters.ebvBoolean(0!==r.length):QueryFilters.ebvBoolean(0===r.length);var i=[];for(var o in e)i.push(JSON.stringify(e[o]));i=i.sort().join(""),f[i]=n,t()})},function(){e.value.origArgs=e.value.args,e.value.args=f,u.push(e),a()})})}},function(){a(u)})},QueryFilters.boundVars=function(e){if(null==e.expressionType)throw"Cannot find bound expressions in a no expression token";var t=e.expressionType;if("relationalexpression"==t){var r=e.op1,n=e.op2;return QueryFilters.boundVars(r)+QueryFilters.boundVars(n)}if("conditionalor"==t||"conditionaland"==t){for(var i=[],o=0;o<e.operands;o++)i=i.concat(QueryFilters.boundVars(e.operands[o]));return i}if("builtincall"==t){if(null==e.args)return[];for(var s=[],o=0;o<e.args.length;o++)s=s.concat(QueryFilters.boundVars(e.args[o]));return s}if("multiplicativeexpression"==t){for(var s=QueryFilters.boundVars(e.factor),o=0;o<e.factors.length;o++)s=s.concat(QueryFilters.boundVars(e.factors[o].expression));return s}if("additiveexpression"==t){for(var s=QueryFilters.boundVars(e.summand),o=0;o<e.summands.length;o++)s=s.concat(QueryFilters.boundVars(e.summands[o].expression));return s}if("regex"==t){var s=QueryFilters.boundVars(e.expression1);return s.concat(QueryFilters.boundVars(e.expression2))}return"unaryexpression"==t?QueryFilters.boundVars(e.expression):"atomic"==t?"var"==e.primaryexpression?[e.value]:[]:void 0},QueryFilters.run=function(e,t,r,n,i,o,s){o.copyDenormalizedBindings(t,i.outCache,function(a){for(var u=[],l=0;l<t.length;l++){var c=a[l],p=QueryFilters.runFilter(e,c,o,n,i),p=QueryFilters.ebv(p);if(QueryFilters.isEbvError(p)){if(r){var f={__nullify__:!0,bindings:t[l]};u.push(f)}}else if(!0===p)u.push(t[l]);else if(r){var f={__nullify__:!0,bindings:t[l]};u.push(f)}}s(u)})},QueryFilters.collect=function(e,t,r,n,i,o){i.copyDenormalizedBindings(t,n.outCache,function(s){for(var a=[],u=0;u<s.length;u++){var l=s[u],c=QueryFilters.runFilter(e,l,i,r,n);a.push({binding:t[u],value:c})}return o(a)})},QueryFilters.runDistinct=function(e,t){},QueryFilters.runAggregator=function(e,t,r,i,o){if(null==t||0===t.length)return QueryFilters.ebvError();if("variable"===e.token&&"var"==e.kind)return t[0][e.value.value];if("variable"===e.token&&"aliased"===e.kind){if("atomic"===e.expression.expressionType&&"var"===e.expression.primaryexpression)return t[0][e.expression.value.value];if("aggregate"===e.expression.expressionType){if("max"===e.expression.aggregateType){for(var a=null,u=0;u<t.length;u++){var l=t[u],c=QueryFilters.runFilter(e.expression.expression,l,r,i,o);QueryFilters.isEbvError(c)||(null===a?a=c:!0===QueryFilters.runLtFunction(a,c).value&&(a=c))}return null===a?QueryFilters.ebvError():a}if("min"===e.expression.aggregateType){for(var p=null,u=0;u<t.length;u++){var l=t[u],c=QueryFilters.runFilter(e.expression.expression,l,r,i,o);QueryFilters.isEbvError(c)||(null===p?p=c:!0===QueryFilters.runGtFunction(p,c).value&&(p=c))}return null===p?QueryFilters.ebvError():p}if("count"===e.expression.aggregateType){var f={},d=0;if("*"===e.expression.expression)if(null!=e.expression.distinct&&""!=e.expression.distinct)for(var u=0;u<t.length;u++){var l=t[u],h=n.hashTerm(l);null==f[h]&&(f[h]=!0,d++)}else d=t.length;else for(var u=0;u<t.length;u++){var l=t[u],c=QueryFilters.runFilter(e.expression.expression,l,r,i,o);if(!QueryFilters.isEbvError(c))if(null!=e.expression.distinct&&""!=e.expression.distinct){var h=n.hashTerm(c);null==f[h]&&(f[h]=!0,d++)}else d++}return{token:"literal",type:s+"integer",value:""+d}}if("avg"===e.expression.aggregateType){for(var f={},v={token:"literal",type:s+"integer",value:"0"},d=0,u=0;u<t.length;u++){var l=t[u],c=QueryFilters.runFilter(e.expression.expression,l,r,i,o);if(!QueryFilters.isEbvError(c))if(null!=e.expression.distinct&&""!=e.expression.distinct){var h=n.hashTerm(c);null==f[h]&&(f[h]=!0,QueryFilters.isNumeric(c)&&(v=QueryFilters.runSumFunction(v,c),d++))}else QueryFilters.isNumeric(c)&&(v=QueryFilters.runSumFunction(v,c),d++)}var g=QueryFilters.runDivFunction(v,{token:"literal",type:s+"integer",value:""+d});return g.value=""+g.value,g}if("sum"===e.expression.aggregateType){for(var f={},v={token:"literal",type:s+"integer",value:"0"},u=0;u<t.length;u++){var l=t[u],c=QueryFilters.runFilter(e.expression.expression,l,r,i,o);if(!QueryFilters.isEbvError(c))if(null!=e.expression.distinct&&""!=e.expression.distinct){var h=n.hashTerm(c);null==f[h]&&(f[h]=!0,QueryFilters.isNumeric(c)&&(v=QueryFilters.runSumFunction(v,c)))}else QueryFilters.isNumeric(c)&&(v=QueryFilters.runSumFunction(v,c))}return v.value=""+v.value,v}var c=QueryFilters.runFilter(aggregate.expression,t[0],i,{blanks:{},outCache:{}});return c}}},QueryFilters.runFilter=function(e,t,r,i,o){if(null!=e.expressionType){var s=e.expressionType;if("relationalexpression"==s){var a=QueryFilters.runFilter(e.op1,t,r,i,o),u=QueryFilters.runFilter(e.op2,t,r,i,o);return QueryFilters.runRelationalFilter(e,a,u,t,r,i,o)}if("conditionalor"==s)return QueryFilters.runOrFunction(e,t,r,i,o);if("conditionaland"==s)return QueryFilters.runAndFunction(e,t,r,i,o);if("additiveexpression"==s)return QueryFilters.runAddition(e.summand,e.summands,t,r,i,o);if("builtincall"==s)return QueryFilters.runBuiltInCall(e.builtincall,e.args,t,r,i,o);if("multiplicativeexpression"==s)return QueryFilters.runMultiplication(e.factor,e.factors,t,r,i,o);if("unaryexpression"==s)return QueryFilters.runUnaryExpression(e.unaryexpression,e.expression,t,r,i,o);if("irireforfunction"==s)return QueryFilters.runIriRefOrFunction(e.iriref,e.args,t,r,i,o);if("regex"==s)return QueryFilters.runRegex(e.text,e.pattern,e.flags,t,r,i,o);if("custom"==s)return QueryFilters.runBuiltInCall(e.name,e.args,t,r,i,o);if("atomic"==s)return"var"==e.primaryexpression?t[e.value.value]:"object"!=typeof e.value?e.value:null==e.value.type||"object"!=typeof e.value.type?e.value:(e.value.type=n.lexicalFormBaseUri(e.value.type,o),e.value);throw"Unknown filter expression type"}throw"Cannot find bound expressions in a no expression token"},QueryFilters.isRDFTerm=function(e){return null!=e&&!!(e.token&&"literal"==e.token||e.token&&"uri"==e.token||e.token&&"blank"==e.token)},QueryFilters.RDFTermEquality=function(e,t,r,i){return"literal"===e.token&&"literal"===t.token?e.lang==t.lang&&e.type==t.type&&e.value==t.value||(null!=e.type&&null!=t.type?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(e)&&null!=t.type?QueryFilters.ebvError():!(!QueryFilters.isSimpleLiteral(t)||null==e.type)&&QueryFilters.ebvError()):"uri"===e.token&&"uri"===t.token?n.lexicalFormBaseUri(e,i)==n.lexicalFormBaseUri(t,i):"blank"===e.token&&"blank"===t.token&&e.value==t.value},QueryFilters.isInteger=function(e){return null!=e&&("literal"===e.token&&(e.type==s+"integer"||e.type==s+"decimal"||e.type==s+"double"||e.type==s+"nonPositiveInteger"||e.type==s+"negativeInteger"||e.type==s+"long"||e.type==s+"int"||e.type==s+"short"||e.type==s+"byte"||e.type==s+"nonNegativeInteger"||e.type==s+"unsignedLong"||e.type==s+"unsignedInt"||e.type==s+"unsignedShort"||e.type==s+"unsignedByte"||e.type==s+"positiveInteger"))},QueryFilters.isFloat=function(e){return null!=e&&("literal"===e.token&&e.type==s+"float")},QueryFilters.isDecimal=function(e){return null!=e&&("literal"===e.token&&e.type==s+"decimal")},QueryFilters.isDouble=function(e){return null!=e&&("literal"===e.token&&e.type==s+"double")},QueryFilters.isNumeric=function(e){return null!=e&&("literal"===e.token&&(e.type==s+"integer"||e.type==s+"decimal"||e.type==s+"float"||e.type==s+"double"||e.type==s+"nonPositiveInteger"||e.type==s+"negativeInteger"||e.type==s+"long"||e.type==s+"int"||e.type==s+"short"||e.type==s+"byte"||e.type==s+"nonNegativeInteger"||e.type==s+"unsignedLong"||e.type==s+"unsignedInt"||e.type==s+"unsignedShort"||e.type==s+"unsignedByte"||e.type==s+"positiveInteger"))},QueryFilters.isSimpleLiteral=function(e){return!(!e||"literal"!=e.token)&&(null==e.type&&null==e.lang)},QueryFilters.isXsdType=function(e,t){return!(!t||"literal"!=t.token)&&t.type==s+""+e},QueryFilters.ebv=function(e){if(null==e||QueryFilters.isEbvError(e))return QueryFilters.ebvError();if(e.token&&"literal"===e.token){if(e.type==s+"integer"||e.type==s+"decimal"||e.type==s+"double"||e.type==s+"nonPositiveInteger"||e.type==s+"negativeInteger"||e.type==s+"long"||e.type==s+"int"||e.type==s+"short"||e.type==s+"byte"||e.type==s+"nonNegativeInteger"||e.type==s+"unsignedLong"||e.type==s+"unsignedInt"||e.type==s+"unsignedShort"||e.type==s+"unsignedByte"||e.type==s+"positiveInteger"){var t=parseFloat(e.value);return!isNaN(t)&&0!=parseFloat(e.value)}return e.type===s+"boolean"?"true"===e.value||!0===e.value||"True"===e.value:e.type===s+"string"?""!=e.value:e.type===s+"dateTime"?null!=new Date(e.value):QueryFilters.isEbvError(e)?e:null==e.type?""!=e.value:QueryFilters.ebvError()}return!0===e.value},QueryFilters.effectiveBooleanValue=QueryFilters.ebv,QueryFilters.ebvTrue=function(){return{token:"literal",type:s+"boolean",value:!0}},QueryFilters.ebvFalse=function(){return{token:"literal",type:s+"boolean",value:!1}},QueryFilters.ebvError=function(){return{token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}},QueryFilters.isEbvError=function(e){return"object"==typeof e&&null!=e&&"https://github.com/antoniogarrote/js-tools/types#error"===e.type},QueryFilters.ebvBoolean=function(e){return QueryFilters.isEbvError(e)?e:!0===e?QueryFilters.ebvTrue():QueryFilters.ebvFalse()},QueryFilters.runRelationalFilter=function(e,t,r,n,i,o,s){var a=e.operator;if("="===a)return QueryFilters.runEqualityFunction(t,r,n,i,o,s);if("!="===a){var u=QueryFilters.runEqualityFunction(t,r,n,i,o,s);return QueryFilters.isEbvError(u)?u:(u.value=!u.value,u)}if("<"===a)return QueryFilters.runLtFunction(t,r,n);if(">"===a)return QueryFilters.runGtFunction(t,r,n);if("<="===a)return QueryFilters.runLtEqFunction(t,r,n);if(">="===a)return QueryFilters.runGtEqFunction(t,r,n);throw"Error applying relational filter, unknown operator"},QueryFilters.effectiveTypeValue=function(e){if("literal"!=e.token)throw console.log("not implemented yet"),console.log(e),"value not supported in operations yet";if(e.type==s+"integer"){var t=parseInt(e.value);return t}if(e.type==s+"decimal"){var t=parseFloat(e.value);return t}if(e.type==s+"float"){var t=parseFloat(e.value);return t}if(e.type==s+"double"){var t=parseFloat(e.value);return t}if(e.type==s+"nonPositiveInteger"){var t=parseFloat(e.value);return t}if(e.type==s+"negativeInteger"){var t=parseInt(e.value);return t}if(e.type==s+"long"){var t=parseInt(e.value);return t}if(e.type==s+"int"){var t=parseInt(e.value);return t}if(e.type==s+"short"){var t=parseInt(e.value);return t}if(e.type==s+"byte"){var t=parseInt(e.value);return t}if(e.type==s+"nonNegativeInteger"){var t=parseInt(e.value);return t}if(e.type==s+"unsignedLong"){var t=parseInt(e.value);return t}if(e.type==s+"unsignedInt"){var t=parseInt(e.value);return t}if(e.type==s+"unsignedShort"){var t=parseInt(e.value);return t}if(e.type==s+"unsignedByte"){var t=parseInt(e.value);return t}if(e.type==s+"positiveInteger"){var t=parseInt(e.value);return t}if(e.type!=s+"date"&&e.type!=s+"dateTime")return e.type==s+"boolean"?!0===e.value||"true"===e.value||"1"===e.value||1===e.value||!0===e.value||!1!==e.value&&"false"!==e.value&&"0"!==e.value&&0!==e.value&&!1!==e.value&&void 0:e.type==s+"string"?null===e.value||void 0===e.value?void 0:""+e.value:(e.type,e.value);try{return n.parseISO8601(e.value)}catch(e){return null}},QueryFilters.runOrFunction=function(e,t,r,n,i){for(var o=null,s=0;s<e.operands.length;s++){var a=QueryFilters.runFilter(e.operands[s],t,r,n,i);0==QueryFilters.isEbvError(a)&&(a=QueryFilters.ebv(a)),null==o?o=a:QueryFilters.isEbvError(a)?o=QueryFilters.isEbvError(o)?QueryFilters.ebvError():!0===o||QueryFilters.ebvError():!0===a?o=!0:QueryFilters.isEbvError(o)&&(o=QueryFilters.ebvError())}return QueryFilters.ebvBoolean(o)},QueryFilters.runAndFunction=function(e,t,r,n,i){for(var o=null,s=0;s<e.operands.length;s++){var a=QueryFilters.runFilter(e.operands[s],t,r,n,i);0==QueryFilters.isEbvError(a)&&(a=QueryFilters.ebv(a)),null==o?o=a:QueryFilters.isEbvError(a)?o=QueryFilters.isEbvError(o)?QueryFilters.ebvError():!0===o&&QueryFilters.ebvError():!0===a?QueryFilters.isEbvError(o)&&(o=QueryFilters.ebvError()):o=!1}return QueryFilters.ebvBoolean(o)},QueryFilters.runEqualityFunction=function(e,t,r,i,o,s){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t)){var a=QueryFilters.effectiveTypeValue(e),u=QueryFilters.effectiveTypeValue(t);return isNaN(a)||isNaN(u)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(e,t,i,s)):QueryFilters.ebvBoolean(a==u)}if((QueryFilters.isSimpleLiteral(e)||QueryFilters.isXsdType("string",e))&&(QueryFilters.isSimpleLiteral(t)||QueryFilters.isXsdType("string",t)))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)==QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("boolean",e)&&QueryFilters.isXsdType("boolean",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)==QueryFilters.effectiveTypeValue(t));if((QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))&&(QueryFilters.isXsdType("dateTime",t)||QueryFilters.isXsdType("date",t))){if(QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isXsdType("date",t))return QueryFilters.ebvFalse();if(QueryFilters.isXsdType("date",e)&&QueryFilters.isXsdType("dateTime",t))return QueryFilters.ebvFalse();var l=n.compareDateComponents(e.value,t.value);return null!=l?0==l?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.isRDFTerm(e)&&QueryFilters.isRDFTerm(t)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(e,t,i,s)):QueryFilters.ebvFalse()},QueryFilters.runGtFunction=function(e,t,r){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>QueryFilters.effectiveTypeValue(t));if(QueryFilters.isSimpleLiteral(e)&&QueryFilters.isSimpleLiteral(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("string",e)&&QueryFilters.isXsdType("string",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("boolean",e)&&QueryFilters.isXsdType("boolean",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>QueryFilters.effectiveTypeValue(t));if((QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))&&(QueryFilters.isXsdType("dateTime",t)||QueryFilters.isXsdType("date",t))){if(QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isXsdType("date",t))return QueryFilters.ebvFalse();if(QueryFilters.isXsdType("date",e)&&QueryFilters.isXsdType("dateTime",t))return QueryFilters.ebvFalse();var i=n.compareDateComponents(e.value,t.value);return null!=i?1==i?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()},QueryFilters.runTotalGtFunction=function(e,t){return QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t)?QueryFilters.ebvError():QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t)||QueryFilters.isSimpleLiteral(e)&&QueryFilters.isSimpleLiteral(t)||QueryFilters.isXsdType("string",e)&&QueryFilters.isSimpleLiteral("string",t)||QueryFilters.isXsdType("boolean",e)&&QueryFilters.isSimpleLiteral("boolean",t)||QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isSimpleLiteral("dateTime",t)?QueryFilters.runGtFunction(e,t,[]):e.token&&"uri"===e.token&&t.token&&"uri"===t.token?QueryFilters.ebvBoolean(e.value>t.value):e.token&&"literal"===e.token&&t.token&&"literal"===t.token?QueryFilters.ebvBoolean(""+e.value+e.type+e.lang>""+t.value+t.type+t.lang):e.token&&"blank"===e.token&&t.token&&"blank"===t.token?QueryFilters.ebvBoolean(e.value>t.value):e.value&&t.value?QueryFilters.ebvBoolean(e.value>t.value):QueryFilters.ebvTrue()},QueryFilters.runLtFunction=function(e,t,r){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<QueryFilters.effectiveTypeValue(t));if(QueryFilters.isSimpleLiteral(e)&&QueryFilters.isSimpleLiteral(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("string",e)&&QueryFilters.isXsdType("string",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("boolean",e)&&QueryFilters.isXsdType("boolean",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<QueryFilters.effectiveTypeValue(t));if((QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))&&(QueryFilters.isXsdType("dateTime",t)||QueryFilters.isXsdType("date",t))){if(QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isXsdType("date",t))return QueryFilters.ebvFalse();if(QueryFilters.isXsdType("date",e)&&QueryFilters.isXsdType("dateTime",t))return QueryFilters.ebvFalse();var i=n.compareDateComponents(e.value,t.value);return null!=i?-1==i?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()},QueryFilters.runGtEqFunction=function(e,t,r){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>=QueryFilters.effectiveTypeValue(t));if(QueryFilters.isSimpleLiteral(e)&&QueryFilters.isSimpleLiteral(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>=QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("string",e)&&QueryFilters.isXsdType("string",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>=QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("boolean",e)&&QueryFilters.isXsdType("boolean",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>=QueryFilters.effectiveTypeValue(t));if((QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))&&(QueryFilters.isXsdType("dateTime",t)||QueryFilters.isXsdType("date",t))){if(QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isXsdType("date",t))return QueryFilters.ebvFalse();if(QueryFilters.isXsdType("date",e)&&QueryFilters.isXsdType("dateTime",t))return QueryFilters.ebvFalse();var i=n.compareDateComponents(e.value,t.value);return null!=i?-1!=i?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()},QueryFilters.runLtEqFunction=function(e,t,r){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<=QueryFilters.effectiveTypeValue(t));if(QueryFilters.isSimpleLiteral(e)&&QueryFilters.isSimpleLiteral(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<=QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("string",e)&&QueryFilters.isXsdType("string",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<=QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("boolean",e)&&QueryFilters.isXsdType("boolean",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<=QueryFilters.effectiveTypeValue(t));if((QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))&&(QueryFilters.isXsdType("dateTime",t)||QueryFilters.isXsdType("date",t))){if(QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isXsdType("date",t))return QueryFilters.ebvFalse();if(QueryFilters.isXsdType("date",e)&&QueryFilters.isXsdType("dateTime",t))return QueryFilters.ebvFalse();var i=n.compareDateComponents(e.value,t.value);return null!=i?1!=i?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()},QueryFilters.runAddition=function(e,t,r,n,i,o){var s=QueryFilters.runFilter(e,r,n,i,o);if(QueryFilters.isEbvError(s))return QueryFilters.ebvError();var a=s;if(QueryFilters.isNumeric(s)){for(var u=0;u<t.length;u++){var l=QueryFilters.runFilter(t[u].expression,r,n,i,o);if(!QueryFilters.isNumeric(l))return QueryFilters.ebvFalse();"+"===t[u].operator?a=QueryFilters.runSumFunction(a,l):"-"===t[u].operator&&(a=QueryFilters.runSubFunction(a,l))}return a}return QueryFilters.ebvFalse()},QueryFilters.runSumFunction=function(e,t){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();var r=QueryFilters.effectiveTypeValue(e)+QueryFilters.effectiveTypeValue(t);return QueryFilters.isDouble(e)||QueryFilters.isDouble(t)?{token:"literal",type:s+"double",value:r}:QueryFilters.isFloat(e)||QueryFilters.isFloat(t)?{token:"literal",type:s+"float",value:r}:QueryFilters.isDecimal(e)||QueryFilters.isDecimal(t)?{token:"literal",type:s+"decimal",value:r}:{token:"literal",type:s+"integer",value:r}},QueryFilters.runSubFunction=function(e,t){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();var r=QueryFilters.effectiveTypeValue(e)-QueryFilters.effectiveTypeValue(t);return QueryFilters.isDouble(e)||QueryFilters.isDouble(t)?{token:"literal",type:s+"double",value:r}:QueryFilters.isFloat(e)||QueryFilters.isFloat(t)?{token:"literal",type:s+"float",value:r}:QueryFilters.isDecimal(e)||QueryFilters.isDecimal(t)?{token:"literal",type:s+"decimal",value:r}:{token:"literal",type:s+"integer",value:r}},QueryFilters.runMultiplication=function(e,t,r,n,i,o){var s=QueryFilters.runFilter(e,r,n,i,o);if(QueryFilters.isEbvError(s))return s;var a=s;if(QueryFilters.isNumeric(s)){for(var u=0;u<t.length;u++){var l=QueryFilters.runFilter(t[u].expression,r,n,i,o);if(QueryFilters.isEbvError(l))return s;if(!QueryFilters.isNumeric(l))return QueryFilters.ebvFalse();"*"===t[u].operator?a=QueryFilters.runMulFunction(a,l):"/"===t[u].operator&&(a=QueryFilters.runDivFunction(a,l))}return a}return QueryFilters.ebvFalse()},QueryFilters.runMulFunction=function(e,t){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();var r=QueryFilters.effectiveTypeValue(e)*QueryFilters.effectiveTypeValue(t);return QueryFilters.isDouble(e)||QueryFilters.isDouble(t)?{token:"literal",type:s+"double",value:r}:QueryFilters.isFloat(e)||QueryFilters.isFloat(t)?{token:"literal",type:s+"float",value:r}:QueryFilters.isDecimal(e)||QueryFilters.isDecimal(t)?{token:"literal",type:s+"decimal",value:r}:{token:"literal",type:s+"integer",value:r}},QueryFilters.runDivFunction=function(e,t){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();var r=QueryFilters.effectiveTypeValue(e)/QueryFilters.effectiveTypeValue(t);return QueryFilters.isDouble(e)||QueryFilters.isDouble(t)?{token:"literal",type:s+"double",value:r}:QueryFilters.isFloat(e)||QueryFilters.isFloat(t)?{token:"literal",type:s+"float",value:r}:QueryFilters.isDecimal(e)||QueryFilters.isDecimal(t)?{token:"literal",type:s+"decimal",value:r}:{token:"literal",type:s+"integer",value:r}},QueryFilters.runBuiltInCall=function(e,t,r,n,i,o){if("notexists"===e||"exists"===e){var s=[];for(var a in r)s.push(JSON.stringify(r[a]));return s=s.sort().join(""),t[s]}for(var u=[],l=0;l<t.length;l++)if("var"===t[l].token)u.push(t[l]);else{var c=QueryFilters.runFilter(t[l],r,n,i,o);if(QueryFilters.isEbvError(c))return c;u.push(c)}if("str"===e)return"literal"===u[0].token?{token:"literal",type:null,value:""+u[0].value}:"uri"===u[0].token?{token:"literal",type:null,value:u[0].value}:QueryFilters.ebvFalse();if("lang"===e)return"literal"===u[0].token?null!=u[0].lang?{token:"literal",value:""+u[0].lang}:{token:"literal",value:""}:QueryFilters.ebvError();if("datatype"===e){if("literal"===u[0].token){var p=u[0];return null!=p.type?"string"==typeof p.type?{token:"uri",value:p.type,prefix:null,suffix:null}:p.type:null==p.lang?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}:QueryFilters.ebvError()}return QueryFilters.ebvError()}if("isliteral"===e)return"literal"===u[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("isblank"===e)return"blank"===u[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("isuri"===e||"isiri"===e)return"uri"===u[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("sameterm"===e){var f=u[0],d=u[1],h=QueryFilters.RDFTermEquality(f,d,n,o);return QueryFilters.isEbvError(h)&&(h=!1),QueryFilters.ebvBoolean(h)}if("langmatches"===e){var v=u[0],g=u[1];return"literal"===v.token&&"literal"===g.token?"*"===g.value&&""!=v.value?QueryFilters.ebvTrue():QueryFilters.ebvBoolean(0===v.value.toLowerCase().indexOf(g.value.toLowerCase())):QueryFilters.ebvError()}if("bound"===e){var m=u[0].value;return null==m?QueryFilters.ebvError():null!=r[m]?QueryFilters.ebvTrue():QueryFilters.ebvFalse()}if(null!=n.customFns[e])return n.customFns[e](QueryFilters,u);throw"Builtin call "+e+" not implemented yet"},QueryFilters.runUnaryExpression=function(e,t,r,n,i,o){var s=QueryFilters.runFilter(t,r,n,i,o);if(QueryFilters.isEbvError(s))return s;if("!"===e){var a=QueryFilters.ebv(s);return QueryFilters.isEbvError(a)?QueryFilters.ebvFalse():(a=!a,QueryFilters.ebvBoolean(a))}if("+"===e)return QueryFilters.isNumeric(s)?s:QueryFilters.ebvError();if("-"===e){if(QueryFilters.isNumeric(s)){var u={};for(var l in s)u[l]=s[l];return u.value=-u.value,u}return QueryFilters.ebvError()}},QueryFilters.runRegex=function(e,t,r,n,i,o,s){if(null==e)return QueryFilters.ebvError();if(e=QueryFilters.runFilter(e,n,i,o,s),null==t)return QueryFilters.ebvError();if(t=QueryFilters.runFilter(t,n,i,o,s),null!=r&&(r=QueryFilters.runFilter(r,n,i,o,s)),null==t||"literal"!==t.token||null!=r&&"literal"!==r.token)return QueryFilters.ebvError();if(t=t.value,r=null==r?null:r.value,null!=e&&"var"==e.token){if(null==n[e.value])return QueryFilters.ebvError();e=n[e.value]}else{if(null==e||"literal"!==e.token)return QueryFilters.ebvError();if(null!=e.type&&!QueryFilters.isXsdType("string",e))return QueryFilters.ebvError();e=e.value}var a;return a=null==r?new RegExp(t):new RegExp(t,r.toLowerCase()),a.exec(e)?QueryFilters.ebvTrue():QueryFilters.ebvFalse()},QueryFilters.normalizeLiteralDatatype=function(e,t,r){return null==e.value.type||"object"!=typeof e.value.type?e:(e.value.type=n.lexicalFormBaseUri(e.value.type,r),e)},QueryFilters.runIriRefOrFunction=function(e,t,r,i,o,a){if(null==t)return e;for(var u=[],l=0;l<t.length;l++)u.push(QueryFilters.runFilter(t[l],r,i,o,a));var c=n.lexicalFormBaseUri(e,a);if(c==s+"integer"||c==s+"decimal"||c==s+"double"||c==s+"nonPositiveInteger"||c==s+"negativeInteger"||c==s+"long"||c==s+"int"||c==s+"short"||c==s+"byte"||c==s+"nonNegativeInteger"||c==s+"unsignedLong"||c==s+"unsignedInt"||c==s+"unsignedShort"||c==s+"unsignedByte"||c==s+"positiveInteger"){var p=u[0];if("literal"!==p.token)return QueryFilters.ebvError();if(p=QueryFilters.normalizeLiteralDatatype(p,i,a),p.type==s+"integer"||p.type==s+"decimal"||p.type==s+"double"||p.type==s+"nonPositiveInteger"||p.type==s+"negativeInteger"||p.type==s+"long"||p.type==s+"int"||p.type==s+"short"||p.type==s+"byte"||p.type==s+"nonNegativeInteger"||p.type==s+"unsignedLong"||p.type==s+"unsignedInt"||p.type==s+"unsignedShort"||p.type==s+"unsignedByte"||p.type==s+"positiveInteger")return p.type=c,p;if("http://www.w3.org/2001/XMLSchema#boolean"==p.type)return 1==QueryFilters.ebv(p)?(p.type=c,p.value=1):(p.type=c,p.value=0),p;if("http://www.w3.org/2001/XMLSchema#float"==p.type||"http://www.w3.org/2001/XMLSchema#double"==p.type)return p.type=c,p.value=parseInt(p.value),p;if("http://www.w3.org/2001/XMLSchema#string"!=p.type&&null!=p.type)return QueryFilters.ebvError();if(p.value.split(".").length>2)return QueryFilters.ebvError();if(p.value.split("-").length>2)return QueryFilters.ebvError();if(p.value.split("/").length>2)return QueryFilters.ebvError();if(p.value.split("+").length>2)return QueryFilters.ebvError();if(c==s+"decimal"&&(-1!=p.value.indexOf("e")||-1!=p.value.indexOf("E")))return QueryFilters.ebvError();if(!(c!=s+"int"&&c!=s+"integer"||-1==p.value.indexOf("e")&&-1==p.value.indexOf("E")&&-1==p.value.indexOf(".")))return QueryFilters.ebvError();try{return p.value=parseInt(parseFloat(p.value)),isNaN(p.value)?QueryFilters.ebvError():(p.type=c,p)}catch(e){return QueryFilters.ebvError()}}else{if(c==s+"boolean"){var p=u[0];return"literal"===p.token&&null==p.type?"true"===p.value||"1"===p.value?QueryFilters.ebvTrue():"false"===p.value||"0"===p.value?QueryFilters.ebvFalse():QueryFilters.ebvError():"literal"===p.token?QueryFilters.isEbvError(p)?p:QueryFilters.ebvBoolean(p):QueryFilters.ebvError()}if(c==s+"string"){var p=u[0];return"literal"===p.token?(p=QueryFilters.normalizeLiteralDatatype(p,i,a),p.type==s+"integer"||p.type==s+"decimal"||p.type==s+"double"||p.type==s+"nonPositiveInteger"||p.type==s+"negativeInteger"||p.type==s+"long"||p.type==s+"int"||p.type==s+"short"||p.type==s+"byte"||p.type==s+"nonNegativeInteger"||p.type==s+"unsignedLong"||p.type==s+"unsignedInt"||p.type==s+"unsignedShort"||p.type==s+"unsignedByte"||p.type==s+"positiveInteger"||p.type==s+"float"?(p.type=c,p.value=""+p.value,p):p.type==s+"string"?p:p.type==s+"boolean"?(QueryFilters.ebv(p)?(p.type=c,p.value="true"):(p.type=c,p.value="false"),p):p.type==s+"dateTime"||p.type==s+"date"?(p.type=c,"string"!=typeof p.value&&(p.value=n.iso8601(p.value)),p):null==p.type?(p.value=""+p.value,p.type=c,p):QueryFilters.ebvError()):"uri"===p.token?{token:"literal",value:n.lexicalFormBaseUri(p,a),type:c,lang:null}:QueryFilters.ebvError()}if(c==s+"dateTime"||c==s+"date"){if(p=u[0],p.type==s+"dateTime"||p.type==s+"date")return p;if(p.type!=s+"string"&&null!=p.type)return QueryFilters.ebvError();try{return p.value=n.iso8601(n.parseISO8601(p.value)),p.type=c,p}catch(e){return QueryFilters.ebvError()}}else{if(c!=s+"float")return null!=i.customFns[c]?i.customFns[c](QueryFilters,u):QueryFilters.ebvError();var p=u[0];if("literal"!==p.token)return QueryFilters.ebvError();if(p=QueryFilters.normalizeLiteralDatatype(p,i,a),"http://www.w3.org/2001/XMLSchema#decimal"==p.type||"http://www.w3.org/2001/XMLSchema#int"==p.type)return p.type=c,p.value=parseFloat(p.value),p;if("http://www.w3.org/2001/XMLSchema#boolean"==p.type)return 1==QueryFilters.ebv(p)?(p.type=c,p.value=1):(p.type=c,p.value=0),p;if("http://www.w3.org/2001/XMLSchema#float"==p.type||"http://www.w3.org/2001/XMLSchema#double"==p.type)return p.type=c,p.value=parseFloat(p.value),p;if("http://www.w3.org/2001/XMLSchema#string"==p.type)try{return p.value=parseFloat(p.value),isNaN(p.value)?QueryFilters.ebvError():(p.type=c,p)}catch(e){return QueryFilters.ebvError()}else{if(null!=p.type)return QueryFilters.ebvError();if(p.value.split(".").length>2)return QueryFilters.ebvError();if(p.value.split("-").length>2)return QueryFilters.ebvError();if(p.value.split("/").length>2)return QueryFilters.ebvError();if(p.value.split("+").length>2)return QueryFilters.ebvError();try{return p.value=parseFloat(p.value),isNaN(p.value)?QueryFilters.ebvError():(p.type=c,p)}catch(e){return QueryFilters.ebvError()}}}}},e.exports={QueryFilters:QueryFilters}},function(e,t,r){"use strict";(function(t){function n(e){return F.from(e)}function i(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)||F.isBuffer(e)}function o(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?O(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function s(e,t){k=k||r(38),e=e||{},this.objectMode=!!e.objectMode,t instanceof k&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new U,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(B||(B=r(192).StringDecoder),this.decoder=new B(e.encoding),this.encoding=e.encoding)}function a(e){if(k=k||r(38),!(this instanceof a))return new a(e);this._readableState=new s(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),D.call(this)}function u(e,t,r,i,o){var s=e._readableState;if(null===t)s.reading=!1,h(e,s);else{var a;o||(a=c(s,t)),a?e.emit("error",a):s.objectMode||t&&t.length>0?("string"==typeof t||Object.getPrototypeOf(t)===F.prototype||s.objectMode||(t=n(t)),i?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):l(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?l(e,s,t,!1):m(e,s)):l(e,s,t,!1))):i||(s.reading=!1)}return p(s)}function l(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&v(e)),m(e,t)}function c(e,t){var r;return i(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function p(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function f(e){return e>=q?e=q:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function d(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=f(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function h(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,v(e)}}function v(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||($("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?_(g,e):g(e))}function g(e){$("emit readable"),e.emit("readable"),T(e)}function m(e,t){t.readingMore||(t.readingMore=!0,_(y,e,t))}function y(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&($("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function b(e){return function(){var t=e._readableState;$("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&P(e,"data")&&(t.flowing=!0,T(e))}}function E(e){$("readable nexttick read 0"),e.read(0)}function x(e,t){t.resumeScheduled||(t.resumeScheduled=!0,_(S,e,t))}function S(e,t){t.reading||($("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),T(e),t.flowing&&!t.reading&&e.read(0)}function T(e){var t=e._readableState;for($("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){if(0===t.length)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=w(e,t.buffer,t.decoder),r}function w(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?C(e,t):A(e,t),n}function C(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}function A(e,t){var r=F.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}function N(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,_(L,t,e))}function L(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function R(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}var _=r(82);e.exports=a;var k,O=r(182);a.ReadableState=s;var P=(r(116).EventEmitter,function(e,t){return e.listeners(t).length}),D=r(198),F=r(128).Buffer,j=r(60);j.inherits=r(25);var M=r(487),$=void 0;$=M&&M.debuglog?M.debuglog("stream"):function(){};var B,U=r(436),G=r(197);j.inherits(a,D);var H=["error","close","destroy","pause","resume"];Object.defineProperty(a.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),a.prototype.destroy=G.destroy,a.prototype._undestroy=G.undestroy,a.prototype._destroy=function(e,t){this.push(null),t(e)},a.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=F.from(e,t),t=""),r=!0),u(this,e,t,!1,r)},a.prototype.unshift=function(e){return u(this,e,null,!0,!1)},a.prototype.isPaused=function(){return!1===this._readableState.flowing},a.prototype.setEncoding=function(e){return B||(B=r(192).StringDecoder),this._readableState.decoder=new B(e),this._readableState.encoding=e,this};var q=8388608;a.prototype.read=function(e){$("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return $("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):v(this),null;if(0===(e=d(e,t))&&t.ended)return 0===t.length&&N(this),null;var n=t.needReadable;$("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,$("length less than watermark",n)),t.ended||t.reading?(n=!1,$("reading or ended",n)):n&&($("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=d(r,t)));var i;return i=e>0?I(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&N(this)),null!==i&&this.emit("data",i),i},a.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},a.prototype.pipe=function(e,r){function n(e,t){$("onunpipe"),e===f&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,s())}function i(){$("onend"),e.end()}function s(){$("cleanup"),e.removeListener("close",l),e.removeListener("finish",c),e.removeListener("drain",g),e.removeListener("error",u),e.removeListener("unpipe",n),f.removeListener("end",i),f.removeListener("end",p),f.removeListener("data",a),m=!0,!d.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function a(t){$("ondata"),y=!1,!1!==e.write(t)||y||((1===d.pipesCount&&d.pipes===e||d.pipesCount>1&&-1!==R(d.pipes,e))&&!m&&($("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,y=!0),f.pause())}function u(t){$("onerror",t),p(),e.removeListener("error",u),0===P(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",c),p()}function c(){$("onfinish"),e.removeListener("close",l),p()}function p(){$("unpipe"),f.unpipe(e)}var f=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1,$("pipe count=%d opts=%j",d.pipesCount,r);var h=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr,v=h?i:p;d.endEmitted?_(v):f.once("end",v),e.on("unpipe",n);var g=b(f);e.on("drain",g);var m=!1,y=!1;return f.on("data",a),o(e,"error",u),e.once("close",l),e.once("finish",c),e.emit("pipe",f),d.flowing||($("pipe resume"),f.resume()),e},a.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=R(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},a.prototype.on=function(e,t){var r=D.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&v(this):_(E,this))}return r},a.prototype.addListener=a.prototype.on,a.prototype.resume=function(){var e=this._readableState;return e.flowing||($("resume"),e.flowing=!0,x(this,e)),this},a.prototype.pause=function(){return $("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&($("pause"),this._readableState.flowing=!1,this.emit("pause")),this},a.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if($("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){if($("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){n.push(i)||(r=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<H.length;o++)e.on(H[o],n.emit.bind(n,H[o]));return n._read=function(t){$("wrapped _read",t),r&&(r=!1,e.resume())},n},a._fromList=I}).call(t,r(19))},function(e,t,r){"use strict";function n(e){this.afterTransform=function(t,r){return i(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!==r&&void 0!==r&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e),this._transformState=new n(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,r){s(t,e,r)}):s(t)})}function s(e,t,r){if(t)return e.emit("error",t);null!==r&&void 0!==r&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=o;var a=r(38),u=r(60);u.inherits=r(25),u.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;a.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},function(e,t,r){"use strict";function n(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;if(n||i)return void(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||s(o,this,e));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(s(o,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}var s=r(82);e.exports={destroy:n,undestroy:i}},function(e,t,r){e.exports=r(116).EventEmitter},function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.a=n},function(e,t,r){"use strict";function n(e,t,o){function u(){y===m&&(y=m.slice())}function l(){return g}function c(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return u(),y.push(e),function(){if(t){t=!1,u();var r=y.indexOf(e);y.splice(r,1)}}}function p(e){if(!r.i(i.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(b)throw new Error("Reducers may not dispatch actions.");try{b=!0,g=v(g,e)}finally{b=!1}for(var t=m=y,n=0;n<t.length;n++){(0,t[n])()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");v=e,p({type:a.INIT})}function d(){var e,t=c;return e={subscribe:function(e){function r(){e.next&&e.next(l())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return r(),{unsubscribe:t(r)}}},e[s.a]=function(){return this},e}var h;if("function"==typeof t&&void 0===o&&(o=t,t=void 0),void 0!==o){if("function"!=typeof o)throw new Error("Expected the enhancer to be a function.");return o(n)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var v=e,g=t,m=[],y=m,b=!1;return p({type:a.INIT}),h={dispatch:p,subscribe:c,getState:l,replaceReducer:f},h[s.a]=d,h}r.d(t,"a",function(){return a}),t.b=n;var i=r(184),o=r(460),s=r.n(o),a={INIT:"@@redux/INIT"}},function(e,t,r){"use strict"},function(e,t,r){function n(){i.call(this)}e.exports=n;var i=r(116).EventEmitter;r(25)(n,i),n.Readable=r(61),n.Writable=r(439),n.Duplex=r(434),n.Transform=r(438),n.PassThrough=r(437),n.Stream=n,n.prototype.pipe=function(e,t){function r(t){e.writable&&!1===e.write(t)&&l.pause&&l.pause()}function n(){l.readable&&l.resume&&l.resume()}function o(){c||(c=!0,e.end())}function s(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function a(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){l.removeListener("data",r),e.removeListener("drain",n),l.removeListener("end",o),l.removeListener("close",s),l.removeListener("error",a),e.removeListener("error",a),l.removeListener("end",u),l.removeListener("close",u),e.removeListener("close",u)}var l=this;l.on("data",r),e.on("drain",n),e._isStdio||t&&!1===t.end||(l.on("end",o),l.on("close",s));var c=!1;return l.on("error",a),e.on("error",a),l.on("end",u),l.on("close",u),e.on("close",u),e.emit("pipe",l),e}},function(e,t,r){(function(e){var n=r(458),i=r(469),o=r(296),s=r(205),a=t;a.request=function(t,r){t="string"==typeof t?s.parse(t):i(t);var o=-1===e.location.protocol.search(/^https?:$/)?"http:":"",a=t.protocol||o,u=t.hostname||t.host,l=t.port,c=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?a+"//"+u:"")+(l?":"+l:"")+c,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var p=new n(t);return r&&p.on("response",r),p},a.get=function(e,t){var r=a.request(e,t);return r.end(),r},a.Agent=function(){},a.Agent.defaultMaxSockets=4,a.STATUS_CODES=o,a.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(t,r(10))},function(e,t,r){(function(e){function r(){if(void 0!==o)return o;if(e.XMLHttpRequest){o=new e.XMLHttpRequest;try{o.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){o=null}}else o=null;return o}function n(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function i(e){return"function"==typeof e}t.fetch=i(e.fetch)&&i(e.ReadableStream),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var o,s=void 0!==e.ArrayBuffer,a=s&&i(e.ArrayBuffer.prototype.slice);t.arraybuffer=t.fetch||s&&n("arraybuffer"),t.msstream=!t.fetch&&a&&n("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&s&&n("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!r()&&i(r().overrideMimeType),t.vbArray=i(e.VBArray),o=null}).call(t,r(10))},function(e,t,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,r){if(e&&l.isObject(e)&&e instanceof n)return e;var i=new n;return i.parse(e,t,r),i}function o(e){return l.isString(e)&&(e=i(e)),e instanceof n?e.format():n.prototype.format.call(e)}function s(e,t){return i(e,!1,!0).resolve(t)}function a(e,t){return e?i(e,!1,!0).resolveObject(t):t}var u=r(418),l=r(464);t.parse=i,t.resolve=s,t.resolveObject=a,t.format=o,t.Url=n;var c=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],h=["{","}","|","\\","^","`"].concat(d),v=["'"].concat(h),g=["%","/","?",";","#"].concat(v),m=["/","?","#"],y=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=r(421);n.prototype.parse=function(e,t,r){if(!l.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=-1!==n&&n<e.indexOf("#")?"?":"#",o=e.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),e=o.join(i);var a=e;if(a=a.trim(),!r&&1===e.split("#").length){var p=f.exec(a);if(p)return this.path=a,this.href=a,this.pathname=p[1],p[2]?(this.search=p[2],this.query=t?T.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var d=c.exec(a);if(d){d=d[0];var h=d.toLowerCase();this.protocol=h,a=a.substr(d.length)}if(r||d||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var I="//"===a.substr(0,2);!I||d&&x[d]||(a=a.substr(2),this.slashes=!0)}if(!x[d]&&(I||d&&!S[d])){for(var w=-1,C=0;C<m.length;C++){var A=a.indexOf(m[C]);-1!==A&&(-1===w||A<w)&&(w=A)}var N,L;L=-1===w?a.lastIndexOf("@"):a.lastIndexOf("@",w),-1!==L&&(N=a.slice(0,L),a=a.slice(L+1),this.auth=decodeURIComponent(N)),w=-1;for(var C=0;C<g.length;C++){var A=a.indexOf(g[C]);-1!==A&&(-1===w||A<w)&&(w=A)}-1===w&&(w=a.length),this.host=a.slice(0,w),a=a.slice(w),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var _=this.hostname.split(/\./),C=0,k=_.length;C<k;C++){var O=_[C];if(O&&!O.match(y)){for(var P="",D=0,F=O.length;D<F;D++)O.charCodeAt(D)>127?P+="x":P+=O[D];if(!P.match(y)){var j=_.slice(0,C),M=_.slice(C+1),$=O.match(b);$&&(j.push($[1]),M.unshift($[2])),M.length&&(a="/"+M.join(".")+a),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=u.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!E[h])for(var C=0,k=v.length;C<k;C++){var G=v[C];if(-1!==a.indexOf(G)){var H=encodeURIComponent(G);H===G&&(H=escape(G)),a=a.split(G).join(H)}}var q=a.indexOf("#");-1!==q&&(this.hash=a.substr(q),a=a.slice(0,q));var V=a.indexOf("?");if(-1!==V?(this.search=a.substr(V),this.query=a.substr(V+1),t&&(this.query=T.parse(this.query)),a=a.slice(0,V)):t&&(this.search="",this.query={}),a&&(this.pathname=a),S[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",Q=this.search||"";this.path=B+Q}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(o=T.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||S[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+i+r+s+n},n.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(l.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),u=0;u<a.length;u++){var c=a[u];"protocol"!==c&&(r[c]=e[c])}return S[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!S[e.protocol]){for(var p=Object.keys(e),f=0;f<p.length;f++){var d=p[f];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||x[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var v=r.pathname||"",g=r.search||"";r.path=v+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=y||m||r.host&&e.pathname,E=b,T=r.pathname&&r.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],I=r.protocol&&!S[r.protocol];if(I&&(r.hostname="",r.port=null,r.host&&(""===T[0]?T[0]=r.host:T.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),b=b&&(""===h[0]||""===T[0])),y)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,T=h;else if(h.length)T||(T=[]),T.pop(),T=T.concat(h),r.search=e.search,r.query=e.query;else if(!l.isNullOrUndefined(e.search)){if(I){r.hostname=r.host=T.shift();var w=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");w&&(r.auth=w.shift(),r.host=r.hostname=w.shift())}return r.search=e.search,r.query=e.query,l.isNull(r.pathname)&&l.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!T.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var C=T.slice(-1)[0],A=(r.host||e.host||T.length>1)&&("."===C||".."===C)||""===C,N=0,L=T.length;L>=0;L--)C=T[L],"."===C?T.splice(L,1):".."===C?(T.splice(L,1),N++):N&&(T.splice(L,1),N--);if(!b&&!E)for(;N--;N)T.unshift("..");!b||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),A&&"/"!==T.join("/").substr(-1)&&T.push("");var R=""===T[0]||T[0]&&"/"===T[0].charAt(0);if(I){r.hostname=r.host=R?"":T.length?T.shift():"";var w=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");w&&(r.auth=w.shift(),r.host=r.hostname=w.shift())}return b=b||r.host&&T.length,b&&!R&&T.unshift(""),T.length?r.pathname=T.join("/"):(r.pathname=null,r.path=null),l.isNull(r.pathname)&&l.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=p.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){(function(e,n){function i(e,r){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),v(r)?n.showHidden=r:r&&t._extend(n,r),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),u(n,e,n.depth)}function o(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function s(e,t){return e}function a(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function u(e,r,n){if(e.customInspect&&r&&C(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return b(i)||(i=u(e,i,n)),i}var o=l(e,r);if(o)return o;var s=Object.keys(r),v=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),w(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(r);if(0===s.length){if(C(r)){var g=r.name?": "+r.name:"";return e.stylize("[Function"+g+"]","special")}if(S(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(I(r))return e.stylize(Date.prototype.toString.call(r),"date");if(w(r))return c(r)}var m="",y=!1,E=["{","}"];if(h(r)&&(y=!0,E=["[","]"]),C(r)){m=" [Function"+(r.name?": "+r.name:"")+"]"}if(S(r)&&(m=" "+RegExp.prototype.toString.call(r)),I(r)&&(m=" "+Date.prototype.toUTCString.call(r)),w(r)&&(m=" "+c(r)),0===s.length&&(!y||0==r.length))return E[0]+m+E[1];if(n<0)return S(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var x;return x=y?p(e,r,n,v,s):s.map(function(t){return f(e,r,n,v,t,y)}),e.seen.pop(),d(x,m,E)}function l(e,t){if(x(t))return e.stylize("undefined","undefined");if(b(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return y(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)_(t,String(s))?o.push(f(e,t,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(e,t,r,n,i,!0))}),o}function f(e,t,r,n,i,o){var s,a,l;if(l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},l.get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),_(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=g(r)?u(e,l.value,null):u(e,l.value,r-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),x(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e,t,r){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function h(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function E(e){return"symbol"==typeof e}function x(e){return void 0===e}function S(e){return T(e)&&"[object RegExp]"===N(e)}function T(e){return"object"==typeof e&&null!==e}function I(e){return T(e)&&"[object Date]"===N(e)}function w(e){return T(e)&&("[object Error]"===N(e)||e instanceof Error)}function C(e){return"function"==typeof e}function A(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function N(e){return Object.prototype.toString.call(e)}function L(e){return e<10?"0"+e.toString(10):e.toString(10)}function R(){var e=new Date,t=[L(e.getHours()),L(e.getMinutes()),L(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var k=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,o=n.length,s=String(e).replace(k,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),a=n[r];r<o;a=n[++r])g(a)||!T(a)?s+=" "+a:s+=" "+i(a);return s},t.deprecate=function(r,i){function o(){if(!s){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),s=!0}return r.apply(this,arguments)}if(x(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var s=!1;return o};var O,P={};t.debuglog=function(e){if(x(O)&&(O=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!P[e])if(new RegExp("\\b"+e+"\\b","i").test(O)){var r=n.pid;P[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else P[e]=function(){};return P[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=v,t.isNull=g,t.isNullOrUndefined=m,t.isNumber=y,t.isString=b,t.isSymbol=E,t.isUndefined=x,t.isRegExp=S,t.isObject=T,t.isDate=I,t.isError=w,t.isFunction=C,t.isPrimitive=A,t.isBuffer=r(467);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",R(),t.format.apply(t,arguments))},t.inherits=r(466),t._extend=function(e,t){if(!t||!T(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(t,r(10),r(19))},function(e,t,r){"use strict";e.exports={query:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80"><path d="M64.622 2.41H14.995c-6.627 0-12 5.374-12 12V64.31c0 6.627 5.373 12 12 12h49.627c6.627 0 12-5.373 12-12V14.41c0-6.627-5.373-12-12-12zM24.125 63.907V15.093L61 39.168 24.125 63.906z"/></svg>',queryInvalid:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 73.627 73.897"><path d="M61.627 0H12C5.373 0 0 5.373 0 12v49.897c0 6.627 5.373 12 12 12h49.627c6.627 0 12-5.373 12-12V12c0-6.628-5.373-12-12-12zM21.13 61.495V12.682l36.875 24.075L21.13 61.495z"/><path d="M66.13 65.904H49.77c-1.647 0-2.89-.58-3.5-1.636-.608-1.056-.49-2.422.334-3.848l8.18-14.167c.822-1.427 1.947-2.212 3.165-2.212s2.342.786 3.165 2.213l8.18 14.167c.824 1.426.942 2.792.333 3.848-.61 1.055-1.852 1.636-3.5 1.636zm-6.51-4.986c0-.85-.69-1.54-1.54-1.54-.85 0-1.54.69-1.54 1.54 0 .85.69 1.54 1.54 1.54.85 0 1.54-.69 1.54-1.54zm.04-9.266c0-.873-.708-1.58-1.58-1.58-.874 0-1.582.707-1.582 1.58l.374 5.61h.005c.054.62.568 1.108 1.202 1.108.586 0 1.075-.415 1.188-.968.01-.045.01-.093.014-.14h.01l.368-5.61z" fill="#a80"/></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" baseProfile="tiny" viewBox="0 0 100 100"><path fill-rule="evenodd" d="M88 84v-2c0-2.96-.86-4-4-4H16c-2.96 0-4 .98-4 4v2c0 3.102 1.04 4 4 4h68c3.02 0 4-.96 4-4zM58 12H42c-5 0-6 .94-6 6v22H16l34 34 34-34H64V18c0-5.06-1.06-6-6-6z"/></svg>',share:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M36.764 50c0 .308-.07.598-.088.905l32.247 16.12c2.76-2.34 6.293-3.798 10.195-3.798C87.89 63.227 95 70.337 95 79.11 95 87.89 87.89 95 79.118 95c-8.78 0-15.882-7.11-15.882-15.89 0-.317.07-.6.088-.906l-32.247-16.12c-2.77 2.33-6.293 3.79-10.195 3.79C12.11 65.873 5 58.77 5 50c0-8.78 7.11-15.89 15.882-15.89 3.902 0 7.427 1.467 10.195 3.796l32.247-16.12c-.018-.307-.088-.597-.088-.913C63.236 12.11 70.338 5 79.118 5 87.89 5 95 12.11 95 20.873c0 8.78-7.11 15.89-15.882 15.89-3.91 0-7.436-1.467-10.195-3.805L36.676 49.086c.017.308.088.598.088.914z"/></svg>',warning:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 66.399998 66.399998"><g fill="red"><path d="M33.2 0C14.9 0 0 14.9 0 33.2c0 18.3 14.9 33.2 33.2 33.2 18.3 0 33.2-14.9 33.2-33.2C66.4 14.9 51.5 0 33.2 0zm0 59.4C18.7 59.4 7 47.6 7 33.2 7 18.7 18.8 7 33.2 7c14.4 0 26.2 11.8 26.2 26.2 0 14.4-11.8 26.2-26.2 26.2z"/><path d="M33.1 45.6c-1.4 0-2.5.5-3.5 1.5-.9 1-1.4 2.2-1.4 3.6 0 1.6.5 2.8 1.5 3.8 1 .9 2.1 1.3 3.4 1.3 1.3 0 2.4-.5 3.4-1.4 1-.9 1.5-2.2 1.5-3.7 0-1.4-.5-2.6-1.4-3.6-.9-1-2.1-1.5-3.5-1.5zM33.3 12.4c-1.5 0-2.8.5-3.7 1.6-.9 1-1.4 2.4-1.4 4.2 0 1.1.1 2.9.2 5.6l.8 13.1c.2 1.8.4 3.2.9 4.1.5 1.2 1.5 1.8 2.9 1.8 1.3 0 2.3-.7 2.9-1.9.5-1 .7-2.3.9-4l1.1-13.4c.1-1.3.2-2.5.2-3.8 0-2.2-.3-3.9-.8-5.1-.5-1-1.6-2.2-4-2.2z"/></g></svg>',fullscreen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="5 -10 100 100"><path d="M5-10v38.89L21.667 12.22 38.334 28.89l5.555-5.556L27.22 6.667 43.89-10H5zM105-10v38.89L88.333 12.22 71.667 28.89l-5.556-5.556L82.778 6.667 66.11-10H105zM5 90V51.11l16.667 16.667L38.334 51.11l5.555 5.557L27.22 73.333 43.89 90H5zM105 90V51.11L88.333 67.778 71.667 51.11l-5.556 5.557 16.667 16.666L66.11 90H105z" fill="#010101"/></svg>',smallscreen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="5 -10 100 100"><path d="M43.89 28.89V-10L27.22 6.667 10.555-10 5-4.445l16.667 16.667L5 28.89h38.89zM66.11 28.89V-10L82.78 6.667 99.444-10 105-4.445 88.334 12.222 105 28.89H66.11zM43.89 51.11V90L27.22 73.334 10.555 90 5 84.444l16.667-16.666L5 51.11h38.89zM66.11 51.11V90L82.78 73.334 99.444 90 105 84.444 88.334 67.778 105 51.11H66.11z" fill="#010101"/></svg>'}},function(e,t,r){function n(e,t,r,n){r||(r=0),n||(n=e.getLine(t)),n=n.toUpperCase();for(var o=r,a=0;;){var u=n.indexOf(s,o);if(-1!=u){if(1==a&&u<r)break;if(!/^(comment|string)/.test(e.getTokenTypeAt(i.Pos(t,u+1))))return u+1;if((o=u-1)===a)break}else{if(1==a)break;a=1,o=n.length}}}var i=r(17),o=r(85),s="PREFIX";e.exports={findFirstPrefixLine:function(e){for(var t=e.lastLine(),r=0;r<=t;++r)if(n(e,r)>=0)return r}},i.registerHelper("fold","prefix",function(e,t){var r=t.line,a=e.getLine(r),u=function(t,r){var n=e.getTokenAt(i.Pos(t,r+1));if(!n||"keyword"!=n.type)return-1;var s=o.getNextNonWsToken(e,t,n.end+1);if(!s||"string-2"!=s.type)return-1;var a=o.getNextNonWsToken(e,t,s.end+1);return a&&"variable-3"==a.type?a.end:-1};if(!function(){for(var t=!1,n=r-1;n>=0;n--)if(e.getLine(n).toUpperCase().indexOf(s)>=0){t=!0;break}return t}()){var l=n(e,r,t.ch,a);if(null!=l){for(var c,p=!1,f=e.lastLine(),d=u(r,l),h=r,v=r;v<=f&&!p;++v)for(var g=e.getLine(v),m=v==r?l+1:0;;){!p&&g.indexOf("{")>=0&&(p=!0);var y=g.toUpperCase().indexOf(s,m);if(!(y>=0))break;(c=u(v,y))>0&&(d=c,h=v,m=d),m++}return{from:i.Pos(r,l+s.length),to:i.Pos(h,d)}}}})},function(e,t,r){"use strict";var n=r(14),i=r(86),o=r(62);o.getAjaxConfig=function(e,t){var i="function"==typeof t?t:null,a="object"==typeof t?t:{};if(e.options.sparql&&(a=n.extend({},e.options.sparql,a)),a.handlers&&n.extend(!0,a.callbacks,a.handlers),a.endpoint&&0!=a.endpoint.length){var u=e.getQueryMode(),l={url:"function"==typeof a.endpoint?a.endpoint(e):a.endpoint,type:"update"==u?"POST":"function"==typeof a.requestMethod?a.requestMethod(e):a.requestMethod,headers:{Accept:s(e,a)}};a.xhrFields&&(l.xhrFields=a.xhrFields);var c=!1;if(a.callbacks)for(var p in a.callbacks)a.callbacks[p]&&(c=!0,l[p]=a.callbacks[p]);if("GET"===l.type){var f=!0;n.each(e.getUrlArguments(a),function(e,t){l.url+=(f?"?":"&")+t.name+"="+encodeURIComponent(t.value),f=!1})}else l.data=e.getUrlArguments(a);if(c||i){i&&(l.complete=i),a.headers&&!n.isEmptyObject(a.headers)&&n.extend(l.headers,a.headers);var d=new Date,h=function(){e.lastQueryDuration=new Date-d,o.updateQueryButton(e),e.setBackdrop(!1)},v=[function(){r(62).signal(e,"queryFinish",arguments)},h];return l.complete&&v.push(l.complete),l.complete=v,l}}},o.executeQuery=function(e,t){o.signal(e,"query",e,t),o.updateQueryButton(e,"busy"),e.setBackdrop(!0),e.xhr=n.ajax(o.getAjaxConfig(e,t))},o.getUrlArguments=function(e,t){var r=e.getQueryMode(),o=[{name:i.getString(e,e.options.sparql.queryName),value:t.getQueryForAjax?t.getQueryForAjax(e):e.getValue()}];if(t.namedGraphs&&t.namedGraphs.length>0)for(var s="query"==r?"named-graph-uri":"using-named-graph-uri ",a=0;a<t.namedGraphs.length;a++)o.push({name:s,value:t.namedGraphs[a]});if(t.defaultGraphs&&t.defaultGraphs.length>0)for(var s="query"==r?"default-graph-uri":"using-graph-uri ",a=0;a<t.defaultGraphs.length;a++)o.push({name:s,value:t.defaultGraphs[a]});return t.args&&t.args.length>0&&n.merge(o,t.args),o};var s=function(e,t){var r=null;if(!t.acceptHeader||t.acceptHeaderGraph||t.acceptHeaderSelect||t.acceptHeaderUpdate)if("update"==e.getQueryMode())r="function"==typeof t.acceptHeader?t.acceptHeaderUpdate(e):t.acceptHeaderUpdate;else{var n=e.getQueryType();r="DESCRIBE"==n||"CONSTRUCT"==n?"function"==typeof t.acceptHeaderGraph?t.acceptHeaderGraph(e):t.acceptHeaderGraph:"function"==typeof t.acceptHeaderSelect?t.acceptHeaderSelect(e):t.acceptHeaderSelect}else r="function"==typeof t.acceptHeader?t.acceptHeader(e):t.acceptHeader;return r};e.exports={getAjaxConfig:o.getAjaxConfig}},function(e,t,r){"use strict";var n=r(14);r(86);e.exports=function(e,t,r){var i,t=n(t);t.hover(function(){"function"==typeof r&&(r=r()),i=n("<div>").addClass("yasqe_tooltip").html(r).appendTo(t),o()},function(){n(".yasqe_tooltip").remove()});var o=function(){n(e.getWrapperElement()).offset().top>=i.offset().top&&(i.css("bottom","auto"),i.css("top","26px"))}}},function(e,t,r){r(247),e.exports="ngAnimate"},function(e,t,r){!function(t,r){e.exports=r()}(0,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";e.exports="ngFileSaver",angular.module("ngFileSaver",[]).factory("FileSaver",["Blob","SaveAs","FileSaverUtils",r(1)]).factory("FileSaverUtils",[r(2)]).factory("Blob",["$window",r(3)]).factory("SaveAs",[r(5)])},function(e,t){"use strict";e.exports=function(e,t,r){function n(e,n,i){try{t(e,n,i)}catch(e){r.handleErrors(e.message)}}return{saveAs:function(e,t,i){return r.isBlobInstance(e)||r.handleErrors("Data argument should be a blob instance"),r.isString(t)||r.handleErrors("Filename argument should be a string"),n(e,t,i)}}}},function(e,t){"use strict";e.exports=function(){return{handleErrors:function(e){throw new Error(e)},isString:function(e){return"string"==typeof e||e instanceof String},isUndefined:function(e){return void 0===e},isBlobInstance:function(e){return e instanceof Blob}}}},function(e,t,r){"use strict";r(4),e.exports=function(e){return e.Blob}},function(e,t){/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
!function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(e){}var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},r=function(){this.data=[]},n=function(e,t,r){this.data=e,this.size=e.length,this.type=t,this.encoding=r},i=r.prototype,o=n.prototype,s=e.FileReaderSync,a=function(e){this.code=this[this.name=e]},u="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),l=u.length,c=e.URL||e.webkitURL||e,p=c.createObjectURL,f=c.revokeObjectURL,d=c,h=e.btoa,v=e.atob,g=e.ArrayBuffer,m=e.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(n.fake=o.fake=!0;l--;)a.prototype[u[l]]=l+1;return c.createObjectURL||(d=e.URL=function(e){var t,r=document.createElementNS("http://www.w3.org/1999/xhtml","a");return r.href=e,"origin"in r||("data:"===r.protocol.toLowerCase()?r.origin=null:(t=e.match(y),r.origin=t&&t[1])),r}),d.createObjectURL=function(e){var t,r=e.type;return null===r&&(r="application/octet-stream"),e instanceof n?(t="data:"+r,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):h?t+";base64,"+h(e.data):t+","+encodeURIComponent(e.data)):p?p.call(c,e):void 0},d.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&f&&f.call(c,e)},i.append=function(e){var r=this.data;if(m&&(e instanceof g||e instanceof m)){for(var i="",o=new m(e),u=0,l=o.length;u<l;u++)i+=String.fromCharCode(o[u]);r.push(i)}else if("Blob"===t(e)||"File"===t(e)){if(!s)throw new a("NOT_READABLE_ERR");var c=new s;r.push(c.readAsBinaryString(e))}else e instanceof n?"base64"===e.encoding&&v?r.push(v(e.data)):"URI"===e.encoding?r.push(decodeURIComponent(e.data)):"raw"===e.encoding&&r.push(e.data):("string"!=typeof e&&(e+=""),r.push(unescape(encodeURIComponent(e))))},i.getBlob=function(e){return arguments.length||(e=null),new n(this.data.join(""),e,"raw")},i.toString=function(){return"[object BlobBuilder]"},o.slice=function(e,t,r){var i=arguments.length;return i<3&&(r=null),new n(this.data.slice(e,i>1?t:this.data.length),r,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},r}(e);e.Blob=function(e,r){var n=r?r.type||"":"",i=new t;if(e)for(var o=0,s=e.length;o<s;o++)Uint8Array&&e[o]instanceof Uint8Array?i.append(e[o].buffer):i.append(e[o]);var a=i.getBlob(n);return!a.slice&&a.webkitSlice&&(a.slice=a.webkitSlice),a};var r=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=r(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(e,t,r){"use strict";e.exports=function(){return r(6).saveAs||function(){}}},function(e,t,r){var n,i=i||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,r=function(){return e.URL||e.webkitURL||e},n=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in n,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},s=/constructor/i.test(e.HTMLElement)||e.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l=function(e){var t=function(){"string"==typeof e?r().revokeObjectURL(e):e.remove()};setTimeout(t,4e4)},c=function(e,t,r){t=[].concat(t);for(var n=t.length;n--;){var i=e["on"+t[n]];if("function"==typeof i)try{i.call(e,r||e)}catch(e){u(e)}}},p=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},f=function(t,u,f){f||(t=p(t));var d,h=this,v=t.type,g="application/octet-stream"===v,m=function(){c(h,"writestart progress write writeend".split(" "))};if(h.readyState=h.INIT,i)return d=r().createObjectURL(t),void setTimeout(function(){n.href=d,n.download=u,o(n),m(),l(d),h.readyState=h.DONE});!function(){if((a||g&&s)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=a?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,h.readyState=h.DONE,m()},n.readAsDataURL(t),void(h.readyState=h.INIT)}if(d||(d=r().createObjectURL(t)),g)e.location.href=d;else{e.open(d,"_blank")||(e.location.href=d)}h.readyState=h.DONE,m(),l(d)}()},d=f.prototype,h=function(e,t,r){return new f(e,t||e.name||"download",r)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return t=t||e.name||"download",r||(e=p(e)),navigator.msSaveOrOpenBlob(e,t)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,h)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==e&&e.exports?e.exports.saveAs=i:null!==r(7)&&null!==r(8)&&void 0!==(n=function(){return i}.call(t,r,t,e))&&(e.exports=n)},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})}])})},function(e,t){/**
 * @license HTTP Auth Interceptor Module for AngularJS
 * (c) 2012 Witold Szczerba
 * License: MIT
 */
!function(){"use strict";angular.module("http-auth-interceptor",["http-auth-interceptor-buffer"]).factory("authService",["$rootScope","httpBuffer",function(e,t){return{loginConfirmed:function(r,n){var i=n||function(e){return e};e.$broadcast("event:auth-loginConfirmed",r),t.retryAll(i)},loginCancelled:function(r,n){t.rejectAll(n),e.$broadcast("event:auth-loginCancelled",r)}}}]).config(["$httpProvider",function(e){e.interceptors.push(["$rootScope","$q","httpBuffer",function(e,t,r){return{responseError:function(n){var i=n.config||{};if(!i.ignoreAuthModule)switch(n.status){case 401:var o=t.defer();return 1===r.append(i,o)&&e.$broadcast("event:auth-loginRequired",n),o.promise;case 403:e.$broadcast("event:auth-forbidden",n)}return t.reject(n)}}}])}]),angular.module("http-auth-interceptor-buffer",[]).factory("httpBuffer",["$injector",function(e){function t(t,n){function i(e){n.resolve(e)}function o(e){n.reject(e)}r=r||e.get("$http"),r(t).then(i,o)}var r,n=[];return{append:function(e,t){return n.push({config:e,deferred:t})},rejectAll:function(e){if(e)for(var t=0;t<n.length;++t)n[t].deferred.reject(e);n=[]},retryAll:function(e){for(var r=0;r<n.length;++r){var i=e(n[r].config);!1!==i&&t(i,n[r].deferred)}n=[]}}}])}(),void 0!==e&&void 0!==t&&e.exports===t&&(e.exports="http-auth-interceptor")},function(e,t,r){r(248),e.exports="toastr"},function(e,t,r){r(249),e.exports="ui.bootstrap"},function(e,t,r){"use strict";function n(e,t){function r(e,r,a,u){var l=angular.extend({value:r.text()},t.codemirror||{},e.$eval(a.uiCodemirror),e.$eval(a.uiCodemirrorOpts)),c=n(r,l);i(c,a.uiCodemirror||a.uiCodemirrorOpts,e),o(c,u,e),s(c,a.uiRefresh,e),e.$on("CodeMirror",function(e,t){if(!angular.isFunction(t))throw new Error("the CodeMirror event requires a callback function");t(c)}),angular.isFunction(l.onLoad)&&l.onLoad(c)}function n(e,t){var r;return"TEXTAREA"===e[0].tagName?r=window.CodeMirror.fromTextArea(e[0],t):(e.html(""),r=new window.CodeMirror(function(t){e.append(t)},t)),r}function i(e,t,r){function n(t,r){angular.isObject(t)&&i.forEach(function(n){if(t.hasOwnProperty(n)){if(r&&t[n]===r[n])return;e.setOption(n,t[n])}})}if(t){var i=Object.keys(window.CodeMirror.defaults);r.$watch(t,n,!0)}}function o(e,t,r){t&&(t.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),t.$render=function(){var r=t.$viewValue||"";e.setValue(r)},e.on("change",function(e){var n=e.getValue();n!==t.$viewValue&&r.$evalAsync(function(){t.$setViewValue(n)})}))}function s(t,r,n){r&&n.$watch(r,function(r,n){r!==n&&e(function(){t.refresh()})})}return{restrict:"EA",require:"?ngModel",compile:function(){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror needs CodeMirror to work... (o rly?)");return r}}}angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",n)},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var i=r(15);t.core=i,n(r(15)),n(r(93)),n(r(94)),n(r(157)),n(r(158)),r(252),r(250),r(254),r(251),r(257),t.default="ui.router"},function(e,t,r){!function(t,n){e.exports=n(r(0),r(62))}(0,function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),o=function(){function e(e,t){this.$element=e,this.$timeout=t}return e.$inject=["$element","$timeout"],e.prototype.$postLink=function(){var e=this;this.content||(this.content=""),this.yasqe=i(this.$element[0],{createShareLink:!1,sparql:{endpoint:this.endpoint,callbacks:{complete:function(t){return e.onQueryResults({results:t})}},showQueryButton:this.showQueryButton}}),this.yasqe.setValue(this.content),this.yasqe.on("change",function(){return e.onContentChanged({content:e.yasqe.getValue()})}),this.onInit({yasqe:this.yasqe})},e.prototype.$onChanges=function(e){e.endpoint&&!e.endpoint.isFirstChange()&&(this.yasqe.options.sparql.endpoint=e.endpoint.currentValue),e.content&&!e.content.isFirstChange()&&e.content.currentValue!==this.yasqe.getValue()&&this.yasqe.setValue(e.content.currentValue)},e}();t.YasqeComponentController=o;var s=function(){function e(){this.bindings={content:"<",onContentChanged:"&",onQueryResults:"&",endpoint:"<",onInit:"&",showQueryButton:"@"},this.controller=o}return e}();t.YasqeComponent=s,n.module("fi.seco.yasqe",[]).component("yasqe",new s)}])})},function(e,t,r){"use strict";function n(e){e.createStoreWith(l.a,[s.a,u.a,r.i(i.createLogger)()],[])}t.a=n;var i=r(440),o=(r.n(i),r(442)),s=r.n(o),a=r(441),u=r.n(a),l=r(278);n.$inject=["$ngReduxProvider"]},function(e,t,r){"use strict";function n(e){"ngInject";a.extend(e,{positionClass:"toast-top-full-width"})}function i(e,t,r,n){"ngInject";t.rules.otherwise(function(e,t,r){var i=t.search;window.location.search.replace("?","").split("&").forEach(function(e){var t=e.split("=");i[t[0]]=t[1]}),i.code?n.stateService.go("callback",i):n.stateService.go("projects")}),e.state("projects",{url:"/projects",template:"<projects-view></projects-view>"}),e.state("rdfstoreTest",{url:"/rdfstore-test",template:"<rdfstore-test-view></rdfstore-test-view>"}),e.state("projectSources",{url:"/project-sources?sourceId&sparqlEndpoint&updateEndpoint&graphStoreEndpoint&graph&type",template:"<project-sources-view></project-sources-view>"}),e.state("projectSourceConfigurations",{url:"/project-source-configurations?sourceId",template:"<project-source-configurations-view></project-source-configurations-view>"}),e.state("editPrimaryEndpointConfiguration",{url:"/edit-primary-endpoint-configuration?sourceId&id",template:"<edit-primary-endpoint-configuration-view></edit-primary-endpoint-configuration-view>"}),e.state("editRemoteEndpointConfiguration",{url:"/edit-remote-endpoint-configuration?sourceId&id",template:"<edit-remote-endpoint-configuration-view></edit-remote-endpoint-configuration-view>"}),e.state("editSchema",{url:"/edit-schema?sourceId&id",template:"<edit-schema-view></edit-schema-view>"}),e.state("configure",{url:"/configure?sourceId&id",template:"<configure-view></configure-view>"}),e.state("construct",{url:"/construct?id&sparqlEndpoint&graph",resolve:{project:["projectService","fibraService","$stateParams",function(e,t,r){return e.loadProject({sparqlEndpoint:r.sparqlEndpoint,graph:r.graph},r.id,!0).then(function(e){return t.dispatchAction(t.setProject(e))})}]},template:"<construct-view></construct-view>"}),e.state("author",{url:"/author?id&sparqlEndpoint&graph",resolve:{project:["projectService","fibraService","$stateParams",function(e,t,r){return e.loadProject({sparqlEndpoint:r.sparqlEndpoint,graph:r.graph},r.id,!0).then(function(e){return t.dispatchAction(t.setProject(e))})}]},template:"<author-view></author-view>"}),e.state("login",{url:"/login",template:"<login></login>",params:{redirect_hash:{type:"string",value:""}}}),e.state("callback",{url:"/callback",template:"<callback></callback>",params:{code:{type:"string",array:!1,value:""}}})}function o(e){"ngInject";e.setKeyPrefix("fibra-")}function s(e,t,r,n,i,o,s,a,u,l){"ngInject";e.authInfo={authOpen:!1,username:void 0,password:void 0},t.authorization&&(r.defaults.headers.common.Authorization=t.authorization,s.$broadcast("main:auth-loginAuthInfo",t.authorization)),e.setAuth=function(){e.authInfo.authOpen=!1,t.authorization="Basic "+btoa(e.authInfo.username+":"+e.authInfo.password),r.defaults.headers.common.Authorization=t.authorization,s.$broadcast("main:auth-loginAuthInfo",t.authorization),i.loginConfirmed()},e.dismissAuth=function(){e.authInfo.authOpen=!1,i.loginCancelled({status:401},"Authentication required")},e.$on("event:auth-loginRequired",function(){return e.authInfo.authOpen=!0});var c={to:function(e){return e.data&&e.data.requiresAuth}},p=function(e){if(!a.isAuthenticated())return e.router.stateService.target("login",{redirect_hash:window.location.hash})};e.socialAuthService=a,l.onBefore(c,p,{priority:10}),l.onSuccess({},function(t){return e.viewName=t._targetState.name()})}t.a=n,t.b=i,t.c=o,t.d=s;var a=r(0);r.n(a);s.$inject=["$rootScope","$localStorage","$http","$state","authService","$location","workerService","socialAuthService","$window","$transitions"],o.$inject=["$localStorageProvider"],i.$inject=["$stateProvider","$urlServiceProvider","$locationProvider","$uiRouterProvider"],n.$inject=["toastrConfig"]},function(e,t,r){"use strict";var n=r(0);r.n(n),r(271),r(258),r(272),r(273),r(260),r(261),r(159),r(265),r(264),r(262),r(263),r(259),r(72),r(267),r(268),r(269),r(270),r(160),r(274),r(275);n.module("fibra.components",["fibra.components.construct-view","fibra.components.explore","fibra.components.property-popover","fibra.components.palette","fibra.components.verify","fibra.components.explore-table","fibra.components.explore-type","fibra.components.projects-view","fibra.components.citable","fibra.components.callback","fibra.components.login","fibra.components.configure","fibra.components.citable-editor","fibra.components.edit-primary-endpoint-configuration","fibra.components.edit-remote-endpoint-configuration","fibra.components.edit-schema-view","fibra.components.project-source-configurations-view","fibra.components.project-sources-view","fibra.components.type-select","fibra.components.upload"])},function(e,t,r){"use strict";var n=r(0);r.n(n),r(161),r(276);n.module("fibra.filters",["fibra.filters.pref-lang","fibra.filters.citable"])},function(e,t,r){"use strict";var n=r(0);r.n(n),r(285),r(76),r(284),r(282),r(283),r(16),r(57),r(56);n.module("fibra.services",["fibra.services.social-auth-service","fibra.services.worker-service","fibra.services.project-service","fibra.services.fibra-service","fibra.services.fibra-sparql-service","fibra.services.sparql-item-service","fibra.services.sparql-tree-service","fibra.services.sparql-autocomplete-service"])},function(e,t){},function(e,t,r){"use strict";t.__esModule=!0;var n=r(396),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=angular.module("ngRedux",[]).provider("$ngRedux",i.default).name},function(e,t,r){var n,i,o;!function(s,a){"use strict";i=[r(0)],n=a,void 0!==(o="function"==typeof n?n.apply(t,i):n)&&(e.exports=o)}(0,function(e){"use strict";function t(e,t){var r;try{r=e[t]}catch(e){r=!1}if(r){var n="__"+Math.round(1e7*Math.random());try{e[t].setItem(n,n),e[t].removeItem(n,n)}catch(e){r=!1}}return r}function r(r){var n=t(window,r);return function(){var i="ngStorage-";this.setKeyPrefix=function(e){if("string"!=typeof e)throw new TypeError("[ngStorage] - "+r+"Provider.setKeyPrefix() expects a String.");i=e};var o=e.toJson,s=e.fromJson;this.setSerializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+r+"Provider.setSerializer expects a function.");o=e},this.setDeserializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+r+"Provider.setDeserializer expects a function.");s=e},this.supported=function(){return!!n},this.get=function(e){return n&&s(n.getItem(i+e))},this.set=function(e,t){return n&&n.setItem(i+e,o(t))},this.remove=function(e){n&&n.removeItem(i+e)},this.$get=["$rootScope","$window","$log","$timeout","$document",function(n,a,u,l,c){var p,f,d=i.length,h=t(a,r),v=h||(u.warn("This browser does not support Web Storage!"),{setItem:e.noop,getItem:e.noop,removeItem:e.noop}),g={$default:function(t){for(var r in t)e.isDefined(g[r])||(g[r]=e.copy(t[r]));return g.$sync(),g},$reset:function(e){for(var t in g)"$"===t[0]||delete g[t]&&v.removeItem(i+t);return g.$default(e)},$sync:function(){for(var e,t=0,r=v.length;t<r;t++)(e=v.key(t))&&i===e.slice(0,d)&&(g[e.slice(d)]=s(v.getItem(e)))},$apply:function(){var t;if(f=null,!e.equals(g,p)){t=e.copy(p),e.forEach(g,function(r,n){e.isDefined(r)&&"$"!==n[0]&&(v.setItem(i+n,o(r)),delete t[n])});for(var r in t)v.removeItem(i+r);p=e.copy(g)}},$supported:function(){return!!h}};return g.$sync(),p=e.copy(g),n.$watch(function(){f||(f=l(g.$apply,100,!1))}),a.addEventListener&&a.addEventListener("storage",function(t){if(t.key){var r=c[0];r.hasFocus&&r.hasFocus()||i!==t.key.slice(0,d)||(t.newValue?g[t.key.slice(d)]=s(t.newValue):delete g[t.key.slice(d)],p=e.copy(g),n.$apply())}}),a.addEventListener&&a.addEventListener("beforeunload",function(){g.$apply()}),g}]}}return e=e&&e.module?e:window.angular,e.module("ngStorage",[]).provider("$localStorage",r("localStorage")).provider("$sessionStorage",r("sessionStorage"))})},function(e,t,r){"use strict";function n(e){e.addResolvable({token:o.UIRouter,deps:[],resolveFn:function(){return e.router},data:e.router},""),e.addResolvable({token:i.Transition,deps:[],resolveFn:function(){return e},data:e},""),e.addResolvable({token:"$transition$",deps:[],resolveFn:function(){return e},data:e},""),e.addResolvable({token:"$stateParams",deps:[],resolveFn:function(){return e.params()},data:e.params()},""),e.entering().forEach(function(t){e.addResolvable({token:"$state$",deps:[],resolveFn:function(){return t},data:t},t)})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(68),o=r(137);t.registerAddCoreResolvables=function(e){return e.onCreate({},n)}},function(e,t,r){"use strict";function n(e){var t=e._ignoredReason();if(t){i.trace.traceTransitionIgnored(e);var r=e.router.globals.transition;return"SameAsCurrent"===t&&r&&r.abort(),o.Rejection.ignored().toPromise()}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(21),o=r(53);t.registerIgnoredTransitionHook=function(e){return e.onBefore({},n,{priority:-9999})}},function(e,t,r){"use strict";function n(e){if(!e.valid())throw new Error(e.error())}Object.defineProperty(t,"__esModule",{value:!0}),t.registerInvalidTransitionHook=function(e){return e.onBefore({},n,{priority:-1e4})}},function(e,t,r){"use strict";function n(e){return function(t,r){return(0,r.$$state()[e])(t,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("onExit");t.registerOnExitHook=function(e){return e.onExit({exiting:function(e){return!!e.onExit}},i)};var o=n("onRetain");t.registerOnRetainHook=function(e){return e.onRetain({retained:function(e){return!!e.onRetain}},o)};var s=n("onEnter");t.registerOnEnterHook=function(e){return e.onEnter({entering:function(e){return!!e.onEnter}},s)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),i=r(11),o=r(26),s=function(e){function t(t){if(t)return t instanceof o.TargetState?t:n.isString(t)?s.target(t,e.params(),e.options()):t.state||t.params?s.target(t.state||e.to(),t.params||e.params(),e.options()):void 0}var r=e.to().redirectTo;if(r){var s=e.router.stateService;return n.isFunction(r)?i.services.$q.when(r(e)).then(t):t(r)}};t.registerRedirectToHook=function(e){return e.onStart({to:function(e){return!!e.redirectTo}},s)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(67),o=r(5),s=function(e){return new i.ResolveContext(e.treeChanges().to).resolvePath("EAGER",e).then(n.noop)};t.registerEagerResolvePath=function(e){return e.onStart({},s,{priority:1e3})};var a=function(e,t){return new i.ResolveContext(e.treeChanges().to).subContext(t.$$state()).resolvePath("LAZY",e).then(n.noop)};t.registerLazyResolveState=function(e){return e.onEnter({entering:o.val(!0)},a,{priority:1e3})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=function(e){var t=e.router.globals,r=function(){t.successfulTransitions.enqueue(e),t.$current=e.$to(),t.current=t.$current.self,n.copy(e.params(),t.params)},i=function(){t.transition===e&&(t.transition=null)};e.onSuccess({},r,{priority:1e4}),e.promise.then(i,i)};t.registerUpdateGlobalState=function(e){return e.onCreate({},i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=e.options(),r=e.router.stateService,n=e.router.urlRouter;if("url"!==t.source&&t.location&&r.$current.navigable){var i={replace:"replace"===t.location};n.push(r.$current.navigable.url,r.params,i)}n.update(!0)};t.registerUpdateUrl=function(e){return e.onSuccess({},n,{priority:9999})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(11),o=function(e){var t=i.services.$q,r=e.views("entering");if(r.length)return t.all(r.map(function(e){return t.when(e.load())})).then(n.noop)};t.registerLoadEnteringViews=function(e){return e.onFinish({},o)};var s=function(e){var t=e.views("entering"),r=e.views("exiting");if(t.length||r.length){var n=e.router.viewService;r.forEach(function(e){return n.deactivateViewConfig(e)}),t.forEach(function(e){return n.activateViewConfig(e)}),n.sync()}};t.registerActivateViews=function(e){return e.onSuccess({},s)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.dispose=function(e){},e}();t.UIRouterPluginBase=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(40)),n(r(134)),n(r(135)),n(r(88))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(89)),n(r(66))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(136)),n(r(52)),n(r(67))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(138)),n(r(90)),n(r(139)),n(r(140)),n(r(141)),n(r(142)),n(r(26))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(41)),n(r(143)),n(r(91)),n(r(53)),n(r(68)),n(r(54)),n(r(144)),n(r(92))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(69)),n(r(145)),n(r(146)),n(r(147)),n(r(148))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(244))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(155)),n(r(151)),n(r(70)),n(r(150)),n(r(153)),n(r(154)),n(r(152)),n(r(149)),n(r(55)),n(r(245))},function(e,t,r){"use strict";function n(e){return f.services.$injector=c.$injector,f.services.$q=p.$q,{name:"vanilla.services",$q:p.$q,$injector:c.$injector,dispose:function(){return null}}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(149),o=r(150),s=r(55),a=r(154),u=r(153),l=r(152),c=r(151),p=r(155),f=r(11);t.servicesPlugin=n,t.hashLocationPlugin=s.locationPluginFactory("vanilla.hashBangLocation",!1,o.HashLocationService,i.BrowserLocationConfig),t.pushStateLocationPlugin=s.locationPluginFactory("vanilla.pushStateLocation",!0,a.PushStateLocationService,i.BrowserLocationConfig),t.memoryLocationPlugin=s.locationPluginFactory("vanilla.memoryLocation",!1,u.MemoryLocationService,l.MemoryLocationConfig)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(156))},function(e,t){/**
 * @license AngularJS v1.6.4
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(e,t){"use strict";function r(e,t,r){if(!e)throw ue("areq","Argument '{0}' is {1}",t||"?",r||"required");return e}function n(e,t){return e||t?e?t?(Q(e)&&(e=e.join(" ")),Q(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function i(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function o(e,t,r){var n="";return e=Q(e)?e:e&&K(e)&&e.length?e.split(/\s+/):[],V(e,function(e,i){e&&e.length>0&&(n+=i>0?" ":"",n+=r?t+e:e+t)}),n}function s(e,t){var r=e.indexOf(t);t>=0&&e.splice(r,1)}function a(e){if(e instanceof Z)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===j)return e;break;default:return Z(u(e))}if(e.nodeType===j)return Z(e)}function u(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var r=e[t];if(r.nodeType===j)return r}}function l(e,t,r){V(t,function(t){e.addClass(t,r)})}function c(e,t,r){V(t,function(t){e.removeClass(t,r)})}function p(e){return function(t,r){r.addClass&&(l(e,t,r.addClass),r.addClass=null),r.removeClass&&(c(e,t,r.removeClass),r.removeClass=null)}}function f(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||ee;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=ee},e.$$prepared=!0}return e}function d(e,t){h(e,t),v(e,t)}function h(e,t){t.from&&(e.css(t.from),t.from=null)}function v(e,t){t.to&&(e.css(t.to),t.to=null)}function g(e,t,r){var n=t.options||{},i=r.options||{},o=(n.addClass||"")+" "+(i.addClass||""),s=(n.removeClass||"")+" "+(i.removeClass||""),a=m(e.attr("class"),o,s);i.preparationClasses&&(n.preparationClasses=I(i.preparationClasses,n.preparationClasses),delete i.preparationClasses);var u=n.domOperation!==ee?n.domOperation:null;return q(n,i),u&&(n.domOperation=u),a.addClass?n.addClass=a.addClass:n.addClass=null,a.removeClass?n.removeClass=a.removeClass:n.removeClass=null,t.addClass=n.addClass,t.removeClass=n.removeClass,n}function m(e,t,r){function n(e){K(e)&&(e=e.split(" "));var t={};return V(e,function(e){e.length&&(t[e]=!0)}),t}var i={};e=n(e),t=n(t),V(t,function(e,t){i[t]=1}),r=n(r),V(r,function(e,t){i[t]=1===i[t]?null:-1});var o={addClass:"",removeClass:""};return V(i,function(t,r){var n,i;1===t?(n="addClass",i=!e[r]||e[r+$]):-1===t&&(n="removeClass",i=e[r]||e[r+M]),i&&(o[n].length&&(o[n]+=" "),o[n]+=r)}),o}function y(e){return e instanceof Z?e[0]:e}function b(e,t,r){var n="";t&&(n=o(t,B,!0)),r.addClass&&(n=I(n,o(r.addClass,M))),r.removeClass&&(n=I(n,o(r.removeClass,$))),n.length&&(r.preparationClasses=n,e.addClass(n))}function E(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function x(e,t){var r=t?"-"+t+"s":"";return T(e,[se,r]),[se,r]}function S(e,t){var r=t?"paused":"",n=D+ne;return T(e,[n,r]),[n,r]}function T(e,t){var r=t[0],n=t[1];e.style[r]=n}function I(e,t){return e?t?e+" "+t:e:t}function w(e){return[oe,e+"s"]}function C(e,t){return[t?ie:se,e+"s"]}function A(e,t,r){var n=Object.create(null),i=e.getComputedStyle(t)||{};return V(r,function(e,t){var r=i[e];if(r){var o=r.charAt(0);("-"===o||"+"===o||o>=0)&&(r=N(r)),0===r&&(r=null),n[t]=r}}),n}function N(e){var t=0,r=e.split(/\s*,\s*/);return V(r,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function L(e){return 0===e||null!=e}function R(e,t){var r=O,n=e+"s";return t?r+=te:n+=" linear all",[r,n]}function _(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var r=e[t];return r?r.total:0},get:function(t){var r=e[t];return r&&r.value},put:function(t,r){e[t]?e[t].total++:e[t]={total:1,value:r}}}}function k(e,t,r){V(r,function(r){e[r]=W(e[r])?e[r]:t.style.getPropertyValue(r)})}var O,P,D,F,j=1,M="-add",$="-remove",B="ng-",U="ng-animate",G="$$ngAnimateChildren";void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?("-webkit-",O="WebkitTransition",P="webkitTransitionEnd transitionend"):(O="transition",P="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?("-webkit-",D="WebkitAnimation",F="webkitAnimationEnd animationend"):(D="animation",F="animationend");var H,q,V,Q,W,z,X,Y,K,J,Z,ee,te="Duration",re="TimingFunction",ne="PlayState",ie=D+"Delay",oe=D+te,se=O+"Delay",ae=O+te,ue=t.$$minErr("ng"),le=["$$rAF",function(e){function t(e){n=n.concat(e),r()}function r(){if(n.length){for(var t=n.shift(),o=0;o<t.length;o++)t[o]();i||e(function(){i||r()})}}var n,i;return n=t.queue=[],t.waitUntilQuiet=function(t){i&&i(),i=e(function(){i=null,t(),r()})},t}],ce=["$interpolate",function(e){return{link:function(t,r,n){function i(e){e="on"===e||"true"===e,r.data(G,e)}var o=n.ngAnimateChildren;K(o)&&0===o.length?r.data(G,!0):(i(e(o)(t)),n.$observe("ngAnimateChildren",i))}}}],pe="$$animateCss",fe=1e3,de=3,he=1.5,ve={transitionDuration:ae,transitionDelay:se,transitionProperty:O+"Property",animationDuration:oe,animationDelay:ie,animationIterationCount:D+"IterationCount"},ge={transitionDuration:ae,transitionDelay:se,animationDuration:oe,animationDelay:ie},me=["$animateProvider",function(e){var t=_(),r=_();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,n,a,u,l,c,g,m){function b(e,t){var r="$$ngAnimateParentKey",n=e.parentNode;return(n[r]||(n[r]=++U))+"-"+e.getAttribute("class")+"-"+t}function E(r,n,i,o){var s=t.get(i);return s||(s=A(e,r,o),"infinite"===s.animationIterationCount&&(s.animationIterationCount=1)),t.put(i,s),s}function I(i,s,a,u){var l;if(t.count(a)>0&&!(l=r.get(a))){var c=o(s,"-stagger");n.addClass(i,c),l=A(e,i,u),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),n.removeClass(i,c),r.put(a,l)}return l||{}}function N(e){G.push(e),g.waitUntilQuiet(function(){t.flush(),r.flush();for(var e=l(),n=0;n<G.length;n++)G[n](e);G.length=0})}function _(e,t,r){var n=E(e,t,r,ve),i=n.animationDelay,o=n.transitionDelay;return n.maxDelay=i&&o?Math.max(i,o):i||o,n.maxDuration=Math.max(n.animationDuration*n.animationIterationCount,n.transitionDuration),n}var j=p(n),U=0,G=[];return function(e,r){function l(){g()}function p(){g(!0)}function g(t){if(!(X||K&&Y)){X=!0,Y=!1,q.$$skipPreparationClasses||n.removeClass(e,Ee),n.removeClass(e,Se),S(z,!1),x(z,!1),V(ae,function(e){z.style[e[0]]=""}),j(e,q),d(e,q),Object.keys(W).length&&V(W,function(e,t){e?z.style.setProperty(t,e):z.style.removeProperty(t)}),q.onDone&&q.onDone(),ce&&ce.length&&e.off(ce.join(" "),U);var r=e.data(pe);r&&(u.cancel(r[0].timer),e.removeData(pe)),J&&J.complete(!t)}}function E(e){De.blockTransition&&x(z,e),De.blockKeyframeAnimation&&S(z,!!e)}function A(){return J=new a({end:l,cancel:p}),N(ee),g(),{$$willAnimate:!1,start:function(){return J},end:l}}function U(e){e.stopPropagation();var t=e.originalEvent||e,r=t.$manualTimeStamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(de));Math.max(r-se,0)>=ne&&n>=ie&&(K=!0,g())}function G(){function t(){if(!X){if(E(!1),V(ae,function(e){var t=e[0],r=e[1];z.style[t]=r}),j(e,q),n.addClass(e,Se),De.recalculateTimingStyles){if(xe=z.getAttribute("class")+" "+Ee,Ie=b(z,xe),Oe=_(z,xe,Ie),Pe=Oe.maxDelay,te=Math.max(Pe,0),0===(ie=Oe.maxDuration))return void g();De.hasTransitions=Oe.transitionDuration>0,De.hasAnimations=Oe.animationDuration>0}if(De.applyAnimationDelay&&(Pe="boolean"!=typeof q.delay&&L(q.delay)?parseFloat(q.delay):Pe,te=Math.max(Pe,0),Oe.animationDelay=Pe,Fe=C(Pe,!0),ae.push(Fe),z.style[Fe[0]]=Fe[1]),ne=te*fe,oe=ie*fe,q.easing){var t,i=q.easing;De.hasTransitions&&(t=O+re,ae.push([t,i]),z.style[t]=i),De.hasAnimations&&(t=D+re,ae.push([t,i]),z.style[t]=i)}Oe.transitionDuration&&ce.push(P),Oe.animationDuration&&ce.push(F),se=Date.now();var o=ne+he*oe,s=se+o,a=e.data(pe)||[],l=!0;if(a.length){var c=a[0];l=s>c.expectedEndTime,l?u.cancel(c.timer):a.push(g)}if(l){var p=u(r,o,!1);a[0]={timer:p,expectedEndTime:s},a.push(g),e.data(pe,a)}ce.length&&e.on(ce.join(" "),U),q.to&&(q.cleanupStyles&&k(W,z,Object.keys(q.to)),v(e,q))}}function r(){var t=e.data(pe);if(t){for(var r=1;r<t.length;r++)t[r]();e.removeData(pe)}}if(!X){if(!z.parentNode)return void g();var i=function(e){if(K)Y&&e&&(Y=!1,g());else if(Y=!e,Oe.animationDuration){var t=S(z,Y);Y?ae.push(t):s(ae,t)}},o=_e>0&&(Oe.transitionDuration&&0===we.transitionDuration||Oe.animationDuration&&0===we.animationDuration)&&Math.max(we.animationDelay,we.transitionDelay);o?u(t,Math.floor(o*_e*fe),!1):t(),Z.resume=function(){i(!0)},Z.pause=function(){i(!1)}}}var q=r||{};q.$$prepared||(q=f(H(q)));var W={},z=y(e);if(!z||!z.parentNode||!m.enabled())return A();var X,Y,K,J,Z,te,ne,ie,oe,se,ae=[],ue=e.attr("class"),le=i(q),ce=[];if(0===q.duration||!c.animations&&!c.transitions)return A();var ve=q.event&&Q(q.event)?q.event.join(" "):q.event,me=ve&&q.structural,ye="",be="";me?ye=o(ve,B,!0):ve&&(ye=ve),q.addClass&&(be+=o(q.addClass,M)),q.removeClass&&(be.length&&(be+=" "),be+=o(q.removeClass,$)),q.applyClassesEarly&&be.length&&j(e,q);var Ee=[ye,be].join(" ").trim(),xe=ue+" "+Ee,Se=o(Ee,"-active"),Te=le.to&&Object.keys(le.to).length>0;if(!((q.keyframeStyle||"").length>0||Te||Ee))return A();var Ie,we;if(q.stagger>0){var Ce=parseFloat(q.stagger);we={transitionDelay:Ce,animationDelay:Ce,transitionDuration:0,animationDuration:0}}else Ie=b(z,xe),we=I(z,Ee,Ie,ge);q.$$skipPreparationClasses||n.addClass(e,Ee);var Ae;if(q.transitionStyle){var Ne=[O,q.transitionStyle];T(z,Ne),ae.push(Ne)}if(q.duration>=0){Ae=z.style[O].length>0;var Le=R(q.duration,Ae);T(z,Le),ae.push(Le)}if(q.keyframeStyle){var Re=[D,q.keyframeStyle];T(z,Re),ae.push(Re)}var _e=we?q.staggerIndex>=0?q.staggerIndex:t.count(Ie):0,ke=0===_e;ke&&!q.skipBlocking&&x(z,9999);var Oe=_(z,xe,Ie),Pe=Oe.maxDelay;te=Math.max(Pe,0),ie=Oe.maxDuration;var De={};if(De.hasTransitions=Oe.transitionDuration>0,De.hasAnimations=Oe.animationDuration>0,De.hasTransitionAll=De.hasTransitions&&"all"===Oe.transitionProperty,De.applyTransitionDuration=Te&&(De.hasTransitions&&!De.hasTransitionAll||De.hasAnimations&&!De.hasTransitions),De.applyAnimationDuration=q.duration&&De.hasAnimations,De.applyTransitionDelay=L(q.delay)&&(De.applyTransitionDuration||De.hasTransitions),De.applyAnimationDelay=L(q.delay)&&De.hasAnimations,De.recalculateTimingStyles=be.length>0,(De.applyTransitionDuration||De.applyAnimationDuration)&&(ie=q.duration?parseFloat(q.duration):ie,De.applyTransitionDuration&&(De.hasTransitions=!0,Oe.transitionDuration=ie,Ae=z.style[O+"Property"].length>0,ae.push(R(ie,Ae))),De.applyAnimationDuration&&(De.hasAnimations=!0,Oe.animationDuration=ie,ae.push(w(ie)))),0===ie&&!De.recalculateTimingStyles)return A();if(null!=q.delay){var Fe;"boolean"!=typeof q.delay&&(Fe=parseFloat(q.delay),te=Math.max(Fe,0)),De.applyTransitionDelay&&ae.push(C(Fe)),De.applyAnimationDelay&&ae.push(C(Fe,!0))}return null==q.duration&&Oe.transitionDuration>0&&(De.recalculateTimingStyles=De.recalculateTimingStyles||ke),ne=te*fe,oe=ie*fe,q.skipBlocking||(De.blockTransition=Oe.transitionDuration>0,De.blockKeyframeAnimation=Oe.animationDuration>0&&we.animationDelay>0&&0===we.animationDuration),q.from&&(q.cleanupStyles&&k(W,z,Object.keys(q.from)),h(e,q)),De.blockTransition||De.blockKeyframeAnimation?E(ie):q.skipBlocking||x(z,!1),{$$willAnimate:!0,end:l,start:function(){if(!X)return Z={end:l,cancel:p,resume:null,pause:null},J=new a(Z),N(G),J}}}}]}],ye=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var r="ng-animate-shim",n="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,i,o,s,a,u,l){function c(e){return e.replace(/\bng-\S+\b/g,"")}function p(e,t){return K(e)&&(e=e.split(" ")),K(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function f(t,i,s){function a(e){var t={},r=y(e).getBoundingClientRect();return V(["width","height","top","left"],function(e){var n=r[e];switch(e){case"top":n+=v.scrollTop;break;case"left":n+=v.scrollLeft}t[e]=Math.floor(n)+"px"}),t}function u(e){return e.attr("class")||""}function l(){var t=c(u(s)),r=p(t,h),i=p(h,t),o=e(d,{to:a(s),addClass:"ng-anchor-in "+r,removeClass:n+" "+i,delay:!0});return o.$$willAnimate?o:null}function f(){d.remove(),i.removeClass(r),s.removeClass(r)}var d=Z(y(i).cloneNode(!0)),h=c(u(d));i.addClass(r),s.addClass(r),d.addClass("ng-anchor"),m.append(d);var g,b=function(){var t=e(d,{addClass:n,delay:!0,from:a(i)});return t.$$willAnimate?t:null}();if(!b&&!(g=l()))return f();var E=b||g;return{start:function(){function e(){r&&r.end()}var t,r=E.start();return r.done(function(){if(r=null,!g&&(g=l()))return r=g.start(),r.done(function(){r=null,f(),t.complete()}),r;f(),t.complete()}),t=new o({end:e,cancel:e})}}}function d(e,t,r,n){var i=h(e),s=h(t),a=[];if(V(n,function(e){var t=e.out,n=e.in,i=f(r,t,n);i&&a.push(i)}),i||s||0!==a.length)return{start:function(){function e(){V(t,function(e){e.end()})}var t=[];i&&t.push(i.start()),s&&t.push(s.start()),V(a,function(e){t.push(e.start())});var r=new o({end:e,cancel:e});return o.all(t,function(e){r.complete(e)}),r}}}function h(t){var r=t.element,n=t.options||{};t.structural&&(n.event=t.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===t.event&&(n.onDone=n.domOperation)),n.preparationClasses&&(n.event=I(n.event,n.preparationClasses));var i=e(r,n);return i.$$willAnimate?i:null}if(!a.animations&&!a.transitions)return ee;var v=l[0].body,g=y(s),m=Z(t(g)||v.contains(g)?g:v);return function(e){return e.from&&e.to?d(e.from,e.to,e.classes,e.anchors):h(e)}}]}],be=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,r,n){function i(r){r=Q(r)?r:r.split(" ");for(var n=[],i={},o=0;o<r.length;o++){var s=r[o],a=e.$$registeredAnimations[s];a&&!i[s]&&(n.push(t.get(a)),i[s]=!0)}return n}var o=p(n);return function(e,t,n,s){function a(){s.domOperation(),o(e,s)}function u(){h=!0,a(),d(e,s)}function l(e,t,n,i,o){var s;switch(n){case"animate":s=[t,i.from,i.to,o];break;case"setClass":s=[t,m,y,o];break;case"addClass":s=[t,m,o];break;case"removeClass":s=[t,y,o];break;default:s=[t,o]}s.push(i);var a=e.apply(e,s);if(a)if(X(a.start)&&(a=a.start()),a instanceof r)a.done(o);else if(X(a))return a;return ee}function c(e,t,n,i,o){var s=[];return V(i,function(i){var a=i[o];a&&s.push(function(){var i,o,s=!1,u=function(e){s||(s=!0,(o||ee)(e),i.complete(!e))};return i=new r({end:function(){u()},cancel:function(){u(!0)}}),o=l(a,e,t,n,function(e){u(!1===e)}),i})}),s}function p(e,t,n,i,o){var s=c(e,t,n,i,o);if(0===s.length){var a,u;"beforeSetClass"===o?(a=c(e,"removeClass",n,i,"beforeRemoveClass"),u=c(e,"addClass",n,i,"beforeAddClass")):"setClass"===o&&(a=c(e,"removeClass",n,i,"removeClass"),u=c(e,"addClass",n,i,"addClass")),a&&(s=s.concat(a)),u&&(s=s.concat(u))}if(0!==s.length)return function(e){var t=[];return s.length&&V(s,function(e){t.push(e())}),t.length?r.all(t,e):e(),function(e){V(t,function(t){e?t.cancel():t.end()})}}}var h=!1;3===arguments.length&&Y(n)&&(s=n,n=null),s=f(s),n||(n=e.attr("class")||"",s.addClass&&(n+=" "+s.addClass),s.removeClass&&(n+=" "+s.removeClass));var v,g,m=s.addClass,y=s.removeClass,b=i(n);if(b.length){var E,x;"leave"===t?(x="leave",E="afterLeave"):(x="before"+t.charAt(0).toUpperCase()+t.substr(1),E=t),"enter"!==t&&"move"!==t&&(v=p(e,t,s,b,x)),g=p(e,t,s,b,E)}if(v||g){var S;return{$$willAnimate:!0,end:function(){return S?S.end():(u(),S=new r,S.complete(!0)),S},start:function(){function e(e){u(e),S.complete(e)}function t(t){h||((n||ee)(t),e(t))}if(S)return S;S=new r;var n,i=[];return v&&i.push(function(e){n=v(e)}),i.length?i.push(function(e){a(),e(!0)}):a(),g&&i.push(function(e){n=g(e)}),S.setHost({end:function(){t()},cancel:function(){t(!0)}}),r.chain(i,e),S}}}}}]}],Ee=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function r(t){var r=t.element,n=t.event,i=t.options,o=t.classes;return e(r,n,o,i)}return function(e){if(e.from&&e.to){var n=r(e.from),i=r(e.to);if(!n&&!i)return;return{start:function(){function e(){return function(){V(o,function(e){e.end()})}}function r(e){s.complete(e)}var o=[];n&&o.push(n.start()),i&&o.push(i.start()),t.all(o,r);var s=new t({end:e(),cancel:e()});return s}}}return r(e)}}]}],xe="data-ng-animate",Se="$ngAnimatePin",Te=["$animateProvider",function(t){function n(e){if(!e)return null;var t=e.split(h),r=Object.create(null);return V(t,function(e){r[e]=!0}),r}function i(e,t){if(e&&t){var r=n(t);return e.split(h).some(function(e){return r[e]})}}function o(e,t,r){return v[e].some(function(e){return e(t,r)})}function s(e,t){var r=(e.addClass||"").length>0,n=(e.removeClass||"").length>0;return t?r&&n:r||n}var l=1,c=2,h=" ",v=this.rules={skip:[],cancel:[],join:[]};v.join.push(function(e,t){return!e.structural&&s(e)}),v.skip.push(function(e,t){return!e.structural&&!s(e)}),v.skip.push(function(e,t){return"leave"===t.event&&e.structural}),v.skip.push(function(e,t){return t.structural&&t.state===c&&!e.structural}),v.cancel.push(function(e,t){return t.structural&&e.structural}),v.cancel.push(function(e,t){return t.state===c&&e.structural}),v.cancel.push(function(e,t){if(t.structural)return!1;var r=e.addClass,n=e.removeClass,o=t.addClass,s=t.removeClass;return!(J(r)&&J(n)||J(o)&&J(s))&&(i(r,s)||i(n,o))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(n,i,h,v,m,x,S,T,I,w,C){function A(){var e=!1;return function(t){e?t():i.$$postDigest(function(){e=!0,t()})}}function N(e,t){return g(e,t,{})}function L(e,t,r){var n=[],i=X[r];return i&&V(i,function(i){ne.call(i.node,t)?n.push(i.callback):"leave"===r&&ne.call(i.node,e)&&n.push(i.callback)}),n}function R(e,t,r){var n=u(t);return e.filter(function(e){return!(e.node===n&&(!r||e.callback===r))})}function _(e,t){"close"!==e||t.parentNode||ie.off(t)}function k(e,t,r){function u(e,t,r,i){w(function(){var e=L(T,m,t);e.length?n(function(){V(e,function(e){e(v,r,i)}),_(r,m)}):_(r,m)}),e.progress(t,r,i)}function p(e){E(v,h),re(v,h),d(v,h),h.domOperation(),I.complete(!e)}var h=H(r),v=a(e),m=y(v),T=m&&m.parentNode;h=f(h);var I=new S,w=A();if(Q(h.addClass)&&(h.addClass=h.addClass.join(" ")),h.addClass&&!K(h.addClass)&&(h.addClass=null),Q(h.removeClass)&&(h.removeClass=h.removeClass.join(" ")),h.removeClass&&!K(h.removeClass)&&(h.removeClass=null),h.from&&!Y(h.from)&&(h.from=null),h.to&&!Y(h.to)&&(h.to=null),!m)return p(),I;var R=[m.getAttribute("class"),h.addClass,h.removeClass].join(" ");if(!te(R))return p(),I;var k=["enter","move","leave"].indexOf(t)>=0,j=C(),U=!B||j||$.get(m),G=!U&&M.get(m)||{},q=!!G.state;if(U||q&&G.state===l||(U=!D(m,T,t)),U)return j&&u(I,t,"start"),p(),j&&u(I,t,"close"),I;k&&O(m);var W={structural:k,element:v,event:t,addClass:h.addClass,removeClass:h.removeClass,close:p,options:h,runner:I};if(q){if(o("skip",W,G))return G.state===c?(p(),I):(g(v,G,W),G.runner);if(o("cancel",W,G))if(G.state===c)G.runner.end();else{if(!G.structural)return g(v,G,W),G.runner;G.close()}else{if(o("join",W,G)){if(G.state!==c)return b(v,k?t:null,h),t=W.event=G.event,h=g(v,G,W),G.runner;N(v,W)}}}else N(v,W);var z=W.structural;if(z||(z="animate"===W.event&&Object.keys(W.options.to||{}).length>0||s(W)),!z)return p(),P(m),I;var X=(G.counter||0)+1;return W.counter=X,F(m,l,W),i.$$postDigest(function(){v=a(e);var r=M.get(m),n=!r;r=r||{};var i=v.parent()||[],o=i.length>0&&("animate"===r.event||r.structural||s(r));if(n||r.counter!==X||!o)return n&&(re(v,h),d(v,h)),(n||k&&r.event!==t)&&(h.domOperation(),I.end()),void(o||P(m));t=!r.structural&&s(r,!0)?"setClass":r.event,F(m,c);var l=x(v,t,r.options);I.setHost(l),u(I,t,"start",{}),l.done(function(e){p(!e);var r=M.get(m);r&&r.counter===X&&P(m),u(I,t,"close",{})})}),I}function O(e){var t=e.querySelectorAll("["+xe+"]");V(t,function(e){var t=parseInt(e.getAttribute(xe),10),r=M.get(e);if(r)switch(t){case c:r.runner.end();case l:M.delete(e)}})}function P(e){e.removeAttribute(xe),M.delete(e)}function D(e,t,r){var n,i=v[0].body,o=y(h),s=e===i||"HTML"===e.nodeName,a=e===o,u=!1,l=$.get(e),c=Z.data(e,Se);for(c&&(t=y(c));t&&(a||(a=t===o),t.nodeType===j);){var p=M.get(t)||{};if(!u){var f=$.get(t);if(!0===f&&!1!==l){l=!0;break}!1===f&&(l=!1),u=p.structural}if(J(n)||!0===n){var d=Z.data(t,G);W(d)&&(n=d)}if(u&&!1===n)break;if(s||(s=t===i),s&&a)break;t=a||!(c=Z.data(t,Se))?t.parentNode:y(c)}return(!u||n)&&!0!==l&&a&&s}function F(e,t,r){r=r||{},r.state=t,e.setAttribute(xe,t);var n=M.get(e),i=n?q(n,r):r;M.set(e,i)}var M=new m,$=new m,B=null,U=i.$watch(function(){return 0===T.totalPendingRequests},function(e){e&&(U(),i.$$postDigest(function(){i.$$postDigest(function(){null===B&&(B=!0)})}))}),X=Object.create(null),ee=t.classNameFilter(),te=ee?function(e){return ee.test(e)}:function(){return!0},re=p(I),ne=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},ie={on:function(e,t,r){var n=u(t);X[e]=X[e]||[],X[e].push({node:n,callback:r}),Z(t).on("$destroy",function(){M.get(n)||ie.off(e,t,r)})},off:function(e,t,r){if(1!==arguments.length||K(arguments[0])){var n=X[e];n&&(X[e]=1===arguments.length?null:R(n,t,r))}else{t=arguments[0];for(var i in X)X[i]=R(X[i],t)}},pin:function(e,t){r(z(e),"element","not an element"),r(z(t),"parentElement","not an element"),e.data(Se,t)},push:function(e,t,r,n){return r=r||{},r.domOperation=n,k(e,t,r)},enabled:function(e,t){var r=arguments.length;if(0===r)t=!!B;else{if(z(e)){var n=y(e);1===r?t=!$.get(n):$.set(n,!t)}else t=B=!!e}return t}};return ie}]}],Ie=["$animateProvider",function(e){function t(e,t){e.data(a,t)}function r(e){e.removeData(a)}function i(e){return e.data(a)}var o="ng-animate-ref",s=this.drivers=[],a="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(e,a,u,l,c,h){function v(e){function t(e){if(e.processed)return e;e.processed=!0;var r=e.domNode,o=r.parentNode;i.set(r,e);for(var s;o;){if(s=i.get(o)){s.processed||(s=t(s));break}o=o.parentNode}return(s||n).children.push(e),e}var r,n={children:[]},i=new c;for(r=0;r<e.length;r++){var o=e[r];i.set(o.domNode,e[r]={domNode:o.domNode,fn:o.fn,children:[]})}for(r=0;r<e.length;r++)t(e[r]);return function(e){var t,r=[],n=[];for(t=0;t<e.children.length;t++)n.push(e.children[t]);var i=n.length,o=0,s=[];for(t=0;t<n.length;t++){var a=n[t];i<=0&&(i=o,o=0,r.push(s),s=[]),s.push(a.fn),a.children.forEach(function(e){o++,n.push(e)}),i--}return s.length&&r.push(s),r}(n)}var g=[],m=p(e);return function(c,p,b){function E(e){var t="["+o+"]",r=e.hasAttribute(o)?[e]:e.querySelectorAll(t),n=[];return V(r,function(e){var t=e.getAttribute(o);t&&t.length&&n.push(e)}),n}function x(e){var t=[],r={};V(e,function(e,n){var i=e.element,s=y(i),a=e.event,u=["enter","move"].indexOf(a)>=0,l=e.structural?E(s):[];if(l.length){var c=u?"to":"from";V(l,function(e){var t=e.getAttribute(o);r[t]=r[t]||{},r[t][c]={animationID:n,element:Z(e)}})}else t.push(e)});var n={},i={};return V(r,function(r,o){var s=r.from,a=r.to;if(!s||!a){var u=s?s.animationID:a.animationID,l=u.toString();return void(n[l]||(n[l]=!0,t.push(e[u])))}var c=e[s.animationID],p=e[a.animationID],f=s.animationID.toString();if(!i[f]){var d=i[f]={structural:!0,beforeStart:function(){c.beforeStart(),p.beforeStart()},close:function(){c.close(),p.close()},classes:S(c.classes,p.classes),from:c,to:p,anchors:[]};d.classes.length?t.push(d):(t.push(c),t.push(p))}i[f].anchors.push({out:s.element,in:a.element})}),t}function S(e,t){e=e.split(" "),t=t.split(" ");for(var r=[],n=0;n<e.length;n++){var i=e[n];if("ng-"!==i.substring(0,3))for(var o=0;o<t.length;o++)if(i===t[o]){r.push(i);break}}return r.join(" ")}function T(e){for(var t=s.length-1;t>=0;t--){var r=s[t],n=u.get(r),i=n(e);if(i)return i}}function I(){c.addClass(U),_&&e.addClass(c,_),k&&(e.removeClass(c,k),k=null)}function w(e,t){function r(e){var r=i(e);r&&r.setHost(t)}e.from&&e.to?(r(e.from.element),r(e.to.element)):r(e.element)}function C(){var e=i(c);!e||"leave"===p&&b.$$domOperationFired||e.end()}function A(t){c.off("$destroy",C),r(c),m(c,b),d(c,b),b.domOperation(),_&&e.removeClass(c,_),c.removeClass(U),L.complete(!t)}b=f(b);var N=["enter","move","leave"].indexOf(p)>=0,L=new l({end:function(){A()},cancel:function(){A(!0)}});if(!s.length)return A(),L;t(c,L);var R=n(c.attr("class"),n(b.addClass,b.removeClass)),_=b.tempClasses;_&&(R+=" "+_,b.tempClasses=null);var k;return N&&(k="ng-"+p+"-prepare",e.addClass(c,k)),g.push({element:c,classes:R,event:p,structural:N,options:b,beforeStart:I,close:A}),c.on("$destroy",C),g.length>1?L:(a.$$postDigest(function(){var e=[];V(g,function(t){i(t.element)?e.push(t):t.close()}),g.length=0;var t=x(e),r=[];V(t,function(e){r.push({domNode:y(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,r=e.close;if(i(e.anchors?e.from.element||e.to.element:e.element)){var n=T(e);n&&(t=n.start)}if(t){var o=t();o.done(function(e){r(!e)}),w(e,o)}else r()}})}),h(v(r))}),L)}}]}],we=["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,r,n,i,o){var s,a;t.$watchCollection(n.ngAnimateSwap||n.for,function(n){s&&e.leave(s),a&&(a.$destroy(),a=null),(n||0===n)&&(a=t.$new(),o(a,function(t){s=t,e.enter(t,null,r)}))})}}}];t.module("ngAnimate",[],function(){ee=t.noop,H=t.copy,q=t.extend,Z=t.element,V=t.forEach,Q=t.isArray,K=t.isString,Y=t.isObject,J=t.isUndefined,W=t.isDefined,X=t.isFunction,z=t.isElement}).info({angularVersion:"1.6.4"}).directive("ngAnimateSwap",we).directive("ngAnimateChildren",ce).factory("$$rAFScheduler",le).provider("$$animateQueue",Te).provider("$$animation",Ie).provider("$animateCss",me).provider("$$animateCssDriver",ye).provider("$$animateJs",be).provider("$$animateJsDriver",Ee)}(window,window.angular)},function(e,t){!function(){"use strict";function e(e,t,r,n,i,o,s){function a(){return x.length}function u(e){if(1!==arguments.length||e)if(e)h(e.toastId);else for(var t=0;t<x.length;t++)h(x[t].toastId)}function l(e,t,r){return v(g().iconClasses.error,e,t,r)}function c(e,t,r){return v(g().iconClasses.info,e,t,r)}function p(e,t,r){return v(g().iconClasses.success,e,t,r)}function f(e,t,r){return v(g().iconClasses.warning,e,t,r)}function d(e,t){e&&e.isOpened&&x.indexOf(e)>=0&&e.scope.refreshTimer(t)}function h(t,r){function n(){return!x.length}var i=function(e){for(var t=0;t<x.length;t++)if(x[t].toastId===e)return x[t]}(t);i&&!i.deleting&&(i.deleting=!0,i.isOpened=!1,e.leave(i.el).then(function(){i.scope.options.onHidden&&i.scope.options.onHidden(!!r,i),i.scope.$destroy();var e=x.indexOf(i);delete T[i.scope.message],x.splice(e,1);var t=o.maxOpened;t&&x.length>=t&&x[t-1].open.resolve(),n()&&(b.remove(),b=null,I=s.defer())}))}function v(e,t,r,n){return angular.isObject(r)&&(n=r,r=null),y({iconClass:e,message:t,optionsOverride:n,title:r})}function g(){return angular.extend({},o)}function m(t){if(b)return I.promise;b=angular.element("<div></div>"),b.attr("id",t.containerId),b.addClass(t.positionClass),b.css({"pointer-events":"auto"});var r=angular.element(document.querySelector(t.target));if(!r||!r.length)throw"Target for toasts doesn't exist";return e.enter(b,r).then(function(){I.resolve()}),I.promise}function y(r){function o(e,t,r){function n(t){if(r[t])return function(){r[t](e)}}r.allowHtml?(e.scope.allowHtml=!0,e.scope.title=i.trustAsHtml(t.title),e.scope.message=i.trustAsHtml(t.message)):(e.scope.title=t.title,e.scope.message=t.message),e.scope.toastType=e.iconClass,e.scope.toastId=e.toastId,e.scope.extraData=r.extraData,e.scope.options={extendedTimeOut:r.extendedTimeOut,messageClass:r.messageClass,onHidden:r.onHidden,onShown:n("onShown"),onTap:n("onTap"),progressBar:r.progressBar,tapToDismiss:r.tapToDismiss,timeOut:r.timeOut,titleClass:r.titleClass,toastClass:r.toastClass},r.closeButton&&(e.scope.options.closeHtml=r.closeHtml)}function a(e){var r=angular.element("<div toast></div>");return t.get("$compile")(r)(e)}var u=g();if(!function(){var e=u.preventDuplicates&&r.message===S,t=u.preventOpenDuplicates&&T[r.message];return!(!e&&!t)||(S=r.message,T[r.message]=!0,!1)}()){var l=function(){var e={toastId:E++,isOpened:!1,scope:n.$new(),open:s.defer()};return e.iconClass=r.iconClass,r.optionsOverride&&(angular.extend(u,function(e){for(var t=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],r=0,n=t.length;r<n;r++)delete e[t[r]];return e}(r.optionsOverride)),e.iconClass=r.optionsOverride.iconClass||e.iconClass),o(e,r,u),e.el=a(e.scope),e}();if(x.push(l),function(){return u.autoDismiss&&u.maxOpened&&x.length>u.maxOpened}())for(var c=x.slice(0,x.length-u.maxOpened),p=0,f=c.length;p<f;p++)h(c[p].toastId);return function(){return u.maxOpened&&x.length<=u.maxOpened||!u.maxOpened}()&&l.open.resolve(),l.open.promise.then(function(){m(u).then(function(){if(l.isOpened=!0,u.newestOnTop)e.enter(l.el,b).then(function(){l.scope.init()});else{var t=b[0].lastChild?angular.element(b[0].lastChild):null;e.enter(l.el,b,t).then(function(){l.scope.init()})}})}),l}}var b,E=0,x=[],S="",T={},I=s.defer();return{active:a,clear:u,error:l,info:c,remove:h,success:p,warning:f,refreshTimer:d}}angular.module("toastr",[]).factory("toastr",e),e.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,onTap:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function e(e){function t(e,t,r,n){function i(){var e=(a-(new Date).getTime())/s*100;t.css("width",e+"%")}var o,s,a;n.progressBar=e,e.start=function(e){o&&clearInterval(o),s=parseFloat(e),a=(new Date).getTime()+s,o=setInterval(i,10)},e.stop=function(){o&&clearInterval(o)},e.$on("$destroy",function(){clearInterval(o)})}return{require:"^toast",templateUrl:function(){return e.templates.progressbar},link:t}}angular.module("toastr").directive("progressBar",e),e.$inject=["toastrConfig"]}(),function(){"use strict";function e(){this.progressBar=null,this.startProgressBar=function(e){this.progressBar&&this.progressBar.start(e)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",e)}(),function(){"use strict";function e(e,t,r,n){function i(r,i,o,s){function a(e){return s.startProgressBar(e),t(function(){s.stopProgressBar(),n.remove(r.toastId)},e,1)}function u(){r.progressBar=!1,s.stopProgressBar()}var l;if(r.toastClass=r.options.toastClass,r.titleClass=r.options.titleClass,r.messageClass=r.options.messageClass,r.progressBar=r.options.progressBar,function(){return r.options.closeHtml}()){var c=angular.element(r.options.closeHtml),p=e.get("$compile");c.addClass("toast-close-button"),c.attr("ng-click","close(true, $event)"),p(c)(r),i.children().prepend(c)}r.init=function(){r.options.timeOut&&(l=a(r.options.timeOut)),r.options.onShown&&r.options.onShown()},i.on("mouseenter",function(){u(),l&&t.cancel(l)}),r.tapToast=function(){angular.isFunction(r.options.onTap)&&r.options.onTap(),r.options.tapToDismiss&&r.close(!0)},r.close=function(e,t){t&&angular.isFunction(t.stopPropagation)&&t.stopPropagation(),n.remove(r.toastId,e)},r.refreshTimer=function(e){l&&(t.cancel(l),l=a(e||r.options.timeOut))},i.on("mouseleave",function(){0===r.options.timeOut&&0===r.options.extendedTimeOut||(r.$apply(function(){r.progressBar=r.options.progressBar}),l=a(r.options.extendedTimeOut))})}return{templateUrl:function(){return r.templates.toast},controller:"ToastController",link:i}}angular.module("toastr").directive("toast",e),e.$inject=["$injector","$interval","toastrConfig","toastr"]}(),angular.module("toastr").run(["$templateCache",function(e){e.put("directives/progressbar/progressbar.html",'<div class="toast-progress"></div>\n'),e.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title}}">{{title}}</div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message}}">{{message}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\n  </div>\n  <progress-bar ng-if="progressBar"></progress-bar>\n</div>\n')}])},function(e,t){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,r,n){var i=n.has("$animateCss")?n.get("$animateCss"):null;return{link:function(n,o,s){function a(e){return g?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function u(){o.hasClass("collapse")&&o.hasClass("in")||t.resolve(f(n)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(o,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:a(o[0])}).start().finally(l):e.addClass(o,"in",{css:{overflow:"hidden"},to:a(o[0])}).then(l)},angular.noop)}function l(){o.removeClass("collapsing").addClass("collapse").css(m),d(n)}function c(){if(!o.hasClass("collapse")&&!o.hasClass("in"))return p();t.resolve(h(n)).then(function(){o.css(a(o[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),i?i(o,{removeClass:"in",to:y}).start().finally(p):e.removeClass(o,"in",{to:y}).then(p)},angular.noop)}function p(){o.css(y),o.removeClass("collapsing").addClass("collapse"),v(n)}var f=r(s.expanding),d=r(s.expanded),h=r(s.collapsing),v=r(s.collapsed),g=!1,m={},y={};!function(){g=!!("horizontal"in s),g?(m={width:""},y={width:"0"}):(m={height:""},y={height:"0"}),n.$eval(s.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(m)}(),n.$watch(s.uibCollapse,function(e){e?c():u()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,r){r.$observe("disabled",function(e){r.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,r){this.groups=[],this.closeOthers=function(n){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):r.closeOthers)&&angular.forEach(this.groups,function(e){e!==n&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(r){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,r,n){t.addClass("panel"),n.addGroup(e),e.openClass=r.openClass||"panel-open",e.panelClass=r.panelClass||"panel-default",e.$watch("isOpen",function(r){t.toggleClass(e.openClass,!!r),r&&n.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var i="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=i+"-tab",e.panelId=i+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,r,n,i){n.setHeading(i(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(e,t,r,n){e.$watch(function(){return n[r.uibAccordionTransclude]},function(e){if(e){var r=angular.element(t[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));r.html(""),r.append(e)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,r,n,i){e.closeable=!!r.close,t.addClass("alert"),r.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var o=angular.isDefined(r.dismissOnTimeout)?n(r.dismissOnTimeout)(e.$parent):null;o&&i(function(){e.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,r,n,i){var o=i[0],s=i[1],a=e(n.uibUncheckable);r.find("input").css({display:"none"}),s.$render=function(){r.toggleClass(o.activeClass,angular.equals(s.$modelValue,t.$eval(n.uibBtnRadio)))},r.on(o.toggleEvent,function(){if(!n.disabled){var e=r.hasClass(o.activeClass);e&&!angular.isDefined(n.uncheckable)||t.$apply(function(){s.$setViewValue(e?null:t.$eval(n.uibBtnRadio)),s.$render()})}}),n.uibUncheckable&&t.$watch(a,function(e){n.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,r,n){function i(){return s(r.btnCheckboxTrue,!0)}function o(){return s(r.btnCheckboxFalse,!1)}function s(t,r){return angular.isDefined(t)?e.$eval(t):r}var a=n[0],u=n[1];t.find("input").css({display:"none"}),u.$render=function(){t.toggleClass(a.activeClass,angular.equals(u.$modelValue,i()))},t.on(a.toggleEvent,function(){r.disabled||e.$apply(function(){u.$setViewValue(t.hasClass(a.activeClass)?o():i()),u.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,r,n,i){function o(e){for(var t=0;t<v.length;t++)v[t].slide.active=t===e}function s(r,n,s){if(!y){if(angular.extend(r,{direction:s}),angular.extend(v[m].slide||{},{direction:s}),i.enabled(t)&&!e.$currentTransition&&v[n].element&&h.slides.length>1){v[n].element.data(g,r.direction);var a=h.getCurrentIndex();angular.isNumber(a)&&v[a].element&&v[a].element.data(g,r.direction),e.$currentTransition=!0,i.on("addClass",v[n].element,function(t,r){"close"===r&&(e.$currentTransition=null,i.off("addClass",t))})}e.active=r.index,m=r.index,o(n),c()}}function a(e){for(var t=0;t<v.length;t++)if(v[t].slide===e)return t}function u(){f&&(r.cancel(f),f=null)}function l(t){t.length||(e.$currentTransition=null)}function c(){u();var t=+e.interval;!isNaN(t)&&t>0&&(f=r(p,t))}function p(){var t=+e.interval;d&&!isNaN(t)&&t>0&&v.length?e.next():e.pause()}var f,d,h=this,v=h.slides=e.slides=[],g="uib-slideDirection",m=e.active,y=!1;t.addClass("carousel"),h.addSlide=function(t,r){v.push({slide:t,element:r}),v.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===v.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),m=t.index,e.active=t.index,o(m),h.select(v[a(t)]),1===v.length&&e.play())},h.getCurrentIndex=function(){for(var e=0;e<v.length;e++)if(v[e].slide.index===m)return e},h.next=e.next=function(){var t=(h.getCurrentIndex()+1)%v.length;return 0===t&&e.noWrap()?void e.pause():h.select(v[t],"next")},h.prev=e.prev=function(){var t=h.getCurrentIndex()-1<0?v.length-1:h.getCurrentIndex()-1;return e.noWrap()&&t===v.length-1?void e.pause():h.select(v[t],"prev")},h.removeSlide=function(t){var r=a(t);v.splice(r,1),v.length>0&&m===r?r>=v.length?(m=v.length-1,e.active=m,o(m),h.select(v[v.length-1])):(m=r,e.active=m,o(m),h.select(v[r])):m>r&&(m--,e.active=m),0===v.length&&(m=null,e.active=null)},h.select=e.select=function(t,r){var n=a(t.slide);void 0===r&&(r=n>h.getCurrentIndex()?"next":"prev"),t.slide.index===m||e.$currentTransition||s(t.slide,n,r)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===v.length-1&&e.noWrap()},e.pause=function(){e.noPause||(d=!1,u())},e.play=function(){d||(d=!0,c())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",function(){y=!0,u()}),e.$watch("noTransition",function(e){i.enabled(t,!e)}),e.$watch("interval",c),e.$watchCollection("slides",l),e.$watch("active",function(e){if(angular.isNumber(e)&&m!==e){for(var t=0;t<v.length;t++)if(v[t].slide.index===e){e=t;break}v[e]&&(o(e),h.select(v[e]),m=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,r,n,i){r.addClass("item"),i.addSlide(t,r),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(t){e[t?"addClass":"removeClass"](r,"active")})}}}]).animation(".item",["$animateCss",function(e){function t(e,t,r){e.removeClass(t),r&&r()}return{beforeAddClass:function(r,n,i){if("active"===n){var o=!1,s=r.data("uib-slideDirection"),a="next"===s?"left":"right",u=t.bind(this,r,a+" "+s,i);return r.addClass(s),e(r,{addClass:a}).start().done(u),function(){o=!0}}i()},beforeRemoveClass:function(r,n,i){if("active"===n){var o=!1,s=r.data("uib-slideDirection"),a="next"===s?"left":"right",u=t.bind(this,r,a,i);return e(r,{addClass:a}).start().done(u),function(){o=!0}}i()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(e,t,r,n,i){function o(e){return i(y,{key:e},!0)[0]}function s(e){var t=[],r=e.split(""),i=e.indexOf("'");if(i>-1){var o=!1;e=e.split("");for(var s=i;s<e.length;s++)o?("'"===e[s]&&(s+1<e.length&&"'"===e[s+1]?(e[s+1]="$",r[s+1]=""):(r[s]="",o=!1)),e[s]="$"):"'"===e[s]&&(e[s]="$",r[s]="",o=!0);e=e.join("")}return angular.forEach(y,function(n){var i=e.indexOf(n.key);if(i>-1){e=e.split(""),r[i]="("+n.regex+")",e[i]="$";for(var o=i+1,s=i+n.key.length;o<s;o++)r[o]="",e[o]="$";e=e.join(""),t.push({index:i,key:n.key,apply:n.apply,matcher:n.regex})}}),{regex:new RegExp("^"+r.join("")+"$"),map:n(t,"index")}}function a(e){for(var t,r,n=[],i=0;i<e.length;)if(angular.isNumber(r)){if("'"===e.charAt(i))(i+1>=e.length||"'"!==e.charAt(i+1))&&(n.push(u(e,r,i)),r=null);else if(i===e.length)for(;r<e.length;)t=l(e,r),n.push(t),r=t.endIdx;i++}else"'"!==e.charAt(i)?(t=l(e,i),n.push(t.parser),i=t.endIdx):(r=i,i++);return n}function u(e,t,r){return function(){return e.substr(t+1,r-t-1)}}function l(e,t){for(var r=e.substr(t),n=0;n<y.length;n++)if(new RegExp("^"+y[n].key).test(r)){var i=y[n];return{endIdx:t+i.key.length,parser:i.formatter}}return{endIdx:t+1,parser:function(){return r.charAt(0)}}}function c(e,t,r){return!(r<1)&&(1===t&&r>28?29===r&&(e%4==0&&e%100!=0||e%400==0):3!==t&&5!==t&&8!==t&&10!==t||r<31)}function p(e){return parseInt(e,10)}function f(e,t){return e&&t?g(e,t):e}function d(e,t){return e&&t?g(e,t,!0):e}function h(e,t){e=e.replace(/:/g,"");var r=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(r)?t:r}function v(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function g(e,t,r){r=r?-1:1;var n=e.getTimezoneOffset();return v(e,r*(h(t,n)-n))}var m,y,b=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){m=t.id,this.parsers={},this.formatters={},y=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),r(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),r(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),r(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return/^[0-9]$/.test(e.getMonth())?r(e,"MM"):r(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return r(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return r(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return r(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return r(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return/^[1-9]$/.test(e.getDate())?r(e,"dd"):r(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return r(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return r(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return r(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return r(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return r(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return r(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return r(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return r(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return r(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return r(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return r(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return r(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return r(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return r(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),r=t[1],n=t[2],i=t[3];this.hours+=p(r+n),this.minutes+=p(r+i)},formatter:function(e){return r(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return r(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return r(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return r(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return r(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return r(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return r(e,"G")}}],angular.version.major>=1&&angular.version.minor>4&&y.push({key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return r(e,"LLLL")}})},this.init(),this.getParser=function(e){var t=o(e);return t&&t.apply||null},this.overrideParser=function(e,t){var r=o(e);r&&angular.isFunction(t)&&(this.parsers={},r.apply=t)}.bind(this),this.filter=function(e,r){return angular.isDate(e)&&!isNaN(e)&&r?(r=t.DATETIME_FORMATS[r]||r,t.id!==m&&this.init(),this.formatters[r]||(this.formatters[r]=a(r)),this.formatters[r].reduce(function(t,r){return t+r(e)},"")):""},this.parse=function(r,n,i){if(!angular.isString(r)||!n)return r;n=t.DATETIME_FORMATS[n]||n,n=n.replace(b,"\\$&"),t.id!==m&&this.init(),this.parsers[n]||(this.parsers[n]=s(n));var o=this.parsers[n],a=o.regex,u=o.map,l=r.match(a),p=!1;if(l&&l.length){var f,d;angular.isDate(i)&&!isNaN(i.getTime())?f={year:i.getFullYear(),month:i.getMonth(),date:i.getDate(),hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds(),milliseconds:i.getMilliseconds()}:(i&&e.warn("dateparser:","baseDate is not a valid date"),f={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var h=1,v=l.length;h<v;h++){var g=u[h-1];"Z"===g.matcher&&(p=!0),g.apply&&g.apply.call(f,l[h])}var y=p?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,E=p?Date.prototype.setUTCHours:Date.prototype.setHours;return c(f.year,f.month,f.date)&&(!angular.isDate(i)||isNaN(i.getTime())||p?(d=new Date(0),y.call(d,f.year,f.month,f.date),E.call(d,f.hours||0,f.minutes||0,f.seconds||0,f.milliseconds||0)):(d=new Date(i),y.call(d,f.year,f.month,f.date),E.call(d,f.hours,f.minutes,f.seconds,f.milliseconds))),d}},this.toTimezone=f,this.fromTimezone=d,this.timezoneToOffset=h,this.addDateMinutes=v,this.convertTimezoneToLocal=g}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,r=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(n,i){function o(e,t,r){u.push(e),l.push({scope:e,element:t}),h.forEach(function(t,r){s(t,e)}),e.$on("$destroy",a)}function s(t,n){var i=t.match(r),o=n.$eval(i[1]),s=i[2],a=c[t];if(!a){var u=function(t){var r=null;l.some(function(e){if(e.scope.$eval(f)===t)return r=e,!0}),a.lastActivated!==r&&(a.lastActivated&&e.removeClass(a.lastActivated.element,o),r&&e.addClass(r.element,o),a.lastActivated=r)};c[t]=a={lastActivated:null,scope:n,watchFn:u,compareWithExp:s,watcher:n.$watch(s,u)}}a.watchFn(n.$eval(s))}function a(e){var t=e.targetScope,r=u.indexOf(t);if(u.splice(r,1),l.splice(r,1),u.length){var n=u[0];angular.forEach(c,function(e){e.scope===t&&(e.watcher=n.$watch(e.compareWithExp,e.watchFn),e.scope=n)})}else c={}}var u=[],l=[],c={},p=i.uibIsClass.match(t),f=p[2],d=p[1],h=d.split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,r,n,i,o,s,a,u,l,c,p){function f(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}function d(t){var r;if(angular.version.minor<6)r=t.$options||e.datepickerOptions.ngModelOptions||u.ngModelOptions||{},r.getOption=function(e){return r[e]};else{var n=t.$options.getOption("timezone")||(e.datepickerOptions.ngModelOptions?e.datepickerOptions.ngModelOptions.timezone:null)||(u.ngModelOptions?u.ngModelOptions.timezone:null);r=t.$options.createChild(u.ngModelOptions).createChild(e.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:n})}return r}var h=this,v={$setViewValue:angular.noop},g={},m=[];t.addClass("uib-datepicker"),r.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:u.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":h[t]=angular.isDefined(e.datepickerOptions[t])?i(e.datepickerOptions[t])(e.$parent):u[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":h[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:u[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?h.startingDay=e.datepickerOptions.startingDay:angular.isNumber(u.startingDay)?h.startingDay=u.startingDay:h.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?h[t]=p.fromTimezone(new Date(e),g.getOption("timezone")):(l&&s.warn("Literal date support has been deprecated, please switch to date object usage"),h[t]=new Date(a(e,"medium"))):h[t]=u[t]?p.fromTimezone(new Date(u[t]),g.getOption("timezone")):null,h.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(r){h[t]=e[t]=angular.isDefined(r)?r:e.datepickerOptions[t],("minMode"===t&&h.modes.indexOf(e.datepickerOptions.datepickerMode)<h.modes.indexOf(h[t])||"maxMode"===t&&h.modes.indexOf(e.datepickerOptions.datepickerMode)>h.modes.indexOf(h[t]))&&(e.datepickerMode=h[t],e.datepickerOptions.datepickerMode=h[t])}):h[t]=e[t]=u[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(r.disabled)||!1,angular.isDefined(r.ngDisabled)&&m.push(e.$parent.$watch(r.ngDisabled,function(t){e.disabled=t,h.refreshView()})),e.isActive=function(t){return 0===h.compare(t.date,h.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){v=t,g=d(v),e.datepickerOptions.initDate?(h.activeDate=p.fromTimezone(e.datepickerOptions.initDate,g.getOption("timezone"))||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(v.$isEmpty(v.$modelValue)||v.$invalid)&&(h.activeDate=p.fromTimezone(e,g.getOption("timezone")),h.refreshView())})):h.activeDate=new Date;var r=v.$modelValue?new Date(v.$modelValue):new Date;this.activeDate=isNaN(r)?p.fromTimezone(new Date,g.getOption("timezone")):p.fromTimezone(r,g.getOption("timezone")),v.$render=function(){h.render()}},this.render=function(){if(v.$viewValue){var e=new Date(v.$viewValue);!isNaN(e)?this.activeDate=p.fromTimezone(e,g.getOption("timezone")):c||s.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=v.$viewValue?new Date(v.$viewValue):null;t=p.fromTimezone(t,g.getOption("timezone")),v.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,r){var n=v.$viewValue?new Date(v.$viewValue):null;n=p.fromTimezone(n,g.getOption("timezone"));var i=new Date;i=p.fromTimezone(i,g.getOption("timezone"));var o=this.compare(t,i),s={date:t,label:p.filter(t,r),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),past:o<0,current:0===o,future:o>0,customClass:this.customClass(t)||null};return n&&0===this.compare(t,n)&&(e.selectedDt=s),h.activeDate&&0===this.compare(s.date,h.activeDate)&&(e.activeDt=s),s},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var r=[];e.length>0;)r.push(e.splice(0,t));return r},e.select=function(t){if(e.datepickerMode===h.minMode){var r=v.$viewValue?p.fromTimezone(new Date(v.$viewValue),g.getOption("timezone")):new Date(0,0,0,0,0,0,0);r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r=p.toTimezone(r,g.getOption("timezone")),v.$setViewValue(r),v.$render()}else h.activeDate=t,f(h.modes[h.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=h.activeDate.getFullYear()+e*(h.step.years||0),r=h.activeDate.getMonth()+e*(h.step.months||0);h.activeDate.setFullYear(t,r,1),h.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===h.maxMode&&1===t||e.datepickerMode===h.minMode&&-1===t||(f(h.modes[h.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var y=function(){h.element[0].focus()};e.$on("uib:datepicker.focus",y),e.keydown=function(t){var r=e.keys[t.which];if(r&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),h.shortcutPropagation||t.stopPropagation(),"enter"===r||"space"===r){if(h.isDisabled(h.activeDate))return;e.select(h.activeDate)}else!t.ctrlKey||"up"!==r&&"down"!==r?(h.handleKeyDown(r,t),h.refreshView()):e.toggleMode("up"===r?1:-1)},t.on("keydown",function(t){e.$apply(function(){e.keydown(t)})}),e.$on("$destroy",function(){for(;m.length;)m.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,r){function n(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?o[t]:29}function i(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var r=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((r-t)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var r,n=new Array(t),i=new Date(e),o=0;o<t;)r=new Date(i),n[o++]=r,i.setDate(i.getDate()+1);return n},this._refreshView=function(){var t=this.activeDate.getFullYear(),n=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(t,n,1);var s=this.startingDay-o.getDay(),a=s>0?7-s:-s,u=new Date(o);a>0&&u.setDate(1-a);for(var l=this.getDates(u,42),c=0;c<42;c++)l[c]=angular.extend(this.createDateObject(l[c],this.formatDay),{secondary:l[c].getMonth()!==n,uid:e.uniqueId+"-"+c});e.labels=new Array(7);for(var p=0;p<7;p++)e.labels[p]={abbr:r(l[p].date,this.formatDayHeader),full:r(l[p].date,"EEEE")};if(e.title=r(this.activeDate,this.formatDayTitle),e.rows=this.split(l,7),e.showWeeks){e.weekNumbers=[];for(var f=(11-this.startingDay)%7,d=e.rows.length,h=0;h<d;h++)e.weekNumbers.push(i(e.rows[h][f].date))}},this.compare=function(e,t){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate());return r.setFullYear(e.getFullYear()),n.setFullYear(t.getFullYear()),r-n},this.handleKeyDown=function(e,t){var r=this.activeDate.getDate();if("left"===e)r-=1;else if("up"===e)r-=7;else if("right"===e)r+=1;else if("down"===e)r+=7;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(i,1),r=Math.min(n(this.activeDate.getFullYear(),this.activeDate.getMonth()),r)}else"home"===e?r=1:"end"===e&&(r=n(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(r)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,r){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,n=new Array(12),i=this.activeDate.getFullYear(),o=0;o<12;o++)t=new Date(this.activeDate),t.setFullYear(i,o,1),n[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=r(this.activeDate,this.formatMonthTitle),e.rows=this.split(n,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var r=new Date(e.getFullYear(),e.getMonth()),n=new Date(t.getFullYear(),t.getMonth());return r.setFullYear(e.getFullYear()),n.setFullYear(t.getFullYear()),r-n},this.handleKeyDown=function(e,t){var r=this.activeDate.getMonth();if("left"===e)r-=1;else if("up"===e)r-=this.monthColumns;else if("right"===e)r+=1;else if("down"===e)r+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var n=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(n)}else"home"===e?r=0:"end"===e&&(r=11);this.activeDate.setMonth(r)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,r){function n(e){return parseInt((e-1)/o,10)*o+1}var i,o;this.element=t,this.yearpickerInit=function(){i=this.yearColumns,o=this.yearRows*i,this.step={years:o}},this._refreshView=function(){for(var t,r=new Array(o),s=0,a=n(this.activeDate.getFullYear());s<o;s++)t=new Date(this.activeDate),t.setFullYear(a+s,0,1),r[s]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+s});e.title=[r[0].label,r[o-1].label].join(" - "),e.rows=this.split(r,i),e.columns=i},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var r=this.activeDate.getFullYear();"left"===e?r-=1:"up"===e?r-=i:"right"===e?r+=1:"down"===e?r+=i:"pageup"===e||"pagedown"===e?r+=("pageup"===e?-1:1)*o:"home"===e?r=n(this.activeDate.getFullYear()):"end"===e&&(r=n(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(r)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,r,n){var i=n[0],o=n[1];i.init(o)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,r,n){var i=n[0];n[1].init(i)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,r,n){var i=n[0];n[1].init(i)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,r,n){var i=n[0];angular.extend(i,n[1]),i.yearpickerInit(),i.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var r,n,i={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},s=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(r){r=this.getRawNode(r);for(var n=r.offsetParent||e[0].documentElement;n&&n!==e[0].documentElement&&function(e){return"static"===(t.getComputedStyle(e).position||"static")}(n);)n=n.offsetParent;return n||e[0].documentElement},scrollbarWidth:function(i){if(i){if(angular.isUndefined(n)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),n=t.innerWidth-o[0].clientWidth,n=isFinite(n)?n:0,o.removeClass("uib-position-body-scrollbar-measure")}return n}if(angular.isUndefined(r)){var s=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(s),r=s[0].offsetWidth-s[0].clientWidth,r=isFinite(r)?r:0,s.remove()}return r},scrollbarPadding:function(e){e=this.getRawNode(e);var r=t.getComputedStyle(e),n=this.parseStyle(r.paddingRight),i=this.parseStyle(r.paddingBottom),o=this.scrollParent(e,!1,!0),a=this.scrollbarWidth(s.test(o.tagName));return{scrollbarWidth:a,widthOverflow:o.scrollWidth>o.clientWidth,right:n+a,originalRight:n,heightOverflow:o.scrollHeight>o.clientHeight,bottom:i+a,originalBottom:i}},isScrollable:function(e,r){e=this.getRawNode(e);var n=r?i.hidden:i.normal,o=t.getComputedStyle(e);return n.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(r,n,o){r=this.getRawNode(r);var s=n?i.hidden:i.normal,a=e[0].documentElement,u=t.getComputedStyle(r);if(o&&s.test(u.overflow+u.overflowY+u.overflowX))return r;var l="absolute"===u.position,c=r.parentElement||a;if(c===a||"fixed"===u.position)return a;for(;c.parentElement&&c!==a;){var p=t.getComputedStyle(c);if(l&&"static"!==p.position&&(l=!1),!l&&s.test(p.overflow+p.overflowY+p.overflowX))break;c=c.parentElement}return c},position:function(r,n){r=this.getRawNode(r);var i=this.offset(r);if(n){var o=t.getComputedStyle(r);i.top-=this.parseStyle(o.marginTop),i.left-=this.parseStyle(o.marginLeft)}var s=this.offsetParent(r),a={top:0,left:0};return s!==e[0].documentElement&&(a=this.offset(s),a.top+=s.clientTop-s.scrollTop,a.left+=s.clientLeft-s.scrollLeft),{width:Math.round(angular.isNumber(i.width)?i.width:r.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:r.offsetHeight),top:Math.round(i.top-a.top),left:Math.round(i.left-a.left)}},offset:function(r){r=this.getRawNode(r);var n=r.getBoundingClientRect();return{width:Math.round(angular.isNumber(n.width)?n.width:r.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:r.offsetHeight),top:Math.round(n.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(n.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(r,n,i){r=this.getRawNode(r),i=!1!==i;var o=r.getBoundingClientRect(),s={top:0,left:0,bottom:0,right:0},a=n?e[0].documentElement:this.scrollParent(r),u=a.getBoundingClientRect();if(s.top=u.top+a.clientTop,s.left=u.left+a.clientLeft,a===e[0].documentElement&&(s.top+=t.pageYOffset,s.left+=t.pageXOffset),s.bottom=s.top+a.clientHeight,s.right=s.left+a.clientWidth,i){var l=t.getComputedStyle(a);s.top+=this.parseStyle(l.paddingTop),s.bottom-=this.parseStyle(l.paddingBottom),s.left+=this.parseStyle(l.paddingLeft),s.right-=this.parseStyle(l.paddingRight)}return{top:Math.round(o.top-s.top),bottom:Math.round(s.bottom-o.bottom),left:Math.round(o.left-s.left),right:Math.round(s.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),e=e.split("-"),e[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,r,n,i){e=this.getRawNode(e),r=this.getRawNode(r);var s=angular.isDefined(r.offsetWidth)?r.offsetWidth:r.prop("offsetWidth"),a=angular.isDefined(r.offsetHeight)?r.offsetHeight:r.prop("offsetHeight");n=this.parsePlacement(n);var u=i?this.offset(e):this.position(e),l={top:0,left:0,placement:""};if(n[2]){var c=this.viewportOffset(e,i),p=t.getComputedStyle(r),f={width:s+Math.round(Math.abs(this.parseStyle(p.marginLeft)+this.parseStyle(p.marginRight))),height:a+Math.round(Math.abs(this.parseStyle(p.marginTop)+this.parseStyle(p.marginBottom)))};if(n[0]="top"===n[0]&&f.height>c.top&&f.height<=c.bottom?"bottom":"bottom"===n[0]&&f.height>c.bottom&&f.height<=c.top?"top":"left"===n[0]&&f.width>c.left&&f.width<=c.right?"right":"right"===n[0]&&f.width>c.right&&f.width<=c.left?"left":n[0],n[1]="top"===n[1]&&f.height-u.height>c.bottom&&f.height-u.height<=c.top?"bottom":"bottom"===n[1]&&f.height-u.height>c.top&&f.height-u.height<=c.bottom?"top":"left"===n[1]&&f.width-u.width>c.right&&f.width-u.width<=c.left?"right":"right"===n[1]&&f.width-u.width>c.left&&f.width-u.width<=c.right?"left":n[1],"center"===n[1])if(o.vertical.test(n[0])){var d=u.width/2-s/2;c.left+d<0&&f.width-u.width<=c.right?n[1]="left":c.right+d<0&&f.width-u.width<=c.left&&(n[1]="right")}else{var h=u.height/2-f.height/2;c.top+h<0&&f.height-u.height<=c.bottom?n[1]="top":c.bottom+h<0&&f.height-u.height<=c.top&&(n[1]="bottom")}}switch(n[0]){case"top":l.top=u.top-a;break;case"bottom":l.top=u.top+u.height;break;case"left":l.left=u.left-s;break;case"right":l.left=u.left+u.width}switch(n[1]){case"top":l.top=u.top;break;case"bottom":l.top=u.top+u.height-a;break;case"left":l.left=u.left;break;case"right":l.left=u.left+u.width-s;break;case"center":o.vertical.test(n[0])?l.left=u.left+u.width/2-s/2:l.top=u.top+u.height/2-a/2}return l.top=Math.round(l.top),l.left=Math.round(l.left),l.placement="center"===n[1]?n[0]:n[0]+"-"+n[1],l},adjustTop:function(e,t,r,n){if(-1!==e.indexOf("top")&&r!==n)return{top:t.top-n+"px"}},positionArrow:function(e,r){e=this.getRawNode(e);var n=e.querySelector(".tooltip-inner, .popover-inner");if(n){var i=angular.element(n).hasClass("tooltip-inner"),s=i?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(s){var a={top:"",bottom:"",left:"",right:""};if(r=this.parsePlacement(r),"center"===r[1])return void angular.element(s).css(a);var u="border-"+r[0]+"-width",l=t.getComputedStyle(s)[u],c="border-";o.vertical.test(r[0])?c+=r[0]+"-"+r[1]:c+=r[1]+"-"+r[0],c+="-radius";var p=t.getComputedStyle(i?n:e)[c];switch(r[0]){case"top":a.bottom=i?"0":"-"+l;break;case"bottom":a.top=i?"0":"-"+l;break;case"left":a.right=i?"0":"-"+l;break;case"right":a.left=i?"0":"-"+l}a[r[1]]=p,angular.element(s).css(a)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,r,n,i,o,s,a,u,l,c,p,f,d,h,v){function g(t){var r=p.parse(t,T,e.date);if(isNaN(r))for(var n=0;n<D.length;n++)if(r=p.parse(t,D[n],e.date),!isNaN(r))return r;return r}function m(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=g(e);if(!isNaN(t))return p.toTimezone(t,O.getOption("timezone"))}return O.getOption("allowInvalid")?e:void 0}function y(e,t){var n=e||t;return!r.ngRequired&&!n||(angular.isNumber(n)&&(n=new Date(n)),!n||(!(!angular.isDate(n)||isNaN(n))||!!angular.isString(n)&&!isNaN(g(n))))}function b(r){if(e.isOpen||!e.disabled){var n=P[0],i=t[0].contains(r.target),o=void 0!==n.contains&&n.contains(r.target);!e.isOpen||i||o||e.$apply(function(){e.isOpen=!1})}}function E(r){27===r.which&&e.isOpen?(r.preventDefault(),r.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==r.which||e.isOpen||(r.preventDefault(),r.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function x(){if(e.isOpen){var n=angular.element(P[0].querySelector(".uib-datepicker-popup")),i=r.popupPlacement?r.popupPlacement:f.placement,o=l.positionElements(t,n,i,w);n.css({top:o.top+"px",left:o.left+"px"}),n.hasClass("uib-position-measure")&&n.removeClass("uib-position-measure")}}function S(e){var t;return angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null},t.getOption=function(e){return t[e]}):t=e.$options,t}var T,I,w,C,A,N,L,R,_,k,O,P,D,F=!1,j=[];this.init=function(i){if(k=i,O=S(k),I=angular.isDefined(r.closeOnDateSelection)?e.$parent.$eval(r.closeOnDateSelection):f.closeOnDateSelection,w=angular.isDefined(r.datepickerAppendToBody)?e.$parent.$eval(r.datepickerAppendToBody):f.appendToBody,C=angular.isDefined(r.onOpenFocus)?e.$parent.$eval(r.onOpenFocus):f.onOpenFocus,A=angular.isDefined(r.datepickerPopupTemplateUrl)?r.datepickerPopupTemplateUrl:f.datepickerPopupTemplateUrl,N=angular.isDefined(r.datepickerTemplateUrl)?r.datepickerTemplateUrl:f.datepickerTemplateUrl,D=angular.isDefined(r.altInputFormats)?e.$parent.$eval(r.altInputFormats):f.altInputFormats,e.showButtonBar=angular.isDefined(r.showButtonBar)?e.$parent.$eval(r.showButtonBar):f.showButtonBar,f.html5Types[r.type]?(T=f.html5Types[r.type],F=!0):(T=r.uibDatepickerPopup||f.datepickerPopup,r.$observe("uibDatepickerPopup",function(e,t){var r=e||f.datepickerPopup;if(r!==T&&(T=r,k.$modelValue=null,!T))throw new Error("uibDatepickerPopup must have a date format specified.")})),!T)throw new Error("uibDatepickerPopup must have a date format specified.");if(F&&r.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");L=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),L.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":A}),R=angular.element(L.children()[0]),R.attr("template-url",N),e.datepickerOptions||(e.datepickerOptions={}),F&&"month"===r.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),R.attr("datepicker-options","datepickerOptions"),F?k.$formatters.push(function(t){return e.date=p.fromTimezone(t,O.getOption("timezone")),t}):(k.$$parserName="date",k.$validators.date=y,k.$parsers.unshift(m),k.$formatters.push(function(t){return k.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=p.fromTimezone(t,O.getOption("timezone")),p.filter(e.date,T))})),k.$viewChangeListeners.push(function(){e.date=g(k.$viewValue)}),t.on("keydown",E),P=n(L)(e),L.remove(),w?a.find("body").append(P):t.after(P),e.$on("$destroy",function(){for(!0===e.isOpen&&(u.$$phase||e.$apply(function(){e.isOpen=!1})),P.remove(),t.off("keydown",E),a.off("click",b),_&&_.off("scroll",x),angular.element(s).off("resize",x);j.length;)j.shift()()})},e.getText=function(t){return e[t+"Text"]||f[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=p.fromTimezone(new Date,O.getOption("timezone")));var r={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?r[t]=new Date(e.datepickerOptions[t]):(v&&i.warn("Literal date support has been deprecated, please switch to date object usage"),r[t]=new Date(c(e.datepickerOptions[t],"medium"))):r[t]=null}),e.datepickerOptions&&r.minDate&&e.compare(t,r.minDate)<0||r.maxDate&&e.compare(t,r.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(r){e.date=r;var n=e.date?p.filter(e.date,T):null;t.val(n),k.$setViewValue(n),I&&(e.isOpen=!1,t[0].focus())},e.keydown=function(r){27===r.which&&(r.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,r){if(r.stopPropagation(),"today"===t){var n=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate())):(t=p.fromTimezone(n,O.getOption("timezone")),t.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(r){r.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(r.disabled)||!1,r.ngDisabled&&j.push(e.$parent.$watch(o(r.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(n){n?e.disabled?e.isOpen=!1:d(function(){x(),C&&e.$broadcast("uib:datepicker.focus"),a.on("click",b);var n=r.popupPlacement?r.popupPlacement:f.placement;w||l.parsePlacement(n)[2]?(_=_||angular.element(l.scrollParent(t)))&&_.on("scroll",x):_=null,angular.element(s).on("resize",x)},0,!1):(a.off("click",b),_&&_.off("scroll",x),angular.element(s).off("resize",x))}),e.$on("uib:datepicker.mode",function(){d(x,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,r,n){var i=n[0];n[1].init(i)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,r){var n;return function(){var i=this,o=Array.prototype.slice.call(arguments);n&&e.cancel(n),n=e(function(){t.apply(i,o)},r)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,r){e[t]||(e[t]=[]),e[t].push(r)},remove:function(t,r){var n=e[t];if(n){var i=n.indexOf(r);-1!==i&&n.splice(i,1),n.length||delete e[t]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(e,t,r){var n=null,i=r.createNew();this.isOnlyOpen=function(e,t){var r=i.get(t);if(r){if(r.reduce(function(t,r){return r.scope===e?r:t},{}))return 1===r.length}return!1},this.open=function(t,r,s){if(n||e.on("click",o),n&&n!==t&&(n.isOpen=!1),n=t,s){var a=i.get(s);if(a){-1===a.map(function(e){return e.scope}).indexOf(t)&&i.put(s,{scope:t})}else i.put(s,{scope:t})}},this.close=function(t,r,s){if(n===t&&(e.off("click",o),e.off("keydown",this.keybindFilter),n=null),s){var a=i.get(s);if(a){var u=a.reduce(function(e,r){return r.scope===t?r:e},{});u&&i.remove(s,u)}}};var o=function(e){if(n&&n.isOpen&&!(e&&"disabled"===n.getAutoClose()||e&&3===e.which)){var r=n.getToggleElement();if(!(e&&r&&r[0].contains(e.target))){var i=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.focusToggleElement(),n.isOpen=!1,t.$$phase||n.$apply())}}};this.keybindFilter=function(e){if(n){var t=n.getDropdownElement(),r=n.getToggleElement(),i=t&&t[0].contains(e.target),s=r&&r[0].contains(e.target);27===e.which?(e.stopPropagation(),n.focusToggleElement(),o()):n.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&n.isOpen&&(i||s)&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,r,n,i,o,s,a,u,l,c){function p(){t.append(h.dropdownMenu)}var f,d,h=this,v=e.$new(),g=i.appendToOpenClass,m=i.openClass,y=angular.noop,b=r.onToggle?n(r.onToggle):angular.noop,E=!1,x=u.find("body");t.addClass("dropdown"),this.init=function(){r.isOpen&&(d=n(r.isOpen),y=d.assign,e.$watch(d,function(e){v.isOpen=!!e})),E=angular.isDefined(r.keyboardNav)},this.toggle=function(e){return v.isOpen=arguments.length?!!e:!v.isOpen,angular.isFunction(y)&&y(v,v.isOpen),v.isOpen},this.isOpen=function(){return v.isOpen},v.getToggleElement=function(){return h.toggleElement},v.getAutoClose=function(){return r.autoClose||"always"},v.getElement=function(){return t},v.isKeynavEnabled=function(){return E},v.focusDropdownEntry=function(e){var r=h.dropdownMenu?angular.element(h.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(h.selectedOption)?h.selectedOption=h.selectedOption===r.length-1?h.selectedOption:h.selectedOption+1:h.selectedOption=0;break;case 38:angular.isNumber(h.selectedOption)?h.selectedOption=0===h.selectedOption?0:h.selectedOption-1:h.selectedOption=r.length-1}r[h.selectedOption].focus()},v.getDropdownElement=function(){return h.dropdownMenu},v.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},v.$watch("isOpen",function(i,d){var E=null,S=!1;if(angular.isDefined(r.dropdownAppendTo)){var T=n(r.dropdownAppendTo)(v);T&&(E=angular.element(T))}if(angular.isDefined(r.dropdownAppendToBody)){!1!==n(r.dropdownAppendToBody)(v)&&(S=!0)}if(S&&!E&&(E=x),E&&h.dropdownMenu&&(i?(E.append(h.dropdownMenu),t.on("$destroy",p)):(t.off("$destroy",p),p())),E&&h.dropdownMenu){var I,w,C,A=a.positionElements(t,h.dropdownMenu,"bottom-left",!0),N=0;if(I={top:A.top+"px",display:i?"block":"none"},w=h.dropdownMenu.hasClass("dropdown-menu-right"),w?(I.left="auto",C=a.scrollbarPadding(E),C.heightOverflow&&C.scrollbarWidth&&(N=C.scrollbarWidth),I.right=window.innerWidth-N-(A.left+t.prop("offsetWidth"))+"px"):(I.left=A.left+"px",I.right="auto"),!S){var L=a.offset(E);I.top=A.top-L.top+"px",w?I.right=window.innerWidth-(A.left-L.left+t.prop("offsetWidth"))+"px":I.left=A.left-L.left+"px"}h.dropdownMenu.css(I)}var R=E||t,_=E?g:m,k=R.hasClass(_),O=o.isOnlyOpen(e,E);if(k===!i){var P;P=E?O?"removeClass":"addClass":i?"addClass":"removeClass",s[P](R,_).then(function(){angular.isDefined(i)&&i!==d&&b(e,{open:!!i})})}if(i)h.dropdownMenuTemplateUrl?c(h.dropdownMenuTemplateUrl).then(function(e){f=v.$new(),l(e.trim())(f,function(e){var t=e;h.dropdownMenu.replaceWith(t),h.dropdownMenu=t,u.on("keydown",o.keybindFilter)})}):u.on("keydown",o.keybindFilter),v.focusToggleElement(),o.open(v,t,E);else{if(o.close(v,t,E),h.dropdownMenuTemplateUrl){f&&f.$destroy();var D=angular.element('<ul class="dropdown-menu"></ul>');h.dropdownMenu.replaceWith(D),h.dropdownMenu=D}h.selectedOption=null}angular.isFunction(y)&&y(e,i)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,r,n){n.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,r,n){if(n&&!angular.isDefined(r.dropdownNested)){t.addClass("dropdown-menu");var i=r.templateUrl;i&&(n.dropdownMenuTemplateUrl=i),n.dropdownMenu||(n.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,r,n){if(n){t.addClass("dropdown-toggle"),n.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||r.disabled||e.$apply(function(){n.toggle()})};t.on("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(n.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.off("click",i)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,r){e.push({key:t,value:r})},get:function(t){for(var r=0;r<e.length;r++)if(t===e[r].key)return e[r]},keys:function(){for(var t=[],r=0;r<e.length;r++)t.push(e[r].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var r=-1,n=0;n<e.length;n++)if(t===e[n].key){r=n;break}return e.splice(r,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,r){var n=e.resolver?t.get(e.resolver):null;return{resolve:function(e,i,o,s){if(n)return n.resolve(e,i,o,s);var a=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?a.push(r.resolve(t.invoke(e))):angular.isString(e)?a.push(r.resolve(t.get(e))):a.push(r.resolve(e))}),r.all(a).then(function(t){var r={},n=0;return angular.forEach(e,function(e,i){r[i]=t[n++]}),r})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,r){function n(t,n,i){i.modalInClass&&(e.addClass(n,i.modalInClass),t.$on(r.NOW_CLOSING_EVENT,function(r,o){var s=o();t.modalOptions.animation?e.removeClass(n,i.modalInClass).then(s):s()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),n}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,r,n){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(i,o,s){o.addClass(s.windowTopClass||""),i.size=s.size,i.close=function(t){var r=e.getTop();r&&r.value.backdrop&&"static"!==r.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(r.key,"backdrop click"))},o.on("click",i.close),i.$isRendered=!0;var a=t.defer();i.$$postDigest(function(){a.resolve()}),a.promise.then(function(){var a=null;s.modalInClass&&(a=r(o,{addClass:s.modalInClass}).start(),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var n=t();r(o,{removeClass:s.modalInClass}).start().then(n)})),t.when(a).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!n[0].activeElement||!o[0].contains(n[0].activeElement)){var r=o[0].querySelector("[autofocus]");r?r.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,r,n,i,o){o(t.$parent,function(t){r.empty(),e.enter(t,r)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,r,n,i,o,s,a,u){function l(e){return e.replace(L,function(e,t){return(t?"-":"")+e.toLowerCase()})}function c(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function p(){for(var e=-1,t=T.keys(),r=0;r<t.length;r++)T.get(t[r]).value.backdrop&&(e=r);return e>-1&&e<C&&(e=C),e}function f(e,t){var r=T.get(e).value,n=r.appendTo;T.remove(e),A=T.top(),A&&(C=parseInt(A.value.modalDomEl.attr("index"),10)),v(r.modalDomEl,r.modalScope,function(){var t=r.openedClass||S;I.remove(t,e);var i=I.hasKey(t);n.toggleClass(t,i),!i&&x&&x.heightOverflow&&x.scrollbarWidth&&(x.originalRight?n.css({paddingRight:x.originalRight+"px"}):n.css({paddingRight:""}),x=null),d(!0)},r.closedDeferred),h(),t&&t.focus?t.focus():n.focus&&n.focus()}function d(e){var t;T.length()>0&&(t=T.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function h(){if(b&&-1===p()){var e=E;v(b,E,function(){e=null}),b=void 0,E=void 0}}function v(t,r,n,i){function s(){s.done||(s.done=!0,e.leave(t).then(function(){n&&n(),t.remove(),i&&i.resolve()}),r.$destroy())}var a,u=null,l=function(){return a||(a=o.defer(),u=a.promise),function(){a.resolve()}};return r.$broadcast(w.NOW_CLOSING_EVENT,l),o.when(u).then(s)}function g(e){if(e.isDefaultPrevented())return e;var t=T.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),i.$apply(function(){w.dismiss(t.key,"escape key press")}));break;case 9:var r=w.loadFocusElementList(t),n=!1;e.shiftKey?(w.isFocusInFirstItem(e,r)||w.isModalFocused(e,t))&&(n=w.focusLastFocusableElement(r)):w.isFocusInLastItem(e,r)&&(n=w.focusFirstFocusableElement(r)),n&&(e.preventDefault(),e.stopPropagation())}}function m(e,t,r){return!e.value.modalScope.$broadcast("modal.closing",t,r).defaultPrevented}function y(){Array.prototype.forEach.call(document.querySelectorAll("["+N+"]"),function(e){var t=parseInt(e.getAttribute(N),10),r=t-1;e.setAttribute(N,r),r||(e.removeAttribute(N),e.removeAttribute("aria-hidden"))})}var b,E,x,S="modal-open",T=a.createNew(),I=s.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},C=0,A=null,N="data-bootstrap-modal-aria-hidden-count",L=/[A-Z]/g;return i.$watch(p,function(e){E&&(E.index=e)}),r.on("keydown",g),i.$on("$destroy",function(){r.off("keydown",g)}),w.open=function(t,o){function s(e){if(e&&"BODY"!==e[0].tagName)return function(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==e[0]})}(e).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),r=parseInt(e.getAttribute(N),10);r||(r=t?1:0),e.setAttribute(N,r+1),e.setAttribute("aria-hidden","true")}),s(e.parent())}var a=r[0].activeElement,c=o.openedClass||S;d(!1),A=T.top(),T.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),I.put(c,t);var f=o.appendTo,h=p();h>=0&&!b&&(E=i.$new(!0),E.modalOptions=o,E.index=h,b=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),b.attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),o.backdropClass&&b.addClass(o.backdropClass),o.animation&&b.attr("modal-animation","true"),n(b)(E),e.enter(b,f),u.isScrollable(f)&&(x=u.scrollbarPadding(f),x.heightOverflow&&x.scrollbarWidth&&f.css({paddingRight:x.right+"px"})));var v;o.component?(v=document.createElement(l(o.component.name)),v=angular.element(v),v.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):v=o.content,C=A?parseInt(A.value.modalDomEl.attr("index"),10)+1:0;var g=angular.element('<div uib-modal-window="modal-window"></div>');g.attr({class:"modal","template-url":o.windowTemplateUrl,"window-top-class":o.windowTopClass,role:"dialog","aria-labelledby":o.ariaLabelledBy,"aria-describedby":o.ariaDescribedBy,size:o.size,index:C,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(v),o.windowClass&&g.addClass(o.windowClass),o.animation&&g.attr("modal-animation","true"),f.addClass(c),o.scope&&(o.scope.$$topModalIndex=C),e.enter(n(g)(o.scope),f),T.top().value.modalDomEl=g,T.top().value.modalOpener=a,s(g)},w.close=function(e,t){var r=T.get(e);return y(),r&&m(r,t,!0)?(r.value.modalScope.$$uibDestructionScheduled=!0,r.value.deferred.resolve(t),f(e,r.value.modalOpener),!0):!r},w.dismiss=function(e,t){var r=T.get(e);return y(),r&&m(r,t,!1)?(r.value.modalScope.$$uibDestructionScheduled=!0,r.value.deferred.reject(t),f(e,r.value.modalOpener),!0):!r},w.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},w.getTop=function(){return T.top()},w.modalRendered=function(e){var t=T.get(e);t&&t.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},w.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},w.isModalFocused=function(e,t){if(e&&t){var r=t.value.modalDomEl;if(r&&r.length)return(e.target||e.srcElement)===r[0]}return!1},w.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},w.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},w.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var r=t[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return r?Array.prototype.filter.call(r,function(e){return c(e)}):r}}},w}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,r,n,i,o,s,a){function u(e){return e.template?r.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var l={},c=null;return l.getPromiseChain=function(){return c},l.open=function(i){function l(){return g}var p=r.defer(),f=r.defer(),d=r.defer(),h=r.defer(),v={result:p.promise,opened:f.promise,closed:d.promise,rendered:h.promise,close:function(e){return a.close(v,e)},dismiss:function(e){return a.dismiss(v,e)}};if(i=angular.extend({},e.options,i),i.resolve=i.resolve||{},i.appendTo=i.appendTo||n.find("body").eq(0),!i.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!i.component&&!i.template&&!i.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var g;g=i.component?r.when(s.resolve(i.resolve,{},null,null)):r.all([u(i),s.resolve(i.resolve,{},null,null)]);var m;return m=c=r.all([c]).then(l,l).then(function(e){function r(t,r,n,i){t.$scope=s,t.$scope.$resolve={},n?t.$scope.$uibModalInstance=v:t.$uibModalInstance=v;var o=r?e[1]:e;angular.forEach(o,function(e,r){i&&(t[r]=e),t.$scope.$resolve[r]=e})}var n=i.scope||t,s=n.$new();s.$close=v.close,s.$dismiss=v.dismiss,s.$on("$destroy",function(){s.$$uibDestructionScheduled||s.$dismiss("$uibUnscheduledDestruction")});var u,l,c={scope:s,deferred:p,renderDeferred:h,closedDeferred:d,animation:i.animation,backdrop:i.backdrop,keyboard:i.keyboard,backdropClass:i.backdropClass,windowTopClass:i.windowTopClass,windowClass:i.windowClass,windowTemplateUrl:i.windowTemplateUrl,ariaLabelledBy:i.ariaLabelledBy,ariaDescribedBy:i.ariaDescribedBy,size:i.size,openedClass:i.openedClass,appendTo:i.appendTo},g={},m={};i.component?(r(g,!1,!0,!1),g.name=i.component,c.component=g):i.controller&&(r(m,!0,!1,!0),l=o(i.controller,m,!0,i.controllerAs),i.controllerAs&&i.bindToController&&(u=l.instance,u.$close=s.$close,u.$dismiss=s.$dismiss,angular.extend(u,{$resolve:m.$scope.$resolve},n)),u=l(),angular.isFunction(u.$onInit)&&u.$onInit()),i.component||(c.content=e[0]),a.open(v,c),f.resolve(!0)},function(e){f.reject(e),p.reject(e)}).finally(function(){c===m&&(c=null)}),v},l}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,r,n){t.setNumPages=n.numPages?e(n.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,i){t.ngModelCtrl=e,t.config=i,e.$render=function(){t.render()},n.itemsPerPage?t._watchers.push(r.$parent.$watch(n.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),r.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=i.itemsPerPage,r.$watch("totalItems",function(e,n){(angular.isDefined(e)||e!==n)&&(r.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(r.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){r.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},r.selectPage=function(e,n){n&&n.preventDefault(),(!r.ngDisabled||!n)&&r.page!==e&&e>0&&e<=r.totalPages&&(n&&n.target&&n.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},r.getText=function(e){return r[e+"Text"]||t.config[e+"Text"]},r.noPrevious=function(){return 1===r.page},r.noNext=function(){return r.page===r.totalPages},t.updatePage=function(){t.setNumPages(r.$parent,r.totalPages),r.page>r.totalPages?r.selectPage(r.totalPages):t.ngModelCtrl.$render()},r.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,r,n){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):n.align,r.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,r,n,i){r.addClass("pager");var o=i[0],s=i[1];s&&o.init(s,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,r,n,i){function o(e,t,r){return{number:e,text:t,active:r}}function s(e,t){var r=[],n=1,i=t,s=angular.isDefined(u)&&u<t;s&&(l?(n=Math.max(e-Math.floor(u/2),1),(i=n+u-1)>t&&(i=t,n=i-u+1)):(n=(Math.ceil(e/u)-1)*u+1,i=Math.min(n+u-1,t)));for(var a=n;a<=i;a++){var d=o(a,f(a),a===e);r.push(d)}if(s&&u>0&&(!l||c||p)){if(n>1){if(!p||n>3){var h=o(n-1,"...",!1);r.unshift(h)}if(p){if(3===n){var v=o(2,"2",!1);r.unshift(v)}var g=o(1,"1",!1);r.unshift(g)}}if(i<t){if(!p||i<t-2){var m=o(i+1,"...",!1);r.push(m)}if(p){if(i===t-2){var y=o(t-1,t-1,!1);r.push(y)}var b=o(t,t,!1);r.push(b)}}}return r}var a=this,u=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):i.maxSize,l=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):i.rotate,c=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):i.forceEllipses,p=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):i.boundaryLinkNumbers,f=angular.isDefined(t.pageLabel)?function(r){return e.$parent.$eval(t.pageLabel,{$page:r})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):i.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):i.directionLinks,t.$set("role","menu"),n.create(this,e,t),t.maxSize&&a._watchers.push(e.$parent.$watch(r(t.maxSize),function(e){u=parseInt(e,10),a.render()}));var d=this.render;this.render=function(){d(),e.page>0&&e.page<=e.totalPages&&(e.pages=s(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,r,n,i){r.addClass("pagination");var o=i[0],s=i[1];s&&o.init(s,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g;return e.replace(t,function(e,t){return(t?"-":"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},r={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},n={};this.options=function(e){angular.extend(n,e)},this.setTriggers=function(e){angular.extend(r,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,o,s,a,u,l,c,p,f){function d(e){if(27===e.which){var t=h.top();t&&(t.value.close(),t=null)}}var h=f.createNew();return a.on("keyup",d),c.$on("$destroy",function(){a.off("keyup",d)}),function(i,c,f,d){function v(e){var t=(e||d.trigger||f).split(" ");return{show:t,hide:t.map(function(e){return r[e]||e})}}d=angular.extend({},t,n,d);var g=e(i),m=l.startSymbol(),y=l.endSymbol(),b="<div "+g+'-popup uib-title="'+m+"title"+y+'" '+(d.useContentExp?'content-exp="contentExp()" ':'content="'+m+"content"+y+'" ')+'origin-scope="origScope" class="uib-position-measure '+c+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var r=o(b);return function(e,t,n,o){function l(){B.isOpen?g():f()}function f(){$&&!e.$eval(n[c+"Enable"])||(E(),T(),B.popupDelay?k||(k=s(m,B.popupDelay,!1)):m())}function g(){y(),B.popupCloseDelay?O||(O=s(b,B.popupCloseDelay,!1)):b()}function m(){if(y(),E(),!B.content)return angular.noop;x(),B.$evalAsync(function(){B.isOpen=!0,I(!0),V()})}function y(){k&&(s.cancel(k),k=null),P&&(s.cancel(P),P=null)}function b(){B&&B.$evalAsync(function(){B&&(B.isOpen=!1,I(!1),B.animation?_||(_=s(S,150,!1)):S())})}function E(){O&&(s.cancel(O),O=null),_&&(s.cancel(_),_=null)}function x(){L||(R=B.$new(),L=r(R,function(e){j?a.find("body").append(e):t.after(e)}),h.add(B,{close:b}),w())}function S(){y(),E(),C(),L&&(L.remove(),L=null,D&&s.cancel(D)),h.remove(B),R&&(R.$destroy(),R=null)}function T(){B.title=n[c+"Title"],B.content=H?H(e):n[i],B.popupClass=n[c+"Class"],B.placement=angular.isDefined(n[c+"Placement"])?n[c+"Placement"]:d.placement;var t=u.parsePlacement(B.placement);F=t[1]?t[0]+"-"+t[1]:t[0];var r=parseInt(n[c+"PopupDelay"],10),o=parseInt(n[c+"PopupCloseDelay"],10);B.popupDelay=isNaN(r)?d.popupDelay:r,B.popupCloseDelay=isNaN(o)?d.popupCloseDelay:o}function I(t){G&&angular.isFunction(G.assign)&&G.assign(e,t)}function w(){q.length=0,H?(q.push(e.$watch(H,function(e){B.content=e,!e&&B.isOpen&&b()})),q.push(R.$watch(function(){U||(U=!0,R.$$postDigest(function(){U=!1,B&&B.isOpen&&V()}))}))):q.push(n.$observe(i,function(e){B.content=e,!e&&B.isOpen?b():V()})),q.push(n.$observe(c+"Title",function(e){B.title=e,B.isOpen&&V()})),q.push(n.$observe(c+"Placement",function(e){B.placement=e||d.placement,B.isOpen&&V()}))}function C(){q.length&&(angular.forEach(q,function(e){e()}),q.length=0)}function A(e){B&&B.isOpen&&L&&(t[0].contains(e.target)||L[0].contains(e.target)||g())}function N(e){27===e.which&&g()}var L,R,_,k,O,P,D,F,j=!!angular.isDefined(d.appendToBody)&&d.appendToBody,M=v(void 0),$=angular.isDefined(n[c+"Enable"]),B=e.$new(!0),U=!1,G=!!angular.isDefined(n[c+"IsOpen"])&&p(n[c+"IsOpen"]),H=!!d.useContentExp&&p(n[i]),q=[],V=function(){L&&L.html()&&(P||(P=s(function(){var e=u.positionElements(t,L,B.placement,j),r=angular.isDefined(L.offsetHeight)?L.offsetHeight:L.prop("offsetHeight"),n=j?u.offset(t):u.position(t);L.css({top:e.top+"px",left:e.left+"px"});var i=e.placement.split("-");L.hasClass(i[0])||(L.removeClass(F.split("-")[0]),L.addClass(i[0])),L.hasClass(d.placementClassPrefix+e.placement)||(L.removeClass(d.placementClassPrefix+F),L.addClass(d.placementClassPrefix+e.placement)),D=s(function(){var e=angular.isDefined(L.offsetHeight)?L.offsetHeight:L.prop("offsetHeight"),t=u.adjustTop(i,n,r,e);t&&L.css(t),D=null},0,!1),L.hasClass("uib-position-measure")?(u.positionArrow(L,e.placement),L.removeClass("uib-position-measure")):F!==e.placement&&u.positionArrow(L,e.placement),F=e.placement,P=null},0,!1)))};B.origScope=e,B.isOpen=!1,B.contentExp=function(){return B.content},n.$observe("disabled",function(e){e&&y(),e&&B.isOpen&&b()}),G&&e.$watch(G,function(e){B&&!e===B.isOpen&&l()});var Q=function(){M.show.forEach(function(e){"outsideClick"===e?t.off("click",l):(t.off(e,f),t.off(e,l)),t.off("keypress",N)}),M.hide.forEach(function(e){"outsideClick"===e?a.off("click",A):t.off(e,g)})};!function(){var r=[],i=[],o=e.$eval(n[c+"Trigger"]);Q(),angular.isObject(o)?(Object.keys(o).forEach(function(e){r.push(e),i.push(o[e])}),M={show:r,hide:i}):M=v(o),"none"!==M.show&&M.show.forEach(function(e,r){"outsideClick"===e?(t.on("click",l),a.on("click",A)):e===M.hide[r]?t.on(e,l):e&&(t.on(e,f),t.on(M.hide[r],g)),t.on("keypress",N)})}();var W=e.$eval(n[c+"Animation"]);B.animation=angular.isDefined(W)?!!W:d.animation;var z,X=c+"AppendToBody";z=X in n&&void 0===n[X]||e.$eval(n[X]),j=angular.isDefined(z)?z:j,e.$on("$destroy",function(){Q(),S(),B=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,r,n){return{link:function(i,o,s){var a,u,l,c=i.$eval(s.tooltipTemplateTranscludeScope),p=0,f=function(){u&&(u.remove(),u=null),a&&(a.$destroy(),a=null),l&&(e.leave(l).then(function(){u=null}),u=l,l=null)};i.$watch(t.parseAsResourceUrl(s.uibTooltipTemplateTransclude),function(t){var s=++p;t?(n(t,!0).then(function(n){if(s===p){var i=c.$new(),u=n,d=r(u)(i,function(t){f(),e.enter(t,o)});a=i,l=d,a.$emit("$includeContentLoaded",t)}},function(){s===p&&(f(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):f()}),i.$on("$destroy",f)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,r,n){if(t.placement){var i=e.parsePlacement(t.placement);r.addClass(i[0])}t.popupClass&&r.addClass(t.popupClass),t.animation&&r.addClass(n.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,r){function n(){return angular.isDefined(e.maxParam)?e.maxParam:r.max}var i=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):r.animate;this.bars=[],e.max=n(),this.addBar=function(e,t,r){o||t.css({transition:"none"}),this.bars.push(e),e.max=n(),e.title=r&&angular.isDefined(r.title)?r.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,i.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){i.bars.forEach(function(e){e.max=n(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,r,n){n.addBar(e,t,r)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,r,n){n.addBar(e,angular.element(t.children()[0]),{title:r.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,r){var n={$setViewValue:angular.noop},i=this;this.init=function(i){n=i,n.$render=this.render,n.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):r.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):r.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):r.enableReset;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):r.titles;this.titles=angular.isArray(o)&&o.length>0?o:r.titles;var s=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):r.max);e.range=this.buildTemplateObjects(s)},this.buildTemplateObjects=function(e){for(var t=0,r=e.length;t<r;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var r=i.enableReset&&n.$viewValue===t?0:t;n.$setViewValue(r),n.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=n.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=n.$viewValue,e.title=i.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,r,n){var i=n[0],o=n[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<n.tabs.length;t++)if(n.tabs[t].index===e)return t}var r,n=this;n.tabs=[],n.select=function(e,o){if(!i){var s=t(r),a=n.tabs[s];if(a){if(a.tab.onDeselect({$event:o,$selectedIndex:e}),o&&o.isDefaultPrevented())return;a.tab.active=!1}var u=n.tabs[e];u?(u.tab.onSelect({$event:o}),u.tab.active=!0,n.active=u.index,r=u.index):!u&&angular.isDefined(r)&&(n.active=null,r=null)}},n.addTab=function(e){if(n.tabs.push({tab:e,index:e.index}),n.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===n.active||!angular.isDefined(n.active)&&1===n.tabs.length){var r=t(e.index);n.select(r)}},n.removeTab=function(e){for(var t,r=0;r<n.tabs.length;r++)if(n.tabs[r].tab===e){t=r;break}if(n.tabs[t].index===n.active){var i=t===n.tabs.length-1?t-1:t+1%n.tabs.length;n.select(i)}n.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==r&&n.select(t(e))});var i;e.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,r){e.vertical=!!angular.isDefined(r.vertical)&&e.$parent.$eval(r.vertical),e.justified=!!angular.isDefined(r.justified)&&e.$parent.$eval(r.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,r,n,i,o){t.disabled=!1,n.disable&&t.$parent.$watch(e(n.disable),function(e){t.disabled=!!e}),angular.isUndefined(n.index)&&(i.tabs&&i.tabs.length?t.index=Math.max.apply(null,i.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(n.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var r,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===t){r=n;break}i.select(r,e)}},i.addTab(t),t.$on("$destroy",function(){i.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,r,n){var i=t.$eval(n.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:r.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,r,n,i,o,s){function a(){var t=+e.hours;if((e.showMeridian?t>0&&t<13:t>=0&&t<24)&&""!==e.hours)return e.showMeridian&&(12===t&&(t=0),e.meridian===I[1]&&(t+=12)),t}function u(){var t=+e.minutes;if(t>=0&&t<60&&""!==e.minutes)return t}function l(){var t=+e.seconds;return t>=0&&t<60?t:void 0}function c(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function p(e){f(),T.$setViewValue(new Date(x)),d(e)}function f(){y&&y.$setValidity("hours",!0),b&&b.$setValidity("minutes",!0),E&&E.$setValidity("seconds",!0),T.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function d(t){if(T.$modelValue){var r=x.getHours(),n=x.getMinutes(),i=x.getSeconds();e.showMeridian&&(r=0===r||12===r?12:r%12),e.hours="h"===t?r:c(r,!w),"m"!==t&&(e.minutes=c(n)),e.meridian=x.getHours()<12?I[0]:I[1],"s"!==t&&(e.seconds=c(i)),e.meridian=x.getHours()<12?I[0]:I[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=I[0]}function h(e){x=g(x,e),p()}function v(e,t){return g(e,60*t)}function g(e,t){var r=new Date(e.getTime()+1e3*t),n=new Date(e);return n.setHours(r.getHours(),r.getMinutes(),r.getSeconds()),n}function m(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}var y,b,E,x=new Date,S=[],T={$setViewValue:angular.noop},I=angular.isDefined(r.meridians)?e.$parent.$eval(r.meridians):s.meridians||o.DATETIME_FORMATS.AMPMS,w=!angular.isDefined(r.padHours)||e.$parent.$eval(r.padHours);e.tabindex=angular.isDefined(r.tabindex)?r.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,n){T=t,T.$render=this.render,T.$formatters.unshift(function(e){return e?new Date(e):null});var i=n.eq(0),o=n.eq(1),a=n.eq(2);y=i.controller("ngModel"),b=o.controller("ngModel"),E=a.controller("ngModel"),(angular.isDefined(r.mousewheel)?e.$parent.$eval(r.mousewheel):s.mousewheel)&&this.setupMousewheelEvents(i,o,a),(angular.isDefined(r.arrowkeys)?e.$parent.$eval(r.arrowkeys):s.arrowkeys)&&this.setupArrowkeyEvents(i,o,a),e.readonlyInput=angular.isDefined(r.readonlyInput)?e.$parent.$eval(r.readonlyInput):s.readonlyInput,this.setupInputEvents(i,o,a)};var C=s.hourStep;r.hourStep&&S.push(e.$parent.$watch(n(r.hourStep),function(e){C=+e}));var A=s.minuteStep;r.minuteStep&&S.push(e.$parent.$watch(n(r.minuteStep),function(e){A=+e}));var N;S.push(e.$parent.$watch(n(r.min),function(e){var t=new Date(e);N=isNaN(t)?void 0:t}));var L;S.push(e.$parent.$watch(n(r.max),function(e){var t=new Date(e);L=isNaN(t)?void 0:t}));var R=!1;r.ngDisabled&&S.push(e.$parent.$watch(n(r.ngDisabled),function(e){R=e})),e.noIncrementHours=function(){var e=v(x,60*C);return R||e>L||e<x&&e<N},e.noDecrementHours=function(){var e=v(x,60*-C);return R||e<N||e>x&&e>L},e.noIncrementMinutes=function(){var e=v(x,A);return R||e>L||e<x&&e<N},e.noDecrementMinutes=function(){var e=v(x,-A);return R||e<N||e>x&&e>L},e.noIncrementSeconds=function(){var e=g(x,_);return R||e>L||e<x&&e<N},e.noDecrementSeconds=function(){var e=g(x,-_);return R||e<N||e>x&&e>L},e.noToggleMeridian=function(){return x.getHours()<12?R||v(x,720)>L:R||v(x,-720)<N};var _=s.secondStep;r.secondStep&&S.push(e.$parent.$watch(n(r.secondStep),function(e){_=+e})),e.showSeconds=s.showSeconds,r.showSeconds&&S.push(e.$parent.$watch(n(r.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=s.showMeridian,r.showMeridian&&S.push(e.$parent.$watch(n(r.showMeridian),function(t){if(e.showMeridian=!!t,T.$error.time){var r=a(),n=u();angular.isDefined(r)&&angular.isDefined(n)&&(x.setHours(r),p())}else d()})),this.setupMousewheelEvents=function(t,r,n){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.on("mousewheel wheel",function(t){R||e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),r.on("mousewheel wheel",function(t){R||e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),n.on("mousewheel wheel",function(t){R||e.$apply(i(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,r,n){t.on("keydown",function(t){R||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),r.on("keydown",function(t){R||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),n.on("keydown",function(t){R||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,r,n){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var i=function(t,r,n){T.$setViewValue(null),T.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t,y&&y.$setValidity("hours",!1)),angular.isDefined(r)&&(e.invalidMinutes=r,b&&b.$setValidity("minutes",!1)),angular.isDefined(n)&&(e.invalidSeconds=n,E&&E.$setValidity("seconds",!1))};e.updateHours=function(){var e=a(),t=u();T.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(x.setHours(e),x.setMinutes(t),x<N||x>L?i(!0):p("h")):i(!0)},t.on("blur",function(t){T.$setTouched(),m()?f():null===e.hours||""===e.hours?i(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=c(e.hours,!w)})}),e.updateMinutes=function(){var e=u(),t=a();T.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(x.setHours(t),x.setMinutes(e),x<N||x>L?i(void 0,!0):p("m")):i(void 0,!0)},r.on("blur",function(t){T.$setTouched(),m()?f():null===e.minutes?i(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=c(e.minutes)})}),e.updateSeconds=function(){var e=l();T.$setDirty(),angular.isDefined(e)?(x.setSeconds(e),p("s")):i(void 0,void 0,!0)},n.on("blur",function(t){m()?f():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=c(e.seconds)})})},this.render=function(){var t=T.$viewValue;isNaN(t)?(T.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(x=t),x<N||x>L?(T.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):f(),d())},e.showSpinners=angular.isDefined(r.showSpinners)?e.$parent.$eval(r.showSpinners):s.showSpinners,e.incrementHours=function(){e.noIncrementHours()||h(60*C*60)},e.decrementHours=function(){e.noDecrementHours()||h(60*-C*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||h(60*A)},e.decrementMinutes=function(){e.noDecrementMinutes()||h(60*-A)},e.incrementSeconds=function(){e.noIncrementSeconds()||h(_)},e.decrementSeconds=function(){e.noDecrementSeconds()||h(-_)},e.toggleMeridian=function(){var t=u(),r=a();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(r)?h(720*(x.getHours()<12?60:-60)):e.meridian=e.meridian===I[0]?I[1]:I[0])},e.blur=function(){T.$setTouched()},e.$on("$destroy",function(){for(;S.length;)S.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,r){return r.templateUrl||e.templateUrl},link:function(e,t,r,n){var i=n[0],o=n[1];o&&i.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(r){var n=r.match(t);if(!n)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+r+'".');return{itemName:n[3],source:e(n[4]),viewMapper:e(n[2]||n[1]),modelMapper:e(n[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,r,n,i,o,s,a,u,l,c,p,f){function d(){B.moveInProgress||(B.moveInProgress=!0,B.$digest()),K()}function h(){B.position=R?p.offset(t):p.position(t),B.position.top+=t.prop("offsetHeight")}function v(e){var t;return angular.version.minor<6?(t=e.$options||{},t.getOption=function(e){return t[e]}):t=e.$options,t}var g,m,y=[9,13,27,38,40],b=e.$eval(r.typeaheadMinLength);b||0===b||(b=1),e.$watch(r.typeaheadMinLength,function(e){b=e||0===e?e:1});var E=e.$eval(r.typeaheadWaitMs)||0,x=!1!==e.$eval(r.typeaheadEditable);e.$watch(r.typeaheadEditable,function(e){x=!1!==e});var S,T,I=i(r.typeaheadLoading).assign||angular.noop,w=r.typeaheadShouldSelect?i(r.typeaheadShouldSelect):function(e,t){var r=t.$event;return 13===r.which||9===r.which},C=i(r.typeaheadOnSelect),A=!!angular.isDefined(r.typeaheadSelectOnBlur)&&e.$eval(r.typeaheadSelectOnBlur),N=i(r.typeaheadNoResults).assign||angular.noop,L=r.typeaheadInputFormatter?i(r.typeaheadInputFormatter):void 0,R=!!r.typeaheadAppendToBody&&e.$eval(r.typeaheadAppendToBody),_=r.typeaheadAppendTo?e.$eval(r.typeaheadAppendTo):null,k=!1!==e.$eval(r.typeaheadFocusFirst),O=!!r.typeaheadSelectOnExact&&e.$eval(r.typeaheadSelectOnExact),P=i(r.typeaheadIsOpen).assign||angular.noop,D=e.$eval(r.typeaheadShowHint)||!1,F=i(r.ngModel),j=i(r.ngModel+"($$$p)"),M=function(t,r){return angular.isFunction(F(e))&&m.getOption("getterSetter")?j(t,{$$$p:r}):F.assign(t,r)},$=f.parse(r.uibTypeahead),B=e.$new(),U=e.$on("$destroy",function(){B.$destroy()});B.$on("$destroy",U);var G="typeahead-"+B.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":G});var H,q;D&&(H=angular.element("<div></div>"),H.css("position","relative"),t.after(H),q=t.clone(),q.attr("placeholder",""),q.attr("tabindex","-1"),q.val(""),q.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),q.attr("id")&&q.removeAttr("id"),H.append(q),q.after(t));var V=angular.element("<div uib-typeahead-popup></div>");V.attr({id:G,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(r.typeaheadTemplateUrl)&&V.attr("template-url",r.typeaheadTemplateUrl),angular.isDefined(r.typeaheadPopupTemplateUrl)&&V.attr("popup-template-url",r.typeaheadPopupTemplateUrl);var Q=function(){D&&q.val("")},W=function(){B.matches=[],B.activeIdx=-1,t.attr("aria-expanded",!1),Q()},z=function(e){return G+"-option-"+e};B.$watch("activeIdx",function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",z(e))});var X=function(e,t){return!!(B.matches.length>t&&e)&&e.toUpperCase()===B.matches[t].label.toUpperCase()},Y=function(r,n){var i={$viewValue:r};I(e,!0),N(e,!1),o.when($.source(e,i)).then(function(o){var s=r===g.$viewValue;if(s&&S)if(o&&o.length>0){B.activeIdx=k?0:-1,N(e,!1),B.matches.length=0;for(var a=0;a<o.length;a++)i[$.itemName]=o[a],B.matches.push({id:z(a),label:$.viewMapper(B,i),model:o[a]});if(B.query=r,h(),t.attr("aria-expanded",!0),O&&1===B.matches.length&&X(r,0)&&(angular.isNumber(B.debounceUpdate)||angular.isObject(B.debounceUpdate)?c(function(){B.select(0,n)},angular.isNumber(B.debounceUpdate)?B.debounceUpdate:B.debounceUpdate.default):B.select(0,n)),D){var u=B.matches[0].label;angular.isString(r)&&r.length>0&&u.slice(0,r.length).toUpperCase()===r.toUpperCase()?q.val(r+u.slice(r.length)):q.val("")}}else W(),N(e,!0);s&&I(e,!1)},function(){W(),I(e,!1),N(e,!0)})};R&&(angular.element(u).on("resize",d),a.find("body").on("scroll",d));var K=c(function(){B.matches.length&&h(),B.moveInProgress=!1},200);B.moveInProgress=!1,B.query=void 0;var J,Z=function(e){J=s(function(){Y(e)},E)},ee=function(){J&&s.cancel(J)};W(),B.assignIsOpen=function(t){P(e,t)},B.select=function(n,i){var o,a,u={};T=!0,u[$.itemName]=a=B.matches[n].model,o=$.modelMapper(e,u),M(e,o),g.$setValidity("editable",!0),g.$setValidity("parse",!0),C(e,{$item:a,$model:o,$label:$.viewMapper(e,u),$event:i}),W(),!1!==B.$eval(r.typeaheadFocusOnSelect)&&s(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==B.matches.length&&-1!==y.indexOf(t.which)){var r=w(e,{$event:t});if(-1===B.activeIdx&&r||9===t.which&&t.shiftKey)return W(),void B.$digest();t.preventDefault();var n;switch(t.which){case 27:t.stopPropagation(),W(),e.$digest();break;case 38:B.activeIdx=(B.activeIdx>0?B.activeIdx:B.matches.length)-1,B.$digest(),n=V[0].querySelectorAll(".uib-typeahead-match")[B.activeIdx],n.parentNode.scrollTop=n.offsetTop;break;case 40:B.activeIdx=(B.activeIdx+1)%B.matches.length,B.$digest(),n=V[0].querySelectorAll(".uib-typeahead-match")[B.activeIdx],n.parentNode.scrollTop=n.offsetTop;break;default:r&&B.$apply(function(){angular.isNumber(B.debounceUpdate)||angular.isObject(B.debounceUpdate)?c(function(){B.select(B.activeIdx,t)},angular.isNumber(B.debounceUpdate)?B.debounceUpdate:B.debounceUpdate.default):B.select(B.activeIdx,t)})}}}),t.on("focus",function(e){S=!0,0!==b||g.$viewValue||s(function(){Y(g.$viewValue,e)},0)}),t.on("blur",function(e){A&&B.matches.length&&-1!==B.activeIdx&&!T&&(T=!0,B.$apply(function(){angular.isObject(B.debounceUpdate)&&angular.isNumber(B.debounceUpdate.blur)?c(function(){B.select(B.activeIdx,e)},B.debounceUpdate.blur):B.select(B.activeIdx,e)})),!x&&g.$error.editable&&(g.$setViewValue(),B.$apply(function(){g.$setValidity("editable",!0),g.$setValidity("parse",!0)}),t.val("")),S=!1,T=!1});var te=function(r){t[0]!==r.target&&3!==r.which&&0!==B.matches.length&&(W(),l.$$phase||e.$digest())};a.on("click",te),e.$on("$destroy",function(){a.off("click",te),(R||_)&&re.remove(),R&&(angular.element(u).off("resize",d),a.find("body").off("scroll",d)),V.remove(),D&&H.remove()});var re=n(V)(B);R?a.find("body").append(re):_?angular.element(_).eq(0).append(re):t.after(re),this.init=function(t){g=t,m=v(g),B.debounceUpdate=i(m.getOption("debounce"))(e),g.$parsers.unshift(function(t){return S=!0,0===b||t&&t.length>=b?E>0?(ee(),Z(t)):Y(t):(I(e,!1),ee(),W()),x?t:t?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)}),g.$formatters.push(function(t){var r,n,i={};return x||g.$setValidity("editable",!0),L?(i.$model=t,L(e,i)):(i[$.itemName]=t,r=$.viewMapper(e,i),i[$.itemName]=void 0,n=$.viewMapper(e,i),r!==n?r:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(e,t,r,n){n[1].init(n[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,r,n){t.templateUrl=n.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(r,n){var i=t.debounce();angular.isNumber(i)||angular.isObject(i)?e(function(){t.select({activeIdx:r,evt:n})},angular.isNumber(i)?i:i.default):t.select({activeIdx:r,evt:n})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,r){return{scope:{index:"=",match:"=",query:"="},link:function(n,i,o){var s=r(o.templateUrl)(n.$parent)||"uib/template/typeahead/typeahead-match.html";e(s).then(function(e){var r=angular.element(e.trim());i.replaceWith(r),t(r)(n)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,r){function n(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,s){return!o&&i(t)&&r.warn("Unsafe use of typeahead please use ngSanitize"),t=s?(""+t).replace(new RegExp(n(s),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0})},function(e,t,r){"use strict";function n(e){var t,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e="("+r[1]+")"),!(t=e.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1]||null,paramExpr:t[3]||null}}function i(e){var t=e.parent().inheritedData("$uiView"),r=f.parse("$cfg.path")(t);return r?f.tail(r).state.name:void 0}function o(e,t,r){var n=r.uiState||e.current.name,i=f.extend(u(t,e),r.uiStateOpts||{}),o=e.href(n,r.uiStateParams,i);return{uiState:n,uiStateParams:r.uiStateParams,uiStateOpts:i,href:o}}function s(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),r="FORM"===e[0].nodeName;return{attr:r?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!r}}function a(e,t,r,n,i){return function(o){var s=o.which||o.button,a=i();if(!(s>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var u=r(function(){t.go(a.uiState,a.uiStateParams,a.uiStateOpts)});o.preventDefault();var l=n.isAnchor&&!a.href?1:0;o.preventDefault=function(){l--<=0&&r.cancel(u)}}}}function u(e,t){return{relative:i(e)||t.$current,inherit:!0,source:"sref"}}function l(e,t,r,n){var i;n&&(i=n.events),f.isArray(i)||(i=["click"]);for(var o=e.on?"on":"bind",s=0,a=i;s<a.length;s++){var u=a[s];e[o](u,r)}t.$on("$destroy",function(){for(var t=e.off?"off":"unbind",n=0,o=i;n<o.length;n++){var s=o[n];e[t](s,r)}})}Object.defineProperty(t,"__esModule",{value:!0});var c,p=r(42),f=r(15);c=["$uiRouter","$timeout",function(e,t){var r=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,u,c,p){function d(){var e=b();m&&m(),g&&(m=g.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&c.$set(v.attr,e.href)}var h,v=s(u),g=p[1]||p[0],m=null,y={},b=function(){return o(r,u,y)},E=n(c.uiSref);y.uiState=E.state,y.uiStateOpts=c.uiSrefOpts?i.$eval(c.uiSrefOpts):{},E.paramExpr&&(i.$watch(E.paramExpr,function(e){y.uiStateParams=f.extend({},e),d()},!0),y.uiStateParams=f.extend({},i.$eval(E.paramExpr))),d(),i.$on("$destroy",e.stateRegistry.onStatesChanged(d)),i.$on("$destroy",e.transitionService.onSuccess({},d)),v.clickable&&(h=a(u,r,t,v,b),l(u,i,h,y.uiStateOpts))}}}];var d;d=["$uiRouter","$timeout",function(e,t){var r=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,u,c){function p(){var e=y();g&&g(),v&&(g=v.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&u.$set(h.attr,e.href)}var d,h=s(i),v=c[1]||c[0],g=null,m={},y=function(){return o(r,i,m)},b=["uiState","uiStateParams","uiStateOpts"],E=b.reduce(function(e,t){return e[t]=f.noop,e},{});b.forEach(function(e){m[e]=u[e]?n.$eval(u[e]):null,u.$observe(e,function(t){E[e](),E[e]=n.$watch(t,function(t){m[e]=t,p()},!0)})}),p(),n.$on("$destroy",e.stateRegistry.onStatesChanged(p)),n.$on("$destroy",e.transitionService.onSuccess({},p)),h.clickable&&(d=a(i,r,t,h,y),l(i,n,d,m.uiStateOpts))}}}];var h;h=["$state","$stateParams","$interpolate","$uiRouter",function(e,t,r,o){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,s,a){function u(e){e.promise.then(c)}function l(t,r,n){var o=e.get(t,i(s)),a={state:o||{name:t},params:r,activeClass:n};return h.push(a),function(){f.removeFrom(h)(a)}}function c(){var r=function(e){return e.split(/\s/).filter(f.identity)},n=function(e){return e.map(function(e){return e.activeClass}).map(r).reduce(f.unnestR,[])},i=n(h).concat(r(p)).reduce(f.uniqR,[]),o=n(h.filter(function(t){return e.includes(t.state.name,t.params)})),a=!!h.filter(function(t){return e.is(t.state.name,t.params)}).length,u=a?r(p):[],l=o.concat(u).reduce(f.uniqR,[]),c=i.filter(function(e){return!f.inArray(l,e)});t.$evalAsync(function(){l.forEach(function(e){return s.addClass(e)}),c.forEach(function(e){return s.removeClass(e)})})}var p,d,h=[];p=r(a.uiSrefActiveEq||"",!1)(t);try{d=t.$eval(a.uiSrefActive)}catch(e){}d=d||r(a.uiSrefActive||"",!1)(t),f.isObject(d)&&f.forEach(d,function(e,r){if(f.isString(e)){var i=n(e);l(i.state,t.$eval(i.paramExpr),r)}}),this.$$addStateInfo=function(e,t){if(!(f.isObject(d)&&h.length>0)){var r=l(e,t,d);return c(),r}},t.$on("$stateChangeSuccess",c),t.$on("$destroy",o.transitionService.onStart({},u)),o.globals.transition&&u(o.globals.transition),c()}]}}],p.ng.module("ui.router.state").directive("uiSref",c).directive("uiSrefActive",h).directive("uiSrefActiveEq",h).directive("uiState",d)},function(e,t,r){"use strict";function n(e,t,r,n,u,c){var p=a.parse("viewDecl.controllerAs"),f=a.parse("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(n){var c=n.html();return n.empty(),function(n,d){var h=d.data("$uiView");if(!h)return d.html(c),void e(d.contents())(n);var v=h.$cfg||{viewDecl:{},getTemplate:s.noop},g=v.path&&new a.ResolveContext(v.path);d.html(v.getTemplate(d,g)||c),a.trace.traceUIViewFill(h.$uiView,d.html());var m=e(d.contents()),y=v.controller,b=p(v),E=f(v),x=g&&l.getLocals(g);if(n[E]=x,y){var S=t(y,a.extend({},x,{$scope:n,$element:d}));b&&(n[b]=S,n[b][E]=x),d.data("$ngControllerController",S),d.children().data("$ngControllerController",S),i(u,r,S,n,v)}if(a.isString(v.viewDecl.component))var T=v.viewDecl.component,I=a.kebobString(T),w=new RegExp("^(x-|data-)?"+I+"$","i"),C=function(){var e=[].slice.call(d[0].children).filter(function(e){return e&&e.tagName&&w.exec(e.tagName)});return e&&o.ng.element(e).data("$"+T+"Controller")},A=n.$watch(C,function(e){e&&(i(u,r,e,n,v),A())});m(n)}}}}function i(e,t,r,n,i){!a.isFunction(r.$onInit)||i.viewDecl.component&&c||r.$onInit();var o=a.tail(i.path).state.self,s={bind:r};if(a.isFunction(r.uiOnParamsChanged)){var u=new a.ResolveContext(i.path),l=u.getResolvable("$transition$").data,f=function(e){if(e!==l&&-1===e.exiting().indexOf(o)){var t=e.params("to"),n=e.params("from"),i=e.treeChanges().to.map(function(e){return e.paramSchema}).reduce(a.unnestR,[]),s=e.treeChanges().from.map(function(e){return e.paramSchema}).reduce(a.unnestR,[]),u=i.filter(function(e){var r=s.indexOf(e);return-1===r||!s[r].type.equals(t[e.id],n[e.id])});if(u.length){var c=u.map(function(e){return e.id}),p=a.filter(t,function(e,t){return-1!==c.indexOf(t)});r.uiOnParamsChanged(p,e)}}};n.$on("$destroy",t.onSuccess({},f,s))}if(a.isFunction(r.uiCanExit)){var d=p++,h=function(e){return!!e&&(e._uiCanExitIds&&!0===e._uiCanExitIds[d]||h(e.redirectedFrom()))},v=function(t){var n,i=t._uiCanExitIds=t._uiCanExitIds||{};return h(t)||(n=e.when(r.uiCanExit(t)),n.then(function(e){return i[d]=!1!==e})),n},g={exiting:o.name};n.$on("$destroy",t.onBefore(g,v,s))}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(42),s=r(0),a=r(15),u=r(94),l=r(93);t.uiView=["$view","$animate","$uiViewScroll","$interpolate","$q",function(e,t,r,n,i){function s(e,r){return{enter:function(e,r,n){o.ng.version.minor>2?t.enter(e,null,r).then(n):t.enter(e,null,r,n)},leave:function(e,r){o.ng.version.minor>2?t.leave(e).then(r):t.leave(e,r)}}}function l(e,t){return e===t}var c={$cfg:{viewDecl:{$context:e._pluginapi._rootViewContext()}},$uiView:{}},p={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(t,o,f){return function(t,o,d){function h(e){(!e||e instanceof u.Ng1ViewConfig)&&(l(I,e)||(a.trace.traceUIViewConfigUpdated(A,e&&e.viewDecl&&e.viewDecl.$context),I=e,g(e)))}function v(){if(m&&(a.trace.traceUIViewEvent("Removing (previous) el",m.data("$uiView")),m.remove(),m=null),b&&(a.trace.traceUIViewEvent("Destroying scope",A),b.$destroy(),b=null),y){var e=y.data("$uiViewAnim");a.trace.traceUIViewEvent("Animate out",e),T.leave(y,function(){e.$$animLeave.resolve(),m=null}),m=y,y=null}}function g(e){var n=t.$new(),s=i.defer(),u=i.defer(),l={$cfg:e,$uiView:A},c={$animEnter:s.promise,$animLeave:u.promise,$$animLeave:u};n.$emit("$viewContentLoading",C);var p=f(n,function(e){e.data("$uiViewAnim",c),e.data("$uiView",l),T.enter(e,o,function(){s.resolve(),b&&b.$emit("$viewContentAnimationEnded"),(a.isDefined(S)&&!S||t.$eval(S))&&r(e)}),v()});y=p,b=n,b.$emit("$viewContentLoaded",e||I),b.$eval(x)}var m,y,b,E,x=d.onload||"",S=d.autoscroll,T=s(d,t),I=void 0,w=o.inheritedData("$uiView")||c,C=n(d.uiView||d.name||"")(t)||"$default",A={$type:"ng1",id:p.count++,name:C,fqn:w.$uiView.fqn?w.$uiView.fqn+"."+C:C,config:null,configUpdated:h,get creationContext(){var e=a.parse("$cfg.viewDecl.$context")(w),t=a.parse("$uiView.creationContext")(w);return e||t}};a.trace.traceUIViewEvent("Linking",A),o.data("$uiView",{$uiView:A}),g(),E=e.registerUIView(A),t.$on("$destroy",function(){a.trace.traceUIViewEvent("Destroying/Unregistering",A),E()})}}};return p}],n.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var c="function"==typeof o.ng.module("ui.router").component,p=0;o.ng.module("ui.router.state").directive("uiView",t.uiView),o.ng.module("ui.router.state").directive("uiView",n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),i=function(){function e(e){this._urlListeners=[],this.$locationProvider=e;var t=n.val(e);n.createProxyFunctions(t,this,t,["hashPrefix"])}return e.prototype.dispose=function(){},e.prototype.onChange=function(e){var t=this;return this._urlListeners.push(e),function(){return n.removeFrom(t._urlListeners)(e)}},e.prototype.html5Mode=function(){var e=this.$locationProvider.html5Mode();return(e=n.isObject(e)?e.enabled:e)&&this.$sniffer.history},e.prototype.url=function(e,t,r){return void 0===t&&(t=!1),e&&this.$location.url(e),t&&this.$location.replace(),r&&this.$location.state(r),this.$location.url()},e.prototype._runtimeServices=function(e,t,r,i){var o=this;this.$location=t,this.$sniffer=r,e.$on("$locationChangeSuccess",function(e){return o._urlListeners.forEach(function(t){return t(e)})});var s=n.val(t),a=n.val(i);n.createProxyFunctions(s,this,s,["replace","path","search","hash"]),n.createProxyFunctions(s,this,s,["port","protocol","host"]),n.createProxyFunctions(a,this,a,["baseHref"])},e.monkeyPatchPathParameterType=function(e){var t=e.urlMatcherFactory.type("path");t.encode=function(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e},t.decode=function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}},e}();t.Ng1LocationServices=i},function(e,t,r){"use strict";function n(e){var t=function(t,r,n){return e.is(t,r,n)};return t.$stateful=!0,t}function i(e){var t=function(t,r,n){return e.includes(t,r,n)};return t.$stateful=!0,t}Object.defineProperty(t,"__esModule",{value:!0});var o=r(42);n.$inject=["$state"],t.$IsStateFilter=n,i.$inject=["$state"],t.$IncludedByStateFilter=i,o.ng.module("ui.router.state").filter("isState",n).filter("includedByState",i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),i=r(93);t.getStateHookBuilder=function(e){return function(t,r){function o(e,t){var r=new n.ResolveContext(e.treeChanges(a)),o=n.extend(i.getLocals(r),{$state$:t,$transition$:e});return n.services.$injector.invoke(s,this,o)}var s=t[e],a="onExit"===e?"from":"to";return s?o:void 0}}},function(e,t,r){"use strict";function n(e){var t=o.services.$injector.get(e+"Directive");if(!t||!t.length)throw new Error("Unable to find component named '"+e+"'");return t.map(a).reduce(o.unnestR,[])}Object.defineProperty(t,"__esModule",{value:!0});var i=r(42),o=r(15),s=function(){function e(){var e=this;this._useHttp=i.ng.version.minor<3,this.$get=["$http","$templateCache","$injector",function(t,r,n){return e.$templateRequest=n.has&&n.has("$templateRequest")&&n.get("$templateRequest"),e.$http=t,e.$templateCache=r,e}]}return e.prototype.useHttpService=function(e){this._useHttp=e},e.prototype.fromConfig=function(e,t,r){var n=function(e){return o.services.$q.when(e).then(function(e){return{template:e}})},i=function(e){return o.services.$q.when(e).then(function(e){return{component:e}})};return o.isDefined(e.template)?n(this.fromString(e.template,t)):o.isDefined(e.templateUrl)?n(this.fromUrl(e.templateUrl,t)):o.isDefined(e.templateProvider)?n(this.fromProvider(e.templateProvider,t,r)):o.isDefined(e.component)?i(e.component):o.isDefined(e.componentProvider)?i(this.fromComponentProvider(e.componentProvider,t,r)):n("<ui-view></ui-view>")},e.prototype.fromString=function(e,t){return o.isFunction(e)?e(t):e},e.prototype.fromUrl=function(e,t){return o.isFunction(e)&&(e=e(t)),null==e?null:this._useHttp?this.$http.get(e,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(e){return e.data}):this.$templateRequest(e)},e.prototype.fromProvider=function(e,t,r){var n=o.services.$injector.annotate(e),i=o.isArray(e)?o.tail(e):e;return new o.Resolvable("",i,n).get(r)},e.prototype.fromComponentProvider=function(e,t,r){var n=o.services.$injector.annotate(e),i=o.isArray(e)?o.tail(e):e;return new o.Resolvable("",i,n).get(r)},e.prototype.makeComponentTemplate=function(e,t,r,s){s=s||{};var a=i.ng.version.minor>=3?"::":"",u=function(e){var t=o.kebobString(e);return/^(x|data)-/.exec(t)?"x-"+t:t},l=function(r){var n=r.name,i=r.type,l=u(n);if(e.attr(l)&&!s[n])return l+"='"+e.attr(l)+"'";var c=s[n]||n;if("@"===i)return l+"='{{"+a+"$resolve."+c+"}}'";if("&"===i){var p=t.getResolvable(c),f=p&&p.data,d=f&&o.services.$injector.annotate(f)||[];return l+"='$resolve."+c+(o.isArray(f)?"["+(f.length-1)+"]":"")+"("+d.join(",")+")'"}return l+"='"+a+"$resolve."+c+"'"},c=n(r).map(l).join(" "),p=u(r);return"<"+p+" "+c+"></"+p+">"},e}();t.TemplateFactory=s;var a=function(e){return u(o.isObject(e.bindToController)?e.bindToController:e.scope)},u=function(e){return Object.keys(e||{}).map(function(t){return[t,/^([=<@&])[?]?(.*)/.exec(e[t])]}).filter(function(e){return o.isDefined(e)&&o.isArray(e[1])}).map(function(e){return{name:e[1][2]||e[0],type:e[1][1]}})}},function(e,t,r){"use strict";function n(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,r){return e?t:function(e){return r(function(){e[0].scrollIntoView()},0,!1)}}]}Object.defineProperty(t,"__esModule",{value:!0}),r(42).ng.module("ui.router.state").provider("$uiViewScroll",n)},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(0),s=(r.n(o),function e(){i()(this,e),this.bindings={citable:"<",noLink:"@"},this.template=r(401)()});o.module("fibra.components.citable",[]).component("citable",new s)},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(96),s=r(73),a=r(6),u=r(0),l=(r.n(u),function(){function e(t,n,u,l,c,p){var f=this;if(i()(this,e),this.$q=t,this.projectService=n,this.sparqlTreeService=l,this.$state=p,this.primaryEndpointConfigurations=[],this.statistics={},this.selectedAuthorities={},this.selectedArchives={},this.selectedSchemas={},this.schemas=[],this.authorities=[],this.archives=[],this.projectSources=n.getProjectSources(),this.projectSource=this.projectSources.find(function(e){return e.id===c.sourceId}),c.id)n.loadProject(this.projectSource,c.id,!1).then(function(e){f.project=e,f.selectedTemplate=e.asTemplate()});else{var d="http://ldf.fi/fibra/project_"+r.i(s.b)();this.project=new o.a(d),this.project.labels=[a.a.literal("",u.getState().language)],this.project.descriptions=[a.a.literal("",u.getState().language)],this.project.source=this.projectSource,this.project.endpoint=this.projectSource.sparqlEndpoint,this.project.updateEndpoint=this.projectSource.updateEndpoint,this.project.graphStoreEndpoint=this.projectSource.graphStoreEndpoint,this.project.graph=d}this.projectSources.forEach(function(e){n.listPrimaryEndpointConfigurations(e).then(function(e){if(!f.selectedTemplate){var t=e.find(function(e){return void 0!==e.compatibleEndpoints.find(function(e){return e===f.projectSource.type})});t&&(f.selectedTemplate=t,f.changeTemplate())}f.primaryEndpointConfigurations=f.primaryEndpointConfigurations.concat(e)}),n.listAuthorityEndpointConfigurations(e).then(function(e){return f.authorities=f.authorities.concat(e)}),n.listArchiveEndpointConfigurations(e).then(function(e){return f.archives=f.archives.concat(e)}),n.listSchemas(e).then(function(e){return f.schemas=f.schemas.concat(e)})})}return e.$inject=["$q","projectService","fibraService","sparqlTreeService","$stateParams","$state"],e.prototype.saveAndOpen=function(){var e=this;this.project.authorityEndpoints=this.authorities.filter(function(t){return e.selectedAuthorities[t.id]}),this.project.archiveEndpoints=this.archives.filter(function(t){return e.selectedArchives[t.id]}),this.project.schemas=this.schemas.filter(function(t){return e.selectedSchemas[t.id]}),this.projectService.saveCitable(this.projectSource.updateEndpoint,this.projectSource.graphStoreEndpoint,this.project).then(function(){return e.$state.go("construct",{id:e.project.id,sparqlEndpoint:e.project.source.sparqlEndpoint,graph:e.project.source.graph})})},e.prototype.delete=function(){var e=this;this.projectService.deleteCitable(this.projectSource.updateEndpoint,this.project).then(function(){return e.$state.go("projects")})},e.prototype.changeTemplate=function(){this.project&&this.selectedTemplate.copyToProject(this.project)},e}()),c=function e(){i()(this,e),this.controller=l,this.template=r(402)()};u.module("fibra.components.configure",["fibra.services"]).component("configureView",new c)},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(57),s=r(0),a=(r.n(s),r(29)),u=r(28),l=function(){function e(t,r,n,s,l){var c=this;i()(this,e),this.sparqlTreeService=t,this.projectService=r,this.fibraService=n,this.$ngRedux=s,this.$q=l,this.paletteDisplay=!0,this.limitFilter="";var p=s.connect(this.mapTypesToThis,a)(this),f=s.connect(this.mapItemsToThis,u)(this);this.unsubscribe=function(){p(),f()};var d=r.getCurrentProject();this.currentProjectSource=r.getProjectSources().find(function(e){return e.sparqlEndpoint===d.source.sparqlEndpoint&&e.graph===d.source.graph}),n.on("change",function(){var e=n.getState().construct.displayTypes;return c.limitFilter="",e.forEach(function(e){e&&(c.limitFilter+="<"+e.id+">,")}),0!==c.limitFilter.length&&(c.limitFilter="FILTER (?groupId IN ("+c.limitFilter.substring(0,c.limitFilter.length-1)+"))"),c.$q.resolve("ok")}),this.classTreePromise=t.getTree(this.fibraService.getState().project.endpoint,this.fibraService.getState().project.treeQuery),this.classTreePromise.then(function(e){c.classTree=e,c.clearTypes(),c.traverseClassTree(e,function(e){return-1===c.types.types.indexOf(e)&&0===e.children.length},function(e){return c.addType(e)})}),this.fibraService.on("change",function(){return c.classTreePromise=t.getTree(c.fibraService.getState().project.endpoint,o.a.getClassTreeQuery),c.classTreePromise.then(function(e){return c.classTree=e,"ok"})}),this.fibraService.on("action",function(){return c.state=n.getState(),c.$q.resolve("ok")}),this.state=n.getState()}return e.$inject=["sparqlTreeService","projectService","fibraService","$ngRedux","$q"],e.prototype.createItem=function(e){var t=e.additionalInformation.type[0]?e.additionalInformation.type[0].value:"",r=this.types.types.filter(function(e){return e.id===t})[0],n=this.fibraService.getState().construct.displayTypes;if(!n[0]&&r)this.setOrderedTypes([r]);else if(!n[1]&&r&&n[0]!==r){var i=n.concat([]);i.push(r),this.setOrderedTypes(i)}return this.fibraService.dispatchAction(this.displayItem(e.ids[0]))},e.prototype.downloadRDF=function(){var e=this.fibraService.getState().project.graph,t="http://ldf.fi/fibra/sparql?graph="+e,r=new XMLHttpRequest;r.open("GET",t,!0),r.onload=function(e){if(4===r.readyState)if(200===r.status){var t=r.responseText,n=document.createElement("a");n.href="data:application/rdf+xml;charset=utf-8,"+t,n.download="fibra.ttl",document.body.appendChild(n),n.click(),document.body.removeChild(n)}else console.error(r.statusText)},r.send(null)},e.prototype.$onDestroy=function(){this.unsubscribe()},e.prototype.mapTypesToThis=function(e){return{types:e.types}},e.prototype.mapItemsToThis=function(e){return{items:e.items}},e.prototype.traverseClassTree=function(e,t,r){var n=function e(n){t(n)&&(r(n),n.children.forEach(e))};e.forEach(n)},e}(),c=function e(){i()(this,e),this.controller=l,this.template=r(403)()};s.module("fibra.components.construct-view",["fibra.services"]).component("constructView",new c)},function(e,t,r){"use strict";var n=r(44),i=r.n(n),o=r(1),s=r.n(o),a=r(16),u=r(266),l=r(159),c=r(63),p=(r.n(c),r(6)),f=r(0),d=(r.n(f),r(71)),h=r(29),v=r(28),g=function(){function e(t,r,n,i,o,a,p,f,g){var m=this;s()(this,e),this.$element=t,this.$compile=r,this.$window=n,this.$scope=i,this.$timeout=o,this.sparqlItemService=a,this.fibraService=p,this.$ngRedux=f,this.$q=g,this.primaryItems=[],this.secondaryItems=[],this.tertiaryItems=[],this.untypedItems=[],this.removedUntypedItems=[],this.allItems=[],this.radiusInitial=1,this.radius=8,this.radiusBounce=15,this.gridOffset=50,this.chargeForce=c.forceCollide(this.gridOffset/1.5),this.chargeForce2=c.forceCollide(this.gridOffset/1.5),this.svgBackgroundColor="#EEE",this.lastClickX=0,this.lastClickY=0;var y=f.connect(this.mapVerifyToThis,d)(this),b=f.connect(this.mapTypesToThis,h)(this),E=f.connect(this.mapItemsToThis,v)(this);this.unsubscribe=function(){y(),b(),E()},this.sunburst=new u.a(t,r,i,a,p,this.displayItem,this.displayItems),this.propertyPopover=new l.a(t,i,p,r),this.fibraService.on("change",function(){return m.queryAndBuild()}),this.itemService=a,this.links=[],this.$scope.layout={choice:"force",links:"hide"},this.$scope.$watch("layout.choice",this.updateExplore.bind(this,!1)),this.$scope.$watch("layout.links",this.updateExplore.bind(this,!1))}return e.$inject=["$element","$compile","$window","$scope","$timeout","sparqlItemService","fibraService","$ngRedux","$q"],e.prototype.$onChanges=function(e){this.svgSel&&this.updateExplore(!1,!1)},e.prototype.$postLink=function(){var e=this;this.svgSel=c.select(this.$element[0]).select("svg"),this.svgSel.append("rect").classed("background",!0).style("fill",this.svgBackgroundColor).on("click",function(){e.lastClickX=c.event.offsetX,e.lastClickY=c.event.offsetY,e.createDisplayItem(e.$q,e.sparqlItemService).then(function(){console.log("Here"),e.fibraService.dispatch("change")})}),this.svgSel.append("g").attr("class","links"),this.sunburst.addSunburstGroup(this.svgSel),this.radius=8,this.tooltip=c.select("body").append("div").style("position","absolute").style("z-index","20").style("background-color","gray").style("color","white").style("padding","3px").style("border-radius","2px").style("visibility","hidden"),this.edittip=c.select("body").append("div").attr("id","edittip").style("position","absolute").style("z-index","40").style("background-color","white").style("color","gray").style("border","1px solid gray").style("padding","3px").style("border-radius","2px").style("visibility","hidden"),this.updateSizing(),this.queryAndBuild()},e.prototype.highlightLinks=function(e,t){c.selectAll("line").classed("relevant",!1);for(var r=0;r<this.links.length;r++){var n=this.links[r].source,i=this.links[r].target;n.index!==t&&i.index!==t||c.select("#link-"+r).classed("relevant",!0)}},e.prototype.$onDestroy=function(){this.unsubscribe()},e.prototype.queryAndBuild=function(){var e=this,t=this.sparqlItemService.getItems(this.items.items,!1).then(function(t){e.propertyPopover.hidePopover(),e.lockExisting(e.primaryItems),e.lockExisting(e.secondaryItems),e.lockExisting(e.tertiaryItems);var r=e.types.displayTypes,n=e.filterItemsByType(t,p.b.Thing.value);if(e.removedUntypedItems=e.untypedItems.filter(function(e){return-1===n.indexOf(e)}),e.untypedItems=e.mergeNodes(e.untypedItems,e.filterItemsByType(t,p.b.Thing.value)),r[0]&&(e.primaryItems=e.mergeNodes(e.primaryItems,e.filterItemsByType(t,r[0].id))),r[1]&&(e.secondaryItems=e.mergeNodes(e.secondaryItems,e.filterItemsByType(t,r[1].id))),r[2]&&(e.tertiaryItems=e.mergeNodes(e.tertiaryItems,e.filterItemsByType(t,r[2].id))),e.allItems=e.primaryItems.concat(e.secondaryItems).concat(e.tertiaryItems).concat(e.untypedItems),e.properties=[],e.primaryItems[0]&&e.primaryItems[0].localProperties)for(var o=e.primaryItems[0].localProperties,s=Array.isArray(o),a=0,o=s?o:i()(o);;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if(a=o.next(),a.done)break;u=a.value}var l=u;e.properties.push({key:l.toCanonical(),value:l.label})}return e.links=e.mergeLinks(e.links),"ok"}).then(function(){return e.updateExplore()});return this.fibraService.dispatchAction(this.fibraService.placeHolderAction(t)),t},e.prototype.lockExisting=function(e){e.forEach(function(e){e.fx=e.gx,e.fy=e.gy})},e.prototype.filterItemsByType=function(e,t){return e.filter(function(e){var r=e.localProperties.concat(e.remoteProperties).filter(function(e){return"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===e.value});return!!r[0]&&-1!==r[0].values.map(function(e){return e.value.value}).indexOf(t)})},e.prototype.updateSizing=function(){var e=window.innerWidth,t=window.innerHeight;this.exploreWidth=e,this.exploreHeight=t-36,c.select(this.$element[0]).select("#explorecontainer").style("height",this.exploreHeight+"px"),c.select(this.$element[0]).select("#exploretable").style("height",t-50+"px"),this.svgSel.style("width",e+"px").style("height",t-36+"px"),this.svgSel.select("rect.background").style("width",e+"px").style("height",t-36+"px");this.svgSel.style("width").replace("px",""),this.svgSel.style("height").replace("px","")},e.prototype.appendNodes=function(e,t){var r=this,n=e.append("g").attr("id",function(e,r){return"node-"+r+"-"+t}).attr("class","node").classed(t,!0).append("circle").classed("node-circle",!0).classed(t,!0).attr("id",function(e,r){return"node-circle-"+r+"-"+t}).attr("r",this.radiusInitial+"px").call(c.drag().on("start",function(e,t){r.linkMode?r.dragline=r.svgSel.append("line").attr("class","dragLine"):(e.fx=e.x,e.fy=e.y)}).on("drag",function(e,t,n){r.linkMode?r.dragline.attr("x1",e.x).attr("y1",e.y).attr("x2",c.event.x).attr("y2",c.event.y):(c.select(n[t]).classed("fixed",!0),e.x=c.event.x,e.y=c.event.y),r.updateExplore(!1,!1)}).on("end",function(e,t,n){if(r.linkMode){var i=+r.dragline.attr("x2"),o=+r.dragline.attr("y2"),s=!1;c.selectAll(".node").each(function(t,n){Math.abs(i-t.x)<r.radius&&Math.abs(o-t.y)<r.radius&&(s=!0,r.itemProperty(t,[new a.a(p.c.related,p.a.instance.nodeFromNode(e))],[]).then(function(e){return r.dragline.remove(),r.queryAndBuild(),e}))}),s||r.dragline.remove()}else c.select(n[t]).classed("fixed")||(e.fx=void 0,e.fy=void 0)})).on("mouseover",function(e,t){r.highlightLinks(e,t),r.tooltip.style("top",c.event.pageY-10+"px").style("left",c.event.pageX+10+"px").style("visibility","visible").text(e.label)}).on("mouseout",function(e,t){r.svgSel.selectAll("line").classed("relevant",!1),r.tooltip.style("visibility","hidden")}).on("click",function(e,t,n){var i=e.selected;r.svgSel.selectAll(".node").each(function(e){e.selected=!1}),e.selected=!i,r.updateExplore(!1),e.selected?r.svgSel.select("g.sunburst-overlay").datum(e).each(r.sunburst.buildSunburst.bind(r)).style("display","block"):r.svgSel.select(".sunburst-overlay").style("display","none"),r.highlightLinks(e,t)});return n.transition().attr("r",this.radius+this.radiusBounce+"px").transition().attr("r",this.radius+"px"),n},e.prototype.snapToGrid=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=void 0,i=void 0;return r?(n=Math.round(e/this.gridOffset)*this.gridOffset,i=Math.round(t/this.gridOffset)*this.gridOffset):(n=Math.round(e/this.gridOffset)*this.gridOffset-this.gridOffset/2,i=Math.round(t/this.gridOffset)*this.gridOffset-this.gridOffset/2),[n,i]},e.prototype.tickTransformNodes=function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.attr("transform",function(e,n){var i=e.x,o=e.y;e.x<t.radius&&(i=t.radius),e.y<t.radius&&(o=t.radius);var s=i,a=o;if("forcegrid"===t.$scope.layout.choice){var u=t.snapToGrid(i,o,r);s=u[0],a=u[1]}return e.gx=s,e.gy=a,"translate("+s+", "+a+")"}),e.filter(function(e){return e.selected}).node()){var n=this.sunburst.buildSunburst,i=this.svgSel,o=function(e,t,r){i.select("g.sunburst-overlay").datum(e).each(n.bind(this))};e.filter(function(e){return e.selected}).each(o.bind(this))}},e.prototype.genericTick=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=e,s=t,a=r,u=n;i&&(o=o.transition(),s=s.transition(),a=a.transition(),u=u.transition()),this.tickTransformNodes(o,!0),this.tickTransformNodes(s,!1),this.tickTransformNodes(a,!1),this.svgSel.selectAll(".node-circle").classed("selected-circle",function(e){return e.selected}).style("cursor",this.linkMode?"crosshair":"initial"),this.svgSel.selectAll(".node-circle").classed("labeled",function(e){return!!e.label}).classed("verified",function(e){return e.localProperties.filter(function(e){return"http://www.w3.org/2002/07/owl#sameAs"===e.value}).length>0}),u.attr("x1",function(e){return e.source.gx}).attr("y1",function(e){return e.source.gy}).attr("x2",function(e){return e.target.gx}).attr("y2",function(e){return e.target.gy})},e.prototype.updateExplore=function(){var e=this,t=(!(arguments.length>0&&void 0!==arguments[0])||arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1]),r=this.svgSel.selectAll("circle.untyped").data(this.untypedItems,function(e){return e.value}),n=this.svgSel.selectAll("circle.primary").data(this.primaryItems,function(e){return e.value}),i=this.svgSel.selectAll("circle.secondary").data(this.secondaryItems,function(e){return e.value});n.exit().remove(),i.exit().remove(),r.exit().remove(),r.enter().each(function(t,r,n){t.x=e.lastClickX,t.y=e.lastClickY,t.fx=e.lastClickX,t.fy=e.lastClickY,t.gx=e.lastClickX,t.gy=e.lastClickY}).each(this.propertyPopover.addPopover.bind(this,this.$scope,this.svgSel));var o=function(t){t.x=e.items.itemIndex[t.value].x,t.y=e.items.itemIndex[t.value].y,t.fx=e.items.itemIndex[t.value].x,t.fy=e.items.itemIndex[t.value].y,t.gx=e.items.itemIndex[t.value].x,t.gx=e.items.itemIndex[t.value].y;var r=e.removedUntypedItems.filter(function(e){return e.value===t.value})[0];r&&(t.x=r.x,t.y=r.y,t.fx=r.fx,t.fy=r.fy,t.gx=r.gx,t.gy=r.gy)};n.enter().each(o),i.enter().each(o),n=n.merge(this.appendNodes(n.enter(),"primary")),i=i.merge(this.appendNodes(i.enter(),"secondary")),r=r.merge(this.appendNodes(r.enter(),"untyped"));var s=this.svgSel.select("g.links").selectAll("line").data(this.links);return s.exit().remove(),s=s.enter().append("line").attr("id",function(e,t){return"link-"+t}).on("mouseover",function(t,r){e.tooltip.style("top",c.event.pageY-10+"px").style("left",c.event.pageX+10+"px").style("visibility","visible").text(t.property.label)}).on("mouseout",function(t,r){e.tooltip.style("visibility","hidden")}).merge(s).style("visibility","show"===this.$scope.layout.links?"visible":"hidden"),this.sunburst.addSunburstGroup(this.svgSel),this.genericTick(n,i,r,s,t),this.$q.resolve("ok")},e.prototype.mapVerifyToThis=function(e){return{verify:e.verify}},e.prototype.mapTypesToThis=function(e){return{types:e.types}},e.prototype.mapItemsToThis=function(e){return{items:e.items}},e.prototype.mergeNodes=function(e,t){for(var r=[],n=0;n<e.length;n++)for(var i=0;i<t.length;i++)e[n].toCanonical()===t[i].toCanonical()&&(r.push(e[n]),e[n].label=t[i].label,e[n].localProperties=t[i].localProperties);for(var n=0;n<t.length;n++){for(var o=!1,i=0;i<r.length;i++)r[i].toCanonical()===t[n].toCanonical()&&(o=!0);o||r.push(t[n])}return r},e.prototype.mergeLinks=function(e){for(var t=[],r=this.primaryItems.concat(this.secondaryItems),n=new p.e,o=r,s=Array.isArray(o),a=0,o=s?o:i()(o);;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if(a=o.next(),a.done)break;u=a.value}var l=u;n.set(l,l);var c=l.localProperties.filter(function(e){return p.b.sameAs.equals(e)})[0];if(c&&c.values)for(var f=c.values,d=Array.isArray(f),h=0,f=d?f:i()(f);;){var v;if(d){if(h>=f.length)break;v=f[h++]}else{if(h=f.next(),h.done)break;v=h.value}var g=v;n.set(g.value,l)}}for(var m=r,y=Array.isArray(m),b=0,m=y?m:i()(m);;){var E;if(y){if(b>=m.length)break;E=m[b++]}else{if(b=m.next(),b.done)break;E=b.value}for(var x=E,S=x.localProperties,T=Array.isArray(S),I=0,S=T?S:i()(S);;){var w;if(T){if(I>=S.length)break;w=S[I++]}else{if(I=S.next(),I.done)break;w=I.value}for(var C=w,A=C.values,N=Array.isArray(A),L=0,A=N?A:i()(A);;){var R;if(N){if(L>=A.length)break;R=A[L++]}else{if(L=A.next(),L.done)break;R=L.value}var _=R;n.has(_.value)&&x!==n.get(_.value)&&-1!==r.indexOf(n.get(_.value))&&t.push({source:x,target:n.get(_.value),property:C})}}}return t},e}(),m=function e(){s()(this,e),this.bindings={linkMode:"<"},this.controller=g,this.template=r(407)()};f.module("fibra.components.explore",["fibra.services"]).component("explore",new m)},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(16),s=r(6),a=r(74),u=r(0),l=(r.n(u),r(71)),c=r(28),p=function(){function e(t,r,n,o){i()(this,e),this.fibraService=t,this.$ngRedux=r,this.$q=n,this.sparqlItemService=o,this.primaryItems=[],this.secondaryItems=[],this.tableTypes=["primary","secondary"],this.primary={properties:[],items:[]},this.secondary={properties:[],items:[]},this.removedProperties=[],this.originalPropertiesMap={},this.fibraService=t;var s=r.connect(this.mapVerifyToThis,l)(this),a=r.connect(this.mapItemsToThis,c)(this);this.unsubscribe=function(){s(),a()}}return e.$inject=["fibraService","$ngRedux","$q","sparqlItemService"],e.prototype.$onDestroy=function(){this.unsubscribe()},e.prototype.$onChanges=function(e){this.primary.properties=[],this.secondary.properties=[],this.primary.items=this.primaryItems,this.secondary.items=this.secondaryItems,this.sortProperties()},e.prototype.mapVerifyToThis=function(e){return{verify:e.verify}},e.prototype.mapItemsToThis=function(e){return{items:e.items}},e.prototype.selectItem=function(e){this.editItem=e;var t=e.localProperties.map(function(e){var t=new o.c(e);return e.values.filter(function(e){return"Literal"===e.value.termType}).forEach(function(e){var r=s.a.instance.literal(e.value.value),n=new a.c(r,e.value.label,void 0,void 0,e.value.sourceEndpoints);t.values.push(new o.e(n,e.properties))}),t}).filter(function(e){return e.values.length>0});this.originalPropertiesMap[e.value]=t},e.prototype.itemVerified=function(e){return!!e.localProperties.filter(function(e){return e.value===s.b.sameAs.value})[0]},e.prototype.saveItem=function(e){var t=e.localProperties.map(function(e){return e.values.filter(function(e){return"Literal"===e.value.termType}).map(function(t){return new o.a(e,s.a.instance.literal(t.value.value))})}).reduce(function(e,t){return e.concat(t)},[]);this.itemProperty(e,t,this.originalPropertiesMap[e.value].map(function(e){return e.toPropertyAndValues(!0)}).reduce(function(e,t){return e.concat(t)},[]))},e.prototype.hide=function(e){this.hideItem(e),this.fibraService.dispatch("change")},e.prototype.delete=function(e){var t=this;this.deleteItem(this.$q,this.sparqlItemService,e).then(function(){t.fibraService.dispatch("change")})},e.prototype.sortProperties=function(){var e=this;["primary","secondary"].forEach(function(t){for(var r=0;r<e[t].items.length;r++)for(var n=0;n<e[t].items[r].localProperties.length;n++){for(var i=!1,o=0;o<e.removedProperties.length;o++)e.removedProperties[o]===e[t].items[r].localProperties[n].value&&(i=!0);for(var s=0;s<e[t].properties.length;s++)e[t].properties[s].value===e[t].items[r].localProperties[n].value&&(i=!0);i||e[t].properties.push(e[t].items[r].localProperties[n])}})},e.prototype.removeFromProperties=function(e){var t=this;["primary","secondary"].forEach(function(r){for(var n=0;n<t[r].properties.length;n++)t[r].properties[n].value===e.value&&t[r].properties.splice(n,1)}),this.addToRemovedProperties(e.value)},e.prototype.addToRemovedProperties=function(e){this.removedProperties.push(e)},e.prototype.addFromRemovedProperties=function(e){for(var t=0;t<this.removedProperties.length;t++)this.removedProperties[t]==e&&this.removedProperties.splice(t,1);this.fibraService.dispatch("change")},e.prototype.downloadcsv=function(){for(var e=this.primary.items,t="data:text/csv;charset=utf-8,",r=0;r<this.primary.properties.length;r++)t+=this.primary.properties[r].label+",";t+="\n";for(var n=0;n<e.length;n++){for(var i=0;i<e[n].localProperties.length;i++)t+=e[n].localProperties[i].values[0].value.value+",";t+="\n"}var o=encodeURI(t);window.open(o)},e}(),f=function e(){i()(this,e),this.template=r(404)(),this.controller=p,this.bindings={primaryItems:"<",secondaryItems:"<"}};u.module("fibra.components.explore-table",["fibra.services"]).component("exploreTable",new f)},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(0),s=(r.n(o),r(29)),a=function(){function e(t,r){i()(this,e),this.fibraService=t,this.$ngRedux=r,this.unsubscribe=r.connect(this.mapStateToThis,s)(this),this.fibraService=t}return e.$inject=["fibraService","$ngRedux"],e.prototype.primaryClick=function(e){var t=this.types.displayTypes.concat([]);t[0]=e,this.setOrderedTypes(t),this.fibraService.dispatch("change")},e.prototype.secondaryClick=function(e){var t=this.types.displayTypes.concat([]);t[1]=e,this.setOrderedTypes(t),this.fibraService.dispatch("change")},e.prototype.tertiaryClick=function(e){var t=this.types.displayTypes.concat([]);t[2]=e,this.setOrderedTypes(t),this.fibraService.dispatch("change")},e.prototype.$onDestroy=function(){this.unsubscribe()},e.prototype.mapStateToThis=function(e){return{types:e.types}},e}(),u=function e(){i()(this,e),this.template=r(405)(),this.controller=a};o.module("fibra.components.explore-type",["fibra.services"]).component("exploreType",new u)},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(16),s=r(56),a=r(6),u=r(0),l=(r.n(u),r(71)),c=function(){function e(t,r,n,o){i()(this,e),this.fibraService=t,this.$ngRedux=r,this.$q=n,this.sparqlAutocompleteService=o,this.limitFilter="",this.queryString="",this.relevantTypes=[],this.fibraService=t,this.canceller=n.defer();var s=r.connect(this.mapVerifyToThis,l)(this),a=r.connect(this.mapItemsToThis,l)(this);this.unsubscribe=function(){s(),a()}}return e.$inject=["fibraService","$ngRedux","$q","sparqlAutocompleteService"],e.prototype.$onDestroy=function(){this.unsubscribe()},e.prototype.$onChanges=function(e){this.node&&(this.queryString=this.node.label,this.runQuery())},e.prototype.mapVerifyToThis=function(e){return{verify:e.verify}},e.prototype.mapItemsToThis=function(e){return{items:e.items}},e.prototype.runQuery=function(){var e=this;this.canceller.resolve(),this.updateResults(new s.b),this.queryRunning=!0,this.error=!1,this.limitFilter="",this.canceller=this.$q.defer();var t=this.node.localProperties.filter(function(e){return"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===e.value})[0];this.relevantTypes=t?t.values.map(function(e){return e.value}):[],0!==this.limitFilter.length&&(this.limitFilter="FILTER (?groupId IN ("+this.limitFilter.substring(0,this.limitFilter.length-1)+"))"),console.log("Query info",this.queryString,this.limitFilter),this.sparqlAutocompleteService.autocomplete(this.queryString,6,!0,this.limitFilter,this.canceller.promise).then(function(t){console.log("Results in verify: ",t),e.queryRunning=!1,e.updateResults(t)},function(){console.log("Error in verify"),e.queryRunning=!1,e.error=!0},function(t){console.log("Update in verify: ",t),t.error?e.error=!0:e.updateResults(t.results)})},e.prototype.updateResults=function(e){console.log("Relevant types",this.relevantTypes);this.relevantTypes.map(function(e){return e.label});this.matchingResults=e.remoteResults,console.log("Matches",this.matchingResults)},e.prototype.sourcesFromResult=function(e){return" (Sources: "+e.datasources.join(", ")+")"},e.prototype.verify=function(e){var t=this,r=e.ids.map(function(e){return new o.a(a.b.sameAs,e)});this.fibraService.dispatchAction(this.itemProperty(this.node,r)).then(function(){t.clear()})},e.prototype.clear=function(){this.verifyItem(null)},e}(),p=function e(){i()(this,e),this.template=r(406)(),this.controller=c,this.bindings={node:"<"}};u.module("fibra.components.verify",["fibra.services"]).component("verify",new p)},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(63),s=(r.n(o),r(6)),a=r(0),u=(r.n(a),r(29)),l=r(28),c=function(){function e(t,r,n,s,a,c,p,f){i()(this,e),this.fibraService=t,this.$element=r,this.sparqlItemService=n,this.sparqlTreeService=s,this.$q=a,this.$ngRedux=c,this.$scope=p,this.FileSaver=f,this.paletteSearchHeight=40,this.typeColorScale=o.scaleOrdinal(o.schemeCategory20c),this.labelFilter="",this.typeItemTree=o.map(),this.expanded=!0;var d=c.connect(this.mapTypesToThis,u)(this),h=c.connect(this.mapItemsToThis,l)(this);this.unsubscribe=function(){d(),h()},this.typeItemTree.set("",{label:"No type defined",items:[],expanded:!1}),this.query()}return e.$inject=["fibraService","$element","sparqlItemService","sparqlTreeService","$q","$ngRedux","$scope","FileSaver"],e.prototype.$onDestroy=function(){this.unsubscribe()},e.prototype.query=function(){var e=this;return this.typeItemTreePromise=this.sparqlItemService.getAllItems().then(function(t){return e.mergeItems(e.paletteItems,t)})},e.prototype.$postLink=function(){var e=this;this.containerDiv=o.select(this.$element[0]).select("div.inner-palette-container"),this.divSel=o.select(this.$element[0]).select("div.palette"),this.nodeDrag=o.select(this.$element[0]).select(".palette-node-drag"),this.nodeDrag.style("display","none"),this.nodeDrag.append("circle"),this.containerDiv.style("height","100%").style("width","100%"),this.divSel.style("height","100%").style("width","100%"),this.tooltip=o.select("body").append("div").style("position","absolute").style("z-index","20").style("background-color","gray").style("color","white").style("padding","3px").style("border-radius","2px").style("visibility","hidden");var t=function(){return e.query().then(e.build.bind(e)).then(function(){return"Done"})};this.fibraService.on("change",t),this.typeItemTreePromise.then(function(t){e.build.bind(e)(t)})},e.prototype.addItem=function(e,t){var r=e.typeValue,n=this.types.types.filter(function(e){return e.id===r})[0],i=this.types.displayTypes;if(!i[0]&&n)this.setOrderedTypes([n]);else if(!i[1]&&n&&i[0]!==n){var o=i.concat([]);o.push(n),this.setOrderedTypes(o)}return this.displayItem(e,t),this.fibraService.dispatch("change"),this.$q.resolve()},e.prototype.createItemLocal=function(e){var t=s.a.instance.namedNode(e);this.createItem(t)},e.prototype.downloadCSV=function(e){var t=new Blob([o.csvFormat(e.value.items.map(function(e){var t,r=e.localProperties.filter(function(e){return e.value===s.b.sameAs.value})[0],n=e.localProperties.filter(function(e){return e.value===s.c.prefLabel.value})[0];return t={},t[s.c.prefLabel.value]=n?n.values[0].value.value:"",t.FibraId=e.value,t.Match=r?r.values[0].value.value:"",t}),[s.c.prefLabel.value,"FibraId","Match"])],{type:"application/csv;charset=utf-8"}),r=e.value.label+".csv";this.FileSaver.saveAs(t,r)},e.prototype.build=function(e){var t=this,r=this;this.updateSizing();var n=e.entries().filter(function(e){return""!==e.key}),i=n.reduce(function(e,t){return e.concat(t.value.items)},[]),s=i.length>300?i.length>2e3?1:2:4,a=this.paletteHeight-25*n.length,u=(Math.sqrt(this.paletteWidth*a/i.length)-s)/2,l=u>8?8:u,c=2*l+s/2,p=2*l+s/2,f=Math.floor(this.paletteWidth/c)-1,d=this.nodeDrag,h=this.addItem.bind(this);this.paletteWidth;this.typesD3=this.divSel.selectAll("div.type").data(n,function(e){return e.key}),this.typesD3.exit().remove();var v=this.typesD3.enter().append("div").classed("type",!0).classed("inverse-icon",!0).text(function(e){return e.value.label});v.append("span").classed("glyphicon",!0).classed("glyphicon-download",!0).on("click",function(e){return t.downloadCSV(e)}),v.append("span").classed("glyphicon",!0).classed("expand-button",!0).on("click",function(e){e.value.expanded=!e.value.expanded,t.typeItemTreePromise.then(t.build.bind(t))}),v.append("svg").attr("width","100%"),this.typesD3=v.merge(this.typesD3),this.typesD3.selectAll(".expand-button").classed("glyphicon-resize-small",function(e){return e.value.expanded}).classed("glyphicon-resize-full",function(e){return!e.value.expanded}),this.typesD3.selectAll("svg").style("display",function(e){return e.value.expanded?"block":"none"});var g=this.typesD3.select("svg").attr("height",function(e){return(Math.ceil(e.value.items.length/f)+1)*p});this.circles=g.selectAll("circle.item").data(function(e){return e.value.items},function(e){return e.value}),this.circles.exit().remove(),this.circles=this.circles.enter().append("circle").classed("item",!0).attr("r",l).on("mouseover",function(e,r){t.tooltip.style("top",o.event.pageY-10+"px").style("left",o.event.pageX+10+"px").style("visibility","visible").text(e.label+" ("+e.typeLabel+")")}).on("mouseout",function(e,r){t.tooltip.style("visibility","hidden")}).call(o.drag().on("start",function(e){r.expanded=!1,r.$scope.$digest();var t=o.select(this);d.style("display","block"),d.select("circle").classed("item",t.classed("item")).attr("r",t.attr("r")).attr("fill",t.attr("fill")).attr("transform","translate(8,8)"),d.style("left",o.event.sourceEvent.clientX-r.paletteOffsetLeft-14).style("top",o.event.sourceEvent.clientY-r.paletteOffsetTop-10)}).on("drag",function(e){d.style("left",o.event.sourceEvent.clientX-r.paletteOffsetLeft-14).style("top",o.event.sourceEvent.clientY-r.paletteOffsetTop-10)}).on("end",function(e){r.expanded=!0,r.$scope.$digest();var t=o.select("#explorecontainer").node();o.event.sourceEvent.clientX>t.getBoundingClientRect().left&&o.event.sourceEvent.clientX<t.getBoundingClientRect().right&&o.event.sourceEvent.clientY>t.getBoundingClientRect().top&&o.event.sourceEvent.clientY<t.getBoundingClientRect().bottom?h(o.select(this).datum(),[o.event.sourceEvent.clientX-t.getBoundingClientRect().left,o.event.sourceEvent.clientY-t.getBoundingClientRect().top]).then(function(){d.style("display","none")}):d.style("display","none")})).merge(this.circles).call(this.update.bind(this)),this.circles.transition().attr("fill",function(e){return t.typeColorScale(e.typeValue)}).attr("transform",function(e,t){return"translate("+(t%f+1)*c+","+(Math.floor(t/f)+1)*p+")"})},e.prototype.update=function(e){var t=this;(e||this.circles).classed("displayed",function(e){return!!t.items.itemIndex[e.value]}).classed("filtered",function(e){return t.labelFilter&&!(-1!==e.label.toUpperCase().indexOf(t.labelFilter.toUpperCase()))})},e.prototype.mapTypesToThis=function(e){return{types:e.types}},e.prototype.mapItemsToThis=function(e){return{items:e.items}},e.prototype.updateSizing=function(){this.paletteWidth=Math.round(.15*window.innerWidth),this.paletteHeight=Math.round(.95*window.innerHeight)-this.paletteSearchHeight,this.paletteOffsetLeft=Math.round(.01*window.innerHeight),this.paletteOffsetTop=Math.round(.04*window.innerHeight),this.divSel.style("height",this.paletteHeight+"px"),this.containerDiv.style("height",Math.round(.95*window.innerHeight)+"px")},e.prototype.mergeItems=function(e,t){var r=this;return this.typeItemTree.values().forEach(function(e){e.items=[]}),t.forEach(function(e){var t=e.localProperties.filter(function(e){return e.value===s.d.type.value})[0];t&&t.values[0]?(e.typeValue=t.values[0].value.value,e.typeLabel=t.values[0].value.label,r.typeItemTree.has(e.typeValue)?r.typeItemTree.get(e.typeValue).items.push(e):r.typeItemTree.set(e.typeValue,{label:e.typeLabel,items:[e],expanded:!0})):(e.typeValue="",e.typeLabel="No type defined")}),this.typeItemTree.values().forEach(function(e){e.items.sort(function(e,t){return e.label===t.label?0:e.label>t.label?1:-1})}),this.typeItemTree},e}(),p=function e(){i()(this,e),this.template=r(408)(),this.controller=c};a.module("fibra.components.palette",["fibra.services"]).component("palette",new p)},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(1),i=r.n(n),o=r(63),s=(r.n(o),function(){function e(t,r,n,s,a,u,l){var c=this;i()(this,e),this.$element=t,this.$compile=r,this.$scope=n,this.sparqlItemService=s,this.fibraService=a,this.displayItem=u,this.displayItems=l,this.sbRadius=200,this.lessRadius=this.sbRadius*this.sbRadius/3-144,this.sbArc=o.arc().startAngle(function(e){return e.x0}).endAngle(function(e){return e.x1}).innerRadius(function(e){return Math.sqrt(e.y0-c.lessRadius)}).outerRadius(function(e){return Math.sqrt(e.y1-c.lessRadius)}),this.sbPart=o.partition().size([2*Math.PI,this.sbRadius*this.sbRadius]),this.item_info_tip_displayed=!1,this.sbTooltip=o.select("body").append("div").style("position","absolute").style("z-index","20").style("background-color","gray").style("color","white").style("padding","3px").style("border-radius","2px").style("visibility","hidden"),this.item_info_tip=o.select("body").append("div").attr("id","item_info_tip").style("position","absolute").style("z-index","20").style("background-color","white").style("padding","3px").style("visibility","hidden"),this.buildSunburst=this.buildSunburst.bind(this)}return e.prototype.addSunburstGroup=function(e){var t=this;this.sel=e,this.sbGroup&&this.sbGroup.remove(),this.sbGroup=e.append("g").classed("sunburst-overlay",!0),this.sel.on("click",function(){t.item_info_tip_displayed&&(t.item_info_tip.style("visibility","hidden"),t.item_info_tip_displayed=!1)})},e.prototype.buildSunburst=function(e,t,r){var n=this;this.original_data=e,this.sbGroup.attr("transform",function(e){return"translate("+e.gx+","+e.gy+")"});var i=o.hierarchy(e,function(e){return e.localProperties?e.localProperties.concat(e.remoteProperties):e.values?e.values.map(function(e){return e.value}):void 0});i.sum(function(e){return void 0===e.values&&void 0===e.localProperties?1:0});var s=(this.sbPart(i),this.sbGroup.selectAll("path").data(i.descendants(),function(e){return e.data}));s.exit().remove(),s.enter().filter(function(e){return e.depth>0}).append("path").classed("sunburst-cell",!0).on("mouseover",function(e,t){n.sbTooltip.style("top",o.event.pageY-10+"px").style("left",o.event.pageX+10+"px").style("visibility","visible").text(2===e.depth?e.data.label+" (click to add)":e.data.label+" (click to add all children)")}).on("mouseout",function(){n.sbTooltip.style("visibility","hidden")}).on("click",function(e,t){2===e.depth?n.fibraService.dispatchAction(n.displayItem(e.data)):n.fibraService.dispatchAction(n.displayItems(e.children.map(function(e){return e.data}))),n.original_data.selected=!1,n.sbTooltip.style("visibility","hidden"),n.sbGroup.remove()}).merge(s).attr("d",this.sbArc).style("stroke","#fff")},e.prototype.selectItem=function(e){this.selectedItem=e},e}())},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(13),s=r.n(o),a=r(12),u=r.n(a),l=r(72),c=r(75),p=r(6),f=r(0),d=(r.n(f),function(e){function t(r,n,o,a){i()(this,t);var u=s()(this,e.call(this,r.sourceId,o,a));return r.id?o.loadPrimaryEndpointConfiguration(u.projectSource,r.id).then(function(e){return u.c=e}):(u.c=new c.a,u.c.id=r.id,u.c.labels=[p.a.literal("",n.getState().language)],u.c.descriptions=[p.a.literal("",n.getState().language)]),u}return t.$inject=["$stateParams","fibraService","projectService","toastr"],u()(t,e),t.prototype.addCompatibleEndpoint=function(){this.c.compatibleEndpoints.push("")},t.prototype.removeCompatibleEndpoint=function(e){this.c.compatibleEndpoints.splice(e,1)},t}(l.a)),h=function e(){i()(this,e),this.controller=d,this.template=r(410)()};f.module("fibra.components.edit-primary-endpoint-configuration",["fibra.services"]).component("editPrimaryEndpointConfigurationView",new h)},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(13),s=r.n(o),a=r(12),u=r.n(a),l=r(72),c=r(97),p=r(6),f=r(0),d=(r.n(f),function(e){function t(r,n,o,a){i()(this,t);var u=s()(this,e.call(this,r.sourceId,o,a));return r.id?o.loadRemoteEndpointConfiguration(u.projectSource,r.id).then(function(e){return u.c=e}):(u.c=new c.a,u.c.labels=[p.a.literal("",n.getState().language)],u.c.descriptions=[p.a.literal("",n.getState().language)],u.c.types=[p.a.namedNode("")]),u}return t.$inject=["$stateParams","fibraService","projectService","toastr"],u()(t,e),t.prototype.addType=function(){this.c.types.push(p.a.namedNode(""))},t.prototype.removeType=function(e){this.c.types.splice(e,1)},t}(l.a)),h=function e(){i()(this,e),this.controller=d,this.template=r(411)()};f.module("fibra.components.edit-remote-endpoint-configuration",["fibra.services"]).component("editRemoteEndpointConfigurationView",new h)},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(13),s=r.n(o),a=r(12),u=r.n(a),l=r(72),c=r(98),p=r(6),f=r(0),d=(r.n(f),function(e){function t(r,n,o,a){i()(this,t);var u=s()(this,e.call(this,r.sourceId,o,a));return r.id?o.loadSchema(u.projectSource,r.id).then(function(e){return u.c=e}):(u.c=new c.a,u.c.labels=[p.a.literal("",n.getState().language)],u.c.descriptions=[p.a.literal("",n.getState().language)],u.c.endpoint=u.projectSource.sparqlEndpoint),u}return t.$inject=["$stateParams","fibraService","projectService","toastr"],u()(t,e),t}(l.a)),h=function e(){i()(this,e),this.controller=d,this.template=r(412)};f.module("fibra.components.edit-schema-view",["fibra.services"]).component("editSchemaView",new h)},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(0),s=(r.n(o),function e(t,r){var n=this;i()(this,e),this.source=r.getProjectSources().find(function(e){return e.id===t.sourceId}),r.listProjects(this.source).then(function(e){return n.projects=e}),r.listSchemas(this.source).then(function(e){return n.schemas=e}),r.listPrimaryEndpointConfigurations(this.source).then(function(e){return n.primaryEndpointConfigurations=e}),r.listAuthorityEndpointConfigurations(this.source).then(function(e){return n.authorityEndpoints=e}),r.listArchiveEndpointConfigurations(this.source).then(function(e){return n.archiveEndpoints=e})});s.$inject=["$stateParams","projectService"];var a=function e(){i()(this,e),this.controller=s,this.template=r(413)()};o.module("fibra.components.project-source-configurations-view",["fibra.services"]).component("projectSourceConfigurationsView",new a)},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(0),s=(r.n(o),r(160)),a=r(347),u=(r.n(a),function(){function e(t,r,n){var o=this;i()(this,e),this.projectService=t,this.projectSourceState={},this.projects={},this.projectSources={};var u=n.projectSources;if(u&&0!==u.length||(u=[],u.push(new s.a("Private projects in local browser storage","local:projects","local:projects","local:projects","","http://ldf.fi/fibra/rdfstoreJSEndpoint")),u.push(new s.a("Projects in local Fuseki SPARQL server","http://localhost:3030/fibra/sparql","http://localhost:3030/fibra/update","http://localhost:3030/fibra/data","","http://ldf.fi/fibra/fusekiEndpoint")),u.push(new s.a("Shared projects on the public LDF.fi endpoint","http://ldf.fi/fibra/sparql","http://ldf.fi/fibra/update","http://ldf.fi/fibra/data","http://ldf.fi/fibra/shared-projects/","http://ldf.fi/fibra/fusekiEndpointWithTextIndexAndSecoFunctions")),n.projectSources=u),r.isLoggedIn()&&!u.some(function(e){return"Personal projects on the public LDF.fi endpoint"===e.id})){var l=a.SHA256(r.loginState());u.push(new s.a("Personal projects on the public LDF.fi endpoint","http://ldf.fi/fibra/sparql","http://ldf.fi/fibra/sparql","http://ldf.fi/fibra/sparql","http://ldf.fi/fibra/user/"+l+"/projects/","http://ldf.fi/fibra/fusekiEndpointWithTextIndexAndSecoFunctions"))}u.forEach(function(e){o.projectSources[e.id]=e,o.projects[e.id]=[],o.projectSourceState[e.id]="loading",t.listProjects(e).then(function(t){o.projectSourceState[e.id]="ready",o.projects[e.id]=t},function(t){o.projectSourceState[e.id]="error",o.projects[e.id]=t})})}return e.$inject=["projectService","socialAuthService","$localStorage"],e.prototype.deleteProject=function(e,t,r){this.projects[e].splice(t,1),this.projectService.deleteCitable(this.projectSources[e].updateEndpoint,r)},e}()),l=function e(){i()(this,e),this.controller=u,this.template=r(415)()};o.module("fibra.components.projects-view",[]).component("projectsView",new l)},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(0),s=(r.n(o),function e(){i()(this,e),this.controller=a,this.template="<div>Please wait...</div>"}),a=function e(t,r,n,o,s){i()(this,e);var a={code:n.code,state:t.redirectState?t.redirectState:"projects"};a.code||window.location.search.replace("?","").split("&").forEach(function(e){var t=e.split("=");a[t[0]]=t[1]}),t.requestTime?$.getJSON("https://fibra-auth-gateway.herokuapp.com/authenticate/"+a.code,function(e){s.$apply(function(r){$.get("https://api.github.com/user/emails?access_token="+e.token,function(r){s.$apply(function(n){var i=r.filter(function(e){return e.primary&&e.verified})[0];i&&i.email?(t.login_provider="Github",t.user_email=i.email,t.access_token=e.token,t.requestTime=null,o.location.href=o.location.origin+o.location.pathname+"#!/"+a.state):alert("Authentication failed")})})})}):o.location.href="http://localhost:3000/#!/?"+o.location.href.split("?")[1]};a.$inject=["$localStorage","$sessionStorage","$stateParams","$window","$scope"],o.module("fibra.components.callback",[]).component("callback",new s)},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(0),s=(r.n(o),function e(){i()(this,e),this.controller=a,this.template='<button ng-click="login()">Login with Github</button>'}),a=function e(t,r,n,o,s){i()(this,e),r.login=function(){n.redirectState=s.redirect_hash.replace("#/",""),n.requestTime=Date.now(),o.location.href="https://github.com/login/oauth/authorize?client_id=6a9ff845a1c35f43a0f2&scope=user:email"}};a.$inject=["$urlService","$scope","$localStorage","$window","$stateParams"],o.module("fibra.components.login",[]).component("login",new s)},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(0),s=(r.n(o),function e(){i()(this,e),this.bindings={tree:"<",onSelect:"&"},this.template=r(416)});o.module("fibra.components.type-select",[]).component("typeSelect",new s)},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(0),s=(r.n(o),r(63)),a=(r.n(s),r(16)),u=r(6),l=r(29),c=r(28),p=function(){function e(t,r,n,o,s){i()(this,e),this.fibraService=t,this.sparqlItemService=r,this.$ngRedux=n,this.$q=o,this.$scope=s,this.classSelect=null;var a=n.connect(this.mapTypesToThis,l)(this),u=n.connect(this.mapItemsToThis,c)(this);this.unsubscribe=function(){a(),u()},this.fibraService=t,s.registerFile=this.registerFile.bind(this)}return e.$inject=["fibraService","sparqlItemService","$ngRedux","$q","$scope"],e.prototype.mapTypesToThis=function(e){return{types:e.types}},e.prototype.mapItemsToThis=function(e){return{items:e.items}},e.prototype.registerFile=function(e){this.fileInput=e},e.prototype.uploadFile=function(){var e=this;console.log(this.fileInput,this.types.types.filter(function(t){return t.id===e.classSelect})[0]);var t=this.types.types.filter(function(t){return t.id===e.classSelect})[0],r=new FileReader;r.onload=function(){var n=s.csvParse(r.result),i=n.filter(function(e){return!e.FibraId}),o=n.columns[0];console.log(n,o);var l=[i.length>0?e.fibraService.dispatchAction(e.createItems(e.$q,e.sparqlItemService,i.map(function(e){return u.a.instance.namedNode(e[o])}),t.id)):e.$q.resolve(e.fibraService.getState()),e.$q.all(n.filter(function(e){return!!e.FibraId}).map(function(t){t.Match&&!t[u.b.sameAs.value]&&(t[u.b.sameAs.value]=t.Match,delete t.Match);var r=s.entries(t),n=r.filter(function(e){return"FibraId"!==e.key&&e.value&&e.key!==u.b.sameAs.value&&"Notes"!==e.key&&"Match"!==e.key}).map(function(e){return new a.a(u.a.instance.namedNode(e.key),0===e.value.indexOf("http://")?u.a.instance.namedNode(e.value):u.a.instance.literal(e.value))});return r.filter(function(e){return e.key===u.b.sameAs.value&&e.value}).forEach(function(e){return n.push(new a.a(u.b.sameAs,u.a.instance.namedNode(e.value)))}),e.fibraService.dispatchAction(e.itemProperty(e.sparqlItemService,new u.i(t.FibraId),n))})).then(function(e){return e[e.length-1]})];e.$q.all(l).then(function(){e.fibraService.dispatch("change")})},r.readAsText(this.fileInput.files[0]),this.fileInput.value=null,this.onUpload()},e}(),f=function e(){i()(this,e),this.controller=p,this.template=r(417)(),this.bindings={onUpload:"&"}};o.module("fibra.components.upload",[]).component("upload",new f)},function(e,t,r){"use strict";var n=r(161),i=r(0);r.n(i);i.module("fibra.filters.citable",[]).filter("citable",["fibraService",function(e){return function(t){var i=e.getState().language,o=r.i(n.a)(t.labels,i);return t.rightsHolders.length>0&&(o+=" (",t.rightsHolders.forEach(function(e){return o+=r.i(n.a)(e.labels,i)+", "}),o=o.substring(0,o.length-2)+")"),o}}])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=(r.n(n),r(220)),o=r(219),s=r(213),a=(r.n(s),r(217)),u=(r.n(a),r(211)),l=(r.n(u),r(215)),c=(r.n(l),r(214)),p=(r.n(c),r(212)),f=(r.n(p),r(224)),d=(r.n(f),r(223),r(221),r(222),r(225)),h=(r.n(d),r(218)),v=(r.n(h),r(226)),g=(r.n(v),r(216)),m=(r.n(g),n.module("fibra",["fibra.services","fibra.components","fibra.filters","http-auth-interceptor","ngStorage","ui.router","ui.bootstrap","ui.bootstrap.tpls","ngAnimate","fi.seco.yasqe","toastr","fi.seco.sparql","ui.codemirror","ngFileSaver","ngRedux"]).constant("version","0.5.0"));m.value("workerServiceConfiguration",{appName:"fibra",workerThreads:1,importScripts:["https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js","worker-bundle.js"]}),m.config(o.a).config(i.a).config(i.b).config(i.c).run(i.d)},function(e,t,r){"use strict";var n=r(127),i=r(281),o=r(280),s=r(279),a=r.i(n.combineReducers)({verify:i.a,types:o.a,items:s.a});t.a=a},function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],itemIndex:{},localItems:[]},t=arguments[1];switch(t.type){case s.ITEM_PROPERTIES:return e;case s.DISPLAY_ITEMS:var r=e.items.slice(0),n=o()({},e.itemIndex);return t.payload.items.forEach(function(e,i){n[e.value]||(r.push(e),n[e.value]=e,t.payload.coordinates&&t.payload.coordinates[i]&&t.payload.coordinates[i][0]&&t.payload.coordinates[i][1]&&(n[e.value].x=t.payload.coordinates[i][0],n[e.value].y=t.payload.coordinates[i][1]))}),o()({},e,{items:r,itemIndex:n});case s.ITEMS_CREATED:case s.ITEMS_DELETED:return e;case s.HIDE_ITEM:var i=e.itemIndex[t.payload.value],a=e.items.slice(0),u=o()({},e.itemIndex);return i&&(a.splice(a.indexOf(i),1),delete u[t.payload.value]),o()({},e,{items:a,itemIndex:u});default:return e}}t.a=n;var i=r(162),o=r.n(i),s=r(28)},function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userTypes:[],types:[],displayTypes:[]},t=arguments[1];switch(t.type){case s.ADD_TYPE:var r=e.userTypes.filter(function(e){return e.id===t.payload.id})[0],n=e.userTypes.slice(0);r&&n.splice(e.userTypes.indexOf(r),1);var i=e.types.slice(0);return i.push(t.payload),o()({},e,{types:i,userTypes:n});case s.CLEAR_TYPES:return o()({},e,{types:[]});case s.SET_ORDERED_TYPES:return o()({},e,{displayTypes:t.payload});case s.TYPE_CREATED:var u=new a.a(t.payload.node.value,t.payload.label),l=e.userTypes.slice(0);return l.push(u),o()({},e,{userTypes:l});default:return e}}t.a=n;var i=r(162),o=r.n(i),s=r(29),a=r(95)},function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case i.VERIFY_ITEM:return t.payload;default:return e}}t.a=n;var i=r(71)},function(e,t,r){"use strict";var n=r(13),i=r.n(n),o=r(12),s=r.n(o),a=r(1),u=r.n(a),l=r(0),c=(r.n(l),r(76)),p=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";u()(this,e),this.project=t,this.language=r},f=function e(){u()(this,e),this.types=[],this.userTypes=[],this.displayTypes=[],this.items=[],this.itemIndex={},this.localItems=[]},d=function(e){function t(){u()(this,t);var r=i()(this,e.apply(this,arguments));return r.construct=new f,r.actionsRunning=0,r}return s()(t,e),t.prototype.toCommonState=function(){return new p(this.project,this.language)},t}(p),h=new d,v={type:"",payload:null},g=function(){function e(t,r,n,i){u()(this,e),this.$q=t,this.workerService=r,this.sparqlItemService=n,this.sparqlTreeService=i,this.callbacks={},this.createState()}return e.$inject=["$q","workerService","sparqlItemService","sparqlTreeService"],e.prototype.on=function(e,t){var r=this;return void 0===this.callbacks[e]&&(this.callbacks[e]=Array()),this.callbacks[e].push(t),function(){-1!==r.callbacks[e].indexOf(t)&&r.callbacks[e].splice(r.callbacks[e].indexOf(t),1)}},e.prototype.dispatch=function(e){void 0===this.callbacks[e]&&(this.callbacks[e]=Array());var t=this.callbacks[e].map(function(e){return e()});return this.$q.all(t)},e.prototype.createState=function(){this.state=h,this.store||this.createStore()},e.prototype.createStore=function(){this.store=[this.state]},e.prototype.placeHolderAction=function(e){return{type:"PLACEHOLDER",payload:e}},e.prototype.setLanguage=function(e){return{type:"SET_LANGUAGE",payload:e}},e.prototype.setProject=function(e){return{type:"SET_PROJECT",payload:e}},e.prototype.sessionReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;switch(t.type){case"SET_LANGUAGE":return e.language=t.payload,this.$q.resolve(e);case"SET_PROJECT":return e.project=t.payload,this.$q.resolve(e);default:return this.$q.resolve(e)}},e.prototype.constructReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;switch(t.type){case"PLACEHOLDER":return t.payload.then(function(){return e});default:return this.$q.resolve(e)}},e.prototype.dispatchAction=function(e){var t=this;this.state.actionsRunning=this.state.actionsRunning+1,console.log(e.type,this.state.actionsRunning),this.dispatch("action");var r=this.state.toCommonState();return this.constructReducer(this.state,e).then(function(r){return t.sessionReducer(r,e)}).then(function(e){if(e.language!==r.language||e.project!==r.project){var n=e.toCommonState();c.b.savePrototypes(n),t.workerService.callAll("stateWorkerService","setState",[n])}return t.state=e,t.state.actionsRunning=t.state.actionsRunning-1,e})},e.prototype.getState=function(){return this.state},e.prototype.undo=function(){},e}();l.module("fibra.services.fibra-service",[]).config(["$provide",function(e){e.service("fibraService",g)}])},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(0),s=(r.n(o),r(433)),a=(r.n(s),r(22)),u=function(){function e(t,r){var n=this;i()(this,e),this.sparqlService=t,this.$q=r,this.services=new a.a(function(e){if(0===e.indexOf("local:")){var t=n.$q.defer();return new s.Store({name:e,persistent:!0},function(e,r){e?t.reject(e):t.resolve(new c(r,n.$q))}),t.promise}return n.$q.resolve(new l(n.sparqlService,e))})}return e.$inject=["sparqlService","$q"],e.prototype.query=function(e,t,r){return this.services.goc(e).then(function(e){return e.query(t,r)})},e.prototype.update=function(e,t,r){return this.services.goc(e).then(function(e){return e.update(t,r)})},e.prototype.get=function(e,t,r){return this.services.goc(e).then(function(e){return e.get(t,r)})},e.prototype.put=function(e,t,r,n){return this.services.goc(e).then(function(e){return e.put(t,r,n)})},e.prototype.post=function(e,t,r,n){return this.services.goc(e).then(function(e){return e.post(t,r,n)})},e}(),l=function(){function e(t,r){i()(this,e),this.s=t,this.endpoint=r}return e.prototype.query=function(e,t){return this.s.query(this.endpoint,e,t).then(function(e){return e.data})},e.prototype.update=function(e,t){return this.s.update(this.endpoint,e,t).then(function(e){return e.data})},e.prototype.get=function(e,t){return this.s.get(this.endpoint,e,t).then(function(e){return e.data})},e.prototype.post=function(e,t,r){return this.s.post(this.endpoint,e,t,r).then(function(e){return e.data})},e.prototype.put=function(e,t,r){return this.s.put(this.endpoint,e,t,r).then(function(e){return e.data})},e}(),c=function(){function e(t,r){i()(this,e),this.s=t,this.$q=r}return e.convertBinding=function(e){switch(e.token){case"uri":return{type:"uri",value:e.value};case"blank":return{type:"bnode",value:e.value};case"literal":return{type:"literal",value:e.value,"xml:lang":e.lang,datatype:e.type};default:throw"Unknown binding type "+e.token}},e.prototype.query=function(t,r){var n=this,i=this.$q.defer();try{this.s.execute(t,function(r,o){if(r)console.log("Error executing",n.s,t,r),i.reject(r);else{var s={head:{vars:[]},results:{bindings:[]}},u=new a.d;s.results.bindings=o.map(function(t){var r={};for(var n in t)u.add(n),null!==t[n]&&(r[n]=e.convertBinding(t[n]));return r}),s.head.vars=u.values(),i.resolve(s)}})}catch(e){throw console.log("Exception executing",this.s,t,e),e}return i.promise},e.prototype.update=function(e,t){var r=this.$q.defer();return this.s.execute(e,function(e,t){e?r.reject(e):r.resolve(t)}),r.promise},e.prototype.get=function(e,t){var r=this.$q.defer();return this.s.graph(e,function(e,t){e?r.reject(e):r.resolve(t.toNT())}),r.promise},e.prototype.post=function(e,t,r){var n=this.$q.defer(),i=function(e,t){e?n.reject(e):n.resolve()};return t?this.s.load("text/turtle",e,t,i):this.s.load("text/turtle",e,i),n.promise},e.prototype.put=function(e,t,r){var n=this,i=this.$q.defer(),o=function(r){r&&i.reject(r);var o=function(e,t){e?i.reject(e):i.resolve()};t?n.s.load("text/turtle",e,t,o):n.s.load("text/turtle",e,o)};return t?this.s.clear(t,o):this.s.clear(o),i.promise},e}();o.module("fibra.services.fibra-sparql-service",[]).config(["$provide",function(e){e.service("fibraSparqlService",u)}])},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(0),s=(r.n(o),r(30)),a=r(96),u=r(27),l=(r.n(u),r(75)),c=r(97),p=r(98),f=r(22),d=r(73),h=r(6),v=r(43),g=function(){function e(t,r,n,o){i()(this,e),this.workerService=t,this.fibraService=r,this.fibraSparqlService=n,this.$localStorage=o,o.projectSources?o.projectSources.forEach(function(e){e.sparqlEndpoint||(e.sparqlEndpoint=e.endpoint,e.updateEndpoint=e.endpoint,e.graphStoreEndpoint=e.endpoint)}):o.projectSources=[]}return e.$inject=["workerService","fibraService","fibraSparqlService","$localStorage"],e.orderCitables=function(e){e.sort(function(e,t){return(e.order?e.order:Number.MAX_VALUE)-(t.order?t.order:Number.MAX_VALUE)}),e.forEach(function(e){return delete e.order})},e.prototype.getCurrentProject=function(){return this.fibraService.getState().project},e.prototype.setCurrentProject=function(e){return this.fibraService.dispatchAction(this.fibraService.setProject(e))},e.prototype.getProjectSources=function(){return this.$localStorage.projectSources},e.prototype.listPrimaryEndpointConfigurations=function(e){return this.workerService.call("projectWorkerService","listPrimaryEndpointConfigurations",[e])},e.prototype.loadPrimaryEndpointConfiguration=function(e,t){return this.workerService.call("projectWorkerService","loadPrimaryEndpointConfiguration",[e,t])},e.prototype.listArchiveEndpointConfigurations=function(e){return this.workerService.call("projectWorkerService","listArchiveEndpointConfigurations",[e])},e.prototype.listAuthorityEndpointConfigurations=function(e){return this.workerService.call("projectWorkerService","listAuthorityEndpointConfigurations",[e])},e.prototype.loadRemoteEndpointConfiguration=function(e,t){return this.workerService.call("projectWorkerService","loadRemoteEndpointConfiguration",[e,t])},e.prototype.listSchemas=function(e){return this.workerService.call("projectWorkerService","listSchemas",[e])},e.prototype.loadSchema=function(e,t){return this.workerService.call("projectWorkerService","loadSchema",[e,t])},e.prototype.listProjects=function(e){return this.workerService.call("projectWorkerService","listProjects",[e])},e.prototype.loadProject=function(e,t,r){return this.workerService.call("projectWorkerService","loadProject",[e,t,r])},e.prototype.deleteCitable=function(e,t){return this.deleteObject(e,t.id,t.source.graph)},e.prototype.deleteObjects=function(t,r,n){var i=n?e.deleteQuery.replace(/# STARTGRAPH/g,"GRAPH <"+n+"> {").replace(/# ENDGRAPH/g,"}"):e.deleteQuery.replace(/.*# STARTGRAPH\n/g,"").replace(/.*# ENDGRAPH\n/g,"");return i=i.replace(/# PATTERNS/g,r.reduce(function(e,t,r){return e+" <"+t+"> ?p"+r+" ?o"+r+" ."},"")),this.fibraSparqlService.update(t,i)},e.prototype.deleteObject=function(e,t,r){return this.deleteObjects(e,[t],r)},e.prototype.saveCitable=function(e,t,n){var i=this,o=new f.c,s={};return n.toTurtle(o,s),console.log(n,o,s),this.deleteObjects(e,o.keys(),n.source.graph).then(function(){return i.fibraSparqlService.post(t,r.i(d.c)(s,o),n.source.graph)})},e}();g.deleteQuery="DELETE {\n# STARTGRAPH\n  # PATTERNS\n# ENDGRAPH\n}\nWHERE {\n# STARTGRAPH\n  # PATTERNS\n# ENDGRAPH\n}";var m=function(){function e(t,r){i()(this,e),this.fibraSparqlService=t,this.$q=r}return e.$inject=["fibraSparqlService","$q"],e.prototype.loadPrimaryEndpointConfiguration=function(e,t){return this.runSingleQuery(e,l.a.primaryEndpointConfigurationQuery,t,new l.a(t,e))},e.prototype.listPrimaryEndpointConfigurations=function(e){return this.runListQuery(e,l.a.listPrimaryEndpointConfigurationsQuery,function(t){return new l.a(t,e)})},e.prototype.loadRemoteEndpointConfiguration=function(e,t){return this.runSingleQuery(e,c.a.remoteEndpointConfigurationQuery,t,new c.a(t,e))},e.prototype.listArchiveEndpointConfigurations=function(e){return this.runListQuery(e,c.a.listArchiveEndpointConfigurationsQuery,function(t){return new c.a(t,e)})},e.prototype.listAuthorityEndpointConfigurations=function(e){return this.runListQuery(e,c.a.listAuthorityEndpointConfigurationsQuery,function(t){return new c.a(t,e)})},e.prototype.listProjects=function(e){return this.runListQuery(e,a.a.listProjectsQuery,function(t){return new a.a(t,e)})},e.prototype.listSchemas=function(e){return this.runListQuery(e,p.a.listSchemasQuery,function(t){return new p.a(t,e)})},e.prototype.loadSchema=function(e,t){return this.runSingleQuery(e,p.a.schemaQuery,t,new p.a(t,e))},e.prototype.loadDataModel=function(e){var t=this,r=new v.c,n=new f.a(function(e){var t=new v.a(h.a.namedNode(e));return r.classMap.set(e,t),t}),i=new f.a(function(e){var t=new v.b(h.a.namedNode(e));return r.propertyMap.set(e,t),t}),o=[];return e.forEach(function(e){o.push(t.fibraSparqlService.query(e.endpoint,e.classQuery).then(function(e){var t={bindingTypes:{types:"uniqueArray"},bindingConverters:{superClasses:function(e){return n.goc(e.value)},subClasses:function(e){return n.goc(e.value)},types:function(e){return n.goc(e.value)},labels:function(e){return h.a.nodeFromBinding(e)},descriptions:function(e){return h.a.nodeFromBinding(e)}}},r=new u.UniqueObjectTracker;e.results.bindings.forEach(function(e){return u.SparqlService.bindingsToObject(e,n.goc(e.id.value),t,r)})})),o.push(t.fibraSparqlService.query(e.endpoint,e.propertyQuery).then(function(e){var t={bindingTypes:{types:"uniqueArray"},bindingConverters:{superProperties:function(e){return i.goc(e.value)},subProperties:function(e){return i.goc(e.value)},inverseProperty:function(e){return i.goc(e.value)},types:function(e){return n.goc(e.value)},domains:function(e){return n.goc(e.value)},ranges:function(e){return n.goc(e.value)},labels:function(e){return h.a.nodeFromBinding(e)},descriptions:function(e){return h.a.nodeFromBinding(e)}}},r=new u.UniqueObjectTracker;e.results.bindings.forEach(function(e){return u.SparqlService.bindingsToObject(e,i.goc(e.id.value),t,r)})}))}),this.$q.all(o).then(function(){return n.values().forEach(function(e){e.buildAsNodes(),e.superClasses.filter(function(t){return!t.subClasses.find(function(t){return t===e})}).forEach(function(t){return t.subClasses.push(e)}),e.subClasses.filter(function(t){return!t.superClasses.find(function(t){return t===e})}).forEach(function(t){return t.superClasses.push(e)})}),n.values().forEach(function(e){0===e.superClasses.length&&r.rootClasses.push(e)}),i.values().forEach(function(e){e.buildAsNodes(),e.inverseProperty&&(e.inverseProperty.inverseProperty=e),e.superProperties.filter(function(t){return!t.subProperties.find(function(t){return t===e})}).forEach(function(t){return t.subProperties.push(e)}),e.subProperties.filter(function(t){return!t.superProperties.find(function(t){return t===e})}).forEach(function(t){return t.superProperties.push(e)}),e.domains.forEach(function(t){return t.properties.push(e)}),e.ranges.forEach(function(t){return t.inverseProperties.push(e)})}),i.values().forEach(function(e){0===e.superProperties.length&&r.rootProperties.push(e)}),r})},e.prototype.loadProject=function(e,t,r){var n=this,i=this.runSingleQuery(e,a.a.projectQuery,t,new a.a(t,e));return r?i.then(function(e){var t=[];t.push(n.$q.all(e.schemas.map(function(e){return n.loadSchema(e.source,e.id)})).then(function(t){return e.schemas=t,n.loadDataModel(t).then(function(t){return e.dataModel=t})}));var r=[],i=[];return e.archiveEndpoints.forEach(function(e){return t.push(n.loadRemoteEndpointConfiguration(e.source,e.id).then(function(e){return r.push(e)}))}),e.authorityEndpoints.forEach(function(e){return t.push(n.loadRemoteEndpointConfiguration(e.source,e.id).then(function(e){return i.push(e)}))}),n.$q.all(t).then(function(){return e.archiveEndpoints=r,e.authorityEndpoints=i,e})}):i},e.prototype.runSingleQuery=function(e,t,r,n){t=e.graph?t.replace(/# STARTGRAPH/g,"GRAPH <"+e.graph+"> {").replace(/# ENDGRAPH/g,"}"):t.replace(/.*# STARTGRAPH\n/g,"").replace(/.*# ENDGRAPH\n/g,""),t=t.replace(/<ID>/g,"<"+r+">");var i=this.$q.defer();return this.fibraSparqlService.query(e.sparqlEndpoint,t).then(function(t){var r={bindingTypes:{rightsHolders:"uniqueArray",schemas:"uniqueArray",authorityEndpoints:"uniqueArray",archiveEndpoints:"uniqueArray"},bindingConverters:{types:function(e){return h.a.nodeFromBinding(e)},labels:function(e){return h.a.nodeFromBinding(e)},descriptions:function(e){return h.a.nodeFromBinding(e)},schemas:function(t){return new p.a(t.value,s.b.clone(e))},authorityEndpoints:function(t){return new c.a(t.value,s.b.clone(e))},archiveEndpoints:function(t){return new c.a(t.value,s.b.clone(e))},rightsHolders_labels:function(e){return h.a.nodeFromBinding(e)},rightsHolders_descriptions:function(e){return h.a.nodeFromBinding(e)},rightsHolders:function(t){return new s.a(t.value,e)}}},o=new u.UniqueObjectTracker;t.results.bindings.forEach(function(e){return u.SparqlService.bindingsToObject(e,n,r,o)}),g.orderCitables(n.rightsHolders),i.resolve(n)}),i.promise},e.prototype.runListQuery=function(e,t,r){return t=e.graph?t.replace(/# STARTGRAPH/g,"GRAPH <"+e.graph+"> {").replace(/# ENDGRAPH/g,"}"):t.replace(/.*# STARTGRAPH\n/g,"").replace(/.*# ENDGRAPH\n/g,""),this.fibraSparqlService.query(e.sparqlEndpoint,t).then(function(t){var n=new f.a(r),i={bindingTypes:{rightsHolders:"uniqueArray",schemas:"uniqueArray",authorityEndpoints:"uniqueArray",archiveEndpoints:"uniqueArray"},bindingConverters:{types:function(e){return h.a.nodeFromBinding(e)},labels:function(e){return h.a.nodeFromBinding(e)},descriptions:function(e){return h.a.nodeFromBinding(e)},schemas:function(t){return new p.a(t.value,s.b.clone(e))},authorityEndpoints:function(t){return new c.a(t.value,s.b.clone(e))},archiveEndpoints:function(t){return new c.a(t.value,s.b.clone(e))},rightsHolders_labels:function(e){return h.a.nodeFromBinding(e)},rightsHolders_descriptions:function(e){return h.a.nodeFromBinding(e)},rightsHolders:function(t){return new s.a(t.value,e)}}},o=new u.UniqueObjectTracker;return t.results.bindings.forEach(function(e){return u.SparqlService.bindingsToObject(e,n.goc(e.id.value),i,o)}),n.values().forEach(function(e){return g.orderCitables(e.rightsHolders)}),n.values()})},e}();o.module("fibra.services.project-service",["fibra.services.fibra-service","fibra.services.fibra-sparql-service"]).config(["$provide",function(e){e.service("projectService",g),e.service("projectWorkerService",m)}])},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(0),s=(r.n(o),function(){function e(t,r){i()(this,e),this.$localStorage=t,this.$state=r}return e.$inject=["$localStorage","$state"],e.prototype.loginState=function(){return this.$localStorage.user_email?this.$localStorage.user_email+" (via "+this.$localStorage.login_provider+")":"Not logged in"},e.prototype.isLoggedIn=function(){return null!==this.$localStorage.user_email&&void 0!==this.$localStorage.user_email},e.prototype.isAuthenticated=function(){return!!this.$localStorage.access_token},e.prototype.logout=function(){this.$localStorage.access_token=null,this.$localStorage.login_provider=null,this.$localStorage.user_email=null,this.$state.go("projects")},e}());o.module("fibra.services.social-auth-service",[]).config(["$provide",function(e){e.service("socialAuthService",s)}])},function(e,t,r){"use strict";var n=r(96),i=r(75),o=r(97),s=r(98),a=r(43),u=r(6),l=r(30),c=r(22),p=r(95),f=r(16),d=r(74),h=r(0);r.n(h);h.module("fibra.services.worker-service-prototype-mapping-configuration",[]).config(["$provide",function(e){e.service("workerServicePrototypeMappingConfiguration",function(){var e={Project:n.a.prototype,CNode:u.j.prototype,NamedNode:u.i.prototype,Citable:l.a.prototype,FMap:c.c.prototype,Class:a.a.prototype,Property:a.b.prototype,TreeNode:p.a.prototype,PrimaryEndpointConfiguration:i.a.prototype,RemoteEndpointConfiguration:o.a.prototype,Schema:s.a.prototype,PropertyAndValue:f.a.prototype,Item:f.b.prototype,PropertyToValues:f.c.prototype,FullRichNodeFromNode:d.c.prototype};for(var t in e)e[t].__name=t;return e.Object=Object.prototype,e})}])},function(e,t,r){e.exports={default:r(307),__esModule:!0}},function(e,t,r){e.exports={default:r(308),__esModule:!0}},function(e,t,r){e.exports={default:r(309),__esModule:!0}},function(e,t,r){e.exports={default:r(310),__esModule:!0}},function(e,t,r){e.exports={default:r(311),__esModule:!0}},function(e,t,r){e.exports={default:r(312),__esModule:!0}},function(e,t,r){e.exports={default:r(313),__esModule:!0}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(288),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t,r){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-n(e)}function o(e){var t,r,i,o,s,a=e.length;o=n(e),s=new p(3*a/4-o),r=o>0?a-4:a;var u=0;for(t=0;t<r;t+=4)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=255&i;return 2===o?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,s[u++]=255&i):1===o&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,s[u++]=i>>8&255,s[u++]=255&i),s}function s(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function a(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(s(n));return i.join("")}function u(e){for(var t,r=e.length,n=r%3,i="",o=[],s=0,u=r-n;s<u;s+=16383)o.push(a(e,s,s+16383>u?u:s+16383));return 1===n?(t=e[r-1],i+=l[t>>2],i+=l[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=l[t>>10],i+=l[t>>4&63],i+=l[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=i,t.toByteArray=o,t.fromByteArray=u;for(var l=[],c=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,h=f.length;d<h;++d)l[d]=f[d],c[f.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,r){!function(e){e(r(17))}(function(e){"use strict";function t(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height},t.style.width="",t.style.height="auto",t.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",e.refresh()}function r(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var r=e.state.fullScreenRestore;t.style.width=r.width,t.style.height=r.height,window.scrollTo(r.scrollLeft,r.scrollTop),e.refresh()}e.defineOption("fullScreen",!1,function(n,i,o){o==e.Init&&(o=!1),!o!=!i&&(i?t(n):r(n))})})},function(e,t,r){!function(e){e(r(17))}(function(e){function t(e,t,n,i){var o=e.getLineHandle(t.line),u=t.ch-1,l=u>=0&&a[o.text.charAt(u)]||a[o.text.charAt(++u)];if(!l)return null;var c=">"==l.charAt(1)?1:-1;if(n&&c>0!=(u==t.ch))return null;var p=e.getTokenTypeAt(s(t.line,u+1)),f=r(e,s(t.line,u+(c>0?1:0)),c,p||null,i);return null==f?null:{from:s(t.line,u),to:f&&f.pos,match:f&&f.ch==l.charAt(0),forward:c>0}}function r(e,t,r,n,i){for(var o=i&&i.maxScanLineLength||1e4,u=i&&i.maxScanLines||1e3,l=[],c=i&&i.bracketRegex?i.bracketRegex:/[(){}[\]]/,p=r>0?Math.min(t.line+u,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-u),f=t.line;f!=p;f+=r){var d=e.getLine(f);if(d){var h=r>0?0:d.length-1,v=r>0?d.length:-1;if(!(d.length>o))for(f==t.line&&(h=t.ch-(r<0?1:0));h!=v;h+=r){var g=d.charAt(h);if(c.test(g)&&(void 0===n||e.getTokenTypeAt(s(f,h+1))==n)){var m=a[g];if(">"==m.charAt(1)==r>0)l.push(g);else{if(!l.length)return{pos:s(f,h),ch:g};l.pop()}}}}}return f-r!=(r>0?e.lastLine():e.firstLine())&&null}function n(e,r,n){for(var i=e.state.matchBrackets.maxHighlightLineLength||1e3,a=[],u=e.listSelections(),l=0;l<u.length;l++){var c=u[l].empty()&&t(e,u[l].head,!1,n);if(c&&e.getLine(c.from.line).length<=i){var p=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(e.markText(c.from,s(c.from.line,c.from.ch+1),{className:p})),c.to&&e.getLine(c.to.line).length<=i&&a.push(e.markText(c.to,s(c.to.line,c.to.ch+1),{className:p}))}}if(a.length){o&&e.state.focused&&e.focus();var f=function(){e.operation(function(){for(var e=0;e<a.length;e++)a[e].clear()})};if(!r)return f;setTimeout(f,800)}}function i(e){e.operation(function(){u&&(u(),u=null),u=n(e,!1,e.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),s=e.Pos,a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},u=null;e.defineOption("matchBrackets",!1,function(t,r,n){n&&n!=e.Init&&t.off("cursorActivity",i),r&&(t.state.matchBrackets="object"==typeof r?r:{},t.on("cursorActivity",i))}),e.defineExtension("matchBrackets",function(){n(this,!0)}),e.defineExtension("findMatchingBracket",function(e,r,n){return t(this,e,r,n)}),e.defineExtension("scanForBracket",function(e,t,n,i){return r(this,e,t,n,i)})})},function(e,t,r){!function(e){e(r(17))}(function(e){"use strict";e.registerHelper("fold","brace",function(t,r){function n(n){for(var a=r.ch,u=0;;){var l=a<=0?-1:s.lastIndexOf(n,a-1);if(-1!=l){if(1==u&&l<r.ch)break;if(i=t.getTokenTypeAt(e.Pos(o,l+1)),!/^(comment|string)/.test(i))return l+1;a=l-1}else{if(1==u)break;u=1,a=s.length}}}var i,o=r.line,s=t.getLine(o),a="{",u="}",l=n("{");if(null==l&&(a="[",u="]",l=n("[")),null!=l){var c,p,f=1,d=t.lastLine();e:for(var h=o;h<=d;++h)for(var v=t.getLine(h),g=h==o?l:0;;){var m=v.indexOf(a,g),y=v.indexOf(u,g);if(m<0&&(m=v.length),y<0&&(y=v.length),(g=Math.min(m,y))==v.length)break;if(t.getTokenTypeAt(e.Pos(h,g+1))==i)if(g==m)++f;else if(!--f){c=h,p=g;break e}++g}if(null!=c&&(o!=c||p!=l))return{from:e.Pos(o,l),to:e.Pos(c,p)}}}),e.registerHelper("fold","import",function(t,r){function n(r){if(r<t.firstLine()||r>t.lastLine())return null;var n=t.getTokenAt(e.Pos(r,1));if(/\S/.test(n.string)||(n=t.getTokenAt(e.Pos(r,n.end+1))),"keyword"!=n.type||"import"!=n.string)return null;for(var i=r,o=Math.min(t.lastLine(),r+10);i<=o;++i){var s=t.getLine(i),a=s.indexOf(";");if(-1!=a)return{startCh:n.end,end:e.Pos(i,a)}}}var i,o=r.line,s=n(o);if(!s||n(o-1)||(i=n(o-2))&&i.end.line==o-1)return null;for(var a=s.end;;){var u=n(a.line+1);if(null==u)break;a=u.end}return{from:t.clipPos(e.Pos(o,s.startCh+1)),to:a}}),e.registerHelper("fold","include",function(t,r){function n(r){if(r<t.firstLine()||r>t.lastLine())return null;var n=t.getTokenAt(e.Pos(r,1));return/\S/.test(n.string)||(n=t.getTokenAt(e.Pos(r,n.end+1))),"meta"==n.type&&"#include"==n.string.slice(0,8)?n.start+8:void 0}var i=r.line,o=n(i);if(null==o||null!=n(i-1))return null;for(var s=i;;){if(null==n(s+1))break;++s}return{from:e.Pos(i,o+1),to:t.clipPos(e.Pos(s))}})})},function(e,t,r){!function(e){e(r(17),r(163))}(function(e){"use strict";function t(e){this.options=e,this.from=this.to=0}function r(e){return!0===e&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}function n(e,t){for(var r=e.findMarks(p(t,0),p(t+1,0)),n=0;n<r.length;++n)if(r[n].__isFold&&r[n].find().from.line==t)return r[n]}function i(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function o(e,t,r){var o=e.state.foldGutter.options,s=t,a=e.foldOption(o,"minFoldSize"),u=e.foldOption(o,"rangeFinder");e.eachLine(t,r,function(t){var r=null;if(n(e,s))r=i(o.indicatorFolded);else{var l=p(s,0),c=u&&u(e,l);c&&c.to.line-c.from.line>=a&&(r=i(o.indicatorOpen))}e.setGutterMarker(t,o.gutter,r),++s})}function s(e){var t=e.getViewport(),r=e.state.foldGutter;r&&(e.operation(function(){o(e,t.from,t.to)}),r.from=t.from,r.to=t.to)}function a(e,t,r){var i=e.state.foldGutter;if(i){var o=i.options;if(r==o.gutter){var s=n(e,t);s?s.clear():e.foldCode(p(t,0),o.rangeFinder)}}}function u(e){var t=e.state.foldGutter;if(t){var r=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){s(e)},r.foldOnChangeTimeSpan||600)}}function l(e){var t=e.state.foldGutter;if(t){var r=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var r=e.getViewport();t.from==t.to||r.from-t.to>20||t.from-r.to>20?s(e):e.operation(function(){r.from<t.from&&(o(e,r.from,t.from),t.from=r.from),r.to>t.to&&(o(e,t.to,r.to),t.to=r.to)})},r.updateViewportTimeSpan||400)}}function c(e,t){var r=e.state.foldGutter;if(r){var n=t.line;n>=r.from&&n<r.to&&o(e,n,n+1)}}e.defineOption("foldGutter",!1,function(n,i,o){o&&o!=e.Init&&(n.clearGutter(n.state.foldGutter.options.gutter),n.state.foldGutter=null,n.off("gutterClick",a),n.off("change",u),n.off("viewportChange",l),n.off("fold",c),n.off("unfold",c),n.off("swapDoc",u)),i&&(n.state.foldGutter=new t(r(i)),s(n),n.on("gutterClick",a),n.on("change",u),n.on("viewportChange",l),n.on("fold",c),n.on("unfold",c),n.on("swapDoc",u))});var p=e.Pos})},function(e,t,r){!function(e){e(r(17))}(function(e){"use strict";function t(e,t){return e.line-t.line||e.ch-t.ch}function r(e,t,r,n){this.line=t,this.ch=r,this.cm=e,this.text=e.getLine(t),this.min=n?n.from:e.firstLine(),this.max=n?n.to-1:e.lastLine()}function n(e,t){var r=e.cm.getTokenTypeAt(f(e.line,t));return r&&/\btag\b/.test(r)}function i(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function o(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function s(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(i(e))continue;return}{if(n(e,t+1)){var r=e.text.lastIndexOf("/",t),o=r>-1&&!/\S/.test(e.text.slice(r+1,t));return e.ch=t+1,o?"selfClose":"regular"}e.ch=t+1}}}function a(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(o(e))continue;return}if(n(e,t+1)){h.lastIndex=t,e.ch=t;var r=h.exec(e.text);if(r&&r.index==t)return r}else e.ch=t}}function u(e){for(;;){h.lastIndex=e.ch;var t=h.exec(e.text);if(!t){if(i(e))continue;return}{if(n(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}}function l(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(o(e))continue;return}{if(n(e,t+1)){var r=e.text.lastIndexOf("/",t),i=r>-1&&!/\S/.test(e.text.slice(r+1,t));return e.ch=t+1,i?"selfClose":"regular"}e.ch=t}}}function c(e,t){for(var r=[];;){var n,i=u(e),o=e.line,a=e.ch-(i?i[0].length:0);if(!i||!(n=s(e)))return;if("selfClose"!=n)if(i[1]){for(var l=r.length-1;l>=0;--l)if(r[l]==i[2]){r.length=l;break}if(l<0&&(!t||t==i[2]))return{tag:i[2],from:f(o,a),to:f(e.line,e.ch)}}else r.push(i[2])}}function p(e,t){for(var r=[];;){var n=l(e);if(!n)return;if("selfClose"!=n){var i=e.line,o=e.ch,s=a(e);if(!s)return;if(s[1])r.push(s[2]);else{for(var u=r.length-1;u>=0;--u)if(r[u]==s[2]){r.length=u;break}if(u<0&&(!t||t==s[2]))return{tag:s[2],from:f(e.line,e.ch),to:f(i,o)}}}else a(e)}}var f=e.Pos,d="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",h=new RegExp("<(/?)(["+d+"][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");e.registerHelper("fold","xml",function(e,t){for(var n=new r(e,t.line,0);;){var i,o=u(n);if(!o||n.line!=t.line||!(i=s(n)))return;if(!o[1]&&"selfClose"!=i){var a=f(n.line,n.ch),l=c(n,o[2]);return l&&{from:a,to:l.from}}}}),e.findMatchingTag=function(e,n,i){var o=new r(e,n.line,n.ch,i);if(-1!=o.text.indexOf(">")||-1!=o.text.indexOf("<")){var u=s(o),l=u&&f(o.line,o.ch),d=u&&a(o);if(u&&d&&!(t(o,n)>0)){var h={from:f(o.line,o.ch),to:l,tag:d[2]};return"selfClose"==u?{open:h,close:null,at:"open"}:d[1]?{open:p(o,d[2]),close:h,at:"close"}:(o=new r(e,l.line,l.ch,i),{open:h,close:c(o,d[2]),at:"open"})}}},e.findEnclosingTag=function(e,t,n){for(var i=new r(e,t.line,t.ch,n);;){var o=p(i);if(!o)break;var s=new r(e,t.line,t.ch,n),a=c(s,o.tag);if(a)return{open:o,close:a}}},e.scanForClosingTag=function(e,t,n,i){return c(new r(e,t.line,t.ch,i?{from:0,to:i}:null),n)}})},function(e,t,r){!function(e){e(r(17))}(function(e){"use strict";function t(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var r=this;e.on("cursorActivity",this.activityFunc=function(){r.cursorActivity()})}function r(t,r){return e.cmpPos(r.from,t.from)>0&&t.to.ch-t.from.ch!=r.to.ch-r.from.ch}function n(e,t,r){var n=e.options.hintOptions,i={};for(var o in v)i[o]=v[o];if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(e,t)),i}function i(e){return"string"==typeof e?e:e.text}function o(e,t){function r(e,r){var i;i="string"!=typeof r?function(e){return r(e,t)}:n.hasOwnProperty(r)?n[r]:r,o[e]=i}var n={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},i=e.options.customKeys,o=i?{}:n;if(i)for(var s in i)i.hasOwnProperty(s)&&r(s,i[s]);var a=e.options.extraKeys;if(a)for(var s in a)a.hasOwnProperty(s)&&r(s,a[s]);return o}function s(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function a(t,r){this.completion=t,this.data=r,this.picked=!1;var n=this,a=t.cm,u=this.hints=document.createElement("ul");u.className="CodeMirror-hints",this.selectedHint=r.selectedHint||0;for(var l=r.list,c=0;c<l.length;++c){var d=u.appendChild(document.createElement("li")),h=l[c],v=p+(c!=this.selectedHint?"":" "+f);null!=h.className&&(v=h.className+" "+v),d.className=v,h.render?h.render(d,r,h):d.appendChild(document.createTextNode(h.displayText||i(h))),d.hintId=c}var g=a.cursorCoords(t.options.alignWithWord?r.from:null),m=g.left,y=g.bottom,b=!0;u.style.left=m+"px",u.style.top=y+"px";var E=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),x=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(t.options.container||document.body).appendChild(u);var S=u.getBoundingClientRect(),T=S.bottom-x,I=u.scrollHeight>u.clientHeight+1,w=a.getScrollInfo();if(T>0){var C=S.bottom-S.top;if(g.top-(g.bottom-S.top)-C>0)u.style.top=(y=g.top-C)+"px",b=!1;else if(C>x){u.style.height=x-5+"px",u.style.top=(y=g.bottom-S.top)+"px";var A=a.getCursor();r.from.ch!=A.ch&&(g=a.cursorCoords(A),u.style.left=(m=g.left)+"px",S=u.getBoundingClientRect())}}var N=S.right-E;if(N>0&&(S.right-S.left>E&&(u.style.width=E-5+"px",N-=S.right-S.left-E),u.style.left=(m=g.left-N)+"px"),I)for(var L=u.firstChild;L;L=L.nextSibling)L.style.paddingRight=a.display.nativeBarWidth+"px";if(a.addKeyMap(this.keyMap=o(t,{moveFocus:function(e,t){n.changeActive(n.selectedHint+e,t)},setFocus:function(e){n.changeActive(e)},menuSize:function(){return n.screenAmount()},length:l.length,close:function(){t.close()},pick:function(){n.pick()},data:r})),t.options.closeOnUnfocus){var R;a.on("blur",this.onBlur=function(){R=setTimeout(function(){t.close()},100)}),a.on("focus",this.onFocus=function(){clearTimeout(R)})}return a.on("scroll",this.onScroll=function(){var e=a.getScrollInfo(),r=a.getWrapperElement().getBoundingClientRect(),n=y+w.top-e.top,i=n-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(b||(i+=u.offsetHeight),i<=r.top||i>=r.bottom)return t.close();u.style.top=n+"px",u.style.left=m+w.left-e.left+"px"}),e.on(u,"dblclick",function(e){var t=s(u,e.target||e.srcElement);t&&null!=t.hintId&&(n.changeActive(t.hintId),n.pick())}),e.on(u,"click",function(e){var r=s(u,e.target||e.srcElement);r&&null!=r.hintId&&(n.changeActive(r.hintId),t.options.completeOnSingleClick&&n.pick())}),e.on(u,"mousedown",function(){setTimeout(function(){a.focus()},20)}),e.signal(r,"select",l[0],u.firstChild),!0}function u(e,t){if(!e.somethingSelected())return t;for(var r=[],n=0;n<t.length;n++)t[n].supportsSelection&&r.push(t[n]);return r}function l(e,t,r,n){if(e.async)e(t,n,r);else{var i=e(t,r);i&&i.then?i.then(n):n(i)}}function c(t,r){var n,i=t.getHelpers(r,"hint");if(i.length){var o=function(e,t,r){function n(i){if(i==o.length)return t(null);l(o[i],e,r,function(e){e&&e.list.length>0?t(e):n(i+1)})}var o=u(e,i);n(0)};return o.async=!0,o.supportsSelection=!0,o}return(n=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:n})}:e.hint.anyword?function(t,r){return e.hint.anyword(t,r)}:function(){}}var p="CodeMirror-hint",f="CodeMirror-hint-active";e.showHint=function(e,t,r){if(!t)return e.showHint(r);r&&r.async&&(t.async=!0);var n={hint:t};if(r)for(var i in r)n[i]=r[i];return e.showHint(n)},e.defineExtension("showHint",function(r){r=n(this,this.getCursor("start"),r);var i=this.listSelections();if(!(i.length>1)){if(this.somethingSelected()){if(!r.hint.supportsSelection)return;for(var o=0;o<i.length;o++)if(i[o].head.line!=i[o].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var s=this.state.completionActive=new t(this,r);s.options.hint&&(e.signal(this,"startCompletion",this),s.update(!0))}});var d=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},h=window.cancelAnimationFrame||clearTimeout;t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,r){var n=t.list[r];n.hint?n.hint(this.cm,t,n):this.cm.replaceRange(i(n),n.from||t.from,n.to||t.to,"complete"),e.signal(t,"pick",n),this.close()},cursorActivity:function(){this.debounce&&(h(this.debounce),this.debounce=0);var e=this.cm.getCursor(),t=this.cm.getLine(e.line);if(e.line!=this.startPos.line||t.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||e.ch&&this.options.closeCharacters.test(t.charAt(e.ch-1)))this.close();else{var r=this;this.debounce=d(function(){r.update()}),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,r=++this.tick;l(this.options.hint,this.cm,this.options,function(n){t.tick==r&&t.finishUpdate(n,e)})}},finishUpdate:function(t,n){this.data&&e.signal(this.data,"update");var i=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),t&&this.data&&r(this.data,t)||(this.data=t,t&&t.list.length&&(i&&1==t.list.length?this.pick(t,0):(this.widget=new a(this,t),e.signal(t,"shown"))))}},a.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,r){if(t>=this.data.list.length?t=r?this.data.list.length-1:0:t<0&&(t=r?0:this.data.list.length-1),this.selectedHint!=t){var n=this.hints.childNodes[this.selectedHint];n.className=n.className.replace(" "+f,""),n=this.hints.childNodes[this.selectedHint=t],n.className+=" "+f,n.offsetTop<this.hints.scrollTop?this.hints.scrollTop=n.offsetTop-3:n.offsetTop+n.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=n.offsetTop+n.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],n)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:c}),e.registerHelper("hint","fromList",function(t,r){var n=t.getCursor(),i=t.getTokenAt(n),o=e.Pos(n.line,i.end);if(i.string&&/\w/.test(i.string[i.string.length-1]))var s=i.string,a=e.Pos(n.line,i.start);else var s="",a=o;for(var u=[],l=0;l<r.words.length;l++){var c=r.words[l];c.slice(0,s.length)==s&&u.push(c)}if(u.length)return{list:u,from:a,to:o}}),e.commands.autocomplete=e.showHint;var v={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)})},function(e,t,r){!function(e){e(r(17))}(function(e){"use strict";e.runMode=function(t,r,n,i){var o=e.getMode(e.defaults,r),s=/MSIE \d/.test(navigator.userAgent),a=s&&(null==document.documentMode||document.documentMode<9);if(n.appendChild){var u=i&&i.tabSize||e.defaults.tabSize,l=n,c=0;l.innerHTML="",n=function(e,t){if("\n"==e)return l.appendChild(document.createTextNode(a?"\r":e)),void(c=0);for(var r="",n=0;;){var i=e.indexOf("\t",n);if(-1==i){r+=e.slice(n),c+=e.length-n;break}c+=i-n,r+=e.slice(n,i);var o=u-c%u;c+=o;for(var s=0;s<o;++s)r+=" ";n=i+1}if(t){var p=l.appendChild(document.createElement("span"));p.className="cm-"+t.replace(/ +/g," cm-"),p.appendChild(document.createTextNode(r))}else l.appendChild(document.createTextNode(r))}}for(var p=e.splitLines(t),f=i&&i.state||e.startState(o),d=0,h=p.length;d<h;++d){d&&n("\n");var v=new e.StringStream(p[d]);for(!v.string&&o.blankLine&&o.blankLine(f);!v.eol();){var g=o.token(v,f);n(v.current(),g,d,v.start,f),v.start=v.pos}}}})},function(e,t,r){!function(e){e(r(17))}(function(e){"use strict";function t(e,t,i,o){if(this.atOccurrence=!1,this.doc=e,null==o&&"string"==typeof t&&(o=!1),i=i?e.clipPos(i):n(0,0),this.pos={from:i,to:i},"string"!=typeof t)t.global||(t=new RegExp(t.source,t.ignoreCase?"ig":"g")),this.matches=function(r,i){if(r){t.lastIndex=0;for(var o,s,a=e.getLine(i.line).slice(0,i.ch),u=0;;){t.lastIndex=u;var l=t.exec(a);if(!l)break;if(o=l,s=o.index,(u=o.index+(o[0].length||1))==a.length)break}var c=o&&o[0].length||0;c||(0==s&&0==a.length?o=void 0:s!=e.getLine(i.line).length&&c++)}else{t.lastIndex=i.ch;var a=e.getLine(i.line),o=t.exec(a),c=o&&o[0].length||0,s=o&&o.index;s+c==a.length||c||(c=1)}if(o&&c)return{from:n(i.line,s),to:n(i.line,s+c),match:o}};else{var s=t;o&&(t=t.toLowerCase());var a=o?function(e){return e.toLowerCase()}:function(e){return e},u=t.split("\n");if(1==u.length)t.length?this.matches=function(i,o){if(i){var u=e.getLine(o.line).slice(0,o.ch),l=a(u),c=l.lastIndexOf(t);if(c>-1)return c=r(u,l,c),{from:n(o.line,c),to:n(o.line,c+s.length)}}else{var u=e.getLine(o.line).slice(o.ch),l=a(u),c=l.indexOf(t);if(c>-1)return c=r(u,l,c)+o.ch,{from:n(o.line,c),to:n(o.line,c+s.length)}}}:this.matches=function(){};else{var l=s.split("\n");this.matches=function(t,r){var i=u.length-1;if(t){if(r.line-(u.length-1)<e.firstLine())return;if(a(e.getLine(r.line).slice(0,l[i].length))!=u[u.length-1])return;for(var o=n(r.line,l[i].length),s=r.line-1,c=i-1;c>=1;--c,--s)if(u[c]!=a(e.getLine(s)))return;var p=e.getLine(s),f=p.length-l[0].length;if(a(p.slice(f))!=u[0])return;return{from:n(s,f),to:o}}if(!(r.line+(u.length-1)>e.lastLine())){var p=e.getLine(r.line),f=p.length-l[0].length;if(a(p.slice(f))==u[0]){for(var d=n(r.line,f),s=r.line+1,c=1;c<i;++c,++s)if(u[c]!=a(e.getLine(s)))return;if(a(e.getLine(s).slice(0,l[i].length))==u[i])return{from:d,to:n(s,l[i].length)}}}}}}}function r(e,t,r){if(e.length==t.length)return r;for(var n=Math.min(r,e.length);;){var i=e.slice(0,n).toLowerCase().length;if(i<r)++n;else{if(!(i>r))return n;--n}}}var n=e.Pos;t.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function t(e){var t=n(e,0);return r.pos={from:t,to:t},r.atOccurrence=!1,!1}for(var r=this,i=this.doc.clipPos(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,i))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!i.line)return t(0);i=n(i.line-1,this.doc.getLine(i.line-1).length)}else{var o=this.doc.lineCount();if(i.line==o-1)return t(o);i=n(i.line+1,0)}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,r){if(this.atOccurrence){var i=e.splitLines(t);this.doc.replaceRange(i,this.pos.from,this.pos.to,r),this.pos.to=n(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,r,n){return new t(this.doc,e,r,n)}),e.defineDocExtension("getSearchCursor",function(e,r,n){return new t(this,e,r,n)}),e.defineExtension("selectMatches",function(t,r){for(var n=[],i=this.getSearchCursor(t,this.getCursor("from"),r);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)n.push({anchor:i.from(),head:i.to()});n.length&&this.setSelections(n,0)})})},function(e,t,r){r(177),r(176),e.exports=r(332)},function(e,t,r){r(334),e.exports=r(18).Object.assign},function(e,t,r){r(335);var n=r(18).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){r(336);var n=r(18).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){r(337);var n=r(18).Object;e.exports=function(e){return n.getOwnPropertyNames(e)}},function(e,t,r){r(338),e.exports=r(18).Object.getPrototypeOf},function(e,t,r){r(339),e.exports=r(18).Object.setPrototypeOf},function(e,t,r){r(341),r(340),r(342),r(343),e.exports=r(18).Symbol},function(e,t,r){r(176),r(177),e.exports=r(113).f("iterator")},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(){}},function(e,t,r){var n=r(35),i=r(330),o=r(329);e.exports=function(e){return function(t,r,s){var a,u=n(t),l=i(u.length),c=o(s,l);if(e&&r!=r){for(;l>c;)if((a=u[c++])!=a)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){var n=r(100),i=r(24)("toStringTag"),o="Arguments"==n(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=s(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,r){var n=r(59),i=r(105),o=r(78);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var s,a=r(e),u=o.f,l=0;a.length>l;)u.call(e,s=a[l++])&&t.push(s);return t}},function(e,t,r){e.exports=r(23).document&&document.documentElement},function(e,t,r){var n=r(100);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){"use strict";var n=r(104),i=r(79),o=r(106),s={};r(48)(s,r(24)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(s,{next:i(1,r)}),o(e,t+" Iterator")}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(59),i=r(35);e.exports=function(e,t){for(var r,o=i(e),s=n(o),a=s.length,u=0;a>u;)if(o[r=s[u++]]===t)return r}},function(e,t,r){var n=r(80)("meta"),i=r(58),o=r(33),s=r(34).f,a=0,u=Object.isExtensible||function(){return!0},l=!r(47)(function(){return u(Object.preventExtensions({}))}),c=function(e){s(e,n,{value:{i:"O"+ ++a,w:{}}})},p=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[n].i},f=function(e,t){if(!o(e,n)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[n].w},d=function(e){return l&&h.NEED&&u(e)&&!o(e,n)&&c(e),e},h=e.exports={KEY:n,NEED:!1,fastKey:p,getWeak:f,onFreeze:d}},function(e,t,r){"use strict";var n=r(59),i=r(105),o=r(78),s=r(110),a=r(167),u=Object.assign;e.exports=!u||r(47)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var r=s(e),u=arguments.length,l=1,c=i.f,p=o.f;u>l;)for(var f,d=a(arguments[l++]),h=c?n(d).concat(c(d)):n(d),v=h.length,g=0;v>g;)p.call(d,f=h[g++])&&(r[f]=d[f]);return r}:u},function(e,t,r){var n=r(34),i=r(46),o=r(59);e.exports=r(31)?Object.defineProperties:function(e,t){i(e);for(var r,s=o(t),a=s.length,u=0;a>u;)n.f(e,r=s[u++],t[r]);return e}},function(e,t,r){var n=r(58),i=r(46),o=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r(164)(Function.call,r(169).f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:o}},function(e,t,r){var n=r(109),i=r(101);e.exports=function(e){return function(t,r){var o,s,a=String(i(t)),u=n(r),l=a.length;return u<0||u>=l?e?"":void 0:(o=a.charCodeAt(u),o<55296||o>56319||u+1===l||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):o:e?a.slice(u,u+2):s-56320+(o-55296<<10)+65536)}}},function(e,t,r){var n=r(109),i=Math.max,o=Math.min;e.exports=function(e,t){return e=n(e),e<0?i(e+t,0):o(e,t)}},function(e,t,r){var n=r(109),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(317),i=r(24)("iterator"),o=r(77);e.exports=r(18).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[n(e)]}},function(e,t,r){var n=r(46),i=r(331);e.exports=r(18).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){"use strict";var n=r(315),i=r(322),o=r(77),s=r(35);e.exports=r(168)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,r):"values"==t?i(0,e[r]):i(0,[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t,r){var n=r(32);n(n.S+n.F,"Object",{assign:r(325)})},function(e,t,r){var n=r(32);n(n.S,"Object",{create:r(104)})},function(e,t,r){var n=r(32);n(n.S+n.F*!r(31),"Object",{defineProperty:r(34).f})},function(e,t,r){r(174)("getOwnPropertyNames",function(){return r(170).f})},function(e,t,r){var n=r(110),i=r(172);r(174)("getPrototypeOf",function(){return function(e){return i(n(e))}})},function(e,t,r){var n=r(32);n(n.S,"Object",{setPrototypeOf:r(327).set})},function(e,t){},function(e,t,r){"use strict";var n=r(23),i=r(33),o=r(31),s=r(32),a=r(175),u=r(324).KEY,l=r(47),c=r(108),p=r(106),f=r(80),d=r(24),h=r(113),v=r(112),g=r(323),m=r(318),y=r(320),b=r(46),E=r(35),x=r(111),S=r(79),T=r(104),I=r(170),w=r(169),C=r(34),A=r(59),N=w.f,L=C.f,R=I.f,_=n.Symbol,k=n.JSON,O=k&&k.stringify,P=d("_hidden"),D=d("toPrimitive"),F={}.propertyIsEnumerable,j=c("symbol-registry"),M=c("symbols"),$=c("op-symbols"),B=Object.prototype,U="function"==typeof _,G=n.QObject,H=!G||!G.prototype||!G.prototype.findChild,q=o&&l(function(){return 7!=T(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=N(B,t);n&&delete B[t],L(e,t,r),n&&e!==B&&L(B,t,n)}:L,V=function(e){var t=M[e]=T(_.prototype);return t._k=e,t},Q=U&&"symbol"==typeof _.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof _},W=function(e,t,r){return e===B&&W($,t,r),b(e),t=x(t,!0),b(r),i(M,t)?(r.enumerable?(i(e,P)&&e[P][t]&&(e[P][t]=!1),r=T(r,{enumerable:S(0,!1)})):(i(e,P)||L(e,P,S(1,{})),e[P][t]=!0),q(e,t,r)):L(e,t,r)},z=function(e,t){b(e);for(var r,n=m(t=E(t)),i=0,o=n.length;o>i;)W(e,r=n[i++],t[r]);return e},X=function(e,t){return void 0===t?T(e):z(T(e),t)},Y=function(e){var t=F.call(this,e=x(e,!0));return!(this===B&&i(M,e)&&!i($,e))&&(!(t||!i(this,e)||!i(M,e)||i(this,P)&&this[P][e])||t)},K=function(e,t){if(e=E(e),t=x(t,!0),e!==B||!i(M,t)||i($,t)){var r=N(e,t);return!r||!i(M,t)||i(e,P)&&e[P][t]||(r.enumerable=!0),r}},J=function(e){for(var t,r=R(E(e)),n=[],o=0;r.length>o;)i(M,t=r[o++])||t==P||t==u||n.push(t);return n},Z=function(e){for(var t,r=e===B,n=R(r?$:E(e)),o=[],s=0;n.length>s;)!i(M,t=n[s++])||r&&!i(B,t)||o.push(M[t]);return o};U||(_=function(){if(this instanceof _)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(r){this===B&&t.call($,r),i(this,P)&&i(this[P],e)&&(this[P][e]=!1),q(this,e,S(1,r))};return o&&H&&q(B,e,{configurable:!0,set:t}),V(e)},a(_.prototype,"toString",function(){return this._k}),w.f=K,C.f=W,r(171).f=I.f=J,r(78).f=Y,r(105).f=Z,o&&!r(103)&&a(B,"propertyIsEnumerable",Y,!0),h.f=function(e){return V(d(e))}),s(s.G+s.W+s.F*!U,{Symbol:_});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)d(ee[te++]);for(var ee=A(d.store),te=0;ee.length>te;)v(ee[te++]);s(s.S+s.F*!U,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=_(e)},keyFor:function(e){if(Q(e))return g(j,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!U,"Object",{create:X,defineProperty:W,defineProperties:z,getOwnPropertyDescriptor:K,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),k&&s(s.S+s.F*(!U||l(function(){var e=_();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!Q(e)){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);return t=n[1],"function"==typeof t&&(r=t),!r&&y(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!Q(t))return t}),n[1]=t,O.apply(k,n)}}}),_.prototype[D]||r(48)(_.prototype,D,_.prototype.valueOf),p(_,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},function(e,t,r){r(112)("asyncIterator")},function(e,t,r){r(112)("observable")},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(49),r(50),r(36),r(9))}(0,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,o=[],s=[],a=[],u=[],l=[],c=[],p=[],f=[],d=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=0,n=0,t=0;t<256;t++){var i=n^n<<1^n<<2^n<<3^n<<4;i=i>>>8^255&i^99,o[r]=i,s[i]=r;var v=e[r],g=e[v],m=e[g],y=257*e[i]^16843008*i;a[r]=y<<24|y>>>8,u[r]=y<<16|y>>>16,l[r]=y<<8|y>>>24,c[r]=y;var y=16843009*m^65537*g^257*v^16843008*r;p[i]=y<<24|y>>>8,f[i]=y<<16|y>>>16,d[i]=y<<8|y>>>24,h[i]=y,r?(r=v^e[e[e[m^v]]],n^=e[e[n]]):r=n=1}}();var v=[0,1,2,4,8,16,32,64,128,27,54],g=i.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=this._nRounds=r+6,i=4*(n+1),s=this._keySchedule=[],a=0;a<i;a++)if(a<r)s[a]=t[a];else{var u=s[a-1];a%r?r>6&&a%r==4&&(u=o[u>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u]):(u=u<<8|u>>>24,u=o[u>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u],u^=v[a/r|0]<<24),s[a]=s[a-r]^u}for(var l=this._invKeySchedule=[],c=0;c<i;c++){var a=i-c;if(c%4)var u=s[a];else var u=s[a-4];l[c]=c<4||a<=4?u:p[o[u>>>24]]^f[o[u>>>16&255]]^d[o[u>>>8&255]]^h[o[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,u,l,c,o)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,p,f,d,h,s);var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,s,a){for(var u=this._nRounds,l=e[t]^r[0],c=e[t+1]^r[1],p=e[t+2]^r[2],f=e[t+3]^r[3],d=4,h=1;h<u;h++){var v=n[l>>>24]^i[c>>>16&255]^o[p>>>8&255]^s[255&f]^r[d++],g=n[c>>>24]^i[p>>>16&255]^o[f>>>8&255]^s[255&l]^r[d++],m=n[p>>>24]^i[f>>>16&255]^o[l>>>8&255]^s[255&c]^r[d++],y=n[f>>>24]^i[l>>>16&255]^o[c>>>8&255]^s[255&p]^r[d++];l=v,c=g,p=m,f=y}var v=(a[l>>>24]<<24|a[c>>>16&255]<<16|a[p>>>8&255]<<8|a[255&f])^r[d++],g=(a[c>>>24]<<24|a[p>>>16&255]<<16|a[f>>>8&255]<<8|a[255&l])^r[d++],m=(a[p>>>24]<<24|a[f>>>16&255]<<16|a[l>>>8&255]<<8|a[255&c])^r[d++],y=(a[f>>>24]<<24|a[l>>>16&255]<<16|a[c>>>8&255]<<8|a[255&p])^r[d++];e[t]=v,e[t+1]=g,e[t+2]=m,e[t+3]=y},keySize:8});t.AES=n._createHelper(g)}(),e.AES})},function(e,t,r){!function(n,i){e.exports=t=i(r(3))}(0,function(e){return function(){function t(e){return e<<8&4278255360|e>>>8&16711935}var r=e,n=r.lib,i=n.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>1]|=e.charCodeAt(n)<<16-n%2*16;return i.create(r,2*t)}};o.Utf16LE={stringify:function(e){for(var r=e.words,n=e.sigBytes,i=[],o=0;o<n;o+=2){var s=t(r[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(s))}return i.join("")},parse:function(e){for(var r=e.length,n=[],o=0;o<r;o++)n[o>>>1]|=t(e.charCodeAt(o)<<16-o%2*16);return i.create(n,2*r)}}}(),e.enc.Utf16})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(9))}(0,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,o=r.enc,s=o.Hex,a=r.format;a.Hex={stringify:function(e){return e.ciphertext.toString(s)},parse:function(e){var t=s.parse(e);return i.create({ciphertext:t})}}}(),e.format.Hex})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(81),r(348),r(345),r(49),r(50),r(115),r(178),r(364),r(179),r(366),r(365),r(363),r(114),r(359),r(36),r(9),r(349),r(351),r(350),r(353),r(352),r(354),r(355),r(356),r(358),r(357),r(346),r(344),r(367),r(362),r(361),r(360))}(0,function(e){return e})},function(e,t,r){!function(n,i){e.exports=t=i(r(3))}(0,function(e){return function(){if("function"==typeof ArrayBuffer){var t=e,r=t.lib,n=r.WordArray,i=n.init;(n.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,r=[],n=0;n<t;n++)r[n>>>2]|=e[n]<<24-n%4*8;i.call(this,r,t)}else i.apply(this,arguments)}).prototype=n}}(),e.lib.WordArray})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(9))}(0,function(e){return e.mode.CFB=function(){function t(e,t,r,n){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else var o=this._prevBlock;n.encryptBlock(o,0);for(var s=0;s<r;s++)e[t+s]^=o[s]}var r=e.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i,n),this._prevBlock=e.slice(r,r+i)}}),r.Decryptor=r.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,o=e.slice(r,r+i);t.call(this,e,r,i,n),this._prevBlock=o}}),r}(),e.mode.CFB})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(9))}(0,function(e){/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
return e.mode.CTRGladman=function(){function t(e){if(255==(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}function r(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var n=e.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),r(s);var a=s.slice(0);n.encryptBlock(a,0);for(var u=0;u<i;u++)e[t+u]^=a[u]}});return n.Decryptor=i,n}(),e.mode.CTRGladman})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(9))}(0,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);r.encryptBlock(s,0),o[n-1]=o[n-1]+1|0;for(var a=0;a<n;a++)e[t+a]^=s[a]}});return t.Decryptor=r,t}(),e.mode.CTR})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(9))}(0,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t}(),e.mode.ECB})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(9))}(0,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var s=0;s<n;s++)e[t+s]^=o[s]}});return t.Decryptor=r,t}(),e.mode.OFB})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(9))}(0,function(e){return e.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,i=n-r%n,o=r+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(9))}(0,function(e){return e.pad.Iso10126={pad:function(t,r){var n=4*r,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(9))}(0,function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(9))}(0,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(9))}(0,function(e){return e.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var t=e.words,r=e.sigBytes-1;!(t[r>>>2]>>>24-r%4*8&255);)r--;e.sigBytes=r+1}},e.pad.ZeroPadding})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(115),r(114))}(0,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,o=t.algo,s=o.SHA1,a=o.HMAC,u=o.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=a.create(r.hasher,e),o=i.create(),s=i.create([1]),u=o.words,l=s.words,c=r.keySize,p=r.iterations;u.length<c;){var f=n.update(t).finalize(s);n.reset();for(var d=f.words,h=d.length,v=f,g=1;g<p;g++){v=n.finalize(v),n.reset();for(var m=v.words,y=0;y<h;y++)d[y]^=m[y]}o.concat(f),l[0]++}return o.sigBytes=4*c,o}});t.PBKDF2=function(e,t,r){return u.create(r).compute(e,t)}}(),e.PBKDF2})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(49),r(50),r(36),r(9))}(0,function(e){return function(){function t(){for(var e=this._X,t=this._C,r=0;r<8;r++)a[r]=t[r];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0;for(var r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,o=n>>>16,s=((i*i>>>17)+i*o>>>15)+o*o,l=((4294901760&n)*n|0)+((65535&n)*n|0);u[r]=s^l}e[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,e[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,e[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,e[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,e[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,e[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,e[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,e[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}var r=e,n=r.lib,i=n.StreamCipher,o=r.algo,s=[],a=[],u=[],l=o.RabbitLegacy=i.extend({_doReset:function(){var e=this._key.words,r=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var o=0;o<4;o++)t.call(this);for(var o=0;o<8;o++)i[o]^=n[o+4&7];if(r){var s=r.words,a=s[0],u=s[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),c=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),p=l>>>16|4294901760&c,f=c<<16|65535&l;i[0]^=l,i[1]^=p,i[2]^=c,i[3]^=f,i[4]^=l,i[5]^=p,i[6]^=c,i[7]^=f;for(var o=0;o<4;o++)t.call(this)}},_doProcessBlock:function(e,r){var n=this._X;t.call(this),s[0]=n[0]^n[5]>>>16^n[3]<<16,s[1]=n[2]^n[7]>>>16^n[5]<<16,s[2]=n[4]^n[1]>>>16^n[7]<<16,s[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)s[i]=16711935&(s[i]<<8|s[i]>>>24)|4278255360&(s[i]<<24|s[i]>>>8),e[r+i]^=s[i]},blockSize:4,ivSize:2});r.RabbitLegacy=i._createHelper(l)}(),e.RabbitLegacy})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(49),r(50),r(36),r(9))}(0,function(e){return function(){function t(){for(var e=this._X,t=this._C,r=0;r<8;r++)a[r]=t[r];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0;for(var r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,o=n>>>16,s=((i*i>>>17)+i*o>>>15)+o*o,l=((4294901760&n)*n|0)+((65535&n)*n|0);u[r]=s^l}e[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,e[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,e[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,e[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,e[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,e[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,e[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,e[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}var r=e,n=r.lib,i=n.StreamCipher,o=r.algo,s=[],a=[],u=[],l=o.Rabbit=i.extend({_doReset:function(){for(var e=this._key.words,r=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var n=0;n<4;n++)t.call(this);for(var n=0;n<8;n++)o[n]^=i[n+4&7];if(r){var s=r.words,a=s[0],u=s[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),c=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),p=l>>>16|4294901760&c,f=c<<16|65535&l;o[0]^=l,o[1]^=p,o[2]^=c,o[3]^=f,o[4]^=l,o[5]^=p,o[6]^=c,o[7]^=f;for(var n=0;n<4;n++)t.call(this)}},_doProcessBlock:function(e,r){var n=this._X;t.call(this),s[0]=n[0]^n[5]>>>16^n[3]<<16,s[1]=n[2]^n[7]>>>16^n[5]<<16,s[2]=n[4]^n[1]>>>16^n[7]<<16,s[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)s[i]=16711935&(s[i]<<8|s[i]>>>24)|4278255360&(s[i]<<24|s[i]>>>8),e[r+i]^=s[i]},blockSize:4,ivSize:2});r.Rabbit=i._createHelper(l)}(),e.Rabbit})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(49),r(50),r(36),r(9))}(0,function(e){return function(){function t(){for(var e=this._S,t=this._i,r=this._j,n=0,i=0;i<4;i++){t=(t+1)%256,r=(r+e[t])%256;var o=e[t];e[t]=e[r],e[r]=o,n|=e[(e[t]+e[r])%256]<<24-8*i}return this._i=t,this._j=r,n}var r=e,n=r.lib,i=n.StreamCipher,o=r.algo,s=o.RC4=i.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;for(var i=0,o=0;i<256;i++){var s=i%r,a=t[s>>>2]>>>24-s%4*8&255;o=(o+n[i]+a)%256;var u=n[i];n[i]=n[o],n[o]=u}this._i=this._j=0},_doProcessBlock:function(e,r){e[r]^=t.call(this)},keySize:8,ivSize:0});r.RC4=i._createHelper(s);var a=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)t.call(this)}});r.RC4Drop=i._createHelper(a)}(),e.RC4})},function(e,t,r){!function(n,i){e.exports=t=i(r(3))}(0,function(e){/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
return function(t){function r(e,t,r){return e^t^r}function n(e,t,r){return e&t|~e&r}function i(e,t,r){return(e|~t)^r}function o(e,t,r){return e&r|t&~r}function s(e,t,r){return e^(t|~r)}function a(e,t){return e<<t|e>>>32-t}var u=e,l=u.lib,c=l.WordArray,p=l.Hasher,f=u.algo,d=c.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=c.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),v=c.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=c.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=c.create([0,1518500249,1859775393,2400959708,2840853838]),y=c.create([1352829926,1548603684,1836072691,2053994217,0]),b=f.RIPEMD160=p.extend({_doReset:function(){this._hash=c.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var u=0;u<16;u++){var l=t+u,c=e[l];e[l]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var p,f,b,E,x,S,T,I,w,C,A=this._hash.words,N=m.words,L=y.words,R=d.words,_=h.words,k=v.words,O=g.words;S=p=A[0],T=f=A[1],I=b=A[2],w=E=A[3],C=x=A[4];for(var P,u=0;u<80;u+=1)P=p+e[t+R[u]]|0,P+=u<16?r(f,b,E)+N[0]:u<32?n(f,b,E)+N[1]:u<48?i(f,b,E)+N[2]:u<64?o(f,b,E)+N[3]:s(f,b,E)+N[4],P|=0,P=a(P,k[u]),P=P+x|0,p=x,x=E,E=a(b,10),b=f,f=P,P=S+e[t+_[u]]|0,P+=u<16?s(T,I,w)+L[0]:u<32?o(T,I,w)+L[1]:u<48?i(T,I,w)+L[2]:u<64?n(T,I,w)+L[3]:r(T,I,w)+L[4],P|=0,P=a(P,O[u]),P=P+C|0,S=C,C=w,w=a(I,10),I=T,T=P;P=A[1]+b+w|0,A[1]=A[2]+E+C|0,A[2]=A[3]+x+S|0,A[3]=A[4]+p+T|0,A[4]=A[0]+f+I|0,A[0]=P},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var e=p.clone.call(this);return e._hash=this._hash.clone(),e}});u.RIPEMD160=p._createHelper(b),u.HmacRIPEMD160=p._createHmacHelper(b)}(Math),e.RIPEMD160})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(178))}(0,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,o=i.SHA256,s=i.SHA224=o.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=o._createHelper(s),t.HmacSHA224=o._createHmacHelper(s)}(),e.SHA224})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(81))}(0,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,s=r.x64,a=s.Word,u=r.algo,l=[],c=[],p=[];!function(){for(var e=1,t=0,r=0;r<24;r++){l[e+5*t]=(r+1)*(r+2)/2%64;var n=t%5,i=(2*e+3*t)%5;e=n,t=i}for(var e=0;e<5;e++)for(var t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,s=0;s<24;s++){for(var u=0,f=0,d=0;d<7;d++){if(1&o){var h=(1<<d)-1;h<32?f^=1<<h:u^=1<<h-32}128&o?o=o<<1^113:o<<=1}p[s]=a.create(u,f)}}();var f=[];!function(){for(var e=0;e<25;e++)f[e]=a.create()}();var d=u.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=e[t+2*i],s=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);var a=r[i];a.high^=s,a.low^=o}for(var u=0;u<24;u++){for(var d=0;d<5;d++){for(var h=0,v=0,g=0;g<5;g++){var a=r[d+5*g];h^=a.high,v^=a.low}var m=f[d];m.high=h,m.low=v}for(var d=0;d<5;d++)for(var y=f[(d+4)%5],b=f[(d+1)%5],E=b.high,x=b.low,h=y.high^(E<<1|x>>>31),v=y.low^(x<<1|E>>>31),g=0;g<5;g++){var a=r[d+5*g];a.high^=h,a.low^=v}for(var S=1;S<25;S++){var a=r[S],T=a.high,I=a.low,w=l[S];if(w<32)var h=T<<w|I>>>32-w,v=I<<w|T>>>32-w;else var h=I<<w-32|T>>>64-w,v=T<<w-32|I>>>64-w;var C=f[c[S]];C.high=h,C.low=v}var A=f[0],N=r[0];A.high=N.high,A.low=N.low;for(var d=0;d<5;d++)for(var g=0;g<5;g++){var S=d+5*g,a=r[S],L=f[S],R=f[(d+1)%5+5*g],_=f[(d+2)%5+5*g];a.high=L.high^~R.high&_.high,a.low=L.low^~R.low&_.low}var a=r[0],k=p[u];a.high^=k.high,a.low^=k.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,u=a/8,l=[],c=0;c<u;c++){var p=s[c],f=p.high,d=p.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),l.push(d),l.push(f)}return new i.init(l,a)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});r.SHA3=o._createHelper(d),r.HmacSHA3=o._createHmacHelper(d)}(Math),e.SHA3})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(81),r(179))}(0,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,o=t.algo,s=o.SHA512,a=o.SHA384=s.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=s._createHelper(a),t.HmacSHA384=s._createHmacHelper(a)}(),e.SHA384})},function(e,t,r){!function(n,i,o){e.exports=t=i(r(3),r(49),r(50),r(36),r(9))}(0,function(e){return function(){function t(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function r(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}var n=e,i=n.lib,o=i.WordArray,s=i.BlockCipher,a=n.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],p=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=a.DES=s.extend({_doReset:function(){for(var e=this._key,t=e.words,r=[],n=0;n<56;n++){var i=u[n]-1;r[n]=t[i>>>5]>>>31-i%32&1}for(var o=this._subKeys=[],s=0;s<16;s++){for(var a=o[s]=[],p=c[s],n=0;n<24;n++)a[n/6|0]|=r[(l[n]-1+p)%28]<<31-n%6,a[4+(n/6|0)]|=r[28+(l[n+24]-1+p)%28]<<31-n%6;a[0]=a[0]<<1|a[0]>>>31;for(var n=1;n<7;n++)a[n]=a[n]>>>4*(n-1)+3;a[7]=a[7]<<5|a[7]>>>27}for(var f=this._invSubKeys=[],n=0;n<16;n++)f[n]=o[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,n,i){this._lBlock=e[n],this._rBlock=e[n+1],t.call(this,4,252645135),t.call(this,16,65535),r.call(this,2,858993459),r.call(this,8,16711935),t.call(this,1,1431655765);for(var o=0;o<16;o++){for(var s=i[o],a=this._lBlock,u=this._rBlock,l=0,c=0;c<8;c++)l|=p[c][((u^s[c])&f[c])>>>0];this._lBlock=u,this._rBlock=a^l}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,t.call(this,1,1431655765),r.call(this,8,16711935),r.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),e[n]=this._lBlock,e[n+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=s._createHelper(d);var h=a.TripleDES=s.extend({_doReset:function(){var e=this._key,t=e.words;this._des1=d.createEncryptor(o.create(t.slice(0,2))),this._des2=d.createEncryptor(o.create(t.slice(2,4))),this._des3=d.createEncryptor(o.create(t.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});n.TripleDES=s._createHelper(h)}(),e.TripleDES})},function(e,t,r){"use strict";function n(e){return u.indexOf(e)>-1}function i(e){return a.default(e)&&void 0!==e.type&&Object.keys(e).every(n)}function o(e){return!0===e.error}t.__esModule=!0,t.isFSA=i,t.isError=o;var s=r(186),a=function(e){return e&&e.__esModule?e:{default:e}}(s),u=["type","payload","error","meta"]},function(e,t,r){var n=r(203),i=e.exports;for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);i.request=function(e,t){return e||(e={}),e.scheme="https",e.protocol="https:",n.request.call(this,e,t)}},function(e,t){t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,l=u>>1,c=-7,p=r?i-1:0,f=r?-1:1,d=e[t+p];for(p+=f,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+e[t+p],p+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+e[t+p],p+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=l}return(d?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,p=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,h=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+p>=1?f/u:f*Math.pow(2,1-p),t*u>=2&&(s++,u/=2),s+p>=c?(a=0,s=c):s+p>=1?(a=(t*u-1)*Math.pow(2,i),s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=h,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[r+d]=255&s,d+=h,s/=256,l-=8);e[r+d-h]|=128*v}},function(e,t,r){(function(n,i,o,s){var a,u;/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2015 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
!function(){var l=void 0!==n&&n.versions&&n.versions.node,c=!l&&("undefined"!=typeof window||"undefined"!=typeof self);c&&void 0===i&&("undefined"!=typeof window?i=window:"undefined"!=typeof self?i=self:"undefined"!=typeof $&&(i=$));var p=function(e){function t(){}function a(e){for(var t=[],r=Object.keys(e).sort(),n=0;n<r.length;++n){var i=r[n],o=e[i];U(o)||(o=[o]);for(var s=0;s<o.length;++s){var a=o[s];if(null!==a){if(!H(a))throw new _e("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:e});t.push({"@value":a,"@language":i.toLowerCase()})}}}return t}function u(e,t){if(U(t))for(var r=0;r<t.length;++r)t[r]=u(e,t[r]);else if(J(t))t["@list"]=u(e,t["@list"]);else if($(t)){Z(t)&&(t["@id"]=e.getId(t["@id"]));for(var n=Object.keys(t).sort(),i=0;i<n.length;++i){var o=n[i];"@id"!==o&&(t[o]=u(e,t[o]))}}return t}function p(t,r,n){if(null===n||void 0===n)return null;var i=P(t,r,{vocab:!0});if("@id"===i)return P(t,n,{base:!0});if("@type"===i)return P(t,n,{vocab:!0,base:!0});var o=e.getContextValue(t,r,"@type");if("@id"===o||"@graph"===i&&H(n))return{"@id":P(t,n,{base:!0})};if("@vocab"===o)return{"@id":P(t,n,{vocab:!0,base:!0})};if(M(i))return n;var s={};if(null!==o)s["@type"]=o;else if(H(n)){var a=e.getContextValue(t,r,"@language");null!==a&&(s["@language"]=a)}return-1===["boolean","number","string"].indexOf(typeof n)&&(n=n.toString()),s["@value"]=n,s}function f(e,t,r){for(var n=[],i=Object.keys(e).sort(),o=0;o<i.length;++o)for(var s=i[o],a=e[s],u=Object.keys(a).sort(),l=0;l<u.length;++l){var c=u[l],p=a[c];if("@type"===c)c=Ie;else if(M(c))continue;for(var f=0;f<p.length;++f){var v=p[f],g={};if(g.type=0===s.indexOf("_:")?"blank node":"IRI",g.value=s,ee(s)){var m={};if(m.type=0===c.indexOf("_:")?"blank node":"IRI",m.value=c,ee(c)&&("blank node"!==m.type||r.produceGeneralizedRdf))if(J(v))d(v["@list"],t,g,m,n);else{var y=h(v);y&&n.push({subject:g,predicate:m,object:y})}}}}return n}function d(e,t,r,n,i){for(var o={type:"IRI",value:xe},s={type:"IRI",value:Se},a={type:"IRI",value:Te},u=0;u<e.length;++u){var l=e[u],c={type:"blank node",value:t.getId()};i.push({subject:r,predicate:n,object:c}),r=c,n=o;var p=h(l);p&&i.push({subject:r,predicate:n,object:p}),n=s}i.push({subject:r,predicate:n,object:a})}function h(e){var t={};if(K(e)){t.type="literal";var r=e["@value"],n=e["@type"]||null;W(r)?(t.value=r.toString(),t.datatype=n||ge):V(r)||n===me?(V(r)||(r=parseFloat(r)),t.value=r.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),t.datatype=n||me):q(r)?(t.value=r.toFixed(0),t.datatype=n||ye):"@language"in e?(t.value=r,t.datatype=n||Ne,t.language=e["@language"]):(t.value=r,t.datatype=n||be)}else{var i=$(e)?e["@id"]:e;t.type=0===i.indexOf("_:")?"blank node":"IRI",t.value=i}return"IRI"!==t.type||ee(t.value)?t:null}function v(e,t){if("IRI"===e.type||"blank node"===e.type)return{"@id":e.value};var r={"@value":e.value};if(e.language)r["@language"]=e.language;else{var n=e.datatype;if(n||(n=be),t){if(n===ge)"true"===r["@value"]?r["@value"]=!0:"false"===r["@value"]&&(r["@value"]=!1);else if(Q(r["@value"]))if(n===ye){var i=parseInt(r["@value"],10);i.toFixed(0)===r["@value"]&&(r["@value"]=i)}else n===me&&(r["@value"]=parseFloat(r["@value"]));-1===[ge,ye,me,be].indexOf(n)&&(r["@type"]=n)}else n!==be&&(r["@type"]=n)}return r}function g(e,t){for(var r=["subject","predicate","object"],n=0;n<r.length;++n){var i=r[n];if(e[i].type!==t[i].type||e[i].value!==t[i].value)return!1}return e.object.language===t.object.language&&e.object.datatype===t.object.datatype}function m(t,r,n,i,o,s){if(U(t))for(var a=0;a<t.length;++a)m(t[a],r,n,i,void 0,s);else{if(!$(t))return void(s&&s.push(t));if(K(t)){if("@type"in t){var u=t["@type"];0===u.indexOf("_:")&&(t["@type"]=u=i.getId(u))}return void(s&&s.push(t))}if("@type"in t)for(var l=t["@type"],a=0;a<l.length;++a){var u=l[a];0===u.indexOf("_:")&&i.getId(u)}z(o)&&(o=Z(t)?i.getId(t["@id"]):t["@id"]),s&&s.push({"@id":o});var c=r[n],p=c[o]=c[o]||{};p["@id"]=o;for(var f=Object.keys(t).sort(),d=0;d<f.length;++d){var h=f[d];if("@id"!==h)if("@reverse"!==h)if("@graph"!==h)if("@type"!==h&&M(h)){if("@index"===h&&h in p&&(t[h]!==p[h]||t[h]["@id"]!==p[h]["@id"]))throw new _e("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:p});p[h]=t[h]}else{var v=t[h];if(0===h.indexOf("_:")&&(h=i.getId(h)),0!==v.length)for(var g=0;g<v.length;++g){var y=v[g];if("@type"===h&&(y=0===y.indexOf("_:")?i.getId(y):y),X(y)||Y(y)){var b=Z(y)?i.getId(y["@id"]):y["@id"];e.addValue(p,h,{"@id":b},{propertyIsArray:!0,allowDuplicate:!1}),m(y,r,n,i,b)}else if(J(y)){var E=[];m(y["@list"],r,n,i,o,E),y={"@list":E},e.addValue(p,h,y,{propertyIsArray:!0,allowDuplicate:!1})}else m(y,r,n,i,o),e.addValue(p,h,y,{propertyIsArray:!0,allowDuplicate:!1})}else e.addValue(p,h,[],{propertyIsArray:!0})}else{o in r||(r[o]={});var x="@merged"===n?n:o;m(t[h],r,x,i)}else{var S={"@id":o},T=t["@reverse"];for(var I in T)for(var w=T[I],C=0;C<w.length;++C){var A=w[C],N=A["@id"];Z(A)&&(N=i.getId(N)),m(A,r,n,i,N),e.addValue(c[N],I,S,{propertyIsArray:!0,allowDuplicate:!1})}}}}}function y(e){for(var t=e["@default"],r=Object.keys(e).sort(),n=0;n<r.length;++n){var i=r[n];if("@default"!==i){var o=e[i],s=t[i];s?"@graph"in s||(s["@graph"]=[]):t[i]=s={"@id":i,"@graph":[]};for(var a=s["@graph"],u=Object.keys(o).sort(),l=0;l<u.length;++l){var c=o[u[l]];Y(c)||a.push(c)}}}return t}function b(e,t,r,n,i){T(r),r=r[0];for(var o=e.options,s={embed:S(r,o,"embed"),explicit:S(r,o,"explicit"),requireAll:S(r,o,"requireAll")},a=I(e,t,r,s),u=Object.keys(a).sort(),l=0;l<u.length;++l){var c=u[l],p=a[c];if("@link"===s.embed&&c in e.link)A(n,i,e.link[c]);else{null===i&&(e.uniqueEmbeds={});var f={};if(f["@id"]=c,e.link[c]=f,"@never"===s.embed||x(p,e.subjectStack))A(n,i,f);else{"@last"===s.embed&&(c in e.uniqueEmbeds&&C(e,c),e.uniqueEmbeds[c]={parent:n,property:i}),e.subjectStack.push(p);for(var d=Object.keys(p).sort(),h=0;h<d.length;h++){var v=d[h];if(M(v))f[v]=te(p[v]);else if(!s.explicit||v in r)for(var g=p[v],m=0;m<g.length;++m){var y=g[m];if(J(y)){var w={"@list":[]};A(f,v,w);var N=y["@list"];for(var L in N)if(y=N[L],Y(y)){var R=v in r?r[v][0]["@list"]:E(s);b(e,[y["@id"]],R,w,"@list")}else A(w,"@list",te(y))}else if(Y(y)){var R=v in r?r[v]:E(s);b(e,[y["@id"]],R,f,v)}else A(f,v,te(y))}}for(var d=Object.keys(r).sort(),h=0;h<d.length;++h){var v=d[h];if(!M(v)){var _=r[v][0];if(!(S(_,o,"omitDefault")||v in f)){var k="@null";"@default"in _&&(k=te(_["@default"])),U(k)||(k=[k]),f[v]=[{"@preserve":k}]}}}A(n,i,f),e.subjectStack.pop()}}}}function E(e){var t={};for(var r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function x(e,t){for(var r=t.length-1;r>=0;--r)if(t[r]["@id"]===e["@id"])return!0;return!1}function S(e,t,r){var n="@"+r,i=n in e?e[n][0]:t[r];return"embed"===r&&(!0===i?i="@last":!1===i?i="@never":"@always"!==i&&"@never"!==i&&"@link"!==i&&(i="@last")),i}function T(e){if(!U(e)||1!==e.length||!$(e[0]))throw new _e("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}function I(e,t,r,n){for(var i={},o=0;o<t.length;++o){var s=t[o],a=e.subjects[s];w(a,r,n)&&(i[s]=a)}return i}function w(t,r,n){if("@type"in r&&(1!==r["@type"].length||!$(r["@type"][0]))){for(var i=r["@type"],o=0;o<i.length;++o)if(e.hasValue(t,"@type",i[o]))return!0;return!1}var s=!0,a=!1;for(var u in r){if(M(u)){if("@id"!==u&&"@type"!==u)continue;if(s=!1,"@id"===u&&H(r[u])){if(t[u]!==r[u])return!1;a=!0;continue}}if(s=!1,u in t){if(U(r[u])&&0===r[u].length&&void 0!==t[u])return!1;a=!0}else{var l=U(r[u])&&$(r[u][0])&&"@default"in r[u][0];if(n.requireAll&&!l)return!1}}return s||a}function C(t,r){var n=t.uniqueEmbeds,i=n[r],o=i.parent,s=i.property,a={"@id":r};if(U(o)){for(var u=0;u<o.length;++u)if(e.compareValues(o[u],a)){o[u]=a;break}}else{var l=U(o[s]);e.removeValue(o,s,a,{propertyIsArray:l}),e.addValue(o,s,a,{propertyIsArray:l})}var c=function(e){for(var t=Object.keys(n),r=0;r<t.length;++r){var i=t[r];i in n&&$(n[i].parent)&&n[i].parent["@id"]===e&&(delete n[i],c(i))}};c(r)}function A(t,r,n){$(t)?e.addValue(t,r,n,{propertyIsArray:!0}):t.push(n)}/**
 * Removes the @preserve keywords as the last step of the framing algorithm.
 *
 * @param ctx the active context used to compact the input.
 * @param input the framed, compacted output.
 * @param options the compaction options used.
 *
 * @return the resulting output.
 */
function N(t,r,n){if(U(r)){for(var i=[],o=0;o<r.length;++o){var s=N(t,r[o],n);null!==s&&i.push(s)}r=i}else if($(r)){
// remove @preserve
if("@preserve"in r)return"@null"===r["@preserve"]?null:r["@preserve"];if(K(r))return r;if(J(r))return r["@list"]=N(t,r["@list"],n),r;var a=_(t,"@id");if(a in r){var u=r[a];if(u in n.link){var l=n.link[u].indexOf(r);if(-1!==l)return n.link[u][l];n.link[u].push(r)}else n.link[u]=[r]}for(var c in r){var s=N(t,r[c],n),p=e.getContextValue(t,c,"@container");n.compactArrays&&U(s)&&1===s.length&&null===p&&(s=s[0]),r[c]=s}}return r}function L(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1}function R(e,t,r,n,i,o){null===o&&(o="@null");var s=[];if("@id"!==o&&"@reverse"!==o||!Y(r))s.push(o);else{"@reverse"===o&&s.push("@reverse");var a=_(e,r["@id"],null,{vocab:!0});a in e.mappings&&e.mappings[a]&&e.mappings[a]["@id"]===r["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}s.push("@none");for(var u=e.inverse[t],l=0;l<n.length;++l){var c=n[l];if(c in u)for(var p=u[c][i],f=0;f<s.length;++f){var d=s[f];if(d in p)return p[d]}}return null}function _(e,t,r,n,i){if(null===t)return t;z(r)&&(r=null),z(i)&&(i=!1),n=n||{};var o=e.getInverse();if(M(t))return t in o?o[t]["@none"]["@type"]["@none"]:t;if(n.vocab&&t in o){var s=e["@language"]||"@none",a=[];$(r)&&"@index"in r&&a.push("@index");var u="@language",l="@null";if(i)u="@type",l="@reverse",a.push("@set");else if(J(r)){"@index"in r||a.push("@list");for(var c=r["@list"],p=0===c.length?s:null,f=null,d=0;d<c.length;++d){var h=c[d],v="@none",g="@none";if(K(h)?"@language"in h?v=h["@language"]:"@type"in h?g=h["@type"]:v="@null":g="@id",null===p?p=v:v!==p&&K(h)&&(p="@none"),null===f?f=g:g!==f&&(f="@none"),"@none"===p&&"@none"===f)break}p=p||"@none",f=f||"@none","@none"!==f?(u="@type",l=f):l=p}else K(r)?"@language"in r&&!("@index"in r)?(a.push("@language"),l=r["@language"]):"@type"in r&&(u="@type",l=r["@type"]):(u="@type",l="@id"),a.push("@set");a.push("@none");var m=R(e,t,r,a,u,l);if(null!==m)return m}if(n.vocab&&"@vocab"in e){var y=e["@vocab"];if(0===t.indexOf(y)&&t!==y){var b=t.substr(y.length);if(!(b in e.mappings))return b}}for(var E=null,x=0,S=[],T=e.fastCurieMap,I=t.length-1;x<I&&t[x]in T;++x)""in(T=T[t[x]])&&S.push(T[""][0]);for(var d=S.length-1;d>=0;--d)for(var w=S[d],C=w.terms,A=0;A<C.length;++A){var N=C[A]+":"+t.substr(w.iri.length),_=!(N in e.mappings)||null===r&&e.mappings[N]["@id"]===t;_&&(null===E||L(N,E)<0)&&(E=N)}return null!==E?E:n.vocab?t:F(e["@base"],t)}function k(t,r,n){if(K(n)){var i=e.getContextValue(t,r,"@type"),o=e.getContextValue(t,r,"@language"),s=e.getContextValue(t,r,"@container"),a="@index"in n&&"@index"!==s;if(!a&&(n["@type"]===i||n["@language"]===o))return n["@value"];var u=Object.keys(n).length,l=1===u||2===u&&"@index"in n&&!a,c="@language"in t,p=H(n["@value"]),f=t.mappings[r]&&null===t.mappings[r]["@language"];if(l&&(!c||!p||f))return n["@value"];var d={};return a&&(d[_(t,"@index")]=n["@index"]),"@type"in n?d[_(t,"@type")]=_(t,n["@type"],null,{vocab:!0}):"@language"in n&&(d[_(t,"@language")]=n["@language"]),d[_(t,"@value")]=n["@value"],d}var h=P(t,r,{vocab:!0}),i=e.getContextValue(t,r,"@type"),v=_(t,n["@id"],null,{vocab:"@vocab"===i});if("@id"===i||"@vocab"===i||"@graph"===h)return v;var d={};return d[_(t,"@id")]=v,d}function O(e,t,r,n){if(r in n){if(n[r])return;throw new _e("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}if(n[r]=!1,M(r))throw new _e("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(""===r)throw new _e("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t});e.mappings[r]&&delete e.mappings[r];var i=t[r];if(null===i||$(i)&&null===i["@id"])return e.mappings[r]=null,void(n[r]=!0);if(H(i)&&(i={"@id":i}),!$(i))throw new _e("Invalid JSON-LD syntax; @context property values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});var o=e.mappings[r]={};if(o.reverse=!1,"@reverse"in i){if("@id"in i)throw new _e("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});var s=i["@reverse"];if(!H(s))throw new _e("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});var a=P(e,s,{vocab:!0,base:!1},t,n);if(!ee(a))throw new _e("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});o["@id"]=a,o.reverse=!0}else if("@id"in i){var a=i["@id"];if(!H(a))throw new _e("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(a!==r){if(a=P(e,a,{vocab:!0,base:!1},t,n),!ee(a)&&!M(a))throw new _e("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});o["@id"]=a}}var u=r.indexOf(":");if(o._termHasColon=-1!==u,!("@id"in o))if(o._termHasColon){var l=r.substr(0,u);if(l in t&&O(e,t,l,n),e.mappings[l]){var c=r.substr(u+1);o["@id"]=e.mappings[l]["@id"]+c}else o["@id"]=r}else{if(!("@vocab"in e))throw new _e("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});o["@id"]=e["@vocab"]+r}if(n[r]=!0,"@type"in i){var p=i["@type"];if(!H(p))throw new _e("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@id"!==p&&"@vocab"!==p){if(p=P(e,p,{vocab:!0,base:!1},t,n),!ee(p))throw new _e("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===p.indexOf("_:"))throw new _e("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}o["@type"]=p}if("@container"in i){var f=i["@container"];if("@list"!==f&&"@set"!==f&&"@index"!==f&&"@language"!==f)throw new _e("Invalid JSON-LD syntax; @context @container value must be one of the following: @list, @set, @index, or @language.","jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(o.reverse&&"@index"!==f&&"@set"!==f&&null!==f)throw new _e("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});o["@container"]=f}if("@language"in i&&!("@type"in i)){var d=i["@language"];if(null!==d&&!H(d))throw new _e("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==d&&(d=d.toLowerCase()),o["@language"]=d}
// disallow aliasing @context and @preserve
var a=o["@id"];if("@context"===a||"@preserve"===a)throw new _e("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t})}function P(t,r,n,i,o){if(null===r||M(r))return r;if(r=String(r),i&&r in i&&!0!==o[r]&&O(t,i,r,o),n=n||{},n.vocab){var s=t.mappings[r];if(null===s)return null;if(s)return s["@id"]}var a=r.indexOf(":");if(-1!==a){var u=r.substr(0,a),l=r.substr(a+1);if("_"===u||0===l.indexOf("//"))return r;i&&u in i&&O(t,i,u,o);var s=t.mappings[u];return s?s["@id"]+l:r}if(n.vocab&&"@vocab"in t)return t["@vocab"]+r;var c=r;return n.base&&(c=e.prependBase(t["@base"],c)),c}function D(t,r){if(null===t)return r;if(-1!==r.indexOf(":"))return r;H(t)&&(t=e.url.parse(t||""));var n=e.url.parse(r),i={protocol:t.protocol||""};if(null!==n.authority)i.authority=n.authority,i.path=n.path,i.query=n.query;else if(i.authority=t.authority,""===n.path)i.path=t.path,null!==n.query?i.query=n.query:i.query=t.query;else{if(0===n.path.indexOf("/"))i.path=n.path;else{var o=t.path;""!==n.path&&(o=o.substr(0,o.lastIndexOf("/")+1),o.length>0&&"/"!==o.substr(-1)&&(o+="/"),o+=n.path),i.path=o}i.query=n.query}i.path=le(i.path,!!i.authority);var s=i.protocol;return null!==i.authority&&(s+="//"+i.authority),s+=i.path,null!==i.query&&(s+="?"+i.query),null!==n.fragment&&(s+="#"+n.fragment),""===s&&(s="./"),s}function F(t,r){if(null===t)return r;H(t)&&(t=e.url.parse(t||""));var n="";if(""!==t.href?n+=(t.protocol||"")+"//"+(t.authority||""):r.indexOf("//")&&(n+="//"),0!==r.indexOf(n))return r;for(var i=e.url.parse(r.substr(n.length)),o=t.normalizedPath.split("/"),s=i.normalizedPath.split("/"),a=i.fragment||i.query?0:1;o.length>0&&s.length>a&&o[0]===s[0];)o.shift(),s.shift();var u="";if(o.length>0){o.pop();for(var l=0;l<o.length;++l)u+="../"}return u+=s.join("/"),null!==i.query&&(u+="?"+i.query),null!==i.fragment&&(u+="#"+i.fragment),""===u&&(u="./"),u}function j(t){function r(){var e=this;if(e.inverse)return e.inverse;for(var t=e.inverse={},r=e.fastCurieMap={},o={},s=e["@language"]||"@none",a=e.mappings,u=Object.keys(a).sort(L),l=0;l<u.length;++l){var c=u[l],p=a[c];if(null!==p){var f=p["@container"]||"@none",d=p["@id"];U(d)||(d=[d]);for(var h=0;h<d.length;++h){var v=d[h],g=t[v],m=M(v);if(g)m||p._termHasColon||o[v].push(c);else if(t[v]=g={},!m&&!p._termHasColon){o[v]=[c];var y={iri:v,terms:o[v]};v[0]in r?r[v[0]].push(y):r[v[0]]=[y]}if(g[f]||(g[f]={"@language":{},"@type":{}}),g=g[f],p.reverse)i(p,c,g["@type"],"@reverse");else if("@type"in p)i(p,c,g["@type"],p["@type"]);else if("@language"in p){var b=p["@language"]||"@null";i(p,c,g["@language"],b)}else i(p,c,g["@language"],s),i(p,c,g["@type"],"@none"),i(p,c,g["@language"],"@none")}}}for(var E in r)n(r,E,1);return t}function n(e,t,r){for(var i,o,s=e[t],a=e[t]={},u=0;u<s.length;++u)i=s[u].iri,o=r>=i.length?"":i[r],o in a?a[o].push(s[u]):a[o]=[s[u]];for(var t in a)""!==t&&n(a,t,r+1)}function i(e,t,r,n){n in r||(r[n]=t)}function o(){var e={};return e["@base"]=this["@base"],e.mappings=te(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e}return{"@base":e.url.parse(t.base||""),mappings:{},inverse:null,getInverse:r,clone:o}}function M(e){if(!H(e))return!1;switch(e){case"@base":case"@context":case"@container":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@omitDefault":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@vocab":return!0}return!1}function $(e){return"[object Object]"===Object.prototype.toString.call(e)}function B(e){return $(e)&&0===Object.keys(e).length}function U(e){return Array.isArray(e)}function G(e){if(!H(e)&&!B(e)){var t=!1;if(U(e)){t=!0;for(var r=0;r<e.length;++r)if(!H(e[r])){t=!1;break}}if(!t)throw new _e('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}}function H(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)}function q(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function V(e){return q(e)&&-1!==String(e).indexOf(".")}function Q(e){return!isNaN(parseFloat(e))&&isFinite(e)}function W(e){return"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e)}function z(e){return void 0===e}function X(e){var t=!1;if($(e)&&!("@value"in e||"@set"in e||"@list"in e)){t=Object.keys(e).length>1||!("@id"in e)}return t}function Y(e){return $(e)&&1===Object.keys(e).length&&"@id"in e}function K(e){return $(e)&&"@value"in e}function J(e){return $(e)&&"@list"in e}function Z(e){var t=!1;return $(e)&&(t="@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e)),t}function ee(e){return H(e)&&-1!==e.indexOf(":")}function te(e){if(e&&"object"==typeof e){var t;if(U(e)){t=[];for(var r=0;r<e.length;++r)t[r]=te(e[r])}else if($(e)){t={};for(var n in e)t[n]=te(e[n])}else t=e.toString();return t}return e}function re(t,r,n,i){var o=Object.keys(r).length;if(U(t)){for(var s=0;s<t.length;++s)re(t[s],r,n,i);return o<Object.keys(r).length}if($(t)){for(var a in t)if("@context"===a){var u=t[a];if(U(u))for(var l=u.length,s=0;s<l;++s){var c=u[s];H(c)&&(c=e.prependBase(i,c),n?(c=r[c],U(c)?(Array.prototype.splice.apply(u,[s,1].concat(c)),s+=c.length-1,l=u.length):u[s]=c):c in r||(r[c]=!1))}else H(u)&&(u=e.prependBase(i,u),n?t[a]=r[u]:u in r||(r[u]=!1))}else re(t[a],r,n,i);return o<Object.keys(r).length}return!1}function ne(e,t,r){var n=null,i=t.documentLoader,o=function(e,t,r,i,s){if(Object.keys(t).length>Re)return n=new _e("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:Re}),s(n);var a={},u=function(){re(e,a,!0,i),s(null,e)};if(!re(e,a,!1,i))return u();var l=[];for(var c in a)!1===a[c]&&l.push(c);for(var p=l.length,f=0;f<l.length;++f)!function(e){if(e in t)return n=new _e("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:e}),s(n);var i=te(t);i[e]=!0;var l=function(t,l){if(!n){var c=l?l.document:null;if(!t&&H(c))try{c=JSON.parse(c)}catch(e){t=e}if(t?t=new _e("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:e,cause:t}):$(c)||(t=new _e("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:e,cause:t})),t)return n=t,s(n);c="@context"in c?{"@context":c["@context"]}:{"@context":{}},l.contextUrl&&(U(c["@context"])||(c["@context"]=[c["@context"]]),c["@context"].push(l.contextUrl)),o(c,i,r,e,function(t,r){if(t)return s(t);a[e]=r["@context"],0===(p-=1)&&u()})}},c=r(e,l);c&&"then"in c&&c.then(l.bind(null,null),l)}(l[f])};o(e,{},i,t.base,r)}function ie(e){for(var t=/(?:\r\n)|(?:\n)|(?:\r)/g,r=new RegExp("^[ \\t]*(?:#.*)?$"),n=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+))|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-z]+(?:-[a-z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \\t]*\\.))[ \\t]*(?:#.*)?$'),i={},o=e.split(t),s=0,a=0;a<o.length;++a){var u=o[a];if(s++,!r.test(u)){var l=u.match(n);if(null===l)throw new _e("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:s});var c={};if(z(l[1])?c.subject={type:"blank node",value:l[2]}:c.subject={type:"IRI",value:l[1]},c.predicate={type:"IRI",value:l[3]},z(l[4]))if(z(l[5])){c.object={type:"literal"},z(l[7])?z(l[8])?c.object.datatype=be:(c.object.datatype=Ne,c.object.language=l[8]):c.object.datatype=l[7];var p=l[6].replace(/\\"/g,'"').replace(/\\t/g,"\t").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");c.object.value=p}else c.object={type:"blank node",value:l[5]};else c.object={type:"IRI",value:l[4]};var f="@default";if(z(l[9])?z(l[10])||(f=l[10]):f=l[9],f in i){for(var d=!0,h=i[f],v=0;d&&v<h.length;++v)g(h[v],c)&&(d=!1);d&&h.push(c)}else i[f]=[c]}}return i}function oe(e){var t=[];for(var r in e)for(var n=e[r],i=0;i<n.length;++i){var o=n[i];"@default"===r&&(r=null),t.push(se(o,r))}return t.sort().join("")}function se(e,t){var r=e.subject,n=e.predicate,i=e.object,o=t||null;"name"in e&&e.name&&(o=e.name.value);var s="";if("IRI"===r.type?s+="<"+r.value+">":s+=r.value,s+=" ","IRI"===n.type?s+="<"+n.value+">":s+=n.value,s+=" ","IRI"===i.type)s+="<"+i.value+">";else if("blank node"===i.type)s+=i.value;else{var a=i.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"');s+='"'+a+'"',i.datatype===Ne?i.language&&(s+="@"+i.language):i.datatype!==be&&(s+="^^<"+i.datatype+">")}return null!==o&&void 0!==o&&(0!==o.indexOf("_:")?s+=" <"+o+">":s+=" "+o),s+=" .\n"}function ae(e){var t={};t["@default"]=[];for(var r=e.getSubjects(),n=0;n<r.length;++n){var i=r[n];if(null!==i){var o=e.getSubjectTriples(i);if(null!==o){var s=o.predicates;for(var a in s)for(var u=s[a].objects,l=0;l<u.length;++l){var c=u[l],p={};0===i.indexOf("_:")?p.subject={type:"blank node",value:i}:p.subject={type:"IRI",value:i},0===a.indexOf("_:")?p.predicate={type:"blank node",value:a}:p.predicate={type:"IRI",value:a};var f=c.value;if(c.type===Ce){he||je();var d=new he;f="";for(var h=0;h<c.value.length;h++)c.value[h].nodeType===ve.ELEMENT_NODE?f+=d.serializeToString(c.value[h]):c.value[h].nodeType===ve.TEXT_NODE&&(f+=c.value[h].nodeValue)}p.object={},c.type===Ae?0===c.value.indexOf("_:")?p.object.type="blank node":p.object.type="IRI":(p.object.type="literal",c.type===we?c.language?(p.object.datatype=Ne,p.object.language=c.language):p.object.datatype=be:p.object.datatype=c.type),p.object.value=f,t["@default"].push(p)}}}}return t}function ue(e){this.prefix=e,this.counter=0,this.existing={}}function le(e,t){var r="";0===e.indexOf("/")&&(r="/");for(var n=e.split("/"),i=[];n.length>0;)"."===n[0]||""===n[0]&&n.length>1?n.shift():".."!==n[0]?i.push(n.shift()):(n.shift(),t||i.length>0&&".."!==i[i.length-1]?i.pop():i.push(".."));return r+i.join("/")}e.compact=function(t,r,n,i){function o(e,t,n,o){if(e)return i(e);o.compactArrays&&!o.graph&&U(t)?1===t.length?t=t[0]:0===t.length&&(t={}):o.graph&&$(t)&&(t=[t]),$(r)&&"@context"in r&&(r=r["@context"]),r=te(r),U(r)||(r=[r]);var s=r;r=[];for(var a=0;a<s.length;++a)(!$(s[a])||Object.keys(s[a]).length>0)&&r.push(s[a]);var u=r.length>0;if(1===r.length&&(r=r[0]),U(t)){var l=_(n,"@graph"),c=t;t={},u&&(t["@context"]=r),t[l]=c}else if($(t)&&u){var c=t;t={"@context":r};for(var p in c)t[p]=c[p]}i(null,t,n)}if(arguments.length<2)return e.nextTick(function(){i(new TypeError("Could not compact, too few arguments."))});if("function"==typeof n&&(i=n,n={}),n=n||{},null===r)return e.nextTick(function(){i(new _e("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))});if(null===t)return e.nextTick(function(){i(null,null)});"base"in n||(n.base="string"==typeof t?t:""),"compactArrays"in n||(n.compactArrays=!0),"graph"in n||(n.graph=!1),"skipExpansion"in n||(n.skipExpansion=!1),"documentLoader"in n||(n.documentLoader=e.loadDocument),"link"in n||(n.link=!1),n.link&&(n.skipExpansion=!0);!function(t,r,n){if(r.skipExpansion)return e.nextTick(function(){n(null,t)});e.expand(t,r,n)}(t,n,function(t,s){if(t)return i(new _e("Could not expand input before compaction.","jsonld.CompactError",{cause:t}));var a=j(n);e.processContext(a,r,n,function(e,t){if(e)return i(new _e("Could not process context before compaction.","jsonld.CompactError",{cause:e}));var r;try{r=(new ke).compact(t,null,s,n)}catch(e){return i(e)}o(null,r,t,n)})})},e.expand=function(t,r,n){function i(e){"base"in r||(r.base=e.documentUrl||"");var t={document:te(e.document),remoteContext:{"@context":e.contextUrl}};if("expandContext"in r){var i=te(r.expandContext);t.expandContext="object"==typeof i&&"@context"in i?i:{"@context":i}}ne(t,r,function(e,t){if(e)return n(e);var i;try{var o=new ke,s=j(r),a=t.document,u=t.remoteContext["@context"];t.expandContext&&(s=o.processContext(s,t.expandContext["@context"],r)),u&&(s=o.processContext(s,u,r)),i=o.expand(s,null,a,r,!1),$(i)&&"@graph"in i&&1===Object.keys(i).length?i=i["@graph"]:null===i&&(i=[]),U(i)||(i=[i])}catch(e){return n(e)}n(null,i)})}if(arguments.length<1)return e.nextTick(function(){n(new TypeError("Could not expand, too few arguments."))});"function"==typeof r&&(n=r,r={}),r=r||{},"documentLoader"in r||(r.documentLoader=e.loadDocument),"keepFreeFloatingNodes"in r||(r.keepFreeFloatingNodes=!1),e.nextTick(function(){if("string"==typeof t){var e=function(e,t){if(e)return n(e);try{if(!t.document)throw new _e("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"==typeof t.document&&(t.document=JSON.parse(t.document))}catch(e){return n(new _e("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:t}))}i(t)},o=r.documentLoader(t,e);return void(o&&"then"in o&&o.then(e.bind(null,null),e))}i({contextUrl:null,documentUrl:null,document:t})})},e.flatten=function(t,r,n,i){if(arguments.length<1)return e.nextTick(function(){i(new TypeError("Could not flatten, too few arguments."))});"function"==typeof n?(i=n,n={}):"function"==typeof r&&(i=r,r=null,n={}),n=n||{},"base"in n||(n.base="string"==typeof t?t:""),"documentLoader"in n||(n.documentLoader=e.loadDocument),e.expand(t,n,function(t,o){if(t)return i(new _e("Could not expand input before flattening.","jsonld.FlattenError",{cause:t}));var s;try{s=(new ke).flatten(o)}catch(e){return i(e)}if(null===r)return i(null,s);n.graph=!0,n.skipExpansion=!0,e.compact(s,r,n,function(e,t){if(e)return i(new _e("Could not compact flattened output.","jsonld.FlattenError",{cause:e}));i(null,t)})})},e.frame=function(t,r,n,i){function o(r){var o,s=r.document;s?(o=s["@context"],r.contextUrl?(o?U(o)?o.push(r.contextUrl):o=[o,r.contextUrl]:o=r.contextUrl,s["@context"]=o):o=o||{}):o={},e.expand(t,n,function(t,r){if(t)return i(new _e("Could not expand input before framing.","jsonld.FrameError",{cause:t}));var a=te(n);a.isFrame=!0,a.keepFreeFloatingNodes=!0,e.expand(s,a,function(t,n){if(t)return i(new _e("Could not expand frame before framing.","jsonld.FrameError",{cause:t}));var s;try{s=(new ke).frame(r,n,a)}catch(e){return i(e)}a.graph=!0,a.skipExpansion=!0,a.link={},e.compact(s,o,a,function(e,t,r){if(e)return i(new _e("Could not compact framed output.","jsonld.FrameError",{cause:e}));var n=_(r,"@graph");
// remove @preserve from results
a.link={},t[n]=N(r,t[n],a),i(null,t)})})})}if(arguments.length<2)return e.nextTick(function(){i(new TypeError("Could not frame, too few arguments."))});"function"==typeof n&&(i=n,n={}),n=n||{},"base"in n||(n.base="string"==typeof t?t:""),"documentLoader"in n||(n.documentLoader=e.loadDocument),"embed"in n||(n.embed="@last"),n.explicit=n.explicit||!1,"requireAll"in n||(n.requireAll=!0),n.omitDefault=n.omitDefault||!1,e.nextTick(function(){if("string"==typeof r){var e=function(e,t){if(e)return i(e);try{if(!t.document)throw new _e("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"==typeof t.document&&(t.document=JSON.parse(t.document))}catch(e){return i(new _e("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:t}))}o(t)},t=n.documentLoader(r,e);return void(t&&"then"in t&&t.then(e.bind(null,null),e))}o({contextUrl:null,documentUrl:null,document:r})})},e.link=function(t,r,n,i){var o={};r&&(o["@context"]=r),o["@embed"]="@link",e.frame(t,o,n,i)},e.objectify=function(t,r,n,i){"function"==typeof n&&(i=n,n={}),n=n||{},"base"in n||(n.base="string"==typeof t?t:""),"documentLoader"in n||(n.documentLoader=e.loadDocument),e.expand(t,n,function(t,o){if(t)return i(new _e("Could not expand input before linking.","jsonld.LinkError",{cause:t}));var s;try{s=(new ke).flatten(o)}catch(e){return i(e)}n.graph=!0,n.skipExpansion=!0,e.compact(s,r,n,function(t,r,n){if(t)return i(new _e("Could not compact flattened output before linking.","jsonld.LinkError",{cause:t}));var o=_(n,"@graph"),s=r[o][0],a=function(t){if($(t)||U(t)){if($(t)){if(a.visited[t["@id"]])return;a.visited[t["@id"]]=!0}for(var r in t){var i=t[r],o="@id"===e.getContextValue(n,r,"@type");if(U(i)||$(i)||o)if(H(i)&&o)t[r]=i=s[i],a(i);else if(U(i))for(var u=0;u<i.length;++u)H(i[u])&&o?i[u]=s[i[u]]:$(i[u])&&"@id"in i[u]&&(i[u]=s[i[u]["@id"]]),a(i[u]);else if($(i)){var l=i["@id"];t[r]=i=s[l],a(i)}}}};a.visited={},a(s),r.of_type={};for(var u in s)if("@type"in s[u]){var l=s[u]["@type"];U(l)||(l=[l]);for(var c=0;c<l.length;++c)l[c]in r.of_type||(r.of_type[l[c]]=[]),r.of_type[l[c]].push(s[u])}i(null,r)})})},e.normalize=function(t,r,n){if(arguments.length<1)return e.nextTick(function(){n(new TypeError("Could not normalize, too few arguments."))});if("function"==typeof r&&(n=r,r={}),r=r||{},"algorithm"in r||(r.algorithm="URGNA2012"),"base"in r||(r.base="string"==typeof t?t:""),"documentLoader"in r||(r.documentLoader=e.loadDocument),"inputFormat"in r){if("application/nquads"!==r.inputFormat)return n(new _e("Unknown normalization input format.","jsonld.NormalizeError"));var i=ie(t);(new ke).normalize(i,r,n)}else{var o=te(r);delete o.format,o.produceGeneralizedRdf=!1,e.toRDF(t,o,function(e,t){if(e)return n(new _e("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:e}));(new ke).normalize(t,r,n)})}},e.fromRDF=function(t,r,n){if(arguments.length<1)return e.nextTick(function(){n(new TypeError("Could not convert from RDF, too few arguments."))});"function"==typeof r&&(n=r,r={}),r=r||{},"useRdfType"in r||(r.useRdfType=!1),"useNativeTypes"in r||(r.useNativeTypes=!1),"format"in r||!H(t)||"format"in r||(r.format="application/nquads"),e.nextTick(function(){function e(e,t,r){(new ke).fromRDF(e,t,r)}var i;if(r.format){if(!(i=r.rdfParser||de[r.format]))return n(new _e("Unknown input format.","jsonld.UnknownFormat",{format:r.format}))}else i=function(){return t};var o=!1;try{t=i(t,function(t,i){if(o=!0,t)return n(t);e(i,r,n)})}catch(e){if(!o)return n(e);throw e}if(t){if("then"in t)return t.then(function(t){e(t,r,n)},n);e(t,r,n)}})},e.toRDF=function(t,r,n){if(arguments.length<1)return e.nextTick(function(){n(new TypeError("Could not convert to RDF, too few arguments."))});"function"==typeof r&&(n=r,r={}),r=r||{},"base"in r||(r.base="string"==typeof t?t:""),"documentLoader"in r||(r.documentLoader=e.loadDocument),e.expand(t,r,function(e,t){if(e)return n(new _e("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:e}));var i;try{if(i=ke.prototype.toRDF(t,r),r.format){if("application/nquads"===r.format)return n(null,oe(i));throw new _e("Unknown output format.","jsonld.UnknownFormat",{format:r.format})}}catch(e){return n(e)}n(null,i)})},e.createNodeMap=function(t,r,n){if(arguments.length<1)return e.nextTick(function(){n(new TypeError("Could not create node map, too few arguments."))});"function"==typeof r&&(n=r,r={}),r=r||{},"base"in r||(r.base="string"==typeof t?t:""),"documentLoader"in r||(r.documentLoader=e.loadDocument),e.expand(t,r,function(e,t){if(e)return n(new _e("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:e}));var i;try{i=(new ke).createNodeMap(t,r)}catch(e){return n(e)}n(null,i)})},e.merge=function(t,r,n,i){function o(e,t){if(!u){if(e)return u=e,i(new _e("Could not expand input before flattening.","jsonld.FlattenError",{cause:e}));a.push(t),0==--l&&s(a)}}function s(t){var o=!0;"mergeNodes"in n&&(o=n.mergeNodes);var s,a=n.namer||n.issuer||new ue("_:b"),u={"@default":{}};try{for(var l=0;l<t.length;++l){var c=t[l];c=e.relabelBlankNodes(c,{issuer:new ue("_:b"+l+"-")});var p=o||0===l?u:{"@default":{}};if(m(c,p,"@default",a),p!==u)for(var f in p){var d=p[f];if(f in u){var h=u[f];for(var v in d)v in h||(h[v]=d[v])}else u[f]=d}}s=y(u)}catch(e){return i(e)}for(var g=[],b=Object.keys(s).sort(),E=0;E<b.length;++E){var x=s[b[E]];Y(x)||g.push(x)}if(null===r)return i(null,g);n.graph=!0,n.skipExpansion=!0,e.compact(g,r,n,function(e,t){if(e)return i(new _e("Could not compact merged output.","jsonld.MergeError",{cause:e}));i(null,t)})}if(arguments.length<1)return e.nextTick(function(){i(new TypeError("Could not merge, too few arguments."))});if(!U(t))return e.nextTick(function(){i(new TypeError('Could not merge, "docs" must be an array.'))});"function"==typeof n?(i=n,n={}):"function"==typeof r&&(i=r,r=null,n={}),n=n||{};for(var a=[],u=null,l=t.length,c=0;c<t.length;++c){var p={};for(var f in n)p[f]=n[f];e.expand(t[c],p,o)}},e.relabelBlankNodes=function(e,t){return t=t||{},u(t.namer||t.issuer||new ue("_:b"),e)},e.prependBase=function(e,t){return D(e,t)},e.documentLoader=function(t,r){var n=new _e("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});return l?r(n,{contextUrl:null,documentUrl:t,document:null}):e.promisify(function(e){e(n)})},e.loadDocument=function(t,r){var n=e.documentLoader(t,r);n&&"then"in n&&n.then(r.bind(null,null),r)},e.promises=function(t){t=t||{};var n=Array.prototype.slice,o=e.promisify,s=t.api||{},a=t.version||"jsonld.js";"string"==typeof t.api&&(t.version||(a=t.api),s={}),s.expand=function(t){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");return o.apply(null,[e.expand].concat(n.call(arguments)))},s.compact=function(t,r){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");var i=function(t,r,n,i){"function"==typeof n&&(i=n,n={}),n=n||{},e.compact(t,r,n,function(e,t){i(e,t)})};return o.apply(null,[i].concat(n.call(arguments)))},s.flatten=function(t){if(arguments.length<1)throw new TypeError("Could not flatten, too few arguments.");return o.apply(null,[e.flatten].concat(n.call(arguments)))},s.frame=function(t,r){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");return o.apply(null,[e.frame].concat(n.call(arguments)))},s.fromRDF=function(t){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");return o.apply(null,[e.fromRDF].concat(n.call(arguments)))},s.toRDF=function(t){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");return o.apply(null,[e.toRDF].concat(n.call(arguments)))},s.normalize=function(t){if(arguments.length<1)throw new TypeError("Could not normalize, too few arguments.");return o.apply(null,[e.normalize].concat(n.call(arguments)))},"jsonld.js"===a&&(s.link=function(t,r){if(arguments.length<2)throw new TypeError("Could not link, too few arguments.");return o.apply(null,[e.link].concat(n.call(arguments)))},s.objectify=function(t){return o.apply(null,[e.objectify].concat(n.call(arguments)))},s.createNodeMap=function(t){return o.apply(null,[e.createNodeMap].concat(n.call(arguments)))},s.merge=function(t){return o.apply(null,[e.merge].concat(n.call(arguments)))});try{e.Promise=i.Promise||r(180).Promise}catch(e){var u=function(){throw new Error("Unable to find a Promise implementation.")};for(var l in s)s[l]=u}return s},e.promisify=function(t){if(!e.Promise)try{e.Promise=i.Promise||r(180).Promise}catch(e){throw new Error("Unable to find a Promise implementation.")}var n=Array.prototype.slice.call(arguments,1);return new e.Promise(function(e,r){t.apply(null,n.concat(function(t,n){t?r(t):e(n)}))})},e.promises({api:e.promises}),t.prototype=e.promises({version:"json-ld-1.0"}),t.prototype.toString=function(){return this instanceof t?"[object JsonLdProcessor]":"[object JsonLdProcessorPrototype]"},e.JsonLdProcessor=t;var ce=!!Object.defineProperty;if(ce)try{Object.defineProperty({},"x",{})}catch(e){ce=!1}ce&&(Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t})),c&&void 0===i.JsonLdProcessor&&(ce?Object.defineProperty(i,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:t}):i.JsonLdProcessor=t);var pe="function"==typeof o&&o,fe=pe?function(e){pe(e)}:function(e){setTimeout(e,0)};"object"==typeof n&&"function"==typeof n.nextTick?e.nextTick=n.nextTick:e.nextTick=fe,e.setImmediate=pe?fe:e.nextTick,e.parseLinkHeader=function(e){for(var t={},r=e.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g),n=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,i=0;i<r.length;++i){var o=r[i].match(n);if(o){for(var s={target:o[1]},a=o[2],u=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;o=u.exec(a);)s[o[1]]=void 0===o[2]?o[3]:o[2];var l=s.rel||"";U(t[l])?t[l].push(s):t[l]=l in t?[t[l],s]:s}}return t},e.RequestQueue=function(){this._requests={}},e.RequestQueue.prototype.wrapLoader=function(e){return this._loader=e,this._usePromise=1===e.length,this.add.bind(this)},e.RequestQueue.prototype.add=function(t,r){var n=this;if(!r&&!n._usePromise)throw new Error("callback must be specified.");if(n._usePromise)return new e.Promise(function(e,r){var i=n._requests[t];i||(i=n._requests[t]=n._loader(t).then(function(e){return delete n._requests[t],e}).catch(function(e){throw delete n._requests[t],e})),i.then(function(t){e(t)}).catch(function(e){r(e)})});t in n._requests?n._requests[t].push(r):(n._requests[t]=[r],n._loader(t,function(e,r){var i=n._requests[t];delete n._requests[t];for(var o=0;o<i.length;++o)i[o](e,r)}))},e.DocumentCache=function(e){this.order=[],this.cache={},this.size=e||50,this.expires=3e4},e.DocumentCache.prototype.get=function(e){if(e in this.cache){var t=this.cache[e];if(t.expires>=+new Date)return t.ctx;delete this.cache[e],this.order.splice(this.order.indexOf(e),1)}return null},e.DocumentCache.prototype.set=function(e,t){this.order.length===this.size&&delete this.cache[this.order.shift()],this.order.push(e),this.cache[e]={ctx:t,expires:+new Date+this.expires}},e.ActiveContextCache=function(e){this.order=[],this.cache={},this.size=e||100},e.ActiveContextCache.prototype.get=function(e,t){var r=JSON.stringify(e),n=JSON.stringify(t),i=this.cache[r];return i&&n in i?i[n]:null},e.ActiveContextCache.prototype.set=function(e,t,r){if(this.order.length===this.size){var n=this.order.shift();delete this.cache[n.activeCtx][n.localCtx]}var i=JSON.stringify(e),o=JSON.stringify(t);this.order.push({activeCtx:i,localCtx:o}),i in this.cache||(this.cache[i]={}),this.cache[i][o]=te(r)},e.cache={activeCtx:new e.ActiveContextCache},e.documentLoaders={},e.documentLoaders.jquery=function(t,r){function n(n,i){return 0!==n.indexOf("http:")&&0!==n.indexOf("https:")?i(new _e('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null}):r.secure&&0!==n.indexOf("https")?i(new _e('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null}):void t.ajax({url:n,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:!0,success:function(t,r,o){var s={contextUrl:null,documentUrl:n,document:t},a=o.getResponseHeader("Content-Type"),u=o.getResponseHeader("Link");if(u&&"application/ld+json"!==a){if(u=e.parseLinkHeader(u)[Le],U(u))return i(new _e("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n}),s);u&&(s.contextUrl=u.target)}i(null,s)},error:function(e,t,r){i(new _e("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n,cause:r}),{contextUrl:null,documentUrl:n,document:null})}})}r=r||{};var i=new e.RequestQueue;return("usePromise"in r?r.usePromise:"undefined"!=typeof Promise)?i.wrapLoader(function(t){return e.promisify(n,t)}):i.wrapLoader(n)},e.documentLoaders.node=function(t){function n(r,l,c){function p(t,i,s){if(f={contextUrl:null,documentUrl:r,document:s||null},t)return c(new _e("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r,cause:t}),f);var a=u.STATUS_CODES[i.statusCode];if(i.statusCode>=400)return c(new _e("URL could not be dereferenced: "+a,"jsonld.InvalidUrl",{code:"loading document failed",url:r,httpStatusCode:i.statusCode}),f);if(i.headers.link&&"application/ld+json"!==i.headers["content-type"]){var p=e.parseLinkHeader(i.headers.link)[Le];if(U(p))return c(new _e("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r}),f);p&&(f.contextUrl=p.target)}if(i.statusCode>=300&&i.statusCode<400&&i.headers.location)return l.length===o?c(new _e("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:r,httpStatusCode:i.statusCode,redirects:l}),f):-1!==l.indexOf(r)?c(new _e("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:r,httpStatusCode:i.statusCode,redirects:l}),f):(l.push(r),n(i.headers.location,l,c));l.push(r),c(t,f)}if(0!==r.indexOf("http:")&&0!==r.indexOf("https:"))return c(new _e('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r}),{contextUrl:null,documentUrl:r,document:null});if(t.secure&&0!==r.indexOf("https"))return c(new _e('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r}),{contextUrl:null,documentUrl:r,document:null});var f=null;if(null!==f)return c(null,f);var d={Accept:a};for(var h in t.headers)d[h]=t.headers[h];s({url:r,headers:d,strictSSL:i,followRedirect:!1},p)}t=t||{};var i=!("strictSSL"in t)||t.strictSSL,o="maxRedirects"in t?t.maxRedirects:-1,s="request"in t?t.request:r(37),a="application/ld+json, application/json",u=r(37),l=new e.RequestQueue;if(t.usePromise)return l.wrapLoader(function(t){return e.promisify(n,t,[])});var c=t.headers||{};if("Accept"in c||"accept"in c)throw new RangeError('Accept header may not be specified as an option; only "'+a+'" is supported.');return l.wrapLoader(function(e,t){n(e,[],t)})},e.documentLoaders.xhr=function(t){function r(r,i){if(0!==r.indexOf("http:")&&0!==r.indexOf("https:"))return i(new _e('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r}),{contextUrl:null,documentUrl:r,document:null});if(t.secure&&0!==r.indexOf("https"))return i(new _e('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r}),{contextUrl:null,documentUrl:r,document:null});var o=t.xhr||XMLHttpRequest,s=new o;s.onload=function(){if(s.status>=400)return i(new _e("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:r,httpStatusCode:s.status}),{contextUrl:null,documentUrl:r,document:null});var t,o={contextUrl:null,documentUrl:r,document:s.response},a=s.getResponseHeader("Content-Type");if(n.test(s.getAllResponseHeaders())&&(t=s.getResponseHeader("Link")),t&&"application/ld+json"!==a){if(t=e.parseLinkHeader(t)[Le],U(t))return i(new _e("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r}),o);t&&(o.contextUrl=t.target)}i(null,o)},s.onerror=function(){i(new _e("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r}),{contextUrl:null,documentUrl:r,document:null})},s.open("GET",r,!0),s.setRequestHeader("Accept","application/ld+json, application/json"),s.send()}t=t||{};var n=/(^|(\r\n))link:/i,i=new e.RequestQueue;return("usePromise"in t?t.usePromise:"undefined"!=typeof Promise)?i.wrapLoader(function(t){return e.promisify(r,t)}):i.wrapLoader(r)},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new _e('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.processContext=function(t,r){var n={},i=2;arguments.length>3&&(n=arguments[2]||{},i+=1);var o=arguments[i];if("base"in n||(n.base=""),"documentLoader"in n||(n.documentLoader=e.loadDocument),null===r)return o(null,j(n));r=te(r),$(r)&&"@context"in r||(r={"@context":r}),ne(r,n,function(e,r){if(e)return o(e);try{r=(new ke).processContext(t,r,n)}catch(e){return o(e)}o(null,r)})},e.hasProperty=function(e,t){var r=!1;if(t in e){var n=e[t];r=!U(n)||n.length>0}return r},e.hasValue=function(t,r,n){var i=!1;if(e.hasProperty(t,r)){var o=t[r],s=J(o);if(U(o)||s){s&&(o=o["@list"]);for(var a=0;a<o.length;++a)if(e.compareValues(n,o[a])){i=!0;break}}else U(n)||(i=e.compareValues(n,o))}return i},e.addValue=function(t,r,n,i){if(i=i||{},"propertyIsArray"in i||(i.propertyIsArray=!1),"allowDuplicate"in i||(i.allowDuplicate=!0),U(n)){0!==n.length||!i.propertyIsArray||r in t||(t[r]=[]);for(var o=0;o<n.length;++o)e.addValue(t,r,n[o],i)}else if(r in t){var s=!i.allowDuplicate&&e.hasValue(t,r,n);U(t[r])||s&&!i.propertyIsArray||(t[r]=[t[r]]),s||t[r].push(n)}else t[r]=i.propertyIsArray?[n]:n},e.getValues=function(e,t){var r=e[t]||[];return U(r)||(r=[r]),r},e.removeProperty=function(e,t){delete e[t]},e.removeValue=function(t,r,n,i){"propertyIsArray"in(i=i||{})||(i.propertyIsArray=!1);var o=e.getValues(t,r).filter(function(t){return!e.compareValues(t,n)});0===o.length?e.removeProperty(t,r):1!==o.length||i.propertyIsArray?t[r]=o:t[r]=o[0]},e.compareValues=function(e,t){return e===t||(!(!K(e)||!K(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!($(e)&&"@id"in e&&$(t)&&"@id"in t)&&e["@id"]===t["@id"])},e.getContextValue=function(e,t,r){var n=null;if(null===t)return n;if("@language"===r&&r in e&&(n=e[r]),e.mappings[t]){var i=e.mappings[t];z(r)?n=i:r in i&&(n=i[r])}return n};var de={};if(e.registerRDFParser=function(e,t){de[e]=t},e.unregisterRDFParser=function(e){delete de[e]},l){if(void 0===he)var he=null;if(void 0===ve)var ve={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var ge="http://www.w3.org/2001/XMLSchema#boolean",me="http://www.w3.org/2001/XMLSchema#double",ye="http://www.w3.org/2001/XMLSchema#integer",be="http://www.w3.org/2001/XMLSchema#string",Ee="http://www.w3.org/1999/02/22-rdf-syntax-ns#",xe=Ee+"first",Se=Ee+"rest",Te=Ee+"nil",Ie=Ee+"type",we=Ee+"PlainLiteral",Ce=Ee+"XMLLiteral",Ae=Ee+"object",Ne=Ee+"langString",Le="http://www.w3.org/ns/json-ld#context",Re=10,_e=function(e,t,r){l?(Error.call(this),Error.captureStackTrace(this,this.constructor)):"undefined"!=typeof Error&&(this.stack=(new Error).stack),this.name=t||"jsonld.Error",this.message=e||"An unspecified JSON-LD error occurred.",this.details=r||{}};l?r(37).inherits(_e,Error):"undefined"!=typeof Error&&(_e.prototype=new Error);var ke=function(){};ke.prototype.compact=function(t,r,n,i){if(U(n)){for(var o=[],s=0;s<n.length;++s){var a=this.compact(t,r,n[s],i);null!==a&&o.push(a)}if(i.compactArrays&&1===o.length){var u=e.getContextValue(t,r,"@container");null===u&&(o=o[0])}return o}if($(n)){if(i.link&&"@id"in n&&n["@id"]in i.link)for(var l=i.link[n["@id"]],s=0;s<l.length;++s)if(l[s].expanded===n)return l[s].compacted;if(K(n)||Y(n)){var o=k(t,r,n);return i.link&&Y(n)&&(n["@id"]in i.link||(i.link[n["@id"]]=[]),i.link[n["@id"]].push({expanded:n,compacted:o})),o}var c="@reverse"===r,o={};i.link&&"@id"in n&&(n["@id"]in i.link||(i.link[n["@id"]]=[]),i.link[n["@id"]].push({expanded:n,compacted:o}));for(var p=Object.keys(n).sort(),f=0;f<p.length;++f){var d=p[f],h=n[d];if("@id"!==d&&"@type"!==d)if("@reverse"!==d)if("@index"!==d)if("@graph"!==d&&"@list"!==d&&M(d)){var v=_(t,d);e.addValue(o,v,h)}else{if(0===h.length){var g=_(t,d,h,{vocab:!0},c);e.addValue(o,g,h,{propertyIsArray:!0})}for(var m=0;m<h.length;++m){var y=h[m],g=_(t,d,y,{vocab:!0},c),u=e.getContextValue(t,g,"@container"),b=J(y),E=null;b&&(E=y["@list"]);var x=this.compact(t,g,b?E:y,i);if(b)if(U(x)||(x=[x]),"@list"!==u){var S={};S[_(t,"@list")]=x,x=S,"@index"in y&&(x[_(t,"@index")]=y["@index"])}else if(g in o)throw new _e('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',"jsonld.SyntaxError",{code:"compaction to list of lists"});if("@language"===u||"@index"===u){var T;g in o?T=o[g]:o[g]=T={},"@language"===u&&K(x)&&(x=x["@value"]),e.addValue(T,y[u],x)}else{var I=!i.compactArrays||"@set"===u||"@list"===u||U(x)&&0===x.length||"@list"===d||"@graph"===d;e.addValue(o,g,x,{propertyIsArray:I})}}}else{var u=e.getContextValue(t,r,"@container");if("@index"===u)continue;var v=_(t,d);e.addValue(o,v,h)}else{var w=this.compact(t,"@reverse",h,i);for(var C in w)if(t.mappings[C]&&t.mappings[C].reverse){var A=w[C],u=e.getContextValue(t,C,"@container"),N="@set"===u||!i.compactArrays;e.addValue(o,C,A,{propertyIsArray:N}),delete w[C]}if(Object.keys(w).length>0){var v=_(t,d);e.addValue(o,v,w)}}else{var w;if(H(h))w=_(t,h,null,{vocab:"@type"===d});else{w=[];for(var m=0;m<h.length;++m)w.push(_(t,h[m],null,{vocab:!0}))}var v=_(t,d),I=U(w)&&0===h.length;e.addValue(o,v,w,{propertyIsArray:I})}}return o}return n},ke.prototype.expand=function(t,r,n,i,o){var s=this;if(null===n||void 0===n)return null;if(!U(n)&&!$(n))return o||null!==r&&"@graph"!==P(t,r,{vocab:!0})?p(t,r,n):null;if(U(n)){var u=[],l=e.getContextValue(t,r,"@container");o=o||"@list"===l;for(var c=0;c<n.length;++c){var f=s.expand(t,r,n[c],i);if(o&&(U(f)||J(f)))throw new _e("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null!==f&&(U(f)?u=u.concat(f):u.push(f))}return u}"@context"in n&&(t=s.processContext(t,n["@context"],i));for(var d=P(t,r,{vocab:!0}),u={},h=Object.keys(n).sort(),v=0;v<h.length;++v){var g,m=h[v],y=n[m];if("@context"!==m){var b=P(t,m,{vocab:!0});if(null!==b&&(ee(b)||M(b))){if(M(b)){if("@reverse"===d)throw new _e("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:y});if(b in u)throw new _e("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:b})}if("@id"===b&&!H(y)){if(!i.isFrame)throw new _e('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:y});if(!$(y))throw new _e('Invalid JSON-LD syntax; "@id" value must be a string or an object.',"jsonld.SyntaxError",{code:"invalid @id value",value:y})}if("@type"===b&&G(y),"@graph"===b&&!$(y)&&!U(y))throw new _e('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:y});if("@value"===b&&($(y)||U(y)))throw new _e('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:y});if("@language"===b){if(null===y)continue;if(!H(y))throw new _e('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:y});y=y.toLowerCase()}if("@index"===b&&!H(y))throw new _e('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:y});if("@reverse"!==b){var l=e.getContextValue(t,m,"@container");if("@language"===l&&$(y))g=a(y);else if("@index"===l&&$(y))g=function(e){for(var r=[],n=Object.keys(y).sort(),o=0;o<n.length;++o){var a=n[o],u=y[a];U(u)||(u=[u]),u=s.expand(t,e,u,i,!1);for(var l=0;l<u.length;++l){var c=u[l];"@index"in c||(c["@index"]=a),r.push(c)}}return r}(m);else{var E="@list"===b;if(E||"@set"===b){var x=r;if(E&&"@graph"===d&&(x=null),g=s.expand(t,x,y,i,E),E&&J(g))throw new _e("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}else g=s.expand(t,m,y,i,!1)}if(null!==g||"@value"===b)if("@list"===b||J(g)||"@list"!==l||(g=U(g)?g:[g],g={"@list":g}),t.mappings[m]&&t.mappings[m].reverse){var S=u["@reverse"]=u["@reverse"]||{};U(g)||(g=[g]);for(var T=0;T<g.length;++T){var I=g[T];if(K(I)||J(I))throw new _e('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:g});e.addValue(S,b,I,{propertyIsArray:!0})}}else{var w=-1===["@index","@id","@type","@value","@language"].indexOf(b);e.addValue(u,b,g,{propertyIsArray:w})}}else{if(!$(y))throw new _e('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:y});if("@reverse"in(g=s.expand(t,"@reverse",y,i)))for(var C in g["@reverse"])e.addValue(u,C,g["@reverse"][C],{propertyIsArray:!0});var S=u["@reverse"]||null;for(var C in g)if("@reverse"!==C){null===S&&(S=u["@reverse"]={}),e.addValue(S,C,[],{propertyIsArray:!0});for(var A=g[C],T=0;T<A.length;++T){var I=A[T];if(K(I)||J(I))throw new _e('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:g});e.addValue(S,C,I,{propertyIsArray:!0})}}}}}}h=Object.keys(u);var N=h.length;if("@value"in u){if("@type"in u&&"@language"in u)throw new _e('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:u});var L=N-1;if("@type"in u&&(L-=1),"@index"in u&&(L-=1),"@language"in u&&(L-=1),0!==L)throw new _e('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:u});if(null===u["@value"])u=null;else{if("@language"in u&&!H(u["@value"]))throw new _e("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:u});if("@type"in u&&(!ee(u["@type"])||0===u["@type"].indexOf("_:")))throw new _e('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:u})}}else if("@type"in u&&!U(u["@type"]))u["@type"]=[u["@type"]];else if("@set"in u||"@list"in u){if(N>1&&!(2===N&&"@index"in u))throw new _e('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:u});"@set"in u&&(u=u["@set"],h=Object.keys(u),N=h.length)}else 1===N&&"@language"in u&&(u=null);return!$(u)||i.keepFreeFloatingNodes||o||null!==r&&"@graph"!==d||(0===N||"@value"in u||"@list"in u||1===N&&"@id"in u)&&(u=null),u},ke.prototype.createNodeMap=function(e,t){t=t||{};var r=t.namer||t.issuer||new ue("_:b"),n={"@default":{}};return m(e,n,"@default",r),y(n)},ke.prototype.flatten=function(e){for(var t=this.createNodeMap(e),r=[],n=Object.keys(t).sort(),i=0;i<n.length;++i){var o=t[n[i]];Y(o)||r.push(o)}return r},ke.prototype.frame=function(e,t,r){var n={options:r,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}},i=new ue("_:b");m(e,n.graphs,"@merged",i),n.subjects=n.graphs["@merged"];var o=[];return b(n,Object.keys(n.subjects).sort(),t,o,null),o},ke.prototype.normalize=function(e,t,r){return"URDNA2015"===t.algorithm?new Oe(t).main(e,r):"URGNA2012"===t.algorithm?new Pe(t).main(e,r):void r(new Error("Invalid RDF Dataset Normalization algorithm: "+t.algorithm))},ke.prototype.fromRDF=function(t,r,n){var i={},o={"@default":i},s={};for(var a in t){var u=t[a];a in o||(o[a]={}),"@default"===a||a in i||(i[a]={"@id":a});for(var l=o[a],c=0;c<u.length;++c){var p=u[c],f=p.subject.value,d=p.predicate.value,h=p.object;f in l||(l[f]={"@id":f});var g=l[f],m="IRI"===h.type||"blank node"===h.type;if(!m||h.value in l||(l[h.value]={"@id":h.value}),d!==Ie||r.useRdfType||!m){var y=v(h,r.useNativeTypes);if(e.addValue(g,d,y,{propertyIsArray:!0}),m)if(h.value===Te){var b=l[h.value];"usages"in b||(b.usages=[]),b.usages.push({node:g,property:d,value:y})}else h.value in s?s[h.value]=!1:s[h.value]={node:g,property:d,value:y}}else e.addValue(g,"@type",h.value,{propertyIsArray:!0})}}for(var a in o){var E=o[a];if(Te in E){for(var x=E[Te],S=0;S<x.usages.length;++S){for(var T=x.usages[S],g=T.node,I=T.property,w=T.value,C=[],A=[],N=Object.keys(g).length;I===Se&&$(s[g["@id"]])&&U(g[xe])&&1===g[xe].length&&U(g[Se])&&1===g[Se].length&&(3===N||4===N&&U(g["@type"])&&1===g["@type"].length&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#List"===g["@type"][0])&&(C.push(g[xe][0]),A.push(g["@id"]),T=s[g["@id"]],g=T.node,I=T.property,w=T.value,N=Object.keys(g).length,0===g["@id"].indexOf("_:")););if(I===xe){if(g["@id"]===Te)continue;w=E[w["@id"]][Se][0],C.pop(),A.pop()}delete w["@id"],w["@list"]=C.reverse();for(var L=0;L<A.length;++L)delete E[A[L]]}delete x.usages}}for(var R=[],_=Object.keys(i).sort(),S=0;S<_.length;++S){var k=_[S],g=i[k];if(k in o)for(var u=g["@graph"]=[],E=o[k],O=Object.keys(E).sort(),P=0;P<O.length;++P){var D=E[O[P]];Y(D)||u.push(D)}Y(g)||R.push(g)}n(null,R)},ke.prototype.toRDF=function(e,t){var r=new ue("_:b"),n={"@default":{}};m(e,n,"@default",r);for(var i={},o=Object.keys(n).sort(),s=0;s<o.length;++s){var a=o[s];("@default"===a||ee(a))&&(i[a]=f(n[a],r,t))}return i},ke.prototype.processContext=function(t,r,n){$(r)&&"@context"in r&&U(r["@context"])&&(r=r["@context"]);var i=U(r)?r:[r];if(0===i.length)return t.clone();for(var o=t,s=0;s<i.length;++s){var a=i[s];if(null!==a){if($(a)&&"@context"in a&&(a=a["@context"]),!$(a))throw new _e("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:a});if(e.cache.activeCtx){var u=e.cache.activeCtx.get(t,a);if(u){o=t=u;continue}}t=o,o=o.clone();var l={};if("@base"in a){var c=a["@base"];if(null===c)c=null;else{if(!H(c))throw new _e('Invalid JSON-LD syntax; the value of "@base" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:a});if(""!==c&&!ee(c))throw new _e('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI or the empty string.',"jsonld.SyntaxError",{code:"invalid base IRI",context:a})}null!==c&&(c=e.url.parse(c||"")),o["@base"]=c,l["@base"]=!0}if("@vocab"in a){var p=a["@vocab"];if(null===p)delete o["@vocab"];else{if(!H(p))throw new _e('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:a});if(!ee(p))throw new _e('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:a});o["@vocab"]=p}l["@vocab"]=!0}if("@language"in a){var p=a["@language"];if(null===p)delete o["@language"];else{if(!H(p))throw new _e('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:a});o["@language"]=p.toLowerCase()}l["@language"]=!0}for(var f in a)O(o,a,f,l);e.cache.activeCtx&&e.cache.activeCtx.set(t,a,o)}else o=t=j(n)}return o};var Oe=function(){var t={subject:"s",object:"o",name:"g"},r=function(e){e=e||{},this.name="URDNA2015",this.options=e,this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new ue("_:c14n"),this.quads=[],this.schedule={},this.schedule.MAX_DEPTH="maxCallStackDepth"in e?e.maxCallStackDepth:500,this.schedule.MAX_TOTAL_DEPTH="maxTotalCallStackDepth"in e?e.maxCallStackDepth:4294967295,this.schedule.depth=0,this.schedule.totalDepth=0,this.schedule.timeSlice="timeSlice"in e?e.timeSlice:10};return r.prototype.doWork=function(t,r){var n=this.schedule;if(n.totalDepth>=n.MAX_TOTAL_DEPTH)return r(new Error("Maximum total call stack depth exceeded; normalization aborting."));!function i(){if(n.depth===n.MAX_DEPTH)return n.depth=0,n.running=!1,e.nextTick(i);var o=(new Date).getTime();if(n.running||(n.start=(new Date).getTime(),n.deadline=n.start+n.timeSlice),o<n.deadline)return n.running=!0,n.depth++,n.totalDepth++,t(function(e,t){n.depth--,n.totalDepth--,r(e,t)});n.depth=0,n.running=!1,e.setImmediate(i)}()},r.prototype.forEach=function(e,t,r){var n,i,o=this,s=0;if(U(e))i=e.length,n=function(){return s!==i&&(n.value=e[s++],n.key=s,!0)};else{var a=Object.keys(e);i=a.length,n=function(){return s!==i&&(n.key=a[s++],n.value=e[n.key],!0)}}!function e(i,s){return i?r(i):n()?o.doWork(function(){t(n.value,n.key,e)}):void r()}()},r.prototype.waterfall=function(e,t){var r=this;r.forEach(e,function(e,t,n){r.doWork(e,n)},t)},r.prototype.whilst=function(e,t,r){var n=this;!function i(o){return o?r(o):e()?void n.doWork(t,i):r()}()},r.prototype.main=function(e,t){var r=this;r.schedule.start=(new Date).getTime();var n;if(r.options.format&&"application/nquads"!==r.options.format)return t(new _e("Unknown output format.","jsonld.UnknownFormat",{format:r.options.format}));var i={};r.waterfall([function(t){r.forEach(e,function(e,t,n){"@default"===t&&(t=null),r.forEach(e,function(e,n,o){null!==t&&(0===t.indexOf("_:")?e.name={type:"blank node",value:t}:e.name={type:"IRI",value:t}),r.quads.push(e),r.forEachComponent(e,function(t){if("blank node"===t.type){var n=t.value;n in r.blankNodeInfo?r.blankNodeInfo[n].quads.push(e):(i[n]=!0,r.blankNodeInfo[n]={quads:[e]})}}),o()},n)},t)},function(e){var t=!0;r.whilst(function(){return t},function(e){t=!1,r.hashToBlankNodes={},r.waterfall([function(e){r.forEach(i,function(e,t,n){r.hashFirstDegreeQuads(t,function(e,i){if(e)return n(e);i in r.hashToBlankNodes?r.hashToBlankNodes[i].push(t):r.hashToBlankNodes[i]=[t],n()})},e)},function(e){var n=Object.keys(r.hashToBlankNodes).sort();r.forEach(n,function(e,n,o){var s=r.hashToBlankNodes[e];if(s.length>1)return o();var a=s[0];r.canonicalIssuer.getId(a),delete i[a],delete r.hashToBlankNodes[e],t=!0,o()},e)}],e)},e)},function(e){var t=Object.keys(r.hashToBlankNodes).sort();r.forEach(t,function(e,t,n){var i=[],o=r.hashToBlankNodes[e];r.waterfall([function(e){r.forEach(o,function(e,t,n){if(r.canonicalIssuer.hasId(e))return n();var o=new ue("_:b");o.getId(e),r.hashNDegreeQuads(e,o,function(e,t){if(e)return n(e);i.push(t),n()})},e)},function(e){i.sort(function(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}),r.forEach(i,function(e,t,n){for(var i in e.issuer.existing)r.canonicalIssuer.getId(i);n()},e)}],n)},e)},function(e){var t=[];r.waterfall([function(e){r.forEach(r.quads,function(e,n,i){r.forEachComponent(e,function(e){"blank node"===e.type&&0!==e.value.indexOf(r.canonicalIssuer.prefix)&&(e.value=r.canonicalIssuer.getId(e.value))}),t.push(se(e)),i()},e)},function(e){if(t.sort(),"application/nquads"===r.options.format)return n=t.join(""),e();n=ie(t.join("")),e()}],e)}],function(e){t(e,n)})},r.prototype.hashFirstDegreeQuads=function(e,t){var r=this,n=r.blankNodeInfo[e];if("hash"in n)return t(null,n.hash);var i=[],o=n.quads;r.forEach(o,function(t,n,o){var s={predicate:t.predicate};r.forEachComponent(t,function(t,n){s[n]=r.modifyFirstDegreeComponent(e,t,n)}),i.push(se(s)),o()},function(e){if(e)return t(e);i.sort(),n.hash=Fe.hashNQuads(r.name,i),t(null,n.hash)})},r.prototype.modifyFirstDegreeComponent=function(e,t){return"blank node"!==t.type?t:(t=te(t),t.value=t.value===e?"_:a":"_:z",t)},r.prototype.hashRelatedBlankNode=function(e,t,r,n,i){var o,s=this;s.waterfall([function(t){return s.canonicalIssuer.hasId(e)?(o=s.canonicalIssuer.getId(e),t()):r.hasId(e)?(o=r.getId(e),t()):void s.hashFirstDegreeQuads(e,function(e,r){if(e)return t(e);o=r,t()})}],function(e){if(e)return i(e);var r=new Fe(s.name);return r.update(n),"g"!==n&&r.update(s.getRelatedPredicate(t)),r.update(o),i(null,r.digest())})},r.prototype.getRelatedPredicate=function(e){return"<"+e.predicate.value+">"},r.prototype.hashNDegreeQuads=function(e,t,r){var n,i=this,o=new Fe(i.name);i.waterfall([function(r){i.createHashToRelated(e,t,function(e,t){if(e)return r(e);n=t,r()})},function(e){var r=Object.keys(n).sort();i.forEach(r,function(e,r,s){o.update(e);var a,u="",l=new De(n[e]);i.whilst(function(){return l.hasNext()},function(e){var r=l.next(),n=t.clone(),o="",s=[];i.waterfall([function(t){i.forEach(r,function(t,r,a){if(i.canonicalIssuer.hasId(t)?o+=i.canonicalIssuer.getId(t):(n.hasId(t)||s.push(t),o+=n.getId(t)),0!==u.length&&o.length>=u.length&&o>u)return e();a()},t)},function(t){i.forEach(s,function(t,r,s){i.hashNDegreeQuads(t,n,function(r,i){return r?s(r):(o+=n.getId(t),o+="<"+i.hash+">",n=i.issuer,0!==u.length&&o.length>=u.length&&o>u?e():void s())})},t)},function(e){(0===u.length||o<u)&&(u=o,a=n),e()}],e)},function(e){if(e)return s(e);o.update(u),t=a,s()})},e)}],function(e){r(e,{hash:o.digest(),issuer:t})})},r.prototype.createHashToRelated=function(e,r,n){var i=this,o={},s=i.blankNodeInfo[e].quads;i.forEach(s,function(n,s,a){i.forEach(n,function(s,a,u){if("predicate"===a||"blank node"!==s.type||s.value===e)return u();var l=s.value,c=t[a];i.hashRelatedBlankNode(l,n,r,c,function(e,t){if(e)return u(e);t in o?o[t].push(l):o[t]=[l],u()})},a)},function(e){n(e,o)})},r.prototype.forEachComponent=function(e,t){for(var r in e)"predicate"!==r&&t(e[r],r,e)},r}(),Pe=function(){var e=function(e){Oe.call(this,e),this.name="URGNA2012"};return e.prototype=new Oe,e.prototype.modifyFirstDegreeComponent=function(e,t,r){return"blank node"!==t.type?t:(t=te(t),t.value="name"===r?"_:g":t.value===e?"_:a":"_:z",t)},e.prototype.getRelatedPredicate=function(e){return e.predicate.value},e.prototype.createHashToRelated=function(e,t,r){var n=this,i={},o=n.blankNodeInfo[e].quads;n.forEach(o,function(r,o,s){var a,u;if("blank node"===r.subject.type&&r.subject.value!==e)u=r.subject.value,a="p";else{if("blank node"!==r.object.type||r.object.value===e)return s();u=r.object.value,a="r"}n.hashRelatedBlankNode(u,r,t,a,function(e,t){t in i?i[t].push(u):i[t]=[u],s()})},function(e){r(e,i)})},e}();Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on non-object");var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}),e.registerRDFParser("application/nquads",ie),e.registerRDFParser("rdfa-api",ae),e.IdentifierIssuer=ue,e.UniqueNamer=ue,ue.prototype.clone=function(){var e=new ue(this.prefix);return e.counter=this.counter,e.existing=te(this.existing),e},ue.prototype.getId=function(e){if(e&&e in this.existing)return this.existing[e];var t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t},ue.prototype.getName=ue.prototype.getName,ue.prototype.hasId=function(e){return e in this.existing},ue.prototype.isNamed=ue.prototype.hasId;var De=function(e){this.list=e.sort(),this.done=!1,this.left={};for(var t=0;t<e.length;++t)this.left[e[t]]=!0};De.prototype.hasNext=function(){return!this.done},De.prototype.next=function(){for(var e=this.list.slice(),t=null,r=0,n=this.list.length,i=0;i<n;++i){var o=this.list[i],s=this.left[o];(null===t||o>t)&&(s&&i>0&&o>this.list[i-1]||!s&&i<n-1&&o>this.list[i+1])&&(t=o,r=i)}if(null===t)this.done=!0;else{var a=this.left[t]?r-1:r+1;this.list[r]=this.list[a],this.list[a]=t;for(var i=0;i<n;++i)this.list[i]>t&&(this.left[this.list[i]]=!this.left[this.list[i]])}return e};var Fe=function(e){if(!(this instanceof Fe))return new Fe(e);if(-1===["URDNA2015","URGNA2012"].indexOf(e))throw new Error("Invalid RDF Dataset Normalization algorithm: "+e);Fe._init.call(this,e)};if(Fe.hashNQuads=function(e,t){for(var r=new Fe(e),n=0;n<t.length;++n)r.update(t[n]);return r.digest()},function(e){if(e){var t=r(37);return Fe._init=function(e){e="URDNA2015"===e?"sha256":"sha1",this.md=t.createHash(e)},Fe.prototype.update=function(e){return this.md.update(e,"utf8")},void(Fe.prototype.digest=function(){return this.md.digest("hex")})}Fe._init=function(e){e="URDNA2015"===e?new o.Algorithm:new i.Algorithm,this.md=new n(e)},Fe.prototype.update=function(e){return this.md.update(e)},Fe.prototype.digest=function(){return this.md.digest().toHex()};var n=function(e){if(!(this instanceof n))return new n(e);if(this._algorithm=e,!n._padding||n._padding.length<this._algorithm.blockSize){n._padding=String.fromCharCode(128);for(var t=String.fromCharCode(0),r=64;r>0;)1&r&&(n._padding+=t),(r>>>=1)>0&&(t+=t)}this.start()};n.prototype.start=function(){this.messageLength=0,this.fullMessageLength=[];for(var e=this._algorithm.messageLengthSize/4,t=0;t<e;++t)this.fullMessageLength.push(0);return this._input=new n.ByteBuffer,this.state=this._algorithm.start(),this},n.prototype.update=function(e){e=new n.ByteBuffer(unescape(encodeURIComponent(e))),this.messageLength+=e.length();var t=e.length();t=[t/4294967296>>>0,t>>>0];for(var r=this.fullMessageLength.length-1;r>=0;--r)this.fullMessageLength[r]+=t[1],t[1]=t[0]+(this.fullMessageLength[r]/4294967296>>>0),this.fullMessageLength[r]=this.fullMessageLength[r]>>>0,t[0]=t[1]/4294967296>>>0;for(this._input.putBytes(e.bytes());this._input.length()>=this._algorithm.blockSize;)this.state=this._algorithm.digest(this.state,this._input);return(this._input.read>2048||0===this._input.length())&&this._input.compact(),this},n.prototype.digest=function(){var e=new n.ByteBuffer;e.putBytes(this._input.bytes());var t=this.fullMessageLength[this.fullMessageLength.length-1]+this._algorithm.messageLengthSize,r=t&this._algorithm.blockSize-1;e.putBytes(n._padding.substr(0,this._algorithm.blockSize-r));for(var i=new n.ByteBuffer,o=0;o<this.fullMessageLength.length;++o)i.putInt32(this.fullMessageLength[o]<<3|this.fullMessageLength[o+1]>>>28);this._algorithm.writeMessageLength(e,i);var s=this._algorithm.digest(this.state.copy(),e),a=new n.ByteBuffer;return s.write(a),a},n.ByteBuffer=function(e){this.data="string"==typeof e?e:"",this.read=0},n.ByteBuffer.prototype.putInt32=function(e){this.data+=String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)},n.ByteBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},n.ByteBuffer.prototype.putBytes=function(e){this.data+=e},n.ByteBuffer.prototype.bytes=function(){return this.data.slice(this.read)},n.ByteBuffer.prototype.length=function(){return this.data.length-this.read},n.ByteBuffer.prototype.compact=function(){this.data=this.data.slice(this.read),this.read=0},n.ByteBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};var i={_w:null};i.Algorithm=function(){this.name="sha1",this.blockSize=64,this.digestLength=20,this.messageLengthSize=8},i.Algorithm.prototype.start=function(){return i._w||(i._w=new Array(80)),i._createState()},i.Algorithm.prototype.writeMessageLength=function(e,t){e.putBytes(t.bytes())},i.Algorithm.prototype.digest=function(e,t){for(var r,n,o,s,a,u,l,c,p=t.length(),f=i._w;p>=64;){for(n=e.h0,o=e.h1,s=e.h2,a=e.h3,u=e.h4,c=0;c<16;++c)r=t.getInt32(),f[c]=r,l=a^o&(s^a),r=(n<<5|n>>>27)+l+u+1518500249+r,u=a,a=s,s=o<<30|o>>>2,o=n,n=r;for(;c<20;++c)r=f[c-3]^f[c-8]^f[c-14]^f[c-16],r=r<<1|r>>>31,f[c]=r,l=a^o&(s^a),r=(n<<5|n>>>27)+l+u+1518500249+r,u=a,a=s,s=o<<30|o>>>2,o=n,n=r;for(;c<32;++c)r=f[c-3]^f[c-8]^f[c-14]^f[c-16],r=r<<1|r>>>31,f[c]=r,l=o^s^a,r=(n<<5|n>>>27)+l+u+1859775393+r,u=a,a=s,s=o<<30|o>>>2,o=n,n=r;for(;c<40;++c)r=f[c-6]^f[c-16]^f[c-28]^f[c-32],r=r<<2|r>>>30,f[c]=r,l=o^s^a,r=(n<<5|n>>>27)+l+u+1859775393+r,u=a,a=s,s=o<<30|o>>>2,o=n,n=r;for(;c<60;++c)r=f[c-6]^f[c-16]^f[c-28]^f[c-32],r=r<<2|r>>>30,f[c]=r,l=o&s|a&(o^s),r=(n<<5|n>>>27)+l+u+2400959708+r,u=a,a=s,s=o<<30|o>>>2,o=n,n=r;for(;c<80;++c)r=f[c-6]^f[c-16]^f[c-28]^f[c-32],r=r<<2|r>>>30,f[c]=r,l=o^s^a,r=(n<<5|n>>>27)+l+u+3395469782+r,u=a,a=s,s=o<<30|o>>>2,o=n,n=r;e.h0=e.h0+n|0,e.h1=e.h1+o|0,e.h2=e.h2+s|0,e.h3=e.h3+a|0,e.h4=e.h4+u|0,p-=64}return e},i._createState=function(){var e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520};return e.copy=function(){var t=i._createState();return t.h0=e.h0,t.h1=e.h1,t.h2=e.h2,t.h3=e.h3,t.h4=e.h4,t},e.write=function(t){t.putInt32(e.h0),t.putInt32(e.h1),t.putInt32(e.h2),t.putInt32(e.h3),t.putInt32(e.h4)},e};var o={_k:null,_w:null};o.Algorithm=function(){this.name="sha256",this.blockSize=64,this.digestLength=32,this.messageLengthSize=8},o.Algorithm.prototype.start=function(){return o._k||o._init(),o._createState()},o.Algorithm.prototype.writeMessageLength=function(e,t){e.putBytes(t.bytes())},o.Algorithm.prototype.digest=function(e,t){for(var r,n,i,s,a,u,l,c,p,f,d,h,v,g,m,y=t.length(),b=o._k,E=o._w;y>=64;){for(l=0;l<16;++l)E[l]=t.getInt32();for(;l<64;++l)r=E[l-2],r=(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,n=E[l-15],n=(n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3,E[l]=r+E[l-7]+n+E[l-16]|0;for(c=e.h0,p=e.h1,f=e.h2,d=e.h3,h=e.h4,v=e.h5,g=e.h6,m=e.h7,l=0;l<64;++l)s=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7),a=g^h&(v^g),i=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),u=c&p|f&(c^p),r=m+s+a+b[l]+E[l],n=i+u,m=g,g=v,v=h,h=d+r|0,d=f,f=p,p=c,c=r+n|0;e.h0=e.h0+c|0,e.h1=e.h1+p|0,e.h2=e.h2+f|0,e.h3=e.h3+d|0,e.h4=e.h4+h|0,e.h5=e.h5+v|0,e.h6=e.h6+g|0,e.h7=e.h7+m|0,y-=64}return e},o._createState=function(){var e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225};return e.copy=function(){var t=o._createState();return t.h0=e.h0,t.h1=e.h1,t.h2=e.h2,t.h3=e.h3,t.h4=e.h4,t.h5=e.h5,t.h6=e.h6,t.h7=e.h7,t},e.write=function(t){t.putInt32(e.h0),t.putInt32(e.h1),t.putInt32(e.h2),t.putInt32(e.h3),t.putInt32(e.h4),t.putInt32(e.h5),t.putInt32(e.h6),t.putInt32(e.h7)},e},o._init=function(){o._k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o._w=new Array(64)}}(l),!he)var je=function(){he=r(37).XMLSerializer};if(e.url={},e.url.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},e.url.parse=function(t,r){for(var n={},i=e.url.parsers[r||"full"],o=i.regex.exec(t),s=i.keys.length;s--;)n[i.keys[s]]=void 0===o[s]?null:o[s];return n.normalizedPath=le(n.path,!!n.authority),n},l?e.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&e.useDocumentLoader("xhr"),l){e.use=function(t){switch(t){case"request":e.request=r(37);break;default:throw new _e("Unknown extension.","jsonld.UnknownExtension",{extension:t})}};var Me={exports:{},filename:s};r(37)(Me,"version"),e.version=Me.exports.version}return e},f=function(){return p(function(){return f()})};!l&&r(468)?(a=[],void 0!==(u=function(){return p(f),f}.apply(t,a))&&(e.exports=u)):(p(f),void 0!==e&&e.exports&&(e.exports=f),c&&("undefined"==typeof jsonld?jsonld=jsonldjs=f:jsonldjs=f))}()}).call(t,r(19),r(10),r(84).setImmediate,"/")},function(e,t,r){"use strict";function n(e){return null==e?void 0===e?u:a:l&&l in Object(e)?r.i(o.a)(e):r.i(s.a)(e)}var i=r(183),o=r(375),s=r(376),a="[object Null]",u="[object Undefined]",l=i.a?i.a.toStringTag:void 0;t.a=n},function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(t,r(10))},function(e,t,r){"use strict";var n=r(377),i=r.i(n.a)(Object.getPrototypeOf,Object);t.a=i},function(e,t,r){"use strict";function n(e){var t=s.call(e,u),r=e[u];try{e[u]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[u]=r:delete e[u]),i}var i=r(183),o=Object.prototype,s=o.hasOwnProperty,a=o.toString,u=i.a?i.a.toStringTag:void 0;t.a=n},function(e,t,r){"use strict";function n(e){return o.call(e)}var i=Object.prototype,o=i.toString;t.a=n},function(e,t,r){"use strict";function n(e,t){return function(r){return e(t(r))}}t.a=n},function(e,t,r){"use strict";var n=r(373),i="object"==typeof self&&self&&self.Object===Object&&self,o=n.a||i||Function("return this")();t.a=o},function(e,t,r){"use strict";function n(e){return null!=e&&"object"==typeof e}t.a=n},function(e,t,r){function n(e,t){return null==t?e:i(t,o(t),e)}var i=r(381),o=r(187);e.exports=n},function(e,t){function r(e,t,r){r||(r={});for(var n=-1,i=t.length;++n<i;){var o=t[n];r[o]=e[o]}return r}e.exports=r},function(e,t){var r=function(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===r(o[u],u,o))break}return t}}();e.exports=r},function(e,t){function r(e,t,r){if("function"!=typeof e)return n;if(void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,o){return e.call(t,r,n,i,o)};case 5:return function(r,n,i,o,s){return e.call(t,r,n,i,o,s)}}return function(){return e.apply(t,arguments)}}function n(e){return e}e.exports=r},function(e,t,r){function n(e){return s(function(t,r){var n=-1,s=null==t?0:r.length,a=s>2?r[s-2]:void 0,u=s>2?r[2]:void 0,l=s>1?r[s-1]:void 0;for("function"==typeof a?(a=i(a,l,5),s-=2):(a="function"==typeof l?l:void 0,s-=a?1:0),u&&o(r[0],r[1],u)&&(a=s<3?void 0:a,s=1);++n<s;){var c=r[n];c&&e(t,c,a)}return t})}var i=r(383),o=r(386),s=r(391);e.exports=n},function(e,t){function r(e){return!!e&&"object"==typeof e}function n(e,t){var r=null==e?void 0:e[t];return s(r)?r:void 0}function i(e){return o(e)&&f.call(e)==a}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return null!=e&&(i(e)?d.test(c.call(e)):r(e)&&u.test(e))}var a="[object Function]",u=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,p=l.hasOwnProperty,f=l.toString,d=RegExp("^"+c.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,t){function r(e){return null!=e&&o(l(e))}function n(e,t){return e="number"==typeof e||a.test(e)?+e:-1,t=null==t?u:t,e>-1&&e%1==0&&e<t}function i(e,t,i){if(!s(i))return!1;var o=typeof t;if("number"==o?r(i)&&n(t,i.length):"string"==o&&t in i){var a=i[t];return e===e?e===a:a!==a}return!1}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var a=/^\d+$/,u=9007199254740991,l=function(e){return function(t){return null==t?void 0:t[e]}}("length");e.exports=i},function(e,t,r){(function(t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function n(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););return e}function i(e,t){return!!(e?e.length:0)&&s(e,t,0)>-1}function o(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function s(e,t,r){if(t!==t)return o(e,a,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function a(e){return e!==e}function u(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&n++;return n}function l(e,t){return null==e?void 0:e[t]}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function p(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==q||(e[r]=q,o[i++]=r)}return o}function f(e){return D(e)?Re(e):{}}function d(e){return!(!D(e)||L(e))&&(P(e)||c(e)?Le:ve).test(_(e))}function h(e,t,r,n){for(var i=-1,o=e.length,s=r.length,a=-1,u=t.length,l=_e(o-s,0),c=Array(u+l),p=!n;++a<u;)c[a]=t[a];for(;++i<s;)(p||i<o)&&(c[r[i]]=e[i]);for(;l--;)c[a++]=e[i++];return c}function v(e,t,r,n){for(var i=-1,o=e.length,s=-1,a=r.length,u=-1,l=t.length,c=_e(o-a,0),p=Array(c+l),f=!n;++i<c;)p[i]=e[i];for(var d=i;++u<l;)p[d+u]=t[u];for(;++s<a;)(f||i<o)&&(p[d+r[s]]=e[i++]);return p}function g(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function m(e,t,r){function n(){return(this&&this!==xe&&this instanceof n?o:e).apply(i?r:this,arguments)}var i=t&V,o=y(e);return n}function y(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=f(e.prototype),n=e.apply(r,t);return D(n)?n:r}}function b(e,t,n){function i(){for(var s=arguments.length,a=Array(s),u=s,l=I(i);u--;)a[u]=arguments[u];var c=s<3&&a[0]!==l&&a[s-1]!==l?[]:p(a,l);return(s-=c.length)<n?S(e,t,E,i.placeholder,void 0,a,c,void 0,void 0,n-s):r(this&&this!==xe&&this instanceof i?o:e,this,a)}var o=y(e);return i}function E(e,t,r,n,i,o,s,a,l,c){function f(){for(var w=arguments.length,C=Array(w),A=w;A--;)C[A]=arguments[A];if(b)var N=I(f),L=u(C,N);if(n&&(C=h(C,n,i,b)),o&&(C=v(C,o,s,b)),w-=L,b&&w<c){var _=p(C,N);return S(e,t,E,f.placeholder,r,C,_,a,l,c-w)}var k=g?r:this,O=m?k[e]:e;return w=C.length,a?C=R(C,a):x&&w>1&&C.reverse(),d&&l<w&&(C.length=l),this&&this!==xe&&this instanceof f&&(O=T||y(O)),O.apply(k,C)}var d=t&J,g=t&V,m=t&Q,b=t&(z|X),x=t&Z,T=m?void 0:y(e);return f}function x(e,t,n,i){function o(){for(var t=-1,u=arguments.length,l=-1,c=i.length,p=Array(c+u),f=this&&this!==xe&&this instanceof o?a:e;++l<c;)p[l]=i[l];for(;u--;)p[l++]=arguments[++t];return r(f,s?n:this,p)}var s=t&V,a=y(e);return o}function S(e,t,r,n,i,o,s,a,u,l){var c=t&z,p=c?s:void 0,f=c?void 0:s,d=c?o:void 0,h=c?void 0:o;t|=c?Y:K,(t&=~(c?K:Y))&W||(t&=~(V|Q));var v=r(e,t,i,d,p,h,f,a,u,l);return v.placeholder=n,Pe(v,e,t)}function T(e,t,r,n,i,o,s,a){var u=t&Q;if(!u&&"function"!=typeof e)throw new TypeError(H);var l=n?n.length:0;if(l||(t&=~(Y|K),n=i=void 0),s=void 0===s?s:_e($(s),0),a=void 0===a?a:$(a),l-=i?i.length:0,t&K){var c=n,p=i;n=i=void 0}var f=[e,t,r,n,i,c,p,o,s,a];if(e=f[0],t=f[1],r=f[2],n=f[3],i=f[4],a=f[9]=null==f[9]?u?0:e.length:_e(f[9]-l,0),!a&&t&(z|X)&&(t&=~(z|X)),t&&t!=V)d=t==z||t==X?b(e,t,a):t!=Y&&t!=(V|Y)||i.length?E.apply(void 0,f):x(e,t,r,n);else var d=m(e,t,r);return Pe(d,e,t)}function I(e){return e.placeholder}function w(e,t){var r=l(e,t);return d(r)?r:void 0}function C(e){var t=e.match(pe);return t?t[1].split(fe):[]}function A(e,t){var r=t.length,n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}function N(e,t){return!!(t=null==t?te:t)&&("number"==typeof e||me.test(e))&&e>-1&&e%1==0&&e<t}function L(e){return!!we&&we in e}function R(e,t){for(var r=e.length,n=ke(t.length,r),i=g(e);n--;){var o=t[n];e[n]=N(o,r)?i[o]:void 0}return e}function _(e){if(null!=e){try{return Ce.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function k(e,t){return n(ie,function(r){var n="_."+r[0];t&r[1]&&!i(e,n)&&e.push(n)}),e.sort()}function O(e,t,r){t=r?void 0:t;var n=T(e,z,void 0,void 0,void 0,void 0,void 0,t);return n.placeholder=O.placeholder,n}function P(e){var t=D(e)?Ne.call(e):"";return t==oe||t==se}function D(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function F(e){return!!e&&"object"==typeof e}function j(e){return"symbol"==typeof e||F(e)&&Ne.call(e)==ae}function M(e){if(!e)return 0===e?e:0;if((e=B(e))===ee||e===-ee){return(e<0?-1:1)*re}return e===e?e:0}function $(e){var t=M(e),r=t%1;return t===t?r?t-r:t:0}function B(e){if("number"==typeof e)return e;if(j(e))return ne;if(D(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=D(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(le,"");var r=he.test(e);return r||ge.test(e)?ye(e.slice(2),r?2:8):de.test(e)?ne:+e}function U(e){return function(){return e}}function G(e){return e}var H="Expected a function",q="__lodash_placeholder__",V=1,Q=2,W=4,z=8,X=16,Y=32,K=64,J=128,Z=512,ee=1/0,te=9007199254740991,re=1.7976931348623157e308,ne=NaN,ie=[["ary",J],["bind",V],["bindKey",Q],["curry",z],["curryRight",X],["flip",Z],["partial",Y],["partialRight",K],["rearg",256]],oe="[object Function]",se="[object GeneratorFunction]",ae="[object Symbol]",ue=/[\\^$.*+?()[\]{}|]/g,le=/^\s+|\s+$/g,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pe=/\{\n\/\* \[wrapped with (.+)\] \*/,fe=/,? & /,de=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ye=parseInt,be="object"==typeof t&&t&&t.Object===Object&&t,Ee="object"==typeof self&&self&&self.Object===Object&&self,xe=be||Ee||Function("return this")(),Se=Function.prototype,Te=Object.prototype,Ie=xe["__core-js_shared__"],we=function(){var e=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ce=Se.toString,Ae=Te.hasOwnProperty,Ne=Te.toString,Le=RegExp("^"+Ce.call(Ae).replace(ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Re=Object.create,_e=Math.max,ke=Math.min,Oe=function(){var e=w(Object,"defineProperty"),t=w.name;return t&&t.length>2?e:void 0}(),Pe=Oe?function(e,t,r){var n=t+"";return Oe(e,"toString",{configurable:!0,enumerable:!1,value:U(A(n,k(C(n),r)))})}:G;O.placeholder={},e.exports=O}).call(t,r(10))},function(e,t){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=r},function(e,t,r){function n(e,t){return e="number"==typeof e||l.test(e)?+e:-1,t=null==t?f:t,e>-1&&e%1==0&&e<t}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){if(null==e)return[];o(e)||(e=Object(e));var t=e.length;t=t&&i(t)&&(u(e)||a(e))&&t||0;for(var r=e.constructor,s=-1,l="function"==typeof r&&r.prototype===e,c=Array(t),f=t>0;++s<t;)c[s]=s+"";for(var d in e)f&&n(d,t)||"constructor"==d&&(l||!p.call(e,d))||c.push(d);return c}var a=r(117),u=r(118),l=/^\d+$/,c=Object.prototype,p=c.hasOwnProperty,f=9007199254740991;e.exports=s},function(e,t,r){(function(e,r){function n(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function i(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function o(e){return function(t){return null==t?void 0:t[e]}}function s(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function a(e,t){return null==e?void 0:e[t]}function u(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function l(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function c(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function p(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function f(){this.__data__=Gt?Gt(null):{}}function d(e){return this.has(e)&&delete this.__data__[e]}function h(e){var t=this.__data__;if(Gt){var r=t[e];return r===Me?void 0:r}return Lt.call(t,e)?t[e]:void 0}function v(e){var t=this.__data__;return Gt?void 0!==t[e]:Lt.call(t,e)}function g(e,t){return this.__data__[e]=Gt&&void 0===t?Me:t,this}function m(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function y(){this.__data__=[]}function b(e){var t=this.__data__,r=$(t,e);return!(r<0)&&(r==t.length-1?t.pop():Dt.call(t,r,1),!0)}function E(e){var t=this.__data__,r=$(t,e);return r<0?void 0:t[r][1]}function x(e){return $(this.__data__,e)>-1}function S(e,t){var r=this.__data__,n=$(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}function T(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function I(){this.__data__={hash:new p,map:new(Mt||m),string:new p}}function w(e){return se(this,e).delete(e)}function C(e){return se(this,e).get(e)}function A(e){return se(this,e).has(e)}function N(e,t){return se(this,e).set(e,t),this}function L(e){var t=-1,r=e?e.length:0;for(this.__data__=new T;++t<r;)this.add(e[t])}function R(e){return this.__data__.set(e,Me),this}function _(e){return this.__data__.has(e)}function k(e){this.__data__=new m(e)}function O(){this.__data__=new m}function P(e){return this.__data__.delete(e)}function D(e){return this.__data__.get(e)}function F(e){return this.__data__.has(e)}function j(e,t){var r=this.__data__;if(r instanceof m){var n=r.__data__;if(!Mt||n.length<Fe-1)return n.push([e,t]),this;r=this.__data__=new T(n)}return r.set(e,t),this}function M(e,t){var r=tr(e)||Se(e)?s(e.length,String):[],n=r.length,i=!!n;for(var o in e)!t&&!Lt.call(e,o)||i&&("length"==o||ce(o,n))||r.push(o);return r}function $(e,t){for(var r=e.length;r--;)if(xe(e[r][0],t))return r;return-1}function B(e,t){return e&&Jt(e,t,Oe)}function U(e,t){t=pe(t,e)?[t]:re(t);for(var r=0,n=t.length;null!=e&&r<n;)e=e[me(t[r++])];return r&&r==n?e:void 0}function G(e){return Rt.call(e)}function H(e,t){return null!=e&&t in Object(e)}function q(e,t,r,n,i){return e===t||(null==e||null==t||!Ae(e)&&!Ne(t)?e!==e&&t!==t:V(e,t,q,r,n,i))}function V(e,t,r,n,i,o){var s=tr(e),a=tr(t),l=qe,c=qe;s||(l=Zt(e),l=l==He?Je:l),a||(c=Zt(t),c=c==He?Je:c);var p=l==Je&&!u(e),f=c==Je&&!u(t),d=l==c;if(d&&!p)return o||(o=new k),s||rr(e)?ne(e,t,r,n,i,o):ie(e,t,l,r,n,i,o);if(!(i&Be)){var h=p&&Lt.call(e,"__wrapped__"),v=f&&Lt.call(t,"__wrapped__");if(h||v){var g=h?e.value():e,m=v?t.value():t;return o||(o=new k),r(g,m,n,i,o)}}return!!d&&(o||(o=new k),oe(e,t,r,n,i,o))}function Q(e,t,r,n){var i=r.length,o=i,s=!n;if(null==e)return!o;for(e=Object(e);i--;){var a=r[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=r[i];var u=a[0],l=e[u],c=a[1];if(s&&a[2]){if(void 0===l&&!(u in e))return!1}else{var p=new k;if(n)var f=n(l,c,u,e,t,p);if(!(void 0===f?q(c,l,n,$e|Be,p):f))return!1}}return!0}function W(e){return!(!Ae(e)||de(e))&&(we(e)||u(e)?_t:pt).test(ye(e))}function z(e){return Ne(e)&&Ce(e.length)&&!!dt[Rt.call(e)]}function X(e){return"function"==typeof e?e:null==e?Pe:"object"==typeof e?tr(e)?Z(e[0],e[1]):J(e):De(e)}function Y(e){if(!he(e))return Ft(e);var t=[];for(var r in Object(e))Lt.call(e,r)&&"constructor"!=r&&t.push(r);return t}function K(e,t){var r=-1,n=Te(e)?Array(e.length):[];return Kt(e,function(e,i,o){n[++r]=t(e,i,o)}),n}function J(e){var t=ae(e);return 1==t.length&&t[0][2]?ge(t[0][0],t[0][1]):function(r){return r===e||Q(r,e,t)}}function Z(e,t){return pe(e)&&ve(t)?ge(me(e),t):function(r){var n=_e(r,e);return void 0===n&&n===t?ke(r,e):q(t,n,void 0,$e|Be)}}function ee(e){return function(t){return U(t,e)}}function te(e){if("string"==typeof e)return e;if(Le(e))return Yt?Yt.call(e):"";var t=e+"";return"0"==t&&1/e==-Ue?"-0":t}function re(e){return tr(e)?e:er(e)}function ne(e,t,r,n,o,s){var a=o&Be,u=e.length,l=t.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var p=-1,f=!0,d=o&$e?new L:void 0;for(s.set(e,t),s.set(t,e);++p<u;){var h=e[p],v=t[p];if(n)var g=a?n(v,h,p,t,e,s):n(h,v,p,e,t,s);if(void 0!==g){if(g)continue;f=!1;break}if(d){if(!i(t,function(e,t){if(!d.has(t)&&(h===e||r(h,e,n,o,s)))return d.add(t)})){f=!1;break}}else if(h!==v&&!r(h,v,n,o,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function ie(e,t,r,n,i,o,s){switch(r){case it:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case nt:return!(e.byteLength!=t.byteLength||!n(new Ot(e),new Ot(t)));case Ve:case Qe:case Ke:return xe(+e,+t);case We:return e.name==t.name&&e.message==t.message;case Ze:case tt:return e==t+"";case Ye:var a=l;case et:var u=o&Be;if(a||(a=c),e.size!=t.size&&!u)return!1;var p=s.get(e);if(p)return p==t;o|=$e,s.set(e,t);var f=ne(a(e),a(t),n,i,o,s);return s.delete(e),f;case rt:if(Xt)return Xt.call(e)==Xt.call(t)}return!1}function oe(e,t,r,n,i,o){var s=i&Be,a=Oe(e),u=a.length;if(u!=Oe(t).length&&!s)return!1;for(var l=u;l--;){var c=a[l];if(!(s?c in t:Lt.call(t,c)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var f=!0;o.set(e,t),o.set(t,e);for(var d=s;++l<u;){c=a[l];var h=e[c],v=t[c];if(n)var g=s?n(v,h,c,t,e,o):n(h,v,c,e,t,o);if(!(void 0===g?h===v||r(h,v,n,i,o):g)){f=!1;break}d||(d="constructor"==c)}if(f&&!d){var m=e.constructor,y=t.constructor;m!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y)&&(f=!1)}return o.delete(e),o.delete(t),f}function se(e,t){var r=e.__data__;return fe(t)?r["string"==typeof t?"string":"hash"]:r.map}function ae(e){for(var t=Oe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,ve(i)]}return t}function ue(e,t){var r=a(e,t);return W(r)?r:void 0}function le(e,t,r){t=pe(t,e)?[t]:re(t);for(var n,i=-1,o=t.length;++i<o;){var s=me(t[i]);if(!(n=null!=e&&r(e,s)))break;e=e[s]}if(n)return n;var o=e?e.length:0;return!!o&&Ce(o)&&ce(s,o)&&(tr(e)||Se(e))}function ce(e,t){return!!(t=null==t?Ge:t)&&("number"==typeof e||ft.test(e))&&e>-1&&e%1==0&&e<t}function pe(e,t){if(tr(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Le(e))||(st.test(e)||!ot.test(e)||null!=t&&e in Object(t))}function fe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function de(e){return!!At&&At in e}function he(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||wt)}function ve(e){return e===e&&!Ae(e)}function ge(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}function me(e){if("string"==typeof e||Le(e))return e;var t=e+"";return"0"==t&&1/e==-Ue?"-0":t}function ye(e){if(null!=e){try{return Nt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function be(e,t){return(tr(e)?n:K)(e,X(t,3))}function Ee(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(je);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(Ee.Cache||T),r}function xe(e,t){return e===t||e!==e&&t!==t}function Se(e){return Ie(e)&&Lt.call(e,"callee")&&(!Pt.call(e,"callee")||Rt.call(e)==He)}function Te(e){return null!=e&&Ce(e.length)&&!we(e)}function Ie(e){return Ne(e)&&Te(e)}function we(e){var t=Ae(e)?Rt.call(e):"";return t==ze||t==Xe}function Ce(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ge}function Ae(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ne(e){return!!e&&"object"==typeof e}function Le(e){return"symbol"==typeof e||Ne(e)&&Rt.call(e)==rt}function Re(e){return null==e?"":te(e)}function _e(e,t,r){var n=null==e?void 0:U(e,t);return void 0===n?r:n}function ke(e,t){return null!=e&&le(e,t,H)}function Oe(e){return Te(e)?M(e):Y(e)}function Pe(e){return e}function De(e){return pe(e)?o(me(e)):ee(e)}var Fe=200,je="Expected a function",Me="__lodash_hash_undefined__",$e=1,Be=2,Ue=1/0,Ge=9007199254740991,He="[object Arguments]",qe="[object Array]",Ve="[object Boolean]",Qe="[object Date]",We="[object Error]",ze="[object Function]",Xe="[object GeneratorFunction]",Ye="[object Map]",Ke="[object Number]",Je="[object Object]",Ze="[object RegExp]",et="[object Set]",tt="[object String]",rt="[object Symbol]",nt="[object ArrayBuffer]",it="[object DataView]",ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,st=/^\w*$/,at=/^\./,ut=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lt=/[\\^$.*+?()[\]{}|]/g,ct=/\\(\\)?/g,pt=/^\[object .+?Constructor\]$/,ft=/^(?:0|[1-9]\d*)$/,dt={};dt["[object Float32Array]"]=dt["[object Float64Array]"]=dt["[object Int8Array]"]=dt["[object Int16Array]"]=dt["[object Int32Array]"]=dt["[object Uint8Array]"]=dt["[object Uint8ClampedArray]"]=dt["[object Uint16Array]"]=dt["[object Uint32Array]"]=!0,dt[He]=dt[qe]=dt[nt]=dt[Ve]=dt[it]=dt[Qe]=dt[We]=dt[ze]=dt[Ye]=dt[Ke]=dt[Je]=dt[Ze]=dt[et]=dt[tt]=dt["[object WeakMap]"]=!1;var ht="object"==typeof e&&e&&e.Object===Object&&e,vt="object"==typeof self&&self&&self.Object===Object&&self,gt=ht||vt||Function("return this")(),mt="object"==typeof t&&t&&!t.nodeType&&t,yt=mt&&"object"==typeof r&&r&&!r.nodeType&&r,bt=yt&&yt.exports===mt,Et=bt&&ht.process,xt=function(){try{return Et&&Et.binding("util")}catch(e){}}(),St=xt&&xt.isTypedArray,Tt=Array.prototype,It=Function.prototype,wt=Object.prototype,Ct=gt["__core-js_shared__"],At=function(){var e=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Nt=It.toString,Lt=wt.hasOwnProperty,Rt=wt.toString,_t=RegExp("^"+Nt.call(Lt).replace(lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kt=gt.Symbol,Ot=gt.Uint8Array,Pt=wt.propertyIsEnumerable,Dt=Tt.splice,Ft=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),jt=ue(gt,"DataView"),Mt=ue(gt,"Map"),$t=ue(gt,"Promise"),Bt=ue(gt,"Set"),Ut=ue(gt,"WeakMap"),Gt=ue(Object,"create"),Ht=ye(jt),qt=ye(Mt),Vt=ye($t),Qt=ye(Bt),Wt=ye(Ut),zt=kt?kt.prototype:void 0,Xt=zt?zt.valueOf:void 0,Yt=zt?zt.toString:void 0;p.prototype.clear=f,p.prototype.delete=d,p.prototype.get=h,p.prototype.has=v,p.prototype.set=g,m.prototype.clear=y,m.prototype.delete=b,m.prototype.get=E,m.prototype.has=x,m.prototype.set=S,T.prototype.clear=I,T.prototype.delete=w,T.prototype.get=C,T.prototype.has=A,T.prototype.set=N,L.prototype.add=L.prototype.push=R,L.prototype.has=_,k.prototype.clear=O,k.prototype.delete=P,k.prototype.get=D,k.prototype.has=F,k.prototype.set=j;var Kt=function(e,t){return function(r,n){if(null==r)return r;if(!Te(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Object(r);(t?o--:++o<i)&&!1!==n(s[o],o,s););return r}}(B),Jt=function(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===r(o[u],u,o))break}return t}}(),Zt=G;(jt&&Zt(new jt(new ArrayBuffer(1)))!=it||Mt&&Zt(new Mt)!=Ye||$t&&"[object Promise]"!=Zt($t.resolve())||Bt&&Zt(new Bt)!=et||Ut&&"[object WeakMap]"!=Zt(new Ut))&&(Zt=function(e){var t=Rt.call(e),r=t==Je?e.constructor:void 0,n=r?ye(r):void 0;if(n)switch(n){case Ht:return it;case qt:return Ye;case Vt:return"[object Promise]";case Qt:return et;case Wt:return"[object WeakMap]"}return t});var er=Ee(function(e){e=Re(e);var t=[];return at.test(e)&&t.push(""),e.replace(ut,function(e,r,n,i){t.push(n?i.replace(ct,"$1"):r||e)}),t});Ee.Cache=T;var tr=Array.isArray,rr=St?function(e){return function(t){return e(t)}}(St):z;r.exports=be}).call(t,r(10),r(129)(e))},function(e,t){function r(e,t){if("function"!=typeof e)throw new TypeError(n);return t=i(void 0===t?e.length-1:+t||0,0),function(){for(var r=arguments,n=-1,o=i(r.length-t,0),s=Array(o);++n<o;)s[n]=r[t+n];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,r[0],s);case 2:return e.call(this,r[0],r[1],s)}var a=Array(t+1);for(n=-1;++n<t;)a[n]=r[n];return a[t]=s,e.apply(this,a)}}var n="Expected a function",i=Math.max;e.exports=r},function(e,t,r){var n,n;n=function(){};var t=e.exports={Lexer:n("./lib/N3Lexer"),Parser:n("./lib/N3Parser"),Writer:n("./lib/N3Writer"),Store:n("./lib/N3Store"),StreamParser:n("./lib/N3StreamParser"),StreamWriter:n("./lib/N3StreamWriter"),Util:n("./lib/N3Util")};Object.keys(t).forEach(function(e){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return delete t[e],t[e]=r(393)("./N3"+e)}})})},function(e,t,r){function n(e){return r(i(e))}function i(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./N3Lexer":119,"./N3Lexer.js":119,"./N3Parser":120,"./N3Parser.js":120,"./N3Store":188,"./N3Store.js":188,"./N3StreamParser":189,"./N3StreamParser.js":189,"./N3StreamWriter":190,"./N3StreamWriter.js":190,"./N3Util":121,"./N3Util.js":121,"./N3Writer":122,"./N3Writer.js":122};n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id=393},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(t,r){var n=t||x,i=(0,h.default)(r)?(0,c.default)(r):r||S;(0,f.default)((0,g.default)(n),"mapStateToTarget must be a Function. Instead received %s.",n),(0,f.default)((0,h.default)(i)||(0,g.default)(i),"mapDispatchToTarget must be a plain Object or a Function. Instead received %s.",i);var a=s(e.getState(),n,!1);(0,g.default)(a)&&(n=a,a=s(e.getState(),n));var l=i(e.dispatch);return function(t){return(0,f.default)((0,g.default)(t)||(0,y.default)(t),"The target parameter passed to connect must be a Function or a object."),o(t,a,l),e.subscribe(function(){var r=s(e.getState(),n);(0,u.default)(a,r)||(a=r,o(t,a,l))})}}}function o(e,t,r){(0,g.default)(e)?e(t,r):(0,E.default)(e,t,r)}function s(e,t){var r=arguments.length<=2||void 0===arguments[2]||arguments[2],n=t(e);return r?(0,f.default)((0,h.default)(n),"`mapStateToScope` must return an object. Instead received %s.",n):(0,f.default)((0,h.default)(n)||(0,g.default)(n),"`mapStateToScope` must return an object or a function. Instead received %s.",n),n}t.__esModule=!0,t.default=i;var a=r(397),u=n(a),l=r(398),c=n(l),p=r(181),f=n(p),d=r(186),h=n(d),v=r(185),g=n(v),m=r(388),y=n(m),b=r(191),E=n(b),x=function(){return{}},S=function(e){return{dispatch:e}}},function(e,t,r){"use strict";function n(e){return function(t){return function(t){return function(r){e.$evalAsync(t(r))}}}}t.__esModule=!0,t.default=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){var e=void 0,t=void 0,r=void 0,n=void 0,i=void 0;this.createStoreWith=function(s,a,u,c){(0,l.default)((0,E.default)(s)||I(s),"The reducer parameter passed to createStoreWith must be a Function or an Object. Instead received %s.",void 0===s?"undefined":o(s)),(0,l.default)(!u||(0,y.default)(u),"The storeEnhancers parameter passed to createStoreWith must be an Array. Instead received %s.",void 0===u?"undefined":o(u)),e=s,i=I(s),r=u,t=a||[],n=c},this.$get=function(o){var s=function(e){return w(e)?o.get(e):e},u=(0,S.default)(t,s),l=function(e){return w(e)?o.get(e):e},p=(0,S.default)(r,l);i&&function(){var t=function(t){return w(e[t])?o.get(e[t]):e[t]},r=function(e,r){var n;return(0,h.default)({},e,(n={},n[r]=t(r),n))},n=Object.keys(e).reduce(r,{});e=(0,c.combineReducers)(n)}();var d=p?c.compose.apply(void 0,p)(c.createStore):c.createStore;u.push((0,f.default)(o.get("$rootScope")));var v=n?c.applyMiddleware.apply(void 0,u)(d)(e,n):c.applyMiddleware.apply(void 0,u)(d)(e);return(0,h.default)({},v,{connect:(0,a.default)(v)})},this.$get.$inject=["$injector"]}t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=i;var s=r(394),a=n(s),u=r(181),l=n(u),c=r(127),p=r(395),f=n(p),d=r(191),h=n(d),v=r(387),g=n(v),m=r(118),y=n(m),b=r(185),E=n(b),x=r(390),S=n(x),T=(0,g.default)(function(e,t){return(void 0===t?"undefined":o(t))===e}),I=T("object"),w=T("string")},function(e,t,r){"use strict";function n(e,t){if(e===t)return!0;var r=Object.keys(e).filter(function(e){return"$$hashKey"!==e}),n=Object.keys(t).filter(function(e){return"$$hashKey"!==e});if(r.length!==n.length)return!1;for(var i=Object.prototype.hasOwnProperty,o=0;o<r.length;o++)if(!i.call(t,r[o])||e[r[o]]!==t[r[o]])return!1;return!0}t.__esModule=!0,t.default=n},function(e,t,r){"use strict";function n(e){return function(t){return(0,i.bindActionCreators)(e,t)}}t.__esModule=!0,t.default=n;var i=r(127)},function(e,t){},function(e,t,r){function n(e){var t="";return t+='<div class="form-group" ng-show="!$ctrl.noId"><label>ID</label><input class="form-control" type="text" ng-model="$ctrl.citable.id"></div><h4>Names</h4><div class="form-inline"><div class="form-group" ng-repeat="label in $ctrl.citable.labels"><button class="pull-right btn btn-xs" ng-click="$ctrl.removeLabel($index)"><span class="glyphicon glyphicon-remove"></span></button><label>Language</label><input class="form-control" style="width:4em;" type="text" ng-model="label.language"><label>Name</label><input class="form-control" type="text" ng-model="label.value"></div><button class="btn btn-xs" ng-click="$ctrl.addLabel()"><span class="glyphicon glyphicon-plus"></span></button></div><h4>Descriptions</h4><div class="form-inline"><div class="form-group" ng-repeat="descr in $ctrl.citable.descriptions"><button class="pull-right btn btn-xs" ng-click="$ctrl.removeDescription($index)"><span class="glyphicon glyphicon-remove"></span></button><label>Language</label><input class="form-control" style="width:4em;" type="text" ng-model="descr.language"><label>Description</label><textarea class="form-control" ng-model="descr.value"></textarea></div><button class="btn btn-xs" ng-click="$ctrl.addDescription()"><span class="glyphicon glyphicon-plus"></span></button></div><div class="form-group"><label>Homepage URL</label><input class="form-control" type="text" ng-model="$ctrl.citable.url"></div><div ng-if="!$ctrl.noRightsHolders"><h4>Rights holders</h4><div class="well" ng-repeat="rightsHolder in $ctrl.citable.rightsHolders"><button class="pull-right btn btn-xs btn-dange" ng-click="$ctrl.citable.rightsHolders.splice($index, 1)"><span class="glyphicon glyphicon-remove"></span></button><citable-editor citable="rightsHolder" no-rights-holders no-id="$ctrl.noRightsHolderIds"></citable-editor></div><button class="btn btn-xs" ng-click="$ctrl.addRightsHolder()"><span class="glyphicon glyphicon-plus"></span></button></div>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<a ng-if="$ctrl.citable.url &amp;&amp; !$ctrl.noLink" href="{{$ctrl.citable.url}}" title="{{$ctrl.citable.descriptions | prefLang}}">{{$ctrl.citable.labels | prefLang}}</a><span ng-if="!$ctrl.citable.url" title="{{$ctrl.citable.descriptions | prefLang}}">{{$ctrl.citable.labels | prefLang}}</span><span ng-repeat="rightsHolder in $ctrl.citable.rightsHolders"><span ng-if="$first">&nbsp;(</span><a ng-if="rightsHolder.url" href="{{rightsHolder.url}}" title="{{rightsHolder.descriptions | prefLang}}">{{rightsHolder.labels | prefLang}}</a><span ng-if="!rightsHolder.url" title="{{rightsHolder.descriptions | prefLang}}">{{rightsHolder.labels | prefLang}}</span><span ng-if="$middle">,&nbsp;</span><span ng-if="$last">)</span></span>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<div class="container"><h1>Fibra</h1><citable-editor citable="$ctrl.project" no-id></citable-editor><h4>Schemas</h4><div class="form-group"><div class="form-group"><label class="checkbox-inline" ng-repeat="schema in $ctrl.schemas"><input type="checkbox" ng-model="$ctrl.selectedSchemas[schema.id]"><citable citable="schema"></citable></label></div></div><h4>Authorities</h4><div class="form-group"><label class="checkbox-inline" ng-repeat="authority in $ctrl.authorities"><input type="checkbox" ng-model="$ctrl.selectedAuthorities[authority.id]"><citable citable="authority"></citable></label></div><h4>Archives</h4><div class="form-group"><label class="checkbox-inline" ng-repeat="archive in $ctrl.archives"><input type="checkbox" ng-model="$ctrl.selectedArchives[archive.id]"><citable citable="archive"></citable></label></div><button class="btn btn-success" ng-click="$ctrl.saveAndOpen()">Save and open</button><button class="btn btn-danger" ng-click="$ctrl.delete()">Delete</button><div ng-show="!details"><span class="glyphicon glyphicon-chevron-down" title="details" ng-click="details=true"></span></div><div ng-show="details"><span class="glyphicon glyphicon-chevron-up" title="details" ng-click="details=false"></span><div class="form-group"><label>Project ID</label><input class="form-control" type="text" ng-model="$ctrl.project.id"></div><div class="form-group"><label>Project storage</label><select class="form-control" ng-model="$ctrl.projectSource" ng-options="ps as ps.id for ps in $ctrl.projectSources" ng-change="$ctrl.onUpdatedProjectSource()"></select></div><div class="form-group"><label>Schema namespace</label><input class="form-control" type="text" ng-model="$ctrl.project.schemaNS"></div><div class="form-group"><label>Instance namespace</label><input class="form-control" type="text" ng-model="$ctrl.project.instanceNS"></div><div class="form-group"><label>Project Query Endpoint</label><input class="form-control" type="text" ng-model="$ctrl.project.endpoint"></div><div class="form-group"><label>Project Update Endpoint</label><input class="form-control" type="text" ng-model="$ctrl.project.updateEndpoint"></div><div class="form-group"><label>Project Graph Store Endpoint</label><input class="form-control" type="text" ng-model="$ctrl.project.graphStoreEndpoint"></div><div class="form-group"><label>Project Graph</label><input class="form-control" type="text" ng-model="$ctrl.project.graph"></div><div class="form-group"><label>Template</label><div class="radio" ng-repeat="template in $ctrl.primaryEndpointConfigurations"><label><input type="radio" name="selectedTemplate" ng-value="template" ng-model="$ctrl.selectedTemplate" ng-change="$ctrl.changeTemplate()"><citable citable="template"></citable></label></div></div><div class="form-group"><label>Autocompletion Query</label><yasqe content="$ctrl.project.autocompletionQuery" on-content-changed="$ctrl.project.autocompletionQuery=content"></yasqe></div><div class="form-group"><label>Item Query</label><yasqe content="$ctrl.project.itemQuery" on-content-changed="$ctrl.project.itemQuery=content"></yasqe></div><div class="form-group"><label>Delete Item Query</label><yasqe content="$ctrl.project.deleteItemQuery" on-content-changed="$ctrl.project.deleteItemQuery=content"></yasqe></div><div class="form-group"><label>Tree Query</label><yasqe content="$ctrl.project.treeQuery" on-content-changed="$ctrl.project.treeQuery=content"></yasqe></div><div class="form-group"><label>Class Query</label><yasqe content="$ctrl.project.classQuery" on-content-changed="$ctrl.project.classQuery=content"></yasqe></div><div class="form-group"><label>Property Query</label><yasqe content="$ctrl.project.propertyQuery" on-content-changed="$ctrl.project.propertyQuery=content"></yasqe></div></div></div>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<nav class="navbar navbar-default navbar-static-top palette-relevant" id="menu-bar" ng-class="{\'palette-offset\': $ctrl.paletteDisplay }"><div class="pull-left" id="type-bar"><explore-type></explore-type></div><div class="pull-left" id="menu-icons"><span class="btn-group"><button class="btn btn-xs" ng-init="eeMode = true" ng-click="eeMode = !eeMode"><span class="glyphicon glyphicon-piggy-bank" aria-hidden="true"></span></button></span><span class="btn-group"><button class="btn btn-xs" ng-init="linkMode = false" ng-click="linkMode = !linkMode" ng-class="{\'btn-primary\': linkMode}"><span class="glyphicon glyphicon-link" aria-hidden="true"></span></button></span><span class="btn-group"><button class="btn btn-xs disabled"><span class="glyphicon glyphicon-zoom-in" aria-hidden="true"></span></button><button class="btn btn-xs disabled"><span class="glyphicon glyphicon-zoom-out" aria-hidden="true"></span></button></span><span class="btn-group"><button class="btn btn-xs disabled"><span class="glyphicon glyphicon-upload" aria-hidden="true"></span></button><button class="btn btn-xs" ng-click="$ctrl.downloadRDF()"><span class="glyphicon glyphicon-download" aria-hidden="true"></span></button></span><span class="btn-group"><button class="btn btn-xs" ui-sref="configure({id:$ctrl.state.project.id,sourceId:$ctrl.currentProjectSource.id})"><span class="glyphicon glyphicon-cog"></span></button></span></div><div class="pull-right"><span class="glyphicon glyphicon-refresh fa-spin" ng-show="$ctrl.state.actionsRunning &gt; 0"></span></div></nav><div class="container-fluid main"><div class="row main no-gutter"><div class="col-md-12"><div class="col-md-12 palette-relevant" id="middle-column" ng-class="{\'palette-offset\': $ctrl.paletteDisplay }"><div id="enrichcontainer-outer" ng-class="{\'hide\': eeMode}">Enrich goes here</div><div id="explorecontainer-outer" ng-class="{\'hide\': !eeMode}"><explore link-mode="linkMode"></explore></div></div></div></div></div><div id="palette-container" ng-show="$ctrl.paletteDisplay" ng-class="{\'enrich\': !eeMode}"><palette></palette></div>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<uib-tabset><uib-tab ng-repeat="t in $ctrl.tableTypes" index="$index" heading="{{$ctrl.fibraService.getState().construct.displayTypes[$index] ? $ctrl.fibraService.getState().construct.displayTypes[$index].label : t }}"><div class="widthcontainer"><a ng-click="$ctrl.downloadcsv()">Download</a><table class="exploretable table table-striped" style="table-layout: fixed;"><tr><th>Label</th><th ng-repeat="p in $ctrl[t].properties" ng-click="$ctrl.removeFromProperties(p)">{{ p.label }}</th><th>Actions</th></tr><tr ng-repeat="item in $ctrl[t].items"><td ng-click="$ctrl.selectItem(item)">{{ item.label.value }}</td><td ng-repeat="p in $ctrl[t].properties" ng-if="item === $ctrl.editItem"><input type="text" ng-repeat="e in $ctrl.editItem.localProperties" ng-if="e.value == p.value &amp;&amp; e.values[0].value.termType === \'Literal\'" ng-model="e.values[0].value.value"><small ng-repeat="e in item.localProperties" ng-if="e.value == p.value &amp;&amp; e.values[0].value.termType !== \'Literal\'">{{e.values[0].value.label.value}}</small></td><td ng-repeat="p in $ctrl[t].properties" ng-click="$ctrl.selectItem(item)" ng-if="item !== $ctrl.editItem"><small ng-repeat="e in item.localProperties" ng-if="e.value == p.value"><p ng-repeat="i in e.values">{{i.value.label}}</p></small></td><td><a ng-click="$ctrl.hide(item)">Hide</a><a ng-click="$ctrl.verifyItem(item)" ng-if="!$ctrl.itemVerified(item)">&nbsp;Verify</a><a ng-click="$ctrl.delete(item)">&nbsp;Delete</a><a ng-click="$ctrl.saveItem($ctrl.editItem)" ng-if="item === $ctrl.editItem">&nbsp;Save</a></td></tr></table><div>Hidden Properties (click to show)<p ng-repeat="x in $ctrl.removedProperties" ng-click="$ctrl.addFromRemovedProperties(x)">{{ x }}</p></div></div></uib-tab></uib-tabset>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<div class="btn-group" uib-dropdown><button class="btn btn-primary btn-xs" id="single-button" type="button" uib-dropdown-toggle ng-disabled="disabled">{{ $ctrl.types.displayTypes[0] ? $ctrl.types.displayTypes[0].label : "Primary Nodes" }}&nbsp;<span class="caret"></span></button><ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button"><li role="menuitem" ng-repeat="type in $ctrl.types.types"><a ng-click="$ctrl.primaryClick(type)">{{type.label}} ({{type.instances}})</a></li></ul></div><div class="btn-group" uib-dropdown><button class="btn btn-primary btn-xs" id="single-button" type="button" uib-dropdown-toggle ng-disabled="!$ctrl.types.displayTypes[0] || $ctrl.types.length &lt; 2">{{ $ctrl.types.displayTypes[1] ? $ctrl.types.displayTypes[1].label : "Secondary Nodes" }}&nbsp;<span class="caret"></span></button><ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button"><li role="menuitem" ng-repeat="type in $ctrl.types.types"><a ng-click="$ctrl.secondaryClick(type)">{{type.label}} ({{type.instances}})</a></li></ul></div>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<div class="verify-container"><div class="verify-header">Verify<div class="verify-cancel pull-left" ng-click="$ctrl.clear()">X</div><span class="glyphicon glyphicon-refresh fa-spin form-control-feedback" ng-show="$ctrl.queryRunning"></span></div><div class="verify-input"><input type="text" placeholder="search term" ng-model="$ctrl.queryString"><button class="btn btn-sm btn-primary" ng-click="$ctrl.runQuery()">Search</button></div><div class="verify-content"><ul class="verify-result-group" ng-repeat="grp in $ctrl.matchingResults"><div class="verify-result-group-header">{{grp.label}}</div><div class="verify-result" ng-repeat="rslt in grp.results" ng-click="$ctrl.verify(rslt)"><button class="btn btn-sm" ng-click="$ctrl.verify(rslt)">Verify</button><span>{{ rslt.matchedLabel.value }}</span><span>{{ $ctrl.sourcesFromResult(rslt) }}</span></div></ul></div></div>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<div id="explorecontainer"><svg id="explore"></svg></div><div id="layout-choice"><label>Force<input type="radio" ng-model="layout.choice" value="force"></label><label>Force Grid<input type="radio" ng-model="layout.choice" value="forcegrid"></label></div><div id="link-options"><label>Show<input type="radio" ng-model="layout.links" value="show"></label><label>Hide<input type="radio" ng-model="layout.links" value="hide"></label></div><div id="tablecontainer"><explore-table primary-items="$ctrl.primaryItems" secondary-items="$ctrl.secondaryItems"></explore-table></div><div id="verifycontainer" ng-show="$ctrl.verify"><verify node="$ctrl.verify"></verify></div>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<svg class="palette-node-drag"></svg><div class="inner-palette-container" ng-class="{\'expanded\': $ctrl.expanded}"><div class="palette"></div><div class="palette-upload" ng-show="displayUpload"><upload on-upload="displayUpload=false"></upload></div><input class="palette-filter" type="text" placeholder="filter by label" ng-model="$ctrl.labelFilter" ng-change="$ctrl.update()"><span ng-click="$ctrl.createItemLocal($ctrl.labelFilter)"><span class="glyphicon glyphicon-plus inverse-icon"></span></span><span ng-default="displayUpload=false" ng-click="displayUpload = true"><span class="glyphicon glyphicon-upload inverse-icon"></span></span></div>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<div><div class="form-group"><label class="control-label" for="typeSelect">Type<button class="btn btn-sm pull-right" type="button" ng-show="$ctrl.showTypeCreate" ng-click="$ctrl.typeCreate($ctrl.typeQueryGS())">Create Type</button><input class="form-control label-input pull-right" type="text" ng-model="$ctrl.typeQueryGS" ng-model-options="{ getterSetter: true }" uib-typeahead="type.label for type in $ctrl.getTypes() | filter:$viewValue | limitTo:8" ng-change="$ctrl.typeEvaluate($ctrl.typeQueryGS())" typeahead-on-select="$ctrl.typeChange($item, $model, $label, $event)"></label></div><div class="form-group" ng-show="$ctrl.chosenType.id !== $ctrl.thingType"><label class="control-label" for="labelField">Label<input class="form-control label-input pull-right" type="text" ng-model="$ctrl.label" ng-blur="$ctrl.labelChange()"></label></div><div class="form-group"><a class="btn btn-sm" ng-click="$ctrl.deleteAndClose()">Cancel</a><a class="btn btn-sm" ng-click="$ctrl.closePopover()" ng-show="$ctrl.label!==\'\'">Save and close</a></div></div>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<div class="container"><h1>Fibra</h1><h2>Edit project template</h2><citable-editor citable="$ctrl.c"></citable-editor><div class="form-group"><label>Project storage</label><select class="form-control" ng-model="$ctrl.projectSource" ng-options="ps as ps.id for ps in $ctrl.projectSources"></select></div><h4>Compatible endpoints</h4><div class="form-group" ng-repeat="ce in $ctrl.c.compatibleEndpoints"><button class="pull-right btn btn-xs" ng-click="$ctrl.removeCompatibleEndpoint($index)"><span class="glyphicon glyphicon-remove"></span></button><label>endpoint IRI</label><input class="form-control" type="text" ng-model="$ctrl.c.compatibleEndpoints[$index]"></div><button class="btn btn-xs" ng-click="$ctrl.addCompatibleEndpoint()"><span class="glyphicon glyphicon-plus"></span></button><div class="form-group"><label>Autocompletion query template</label><yasqe content="$ctrl.c.autocompletionQuery" on-content-changed="$ctrl.c.autocompletionQuery = content"></yasqe></div><div class="form-group"><label>Item query template</label><yasqe content="$ctrl.c.itemQuery" on-content-changed="$ctrl.c.itemQuery = content"></yasqe></div><div class="form-group"><label>Item deletion query template</label><yasqe content="$ctrl.c.deleteItemQuery" on-content-changed="$ctrl.c.deleteItemQuery = content"></yasqe></div><div class="form-group"><label>Tree query template</label><yasqe content="$ctrl.c.treeQuery" on-content-changed="$ctrl.c.treeQuery = content"></yasqe></div><div class="form-group"><label>Class query template</label><yasqe content="$ctrl.c.classQuery" on-content-changed="$ctrl.c.classQuery = content"></yasqe></div><div class="form-group"><label>Property query template</label><yasqe content="$ctrl.c.propertyQuery" on-content-changed="$ctrl.c.propertyQuery = content"></yasqe></div><button class="btn btn-success" ng-click="$ctrl.save()" ng-disabled="$ctrl.disabled">Save to endpoint</button></div>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<div class="container"><h1>Fibra</h1><h2>Edit remote configuration</h2><citable-editor citable="$ctrl.c"></citable-editor><h4>Endpoint types</h4><div class="form-inline"><div class="form-group" ng-repeat="type in $ctrl.c.types track by $index"><button class="pull-right btn btn-xs" ng-click="$ctrl.removeType($index)"><span class="glyphicon glyphicon-remove"></span></button><select ng-model="type.id"><option value="http://hdlab.stanford.edu/fibra/ontology#AuthorityEndpointConfiguration">Authority</option><option value="http://hdlab.stanford.edu/fibra/ontology#ArchiveEndpointConfiguration">Archive</option></select></div><button class="btn btn-xs" ng-click="$ctrl.addType()"><span class="glyphicon glyphicon-plus"></span></button></div><div class="form-group"><label>Project storage</label><select class="form-control" ng-model="$ctrl.projectSource" ng-options="ps as ps.id for ps in $ctrl.projectSources"></select></div><div class="form-group"><label>Autocompletion query template</label><yasqe content="$ctrl.c.autocompletionQuery" on-content-changed="$ctrl.c.autocompletionQuery = content"></yasqe></div><div class="form-group"><label>Item query template</label><yasqe content="$ctrl.c.itemQuery" on-content-changed="$ctrl.c.itemQuery = content"></yasqe></div><div class="form-group"><label>Tree query template</label><yasqe content="$ctrl.c.treeQuery" on-content-changed="$ctrl.c.treeQuery = content"></yasqe></div><button class="btn btn-success" ng-click="$ctrl.save()" ng-disabled="$ctrl.disabled">Save to endpoint</button></div>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<div class="container"><h1>Fibra</h1><h2>Edit schema</h2><citable-editor citable="$ctrl.c"></citable-editor><div class="form-group"><label>Project storage</label><select class="form-control" ng-model="$ctrl.projectSource" ng-options="ps as ps.id for ps in $ctrl.projectSources"></select></div><div class="form group"><label>schema endpoint</label><input class="form-control" type="text" ng-model="$ctrl.c.endpoint"></div><div class="form-group"><label>Class query template</label><yasqe content="$ctrl.c.classQuery" on-content-changed="$ctrl.c.classQuery = content"></yasqe></div><div class="form-group"><label>Property query template</label><yasqe content="$ctrl.c.propertyQuery" on-content-changed="$ctrl.c.propertyQuery = content"></yasqe></div><button class="btn btn-success" ng-click="$ctrl.save()" ng-disabled="$ctrl.disabled">Save to endpoint</button><button class="btn btn-danger" ng-click="$ctrl.delete()" ng-disabled="$ctrl.disabled">Delete</button></div>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<div class="container"><h1>Fibra</h1><h2>Projects</h2><ul><li ng-repeat="c in $ctrl.projects"><a ui-sref="configure({sourceId:$ctrl.source.id,id:c.id})">{{c.labels | prefLang}}</a></li></ul><h2>Schemas</h2><ul><li ng-repeat="c in $ctrl.schemas"><a ui-sref="editSchema({sourceId:$ctrl.source.id,id:c.id})">{{c.labels | prefLang}}</a></li></ul><h2>Primary endpoint configurations</h2><ul><li ng-repeat="c in $ctrl.primaryEndpointConfigurations"><a ui-sref="editPrimaryEndpointConfiguration({sourceId:$ctrl.source.id,id:c.id})">{{c.labels | prefLang}}</a></li></ul><h2>Archive endpoints</h2><ul><li ng-repeat="c in $ctrl.archiveEndpoints"><a ui-sref="editRemoteEndpointConfiguration({sourceId:$ctrl.source.id,id:c.id})">{{c.labels | prefLang}}</a></li></ul><h2>Authority endpoints</h2><ul><li ng-repeat="c in $ctrl.authorityEndpoints"><a ui-sref="editRemoteEndpointConfiguration({sourceId:$ctrl.source.id,id:c.id})">{{c.labels | prefLang}}</a></li></ul><a ui-sref="projectSources()">Back to project sources</a></div>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<div class="container"><h1>Fibra</h1><h2>Your project sources</h2><div class="well" ng-repeat="source in $ctrl.projectSources"><div class="pull-right"><button class="btn btn-xs btn-danger" ng-click="$ctrl.deleteProjectSource($index)"><span class="glyphicon glyphicon-remove"></span></button></div><div class="form-group"><label>Name</label><input class="form-control" type="text" ng-model="source.id"></div><div class="form-group"><label>SPARQL query endpoint address</label><input class="form-control" type="text" ng-model="source.sparqlEndpoint"></div><div class="form-group"><label>SPARQL update endpoint address</label><input class="form-control" type="text" ng-model="source.updateEndpoint"></div><div class="form-group"><label>SPARQL graph store protocol endpoint address</label><input class="form-control" type="text" ng-model="source.graphStoreEndpoint"></div><div class="form-group"><label>Graph</label><input class="form-control" type="text" ng-model="source.graph"></div><div class="form-group"><label>Type IRI</label><input class="form-control" type="text" ng-model="source.type"></div><button class="btn btn-xs" ui-sref="projectSourceConfigurations({sourceId:source.id})" title="Examine project source configurations"><span class="glyphicon glyphicon-cog"></span></button></div><button class="btn btn-success" ng-click="$ctrl.addNewProjectSource()">Add new</button><a ui-sref="projects()">Back to projects</a></div>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<div class="container"><h1>Fibra</h1><h2>Your projects</h2><div ng-repeat="(id,projectSource) in $ctrl.projectSources track by $index"><h3>{{id}}&nbsp;<span class="glyphicon glyphicon-refresh fa-spin" ng-if="$ctrl.projectSourceState[id]==\'loading\'"></span></h3><div class="alert alert-danger" ng-if="$ctrl.projectSourceState[id]==\'error\'">Error loading: {{projects}}</div><ul><li ng-if="$ctrl.projectSourceState[id]==\'ready\'" ng-repeat="project in $ctrl.projects[id] track by $index"><a ui-sref="construct({id:project.id,sparqlEndpoint:project.source.sparqlEndpoint,graph:project.source.graph})"><citable citable="project" no-link></citable></a>\x3c!-- button.btn.btn-xs.btn-danger(ng-click="$ctrl.deleteProject(id, $index, project)"): span.glyphicon.glyphicon-remove--\x3e</li><li><a ui-sref="configure({sourceId:id})">new project</a></li></ul></div><button class="btn btn-xs" ui-sref="projectSources()" title="Configure project sources"><span class="glyphicon glyphicon-cog"></span></button></div>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<script type="text/ng-template" id="type-pill.html"><div class="checkbox"><label><input type="checkbox" ng-model="node.selected" ng-change="$ctrl.onSelect({treeNode:node})">{{node.label}}</label><span class="pull-left">{{node.matchingInstances != node.matchingInstances ? node.matchingInstances+\'/\'+node.instances : node.instances}}</span></div><ul><li ng-repeat="node in node.children" ng-include="\'tree-pill.html\'" ng-class="{selected:node.selected}"></li></ul><\/script><ul><li ng-repeat="node in $ctrl.tree" ng-include="\'type-pill.html\'" ng-class="{selected:node.selected}"></li></ul>'}r(8);e.exports=n},function(e,t,r){function n(e){var t="";return t+='<div class="panel panel-default"><div class="panel-body"><h4>Upload data</h4><form class="form-horizontal"><div class="form-group"><label class="col-sm-2 control-label" for="upload-file">File</label><div class="col-sm-9 col-sm-offset-1"><input type="file" id="upload-file" onchange="angular.element(this).scope().registerFile(this)"></div></div><div class="form-group"><label class="col-sm-2 control-label" for="upload-class">Class</label><div class="col-sm-9 col-sm-offset-1"><select class="form-control" ng-model="$ctrl.classSelect"><option ng-repeat="type in $ctrl.types.types" value="{{type.id}}">{{ type.label }}</option><option value="">+ add class</option></select></div></div></form><div class="info">Fibra will assume that the first column of your CSV contains the labels of your entities and that all entities are unique</div><div class="info">If you are unsure about formatting, take a look at the documentation</div><div class="btn btn-primary" ng-click="$ctrl.uploadFile()">Upload to palette!</div></div></div>'}r(8);e.exports=n},function(e,t,r){(function(e,n){var i;!function(o){function s(e){throw new RangeError(k[e])}function a(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function u(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(_,"."),n+a(e.split("."),t).join(".")}function l(e){for(var t,r,n=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(r=e.charCodeAt(i++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--)):n.push(t);return n}function c(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=D(e>>>10&1023|55296),e=56320|1023&e),t+=D(e)}).join("")}function p(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:x}function f(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,r){var n=0;for(e=r?P(e/w):e>>1,e+=P(e/t);e>O*T>>1;n+=x)e=P(e/O);return P(n+(O+1)*e/(e+I))}function h(e){var t,r,n,i,o,a,u,l,f,h,v=[],g=e.length,m=0,y=A,b=C;for(r=e.lastIndexOf(N),r<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&s("not-basic"),v.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<g;){for(o=m,a=1,u=x;i>=g&&s("invalid-input"),l=p(e.charCodeAt(i++)),(l>=x||l>P((E-m)/a))&&s("overflow"),m+=l*a,f=u<=b?S:u>=b+T?T:u-b,!(l<f);u+=x)h=x-f,a>P(E/h)&&s("overflow"),a*=h;t=v.length+1,b=d(m-o,t,0==o),P(m/t)>E-y&&s("overflow"),y+=P(m/t),m%=t,v.splice(m++,0,y)}return c(v)}function v(e){var t,r,n,i,o,a,u,c,p,h,v,g,m,y,b,I=[];for(e=l(e),g=e.length,t=A,r=0,o=C,a=0;a<g;++a)(v=e[a])<128&&I.push(D(v));for(n=i=I.length,i&&I.push(N);n<g;){for(u=E,a=0;a<g;++a)(v=e[a])>=t&&v<u&&(u=v);for(m=n+1,u-t>P((E-r)/m)&&s("overflow"),r+=(u-t)*m,t=u,a=0;a<g;++a)if(v=e[a],v<t&&++r>E&&s("overflow"),v==t){for(c=r,p=x;h=p<=o?S:p>=o+T?T:p-o,!(c<h);p+=x)b=c-h,y=x-h,I.push(D(f(h+b%y,0))),c=P(b/y);I.push(D(f(c,0))),o=d(r,m,n==i),r=0,++n}++r,++t}return I.join("")}function g(e){return u(e,function(e){return L.test(e)?h(e.slice(4).toLowerCase()):e})}function m(e){return u(e,function(e){return R.test(e)?"xn--"+v(e):e})}var y=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof n&&n);var b,E=2147483647,x=36,S=1,T=26,I=38,w=700,C=72,A=128,N="-",L=/^xn--/,R=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=x-S,P=Math.floor,D=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:l,encode:c},decode:h,encode:v,toASCII:m,toUnicode:g},void 0!==(i=function(){return b}.call(t,r,t,e))&&(e.exports=i)}()}).call(t,r(129)(e),r(10))},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var p,f,d,h,v=e[c].replace(a,"%20"),g=v.indexOf(r);g>=0?(p=v.substr(0,g),f=v.substr(g+1)):(p=v,f=""),d=decodeURIComponent(p),h=decodeURIComponent(f),n(s,d)?i(s[d])?s[d].push(h):s[d]=[s[d],h]:s[d]=h}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?n(s(e),function(s){var a=encodeURIComponent(i(s))+r;return o(e[s])?n(e[s],function(e){return a+encodeURIComponent(i(e))}).join(t):a+encodeURIComponent(i(e[s]))}).join(t):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";t.decode=t.parse=r(419),t.encode=t.stringify=r(420)},function(e,t,r){var n=r(7),i=r(7),o=(r(83).QuadIndex,r(83).Pattern),s=r(125),a=r(123).AbstractQueryTree;Callbacks={},Callbacks.ANYTHING={token:"var",value:"_"},Callbacks.added="added",Callbacks.deleted="deleted",Callbacks.eventsFlushed="eventsFlushed",Callbacks.CallbacksBackend=function(){this.aqt=new a,this.engine=arguments[0],this.indexMap={},this.observersMap={},this.queriesIndexMap={},this.emptyNotificationsMap={},this.queriesList=[],this.pendingQueries=[],this.matchedQueries=[],this.updateInProgress=null,this.indices=["SPOG","GP","OGS","POG","GSP","OS"],this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]},this.callbackCounter=0,this.callbacksMap={},this.callbacksInverseMap={},this.queryCounter=0,this.queriesMap={},this.queriesCallbacksMap={},this.queriesInverseMap={};for(var e=0;e<this.indices.length;e++){var t=this.indices[e];this.indexMap[t]={},this.queriesIndexMap[t]={}}},Callbacks.CallbacksBackend.prototype.startGraphModification=function(){!0!==this.ongoingModification&&(this.pendingQueries=[].concat(this.queriesList),this.matchedQueries=[],null==this.updateInProgress&&(this.updateInProgress={},this.updateInProgress[Callbacks.added]=[],this.updateInProgress[Callbacks.deleted]=[]))},Callbacks.CallbacksBackend.prototype.nextGraphModification=function(e,t){this.updateInProgress[e].push(t)},Callbacks.CallbacksBackend.prototype.endGraphModification=function(e){if(!0!==this.ongoingModification){var t=this;if(null!=this.updateInProgress){var r=t.updateInProgress;t.updateInProgress=null,this.sendNotification(Callbacks.deleted,r[Callbacks.deleted],function(){t.sendNotification(Callbacks.added,r[Callbacks.added],function(){t.sendEmptyNotification(Callbacks.eventsFlushed,null,function(){t.dispatchQueries(function(){e(!0)})})})})}else e(!0)}else e(!0)},Callbacks.CallbacksBackend.prototype.cancelGraphModification=function(){!0!==this.ongoingModification&&(this.updateInProgress=null)},Callbacks.CallbacksBackend.prototype.sendNotification=function(e,t,r){for(var n={},i=0;i<t.length;i++){var o=t[i];for(var s in this.indexMap){var a=this.indexMap[s],u=this.componentOrders[s];this._searchCallbacksInIndex(a,u,e,o,n),0!=this.pendingQueries.length&&(a=this.queriesIndexMap[s],this._searchQueriesInIndex(a,u,o))}}this.dispatchNotifications(n),null!=r&&r(!0)},Callbacks.CallbacksBackend.prototype.sendEmptyNotification=function(e,t,r){for(var n=this.emptyNotificationsMap[e]||[],i=0;i<n.length;i++)n[i](e,t);r()},Callbacks.CallbacksBackend.prototype.dispatchNotifications=function(e){for(var t in e){var r=this.callbacksMap[t],n=e[t][Callbacks.deleted];if(null!=n)try{r(Callbacks.deleted,n)}catch(e){}for(var i in e[t])if(i!=Callbacks.deleted)try{r(i,e[t][i])}catch(e){}}},Callbacks.CallbacksBackend.prototype._searchCallbacksInIndex=function(e,t,r,n,i){for(var o=n[1],n=n[0],s=0;s<t.length+1;s++){for(var a=e._||[],u=[],l=0;l<a.length;l++){var c=a[l];null!=this.callbacksMap[c]&&(i[c]=i[c]||{},i[c][r]=i[c][r]||[],i[c][r].push(n),u.push(c))}e._=u;var p=t[s];if(null==e[""+o[p]])break;e=e[""+o[p]]}},Callbacks.CallbacksBackend.prototype.subscribeEmpty=function(e,t){var r=this.emptyNotificationsMap[e]||[];r.push(t),this.emptyNotificationsMap[e]=r},Callbacks.CallbacksBackend.prototype.unsubscribeEmpty=function(e,t){var r=this.emptyNotificationsMap[e];null!=r&&(r=n.reject(r,function(e){return e===t})),this.emptyNotificationsMap[e]=r},Callbacks.CallbacksBackend.prototype.subscribe=function(e,t,r,n,i,s){var a=this._tokenizeComponents(e,t,r,n),u={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,u);var l=this;this.engine.normalizeQuad(a,u,!0,function(e){for(var t=new o(e),r=l._indexForPattern(t),n=l.componentOrders[r],a=l.indexMap[r],u=0;u<n.length;u++){var c=n[u],p=e[c];if("_"===p){null==a._&&(a._=[]),l.callbackCounter++,a._.push(l.callbackCounter),l.callbacksMap[l.callbackCounter]=i,l.callbacksInverseMap[i]=l.callbackCounter;break}u===n.length-1?(a[p]=a[p]||{_:[]},l.callbackCounter++,a[p]._.push(l.callbackCounter),l.callbacksMap[l.callbackCounter]=i,l.callbacksInverseMap[i]=l.callbackCounter):(a[p]=a[p]||{},a=a[p])}null!=s&&s(!0)})},Callbacks.CallbacksBackend.prototype.unsubscribe=function(e){var t=this.callbacksInverseMap[e];null!=t&&(delete this.callbacksInverseMap[e],delete this.callbacksMap[t])},Callbacks.CallbacksBackend.prototype._tokenizeComponents=function(e,t,r,n){var i={};return null==e?i.subject=Callbacks.ANYTHING:0==e.indexOf("_:")?i.subject={token:"blank",value:e}:i.subject={token:"uri",value:e},i.predicate=null==t?Callbacks.ANYTHING:{token:"uri",value:t},i.object=null==r?Callbacks.ANYTHING:{token:"uri",value:r},i.graph=null==n?Callbacks.ANYTHING:{token:"uri",value:n},i},Callbacks.CallbacksBackend.prototype._indexForPattern=function(e){for(var t=e.indexKey,r=this.indices,i=0;i<r.length;i++)for(var o=r[i],s=this.componentOrders[o],a=0;a<s.length&&!1!==n.include(t,s[a]);a++)if(a==t.length-1)return o;return"SPOG"},Callbacks.CallbacksBackend.prototype.observeNode=function(){var e,t,r,n;4===arguments.length?(e=arguments[0],t=arguments[1],r=arguments[2],n=arguments[3]):(e=arguments[0],t=this.engine.lexicon.defaultGraphUri,r=arguments[1],n=arguments[2]);var i="CONSTRUCT { <"+e+"> ?p ?o } WHERE { GRAPH <"+t+"> { <"+e+"> ?p ?o } }",o=this,a={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,a);var u=[];this.engine.execute(i,function(t,i){if(t)n&&n(!1);else{var l=i,c=!1,p=function(e,t){if("eventsFlushed"===e&&c){c=!1;try{r(l)}catch(e){}}else if("eventsFlushed"!==e){c=!0;for(var n=0;n<t.length;n++){var i=t[n],p=s.buildRDFResource(i.subject,u,o.engine,a),f=s.buildRDFResource(i.predicate,u,o.engine,a),d=s.buildRDFResource(i.object,u,o.engine,a);null!=p&&null!=f&&null!=d&&(i=new s.Triple(p,f,d),e===Callbacks.added?l.add(i):e===Callbacks.deleted&&l.remove(i))}}};o.observersMap[r]=p,o.subscribeEmpty(Callbacks.eventsFlushed,p),o.subscribe(e,null,null,null,p,function(){try{r(l)}catch(e){}n&&n(!0)})}})},Callbacks.CallbacksBackend.prototype.stopObservingNode=function(e){var t=this.observersMap[e];return!!t&&(this.unsubscribe(t),this.unsubscribeEmpty(Callbacks.eventsFlushed,t),!0)},Callbacks.CallbacksBackend.prototype.observeQuery=function(e,t,r){var n=this.aqt.parseQueryString(e),s=this.aqt.parseSelect(n.units[0]),a=this.aqt.collectBasicTriples(s),u=this,l={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,l);var c=this.queryCounter;this.queryCounter++,this.queriesMap[c]=e,this.queriesInverseMap[e]=c,this.queriesList.push(c),this.queriesCallbacksMap[c]=t,i.eachSeries(a,function(e,t){null==e.graph&&(e.graph=u.engine.lexicon.defaultGraphUriTerm),u.engine.normalizeQuad(e,l,!0,function(e){for(var r=new o(e),n=u._indexForPattern(r),i=u.componentOrders[n],s=u.queriesIndexMap[n],a=0;a<i.length;a++){var l=i[a],p=e[l];if("string"==typeof p){null==s._&&(s._=[]),s._.push(c);break}a===i.length-1?(s[p]=s[p]||{_:[]},s[p]._.push(c)):(s[p]=s[p]||{},s=s[p])}t()})},function(){u.engine.execute(e,function(e,r){e?console.log("ERROR in query callback "+r):t(r)}),null!=r&&r()})},Callbacks.CallbacksBackend.prototype.stopObservingQuery=function(e){var t=this.queriesInverseMap[e];null!=t&&(delete this.queriesInverseMap[e],delete this.queriesMap[t],this.queriesList=n.reject(this.queriesList,function(e){return e===t}))},Callbacks.CallbacksBackend.prototype._searchQueriesInIndex=function(e,t,r){for(var i=r[1],r=r[0],o=0;o<t.length+1;o++){for(var s=e._||[],a=[],u=0;u<s.length;u++){var l=s[u];n.include(this.pendingQueries,l)&&(n.remove(this.pendingQueries,function(e){return e===l}),this.matchedQueries.push(l)),null!=this.queriesMap[l]&&a.push(l)}e._=a;var c=t[o];if(null==e[""+i[c]])break;e=e[""+i[c]]}},Callbacks.CallbacksBackend.prototype.dispatchQueries=function(e){var t,r,n=this,o={};i.eachSeries(this.matchedQueries,function(e,i){null==o[e]?(o[e]=!0,t=n.queriesMap[e],r=n.queriesCallbacksMap[e],n.engine.execute(t,function(e,t){if(!e)try{r(t)}catch(e){}i()})):i()},function(){e()})},Callbacks.CallbacksBackend.added=Callbacks.added,Callbacks.CallbacksBackend.deleted=Callbacks.deleted,Callbacks.CallbacksBackend.eventsFlushed=Callbacks.eventsFlushed,e.exports=Callbacks},function(e,t,r){var n=r(371),i=function(e,t,r){var i=null;n.normalize(e,{},function(e,n){if(e)r(e);else{var o=function(e){return"blank node"===e.type?{blank:e.value}:"IRI"===e.type?{token:"uri",value:e.value}:"literal"===e.type?null!=e.language?{literal:'"'+e.value+'"@'+e.language}:null!==e.datatype?{literal:'"'+e.value+'"^^<'+e.datatype+">"}:{literal:'"'+e.value+'"'}:void 0};i=[];for(var s in n)for(var a=n[s],u=0;u<a.length;u++){var l=a[u];!function(e,r,n){i.push({subject:o(e),predicate:o(r),object:o(n),graph:t})}(l.subject,l.predicate,l.object)}r(null,i)}})};t.JSONLDParser={};var o=t.JSONLDParser;o.parser={async:!0,parse:function(e,t,r,n){try{"string"==typeof e&&(e=JSON.parse(e)),i(e,t,n)}catch(e){n(e)}}},e.exports={JSONLDParser:o}},function(e,t,r){if(!r(7).isWorker()){var n=r(203),i=r(369),o=r(205);NetworkTransport={load:function(e,t,r,s){var a=null==s?3:s,u=o.parse(e,!0,!0),l={host:u.host,hostname:u.hostname,method:"GET",path:u.path,headers:{host:u.hostname,Accept:t}},c=null;"http:"===u.protocol?(l.port=u.port||80,c=n):"https:"===u.protocol&&(l.port=u.port||443,c=i);var p=c.request(l,function(e){var n=e.headers,i="";if("2"==(""+e.statusCode)[0])e.on("end",function(){r(null,{headers:n,data:i})}),e.on("data",function(e){i+=e});else if("3"==(""+e.statusCode)[0])if(0==a)r(new Error("Too many redirections"));else{var o=n.Location||n.location;null!=o?NetworkTransport.load(o,t,r,a-1):r(new Error("Redirection without location header"))}else r(new Error("HTTP error: "+e.statusCode))});p.on("error",r),p.end()}},e.exports={NetworkTransport:NetworkTransport}}},function(e,t){e.exports=function(){"use strict";function e(t,r,n,i){this.message=t,this.expected=r,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}function t(t,r){function n(e,t){return{type:"literal",text:e,ignoreCase:t}}function i(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function o(e){return{type:"other",description:e}}function s(e){var r,n=Kg[e];if(n)return n;for(r=e-1;!Kg[r];)r--;for(n=Kg[r],n={line:n.line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return Kg[e]=n,n}function a(e,t){var r=s(e),n=s(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function u(e){Xg<Jg||(Xg>Jg&&(Jg=Xg,Zg=[]),Zg.push(e))}function l(t,r,n){return new e(e.buildMessage(t,r),t,r,n)}function c(){return p()}function p(){var e;return e=f(),e===Sr&&(e=U()),e}function f(){var e;return em++,e=d(),em--,e===Sr&&(Sr,0===em&&u(wr)),e}function d(){var e,t,r,n;return em++,e=Xg,t=h(),t!==Sr?(r=m(),r===Sr&&(r=E())===Sr&&(r=x())===Sr&&(r=S()),r!==Sr?(n=B(),n!==Sr?(Yg=e,t=Ar(t,r,n),e=t):(Xg=e,e=Sr)):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(t=Sr,0===em&&u(Cr)),e}function h(){var e,t,r,n,i;if(em++,e=Xg,t=v(),t===Sr&&(t=null),t!==Sr){for(r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr){for(n=[],i=g();i!==Sr;)n.push(i),i=g();n!==Sr?(Yg=e,t=Lr(t,n),e=t):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(t=Sr,0===em&&u(Nr)),e}function v(){var e,r,n,i,o;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(t.substr(Xg,4)===_r?(n=_r,Xg+=4):(n=Sr,0===em&&u(kr)),n===Sr&&(t.substr(Xg,4)===Or?(n=Or,Xg+=4):(n=Sr,0===em&&u(Pr))),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();i!==Sr?(o=$t(),o!==Sr?(Yg=e,r=Dr(o),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Rr)),e}function g(){var e,r,n,i,o,s,a;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(t.substr(Xg,6)===jr?(n=jr,Xg+=6):(n=Sr,0===em&&u(Mr)),n===Sr&&(t.substr(Xg,6)===$r?(n=$r,Xg+=6):(n=Sr,0===em&&u(Br))),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if((o=Bt())!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();s!==Sr?(a=$t(),a!==Sr?(Yg=e,r=Ur(o,a),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Fr)),e}function m(){var e,t,r,n,i,o,s,a,l,c;if(em++,e=Xg,(t=b())!==Sr){for(r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr){for(n=[],i=T();i!==Sr;)n.push(i),i=T();if(n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if((o=A())!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr)if((a=N())!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();l!==Sr?(c=M(),c!==Sr?(Yg=e,t=Hr(t,n,o,a),e=t):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(t=Sr,0===em&&u(Gr)),e}function y(){var e,t,r,n;return em++,e=Xg,t=b(),t!==Sr?(r=A(),r!==Sr?(n=N(),n!==Sr?(Yg=e,t=Vr(t,r,n),e=t):(Xg=e,e=Sr)):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(t=Sr,0===em&&u(qr)),e}function b(){var e,r,n,i,o,s,a,l,c,p,f,d,h,v,g,m,y,b,E,x;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(t.substr(Xg,6)===Wr?(n=Wr,Xg+=6):(n=Sr,0===em&&u(zr)),n===Sr&&(t.substr(Xg,6)===Xr?(n=Xr,Xg+=6):(n=Sr,0===em&&u(Yr))),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if(t.substr(Xg,8)===Kr?(o=Kr,Xg+=8):(o=Sr,0===em&&u(Jr)),o===Sr&&(t.substr(Xg,8)===Zr?(o=Zr,Xg+=8):(o=Sr,0===em&&u(en))),o===Sr&&(t.substr(Xg,7)===tn?(o=tn,Xg+=7):(o=Sr,0===em&&u(rn)),o===Sr&&(t.substr(Xg,7)===nn?(o=nn,Xg+=7):(o=Sr,0===em&&u(on)))),o===Sr&&(o=null),o!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr){for(a=[],l=Xg,c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if((p=ct())!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();f!==Sr?(c=[c,p,f],l=c):(Xg=l,l=Sr)}else Xg=l,l=Sr;else Xg=l,l=Sr;if(l===Sr){for(l=Xg,c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if(40===t.charCodeAt(Xg)?(p=sn,Xg++):(p=Sr,0===em&&u(an)),p!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();if(f!==Sr)if((d=ft())!==Sr){for(h=[],v=ur();v!==Sr;)h.push(v),v=ur();if(h!==Sr)if(t.substr(Xg,2)===un?(v=un,Xg+=2):(v=Sr,0===em&&u(ln)),v===Sr&&(t.substr(Xg,2)===cn?(v=cn,Xg+=2):(v=Sr,0===em&&u(pn))),v!==Sr){for(g=[],m=ur();m!==Sr;)g.push(m),m=ur();if(g!==Sr)if((m=ct())!==Sr){for(y=[],b=ur();b!==Sr;)y.push(b),b=ur();if(y!==Sr)if(41===t.charCodeAt(Xg)?(b=fn,Xg++):(b=Sr,0===em&&u(dn)),b!==Sr){for(E=[],x=ur();x!==Sr;)E.push(x),x=ur();E!==Sr?(c=[c,p,f,d,h,v,g,m,y,b,E],l=c):(Xg=l,l=Sr)}else Xg=l,l=Sr;else Xg=l,l=Sr}else Xg=l,l=Sr;else Xg=l,l=Sr}else Xg=l,l=Sr;else Xg=l,l=Sr}else Xg=l,l=Sr;else Xg=l,l=Sr}else Xg=l,l=Sr;else Xg=l,l=Sr}if(l!==Sr)for(;l!==Sr;){for(a.push(l),l=Xg,c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if((p=ct())!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();f!==Sr?(c=[c,p,f],l=c):(Xg=l,l=Sr)}else Xg=l,l=Sr;else Xg=l,l=Sr;if(l===Sr){for(l=Xg,c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if(40===t.charCodeAt(Xg)?(p=sn,Xg++):(p=Sr,0===em&&u(an)),p!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();if(f!==Sr)if((d=ft())!==Sr){for(h=[],v=ur();v!==Sr;)h.push(v),v=ur();if(h!==Sr)if(t.substr(Xg,2)===un?(v=un,Xg+=2):(v=Sr,0===em&&u(ln)),v===Sr&&(t.substr(Xg,2)===cn?(v=cn,Xg+=2):(v=Sr,0===em&&u(pn))),v!==Sr){for(g=[],m=ur();m!==Sr;)g.push(m),m=ur();if(g!==Sr)if((m=ct())!==Sr){for(y=[],b=ur();b!==Sr;)y.push(b),b=ur();if(y!==Sr)if(41===t.charCodeAt(Xg)?(b=fn,Xg++):(b=Sr,0===em&&u(dn)),b!==Sr){for(E=[],x=ur();x!==Sr;)E.push(x),x=ur();E!==Sr?(c=[c,p,f,d,h,v,g,m,y,b,E],l=c):(Xg=l,l=Sr)}else Xg=l,l=Sr;else Xg=l,l=Sr}else Xg=l,l=Sr;else Xg=l,l=Sr}else Xg=l,l=Sr;else Xg=l,l=Sr}else Xg=l,l=Sr;else Xg=l,l=Sr}else Xg=l,l=Sr;else Xg=l,l=Sr}}else a=Sr;if(a===Sr){for(a=Xg,l=[],c=ur();c!==Sr;)l.push(c),c=ur();if(l!==Sr)if(42===t.charCodeAt(Xg)?(c=hn,Xg++):(c=Sr,0===em&&u(vn)),c!==Sr){for(p=[],f=ur();f!==Sr;)p.push(f),f=ur();p!==Sr?(l=[l,c,p],a=l):(Xg=a,a=Sr)}else Xg=a,a=Sr;else Xg=a,a=Sr}a!==Sr?(Yg=e,r=gn(o,a),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Qr)),e}function E(){var e,r,n,i,o,s,a,l,c,p,f,d,h,v,g;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(t.substr(Xg,9)===yn?(n=yn,Xg+=9):(n=Sr,0===em&&u(bn)),n===Sr&&(t.substr(Xg,9)===En?(n=En,Xg+=9):(n=Sr,0===em&&u(xn))),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if((o=Ne())!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr){for(a=[],l=T();l!==Sr;)a.push(l),l=T();if(a!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();if(l!==Sr)if((c=A())!==Sr){for(p=[],f=ur();f!==Sr;)p.push(f),f=ur();p!==Sr?(f=N(),f!==Sr?(Yg=e,r=Sn(o,a,c,f),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;if(e===Sr){for(e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(t.substr(Xg,9)===yn?(n=yn,Xg+=9):(n=Sr,0===em&&u(bn)),n===Sr&&(t.substr(Xg,9)===En?(n=En,Xg+=9):(n=Sr,0===em&&u(xn))),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr){for(o=[],s=T();s!==Sr;)o.push(s),s=T();if(o!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr)if(t.substr(Xg,5)===Tn?(a=Tn,Xg+=5):(a=Sr,0===em&&u(In)),a===Sr&&(t.substr(Xg,5)===wn?(a=wn,Xg+=5):(a=Sr,0===em&&u(Cn))),a!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();if(l!==Sr)if(123===t.charCodeAt(Xg)?(c=An,Xg++):(c=Sr,0===em&&u(Nn)),c!==Sr){for(p=[],f=ur();f!==Sr;)p.push(f),f=ur();if(p!==Sr)if(f=ae(),f===Sr&&(f=null),f!==Sr){for(d=[],h=ur();h!==Sr;)d.push(h),h=ur();if(d!==Sr)if(125===t.charCodeAt(Xg)?(h=Ln,Xg++):(h=Sr,0===em&&u(Rn)),h!==Sr){for(v=[],g=ur();g!==Sr;)v.push(g),g=ur();v!==Sr?(g=N(),g!==Sr?(Yg=e,r=_n(o,f,g),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}return em--,e===Sr&&(r=Sr,0===em&&u(mn)),e}function x(){var e,r,n,i,o,s;if(em++,e=Xg,t.substr(Xg,8)===On?(r=On,Xg+=8):(r=Sr,0===em&&u(Pn)),r!==Sr){if(n=[],(i=lt())!==Sr)for(;i!==Sr;)n.push(i),i=lt();else n=Sr;if(n===Sr&&(42===t.charCodeAt(Xg)?(n=hn,Xg++):(n=Sr,0===em&&u(vn))),n!==Sr){for(i=[],o=T();o!==Sr;)i.push(o),o=T();i!==Sr?(o=A(),o===Sr&&(o=null),o!==Sr?(s=N(),s!==Sr?(r=[r,n,i,o,s],e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(kn)),e}function S(){var e,r,n,i,o,s,a;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(t.substr(Xg,3)===Fn?(n=Fn,Xg+=3):(n=Sr,0===em&&u(jn)),n===Sr&&(t.substr(Xg,3)===Mn?(n=Mn,Xg+=3):(n=Sr,0===em&&u($n))),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr){for(o=[],s=T();s!==Sr;)o.push(s),s=T();if(o!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();s!==Sr?(a=A(),a!==Sr?(Yg=e,r=Bn(o,a),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Dn)),e}function T(){var e,r,n,i,o,s;if(em++,e=Xg,t.substr(Xg,4)===Gn?(r=Gn,Xg+=4):(r=Sr,0===em&&u(Hn)),r===Sr&&(t.substr(Xg,4)===qn?(r=qn,Xg+=4):(r=Sr,0===em&&u(Vn))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(i=I(),i===Sr&&(i=w()),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();o!==Sr?(Yg=e,r=Qn(i),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Un)),e}function I(){var e,t,r;for(em++,e=Xg,t=[],r=ur();r!==Sr;)t.push(r),r=ur();return t!==Sr?(r=C(),r!==Sr?(Yg=e,t=zn(r),e=t):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(t=Sr,0===em&&u(Wn)),e}function w(){var e,r,n,i;if(em++,e=Xg,t.substr(Xg,5)===Yn?(r=Yn,Xg+=5):(r=Sr,0===em&&u(Kn)),r===Sr&&(t.substr(Xg,5)===Jn?(r=Jn,Xg+=5):(r=Sr,0===em&&u(Zn))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(i=C(),i!==Sr?(Yg=e,r=ei(i),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Xn)),e}function C(){var e;return em++,e=Ft(),em--,e===Sr&&(Sr,0===em&&u(ti)),e}function A(){var e,r,n,i,o,s;if(em++,e=Xg,t.substr(Xg,5)===Tn?(r=Tn,Xg+=5):(r=Sr,0===em&&u(In)),r===Sr&&(t.substr(Xg,5)===wn?(r=wn,Xg+=5):(r=Sr,0===em&&u(Cn))),r===Sr&&(r=null),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if((i=ue())!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();o!==Sr?(Yg=e,r=ni(i),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(ri)),e}function N(){var e,t,r,n,i;return em++,e=Xg,t=L(),t===Sr&&(t=null),t!==Sr?(r=_(),r===Sr&&(r=null),r!==Sr?(n=O(),n===Sr&&(n=null),n!==Sr?(i=D(),i===Sr&&(i=null),i!==Sr?(Yg=e,t=oi(t,n,i),e=t):(Xg=e,e=Sr)):(Xg=e,e=Sr)):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(t=Sr,0===em&&u(ii)),e}function L(){var e,r,n,i,o,s,a;if(em++,e=Xg,t.substr(Xg,5)===ai?(r=ai,Xg+=5):(r=Sr,0===em&&u(ui)),r===Sr&&(t.substr(Xg,5)===li?(r=li,Xg+=5):(r=Sr,0===em&&u(ci))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(t.substr(Xg,2)===pi?(i=pi,Xg+=2):(i=Sr,0===em&&u(fi)),i===Sr&&(t.substr(Xg,2)===di?(i=di,Xg+=2):(i=Sr,0===em&&u(hi))),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr){if(s=[],(a=R())!==Sr)for(;a!==Sr;)s.push(a),a=R();else s=Sr;s!==Sr?(Yg=e,r=vi(s),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(si)),e}function R(){var e,r,n,i,o,s,a,l,c,p,f;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if((n=Tt())!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();i!==Sr?(Yg=e,r=mi(n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr;if(e===Sr){for(e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if((n=we())!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();i!==Sr?(Yg=e,r=yi(n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr;if(e===Sr){for(e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(40===t.charCodeAt(Xg)?(n=sn,Xg++):(n=Sr,0===em&&u(an)),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if((o=ft())!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr){if(a=Xg,t.substr(Xg,2)===un?(l=un,Xg+=2):(l=Sr,0===em&&u(ln)),l===Sr&&(t.substr(Xg,2)===cn?(l=cn,Xg+=2):(l=Sr,0===em&&u(pn))),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();c!==Sr?(p=ct(),p!==Sr?(l=[l,c,p],a=l):(Xg=a,a=Sr)):(Xg=a,a=Sr)}else Xg=a,a=Sr;if(a===Sr&&(a=null),a!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();if(l!==Sr)if(41===t.charCodeAt(Xg)?(c=fn,Xg++):(c=Sr,0===em&&u(dn)),c!==Sr){for(p=[],f=ur();f!==Sr;)p.push(f),f=ur();p!==Sr?(Yg=e,r=bi(o,a),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;if(e===Sr){for(e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if((n=ct())!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();i!==Sr?(Yg=e,r=Ei(n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}}}return em--,e===Sr&&(r=Sr,0===em&&u(gi)),e}function _(){var e,r,n,i;if(em++,e=Xg,t.substr(Xg,6)===Si?(r=Si,Xg+=6):(r=Sr,0===em&&u(Ti)),r!==Sr){if(n=[],(i=k())!==Sr)for(;i!==Sr;)n.push(i),i=k();else n=Sr;n!==Sr?(r=[r,n],e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(xi)),e}function k(){var e;return em++,e=be(),em--,e===Sr&&(Sr,0===em&&u(Ii)),e}function O(){var e,r,n,i,o,s,a,l;if(em++,e=Xg,t.substr(Xg,5)===Ci?(r=Ci,Xg+=5):(r=Sr,0===em&&u(Ai)),r===Sr&&(t.substr(Xg,5)===Ni?(r=Ni,Xg+=5):(r=Sr,0===em&&u(Li))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(t.substr(Xg,2)===pi?(i=pi,Xg+=2):(i=Sr,0===em&&u(fi)),i===Sr&&(t.substr(Xg,2)===di?(i=di,Xg+=2):(i=Sr,0===em&&u(hi))),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr){if(s=[],(a=P())!==Sr)for(;a!==Sr;)s.push(a),a=P();else s=Sr;if(s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(Yg=e,r=Ri(s),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(wi)),e}function P(){var e,r,n,i,o,s;if(em++,e=Xg,t.substr(Xg,3)===ki?(r=ki,Xg+=3):(r=Sr,0===em&&u(Oi)),r===Sr&&(t.substr(Xg,3)===Pi?(r=Pi,Xg+=3):(r=Sr,0===em&&u(Di)),r===Sr&&(t.substr(Xg,4)===Fi?(r=Fi,Xg+=4):(r=Sr,0===em&&u(ji)),r===Sr&&(t.substr(Xg,4)===Mi?(r=Mi,Xg+=4):(r=Sr,0===em&&u($i))))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if((i=St())!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();o!==Sr?(Yg=e,r=Bi(r,i),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr)if(e=Xg,r=be(),r===Sr&&(r=ct()),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(Yg=e,r=Ui(r),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(_i)),e}function D(){var e,t,r,n;return em++,e=Xg,t=Xg,r=F(),r!==Sr?(n=j(),n===Sr&&(n=null),n!==Sr?(r=[r,n],t=r):(Xg=t,t=Sr)):(Xg=t,t=Sr),t===Sr&&(t=Xg,r=j(),r!==Sr?(n=F(),n===Sr&&(n=null),n!==Sr?(r=[r,n],t=r):(Xg=t,t=Sr)):(Xg=t,t=Sr)),t!==Sr&&(Yg=e,t=Hi(t)),e=t,em--,e===Sr&&(t=Sr,0===em&&u(Gi)),e}function F(){var e,r,n,i,o,s;if(em++,e=Xg,t.substr(Xg,5)===Vi?(r=Vi,Xg+=5):(r=Sr,0===em&&u(Qi)),r===Sr&&(t.substr(Xg,5)===Wi?(r=Wi,Xg+=5):(r=Sr,0===em&&u(zi))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if((i=Qt())!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();o!==Sr?(Yg=e,r=Xi(i),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(qi)),e}function j(){var e,r,n,i,o,s;if(em++,e=Xg,t.substr(Xg,6)===Ki?(r=Ki,Xg+=6):(r=Sr,0===em&&u(Ji)),r===Sr&&(t.substr(Xg,6)===Zi?(r=Zi,Xg+=6):(r=Sr,0===em&&u(eo))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if((i=Qt())!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();o!==Sr?(Yg=e,r=to(i),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Yi)),e}function M(){var e,r,n,i,o,s,a,l,c;if(em++,e=Xg,t.substr(Xg,8)===no?(r=no,Xg+=8):(r=Sr,0===em&&u(io)),r!==Sr){for(n=[],i=ct();i!==Sr;)n.push(i),i=ct();if(n!==Sr)if(123===t.charCodeAt(Xg)?(i=An,Xg++):(i=Sr,0===em&&u(Nn)),i!==Sr){if(o=[],s=Xg,40===t.charCodeAt(Xg)?(a=sn,Xg++):(a=Sr,0===em&&u(an)),a!==Sr){if(l=[],(c=$())!==Sr)for(;c!==Sr;)l.push(c),c=$();else l=Sr;l!==Sr?(41===t.charCodeAt(Xg)?(c=fn,Xg++):(c=Sr,0===em&&u(dn)),c!==Sr?(a=[a,l,c],s=a):(Xg=s,s=Sr)):(Xg=s,s=Sr)}else Xg=s,s=Sr;for(s===Sr&&(s=ar());s!==Sr;){if(o.push(s),s=Xg,40===t.charCodeAt(Xg)?(a=sn,Xg++):(a=Sr,0===em&&u(an)),a!==Sr){if(l=[],(c=$())!==Sr)for(;c!==Sr;)l.push(c),c=$();else l=Sr;l!==Sr?(41===t.charCodeAt(Xg)?(c=fn,Xg++):(c=Sr,0===em&&u(dn)),c!==Sr?(a=[a,l,c],s=a):(Xg=s,s=Sr)):(Xg=s,s=Sr)}else Xg=s,s=Sr;s===Sr&&(s=ar())}o!==Sr?(125===t.charCodeAt(Xg)?(s=Ln,Xg++):(s=Sr,0===em&&u(Rn)),s!==Sr?(r=[r,n,i,o,s],e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return e===Sr&&(e=null),em--,e===Sr&&(r=Sr,0===em&&u(ro)),e}function $(){var e;return em++,e=Ft(),e===Sr&&(e=Lt())===Sr&&(e=Rt())===Sr&&(e=Pt())===Sr&&(t.substr(Xg,5)===so?(e=so,Xg+=5):(e=Sr,0===em&&u(ao))),em--,e===Sr&&(Sr,0===em&&u(oo)),e}function B(){var e,r,n,i;return em++,e=Xg,r=Xg,t.substr(Xg,6)===lo?(n=lo,Xg+=6):(n=Sr,0===em&&u(co)),n===Sr&&(t.substr(Xg,6)===po?(n=po,Xg+=6):(n=Sr,0===em&&u(fo))),n!==Sr?(i=xe(),i!==Sr?(n=[n,i],r=n):(Xg=r,r=Sr)):(Xg=r,r=Sr),r===Sr&&(r=null),r!==Sr&&(Yg=e,r=ho(r)),e=r,em--,e===Sr&&(r=Sr,0===em&&u(uo)),e}function U(){var e;return em++,e=G(),em--,e===Sr&&(Sr,0===em&&u(vo)),e}function G(){var e,r,n,i,o,s,a,l,c;if(em++,e=Xg,(r=h())!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if((i=H())!==Sr){for(o=Xg,s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr)if(59===t.charCodeAt(Xg)?(a=mo,Xg++):(a=Sr,0===em&&u(yo)),a!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();l!==Sr?(c=G(),c===Sr&&(c=null),c!==Sr?(s=[s,a,l,c],o=s):(Xg=o,o=Sr)):(Xg=o,o=Sr)}else Xg=o,o=Sr;else Xg=o,o=Sr;o===Sr&&(o=null),o!==Sr?(Yg=e,r=bo(r,i,o),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(go)),e}function H(){var e;return em++,e=q(),e===Sr&&(e=V())===Sr&&(e=Q())===Sr&&(e=W())===Sr&&(e=z())===Sr&&(e=X())===Sr&&(e=Y())===Sr&&(e=K()),em--,e===Sr&&(Sr,0===em&&u(Eo)),e}function q(){var e,r,n,i,o,s,a,l,c;if(em++,e=Xg,t.substr(Xg,4)===So?(r=So,Xg+=4):(r=Sr,0===em&&u(To)),r===Sr&&(t.substr(Xg,4)===Io?(r=Io,Xg+=4):(r=Sr,0===em&&u(wo))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if((i=Ft())!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr){if(s=Xg,t.substr(Xg,4)===Co?(a=Co,Xg+=4):(a=Sr,0===em&&u(Ao)),a===Sr&&(t.substr(Xg,4)===No?(a=No,Xg+=4):(a=Sr,0===em&&u(Lo))),a!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();l!==Sr?(c=te(),c!==Sr?(a=[a,l,c],s=a):(Xg=s,s=Sr)):(Xg=s,s=Sr)}else Xg=s,s=Sr;s===Sr&&(s=null),s!==Sr?(Yg=e,r=Ro(i,s),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(xo)),e}function V(){var e,r,n,i,o,s;if(em++,e=Xg,t.substr(Xg,5)===ko?(r=ko,Xg+=5):(r=Sr,0===em&&u(Oo)),r===Sr&&(t.substr(Xg,5)===Po?(r=Po,Xg+=5):(r=Sr,0===em&&u(Do))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(t.substr(Xg,6)===Fo?(i=Fo,Xg+=6):(i=Sr,0===em&&u(jo)),i===Sr&&(t.substr(Xg,6)===Mo?(i=Mo,Xg+=6):(i=Sr,0===em&&u($o))),i===Sr&&(i=null),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();o!==Sr?(s=re(),s!==Sr?(Yg=e,r=Bo(s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(_o)),e}function Q(){var e,r,n,i,o,s;if(em++,e=Xg,t.substr(Xg,4)===Go?(r=Go,Xg+=4):(r=Sr,0===em&&u(Ho)),r===Sr&&(t.substr(Xg,4)===qo?(r=qo,Xg+=4):(r=Sr,0===em&&u(Vo))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(t.substr(Xg,6)===Fo?(i=Fo,Xg+=6):(i=Sr,0===em&&u(jo)),i===Sr&&(t.substr(Xg,6)===Mo?(i=Mo,Xg+=6):(i=Sr,0===em&&u($o))),i===Sr&&(i=null),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();o!==Sr?(s=re(),s!==Sr?(Yg=e,r=Qo(s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Uo)),e}function W(){var e,r,n,i,o,s;if(em++,e=Xg,t.substr(Xg,6)===zo?(r=zo,Xg+=6):(r=Sr,0===em&&u(Xo)),r===Sr&&(t.substr(Xg,6)===Yo?(r=Yo,Xg+=6):(r=Sr,0===em&&u(Ko))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(t.substr(Xg,6)===Fo?(i=Fo,Xg+=6):(i=Sr,0===em&&u(jo)),i===Sr&&(t.substr(Xg,6)===Mo?(i=Mo,Xg+=6):(i=Sr,0===em&&u($o))),i===Sr&&(i=null),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();o!==Sr?(s=te(),s!==Sr?(Yg=e,r=Jo(s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Wo)),e}function z(){var e,r,n,i,o,s;if(em++,e=Xg,t.substr(Xg,6)===es?(r=es,Xg+=6):(r=Sr,0===em&&u(ts)),r===Sr&&(t.substr(Xg,6)===rs?(r=rs,Xg+=6):(r=Sr,0===em&&u(ns))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(t.substr(Xg,4)===is?(i=is,Xg+=4):(i=Sr,0===em&&u(os)),i===Sr&&(t.substr(Xg,4)===ss?(i=ss,Xg+=4):(i=Sr,0===em&&u(as))),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();o!==Sr?(s=ie(),s!==Sr?(Yg=e,r=us(s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Zo)),e}function X(){var e,r,n,i,o;if(em++,e=Xg,t.substr(Xg,6)===cs?(r=cs,Xg+=6):(r=Sr,0===em&&u(ps)),r===Sr&&(t.substr(Xg,6)===fs?(r=fs,Xg+=6):(r=Sr,0===em&&u(ds))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(t.substr(Xg,4)===is?(i=is,Xg+=4):(i=Sr,0===em&&u(os)),i===Sr&&(t.substr(Xg,4)===ss?(i=ss,Xg+=4):(i=Sr,0===em&&u(as))),i!==Sr?(o=ie(),o!==Sr?(Yg=e,r=hs(o),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(ls)),e}function Y(){var e,r,n,i,o,s;if(em++,e=Xg,t.substr(Xg,6)===cs?(r=cs,Xg+=6):(r=Sr,0===em&&u(ps)),r===Sr&&(t.substr(Xg,6)===fs?(r=fs,Xg+=6):(r=Sr,0===em&&u(ds))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(t.substr(Xg,5)===Tn?(i=Tn,Xg+=5):(i=Sr,0===em&&u(In)),i===Sr&&(t.substr(Xg,5)===wn?(i=wn,Xg+=5):(i=Sr,0===em&&u(Cn))),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();o!==Sr?(s=ue(),s!==Sr?(Yg=e,r=gs(s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(vs)),e}function K(){var e,r,n,i,o,s,a,l,c,p,f,d;if(em++,e=Xg,r=Xg,t.substr(Xg,4)===ys?(n=ys,Xg+=4):(n=Sr,0===em&&u(bs)),n===Sr&&(t.substr(Xg,4)===Es?(n=Es,Xg+=4):(n=Sr,0===em&&u(xs))),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();i!==Sr?(o=Ft(),o!==Sr?(n=[n,i,o],r=n):(Xg=r,r=Sr)):(Xg=r,r=Sr)}else Xg=r,r=Sr;if(r===Sr&&(r=null),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr){if(i=Xg,(o=J())!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();s!==Sr?(a=Z(),a===Sr&&(a=null),a!==Sr?(o=[o,s,a],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;if(i===Sr&&(i=Z()),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr){for(s=[],a=ee();a!==Sr;)s.push(a),a=ee();if(s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(t.substr(Xg,5)===Tn?(l=Tn,Xg+=5):(l=Sr,0===em&&u(In)),l===Sr&&(t.substr(Xg,5)===wn?(l=wn,Xg+=5):(l=Sr,0===em&&u(Cn))),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if((p=ue())!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();f!==Sr?(Yg=e,r=Ss(r,i,s,p),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(ms)),e}function J(){var e,r,n;return em++,e=Xg,t.substr(Xg,6)===cs?(r=cs,Xg+=6):(r=Sr,0===em&&u(ps)),r===Sr&&(t.substr(Xg,6)===fs?(r=fs,Xg+=6):(r=Sr,0===em&&u(ds))),r!==Sr?(n=ne(),n!==Sr?(Yg=e,r=Is(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(Ts)),e}function Z(){var e,r,n;return em++,e=Xg,t.substr(Xg,6)===es?(r=es,Xg+=6):(r=Sr,0===em&&u(ts)),r===Sr&&(t.substr(Xg,6)===rs?(r=rs,Xg+=6):(r=Sr,0===em&&u(ns))),r!==Sr?(n=ne(),n!==Sr?(Yg=e,r=Is(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(ws)),e}function ee(){var e,r,n,i,o,s,a,l;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(t.substr(Xg,5)===As?(n=As,Xg+=5):(n=Sr,0===em&&u(Ns)),n===Sr&&(t.substr(Xg,5)===Ls?(n=Ls,Xg+=5):(n=Sr,0===em&&u(Rs))),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr){if((o=Ft())===Sr)if(o=Xg,t.substr(Xg,5)===Yn?(s=Yn,Xg+=5):(s=Sr,0===em&&u(Kn)),s===Sr&&(t.substr(Xg,5)===Jn?(s=Jn,Xg+=5):(s=Sr,0===em&&u(Zn))),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=Ft(),l!==Sr?(s=[s,a,l],o=s):(Xg=o,o=Sr)):(Xg=o,o=Sr)}else Xg=o,o=Sr;o!==Sr?(Yg=e,r=_s(o),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Cs)),e}function te(){var e,r,n,i;if(em++,e=Xg,t.substr(Xg,5)===Os?(r=Os,Xg+=5):(r=Sr,0===em&&u(Ps)),r===Sr&&(t.substr(Xg,5)===Ds?(r=Ds,Xg+=5):(r=Sr,0===em&&u(Fs))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(i=Ft(),i!==Sr?(Yg=e,r=js(i),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(ks)),e}function re(){var e,r;return em++,e=Xg,r=te(),r!==Sr&&(Yg=e,r=ni(r)),e=r,e===Sr&&(e=Xg,t.substr(Xg,7)===$s?(r=$s,Xg+=7):(r=Sr,0===em&&u(Bs)),r===Sr&&(t.substr(Xg,7)===Us?(r=Us,Xg+=7):(r=Sr,0===em&&u(Gs))),r!==Sr&&(Yg=e,r=Hs()),(e=r)===Sr&&(e=Xg,t.substr(Xg,5)===Yn?(r=Yn,Xg+=5):(r=Sr,0===em&&u(Kn)),r===Sr&&(t.substr(Xg,5)===Jn?(r=Jn,Xg+=5):(r=Sr,0===em&&u(Zn))),r!==Sr&&(Yg=e,r=qs()),(e=r)===Sr&&(e=Xg,t.substr(Xg,3)===Vs?(r=Vs,Xg+=3):(r=Sr,0===em&&u(Qs)),r===Sr&&(t.substr(Xg,3)===Ws?(r=Ws,Xg+=3):(r=Sr,0===em&&u(zs))),r!==Sr&&(Yg=e,r=Xs()),e=r))),em--,e===Sr&&(r=Sr,0===em&&u(Ms)),e}function ne(){var e,r,n,i,o,s,a,l,c;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(123===t.charCodeAt(Xg)?(n=An,Xg++):(n=Sr,0===em&&u(Nn)),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if((o=oe())!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr)if(125===t.charCodeAt(Xg)?(a=Ln,Xg++):(a=Sr,0===em&&u(Rn)),a!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();l!==Sr?(Yg=e,r=Ks(o),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Ys)),e}function ie(){var e,r,n,i,o,s,a,l,c;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(123===t.charCodeAt(Xg)?(n=An,Xg++):(n=Sr,0===em&&u(Nn)),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if((o=oe())!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr)if(125===t.charCodeAt(Xg)?(a=Ln,Xg++):(a=Sr,0===em&&u(Rn)),a!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();l!==Sr?(Yg=e,r=Ks(o),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Js)),e}function oe(){var e,r,n,i,o,s,a;if(em++,e=Xg,r=ae(),r===Sr&&(r=null),r!==Sr){for(n=[],i=Xg,o=se(),o!==Sr?(46===t.charCodeAt(Xg)?(s=ea,Xg++):(s=Sr,0===em&&u(ta)),s===Sr&&(s=null),s!==Sr?(a=ae(),a===Sr&&(a=null),a!==Sr?(o=[o,s,a],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)):(Xg=i,i=Sr);i!==Sr;)n.push(i),i=Xg,o=se(),o!==Sr?(46===t.charCodeAt(Xg)?(s=ea,Xg++):(s=Sr,0===em&&u(ta)),s===Sr&&(s=null),s!==Sr?(a=ae(),a===Sr&&(a=null),a!==Sr?(o=[o,s,a],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)):(Xg=i,i=Sr);n!==Sr?(Yg=e,r=ra(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Zs)),e}function se(){var e,r,n,i,o,s,a,l,c,p,f,d,h;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(t.substr(Xg,5)===Os?(n=Os,Xg+=5):(n=Sr,0===em&&u(Ps)),n===Sr&&(t.substr(Xg,5)===Ds?(n=Ds,Xg+=5):(n=Sr,0===em&&u(Fs))),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if((o=lt())!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr)if(123===t.charCodeAt(Xg)?(a=An,Xg++):(a=Sr,0===em&&u(Nn)),a!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();if(l!==Sr)if(c=ae(),c===Sr&&(c=null),c!==Sr){for(p=[],f=ur();f!==Sr;)p.push(f),f=ur();if(p!==Sr)if(125===t.charCodeAt(Xg)?(f=Ln,Xg++):(f=Sr,0===em&&u(Rn)),f!==Sr){for(d=[],h=ur();h!==Sr;)d.push(h),h=ur();d!==Sr?(Yg=e,r=ia(o,c),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(na)),e}function ae(){var e,r,n,i,o,s,a;if(em++,e=Xg,(r=Re())!==Sr){for(n=Xg,i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if(46===t.charCodeAt(Xg)?(o=ea,Xg++):(o=Sr,0===em&&u(ta)),o!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();s!==Sr?(a=ae(),a===Sr&&(a=null),a!==Sr?(i=[i,o,s,a],n=i):(Xg=n,n=Sr)):(Xg=n,n=Sr)}else Xg=n,n=Sr;else Xg=n,n=Sr;n===Sr&&(n=null),n!==Sr?(Yg=e,r=sa(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(oa)),e}function ue(){var e,r,n,i,o,s;if(em++,e=Xg,123===t.charCodeAt(Xg)?(r=An,Xg++):(r=Sr,0===em&&u(Nn)),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if((i=y())!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();o!==Sr?(125===t.charCodeAt(Xg)?(s=Ln,Xg++):(s=Sr,0===em&&u(Rn)),s!==Sr?(Yg=e,r=ua(i),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr)if(e=Xg,123===t.charCodeAt(Xg)?(r=An,Xg++):(r=Sr,0===em&&u(Nn)),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if((i=le())!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();o!==Sr?(125===t.charCodeAt(Xg)?(s=Ln,Xg++):(s=Sr,0===em&&u(Rn)),s!==Sr?(Yg=e,r=ua(i),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(aa)),e}function le(){var e,r,n,i,o,s,a,l,c,p;if(em++,e=Xg,r=ce(),r===Sr&&(r=null),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr){if(i=[],o=Xg,(s=pe())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(46===t.charCodeAt(Xg)?(l=ea,Xg++):(l=Sr,0===em&&u(ta)),l===Sr&&(l=null),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();c!==Sr?(p=ce(),p===Sr&&(p=null),p!==Sr?(s=[s,a,l,c,p],o=s):(Xg=o,o=Sr)):(Xg=o,o=Sr)}else Xg=o,o=Sr;else Xg=o,o=Sr}else Xg=o,o=Sr;for(;o!==Sr;)if(i.push(o),o=Xg,(s=pe())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(46===t.charCodeAt(Xg)?(l=ea,Xg++):(l=Sr,0===em&&u(ta)),l===Sr&&(l=null),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();c!==Sr?(p=ce(),p===Sr&&(p=null),p!==Sr?(s=[s,a,l,c,p],o=s):(Xg=o,o=Sr)):(Xg=o,o=Sr)}else Xg=o,o=Sr;else Xg=o,o=Sr}else Xg=o,o=Sr;i!==Sr?(Yg=e,r=ca(r,i),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(la)),e}function ce(){var e,r,n,i,o,s;if(em++,e=Xg,(r=$e())!==Sr){for(n=Xg,i=[],o=ur();o!==Sr;)i.push(o),o=ur();i!==Sr?(46===t.charCodeAt(Xg)?(o=ea,Xg++):(o=Sr,0===em&&u(ta)),o!==Sr?(s=ce(),s===Sr&&(s=null),s!==Sr?(i=[i,o,s],n=i):(Xg=n,n=Sr)):(Xg=n,n=Sr)):(Xg=n,n=Sr),n===Sr&&(n=null),n!==Sr?(Yg=e,r=fa(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(pa)),e}function pe(){var e;return em++,e=ge(),e===Sr&&(e=fe())===Sr&&(e=ve())===Sr&&(e=de())===Sr&&(e=he())===Sr&&(e=me())===Sr&&(e=ye())===Sr&&(e=Ee()),em--,e===Sr&&(Sr,0===em&&u(da)),e}function fe(){var e,r,n,i,o;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(t.substr(Xg,8)===va?(n=va,Xg+=8):(n=Sr,0===em&&u(ga)),n===Sr&&(t.substr(Xg,8)===ma?(n=ma,Xg+=8):(n=Sr,0===em&&u(ya))),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();i!==Sr?(o=ue(),o!==Sr?(Yg=e,r=ba(o),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(ha)),e}function de(){var e,r,n,i,o,s,a;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(t.substr(Xg,5)===Os?(n=Os,Xg+=5):(n=Sr,0===em&&u(Ps)),n===Sr&&(t.substr(Xg,5)===Ds?(n=Ds,Xg+=5):(n=Sr,0===em&&u(Fs))),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if((o=lt())!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();s!==Sr?(a=ue(),a!==Sr?(Yg=e,r=xa(o,a),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Ea)),e}function he(){var e,r,n,i;return em++,e=Xg,t.substr(Xg,7)===Ta?(r=Ta,Xg+=7):(r=Sr,0===em&&u(Ia)),r!==Sr?(n=lt(),n!==Sr?(i=ue(),i!==Sr?(Yg=e,r=wa(n,i),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(Sa)),e}function ve(){var e,r,n,i;if(em++,e=Xg,t.substr(Xg,5)===Aa?(r=Aa,Xg+=5):(r=Sr,0===em&&u(Na)),r===Sr&&(t.substr(Xg,5)===La?(r=La,Xg+=5):(r=Sr,0===em&&u(Ra))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(i=ue(),i!==Sr?(Yg=e,r=_a(i),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Ca)),e}function ge(){var e,r,n,i,o,s,a,l;if(em++,e=Xg,(r=ue())!==Sr){for(n=[],i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,5)===Oa?(s=Oa,Xg+=5):(s=Sr,0===em&&u(Pa)),s===Sr&&(t.substr(Xg,5)===Da?(s=Da,Xg+=5):(s=Sr,0===em&&u(Fa))),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=ue(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;for(;i!==Sr;){for(n.push(i),i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,5)===Oa?(s=Oa,Xg+=5):(s=Sr,0===em&&u(Pa)),s===Sr&&(t.substr(Xg,5)===Da?(s=Da,Xg+=5):(s=Sr,0===em&&u(Fa))),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=ue(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr}n!==Sr?(Yg=e,r=ja(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(ka)),e}function me(){var e,r,n,i,o;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(t.substr(Xg,6)===$a?(n=$a,Xg+=6):(n=Sr,0===em&&u(Ba)),n===Sr&&(t.substr(Xg,6)===Ua?(n=Ua,Xg+=6):(n=Sr,0===em&&u(Ga))),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();i!==Sr?(o=be(),o!==Sr?(Yg=e,r=Ha(o),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Ma)),e}function ye(){var e,r,n,i,o,s,a,l,c,p,f,d,h;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(t.substr(Xg,4)===Va?(n=Va,Xg+=4):(n=Sr,0===em&&u(Qa)),n===Sr&&(t.substr(Xg,4)===Wa?(n=Wa,Xg+=4):(n=Sr,0===em&&u(za))),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if(40===t.charCodeAt(Xg)?(o=sn,Xg++):(o=Sr,0===em&&u(an)),o!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr)if((a=ft())!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();if(l!==Sr)if(t.substr(Xg,2)===cn?(c=cn,Xg+=2):(c=Sr,0===em&&u(pn)),c===Sr&&(t.substr(Xg,2)===un?(c=un,Xg+=2):(c=Sr,0===em&&u(ln))),c!==Sr){for(p=[],f=ur();f!==Sr;)p.push(f),f=ur();if(p!==Sr)if((f=ct())!==Sr){for(d=[],h=ur();h!==Sr;)d.push(h),h=ur();d!==Sr?(41===t.charCodeAt(Xg)?(h=fn,Xg++):(h=Sr,0===em&&u(dn)),h!==Sr?(Yg=e,r=Xa(a,f),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(qa)),e}function be(){var e;return em++,e=St(),e===Sr&&(e=Tt())===Sr&&(e=we()),em--,e===Sr&&(Sr,0===em&&u(Ya)),e}function Ee(){var e,r,n,i,o;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(t.substr(Xg,6)===lo?(n=lo,Xg+=6):(n=Sr,0===em&&u(co)),n===Sr&&(t.substr(Xg,6)===po?(n=po,Xg+=6):(n=Sr,0===em&&u(fo))),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();i!==Sr?(o=xe(),o!==Sr?(Yg=e,r=Ja(o),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Ka)),e}function xe(){var e;return em++,e=Se(),e===Sr&&(e=Te()),em--,e===Sr&&(Sr,0===em&&u(Za)),e}function Se(){var e,r,n,i,o,s,a,l;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if((n=ct())!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if(123===t.charCodeAt(Xg)?(o=An,Xg++):(o=Sr,0===em&&u(Nn)),o!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr){for(a=[],l=Ie();l!==Sr;)a.push(l),l=Ie();a!==Sr?(125===t.charCodeAt(Xg)?(l=Ln,Xg++):(l=Sr,0===em&&u(Rn)),l!==Sr?(Yg=e,r=tu(n,a),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(eu)),e}function Te(){var e,r,n,i,o,s,a,l,c,p,f,d,h,v,g,m;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr){if((n=ar())===Sr)if(n=Xg,40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr){for(s=[],a=ct();a!==Sr;)s.push(a),a=ct();if(s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(41===t.charCodeAt(Xg)?(l=fn,Xg++):(l=Sr,0===em&&u(dn)),l!==Sr?(i=[i,o,s,a,l],n=i):(Xg=n,n=Sr)):(Xg=n,n=Sr)}else Xg=n,n=Sr}else Xg=n,n=Sr}else Xg=n,n=Sr;if(n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if(123===t.charCodeAt(Xg)?(o=An,Xg++):(o=Sr,0===em&&u(Nn)),o!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr){for(a=[],l=Xg,c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if(40===t.charCodeAt(Xg)?(p=sn,Xg++):(p=Sr,0===em&&u(an)),p!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();if(f!==Sr){for(d=[],h=Ie();h!==Sr;)d.push(h),h=Ie();if(d!==Sr){for(h=[],v=ur();v!==Sr;)h.push(v),v=ur();if(h!==Sr)if(41===t.charCodeAt(Xg)?(v=fn,Xg++):(v=Sr,0===em&&u(dn)),v!==Sr){for(g=[],m=ur();m!==Sr;)g.push(m),m=ur();g!==Sr?(c=[c,p,f,d,h,v,g],l=c):(Xg=l,l=Sr)}else Xg=l,l=Sr;else Xg=l,l=Sr}else Xg=l,l=Sr}else Xg=l,l=Sr}else Xg=l,l=Sr;else Xg=l,l=Sr;for(l===Sr&&(l=ar());l!==Sr;){for(a.push(l),l=Xg,c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if(40===t.charCodeAt(Xg)?(p=sn,Xg++):(p=Sr,0===em&&u(an)),p!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();if(f!==Sr){for(d=[],h=Ie();h!==Sr;)d.push(h),h=Ie();if(d!==Sr){for(h=[],v=ur();v!==Sr;)h.push(v),v=ur();if(h!==Sr)if(41===t.charCodeAt(Xg)?(v=fn,Xg++):(v=Sr,0===em&&u(dn)),v!==Sr){for(g=[],m=ur();m!==Sr;)g.push(m),m=ur();g!==Sr?(c=[c,p,f,d,h,v,g],l=c):(Xg=l,l=Sr)}else Xg=l,l=Sr;else Xg=l,l=Sr}else Xg=l,l=Sr}else Xg=l,l=Sr}else Xg=l,l=Sr;else Xg=l,l=Sr;l===Sr&&(l=ar())}if(a!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();l!==Sr?(125===t.charCodeAt(Xg)?(c=Ln,Xg++):(c=Sr,0===em&&u(Rn)),c!==Sr?(Yg=e,r=nu(n,a),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(ru)),e}function Ie(){var e,r,n,i,o;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(n=$t(),n===Sr&&(n=Lt())===Sr&&(n=Rt())===Sr&&(n=Pt())===Sr&&(t.substr(Xg,5)===so?(n=so,Xg+=5):(n=Sr,0===em&&u(ao))),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();i!==Sr?(Yg=e,r=Ei(n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(iu)),e}function we(){var e,t,r,n;if(em++,e=Xg,(t=Ft())!==Sr){for(r=[],n=ur();n!==Sr;)r.push(n),n=ur();r!==Sr?(n=Ce(),n!==Sr?(Yg=e,t=su(t,n),e=t):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(t=Sr,0===em&&u(ou)),e}function Ce(){var e,r,n,i,o,s,a,l,c,p,f,d;if(em++,e=Xg,r=ar(),r!==Sr&&(Yg=e,r=uu()),(e=r)===Sr)if(e=Xg,40===t.charCodeAt(Xg)?(r=sn,Xg++):(r=Sr,0===em&&u(an)),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(t.substr(Xg,8)===Kr?(i=Kr,Xg+=8):(i=Sr,0===em&&u(Jr)),i===Sr&&(t.substr(Xg,8)===Zr?(i=Zr,Xg+=8):(i=Sr,0===em&&u(en))),i===Sr&&(i=null),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if((s=ft())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr){if(l=[],c=Xg,44===t.charCodeAt(Xg)?(p=lu,Xg++):(p=Sr,0===em&&u(cu)),p!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();f!==Sr?(d=ft(),d!==Sr?(p=[p,f,d],c=p):(Xg=c,c=Sr)):(Xg=c,c=Sr)}else Xg=c,c=Sr;for(;c!==Sr;)if(l.push(c),c=Xg,44===t.charCodeAt(Xg)?(p=lu,Xg++):(p=Sr,0===em&&u(cu)),p!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();f!==Sr?(d=ft(),d!==Sr?(p=[p,f,d],c=p):(Xg=c,c=Sr)):(Xg=c,c=Sr)}else Xg=c,c=Sr;l!==Sr?(41===t.charCodeAt(Xg)?(c=fn,Xg++):(c=Sr,0===em&&u(dn)),c!==Sr?(Yg=e,r=pu(i,s,l),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(au)),e}function Ae(){var e,r,n,i,o,s,a,l,c,p;if(em++,e=Xg,r=ar(),r!==Sr&&(Yg=e,r=uu()),(e=r)===Sr)if(e=Xg,40===t.charCodeAt(Xg)?(r=sn,Xg++):(r=Sr,0===em&&u(an)),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(i=Ft(),i===Sr&&(i=ft()),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr){if(s=[],a=Xg,44===t.charCodeAt(Xg)?(l=lu,Xg++):(l=Sr,0===em&&u(cu)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();c!==Sr?(p=Ft(),p===Sr&&(p=ft()),p!==Sr?(l=[l,c,p],a=l):(Xg=a,a=Sr)):(Xg=a,a=Sr)}else Xg=a,a=Sr;for(;a!==Sr;)if(s.push(a),a=Xg,44===t.charCodeAt(Xg)?(l=lu,Xg++):(l=Sr,0===em&&u(cu)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();c!==Sr?(p=Ft(),p===Sr&&(p=ft()),p!==Sr?(l=[l,c,p],a=l):(Xg=a,a=Sr)):(Xg=a,a=Sr)}else Xg=a,a=Sr;s!==Sr?(41===t.charCodeAt(Xg)?(a=fn,Xg++):(a=Sr,0===em&&u(dn)),a!==Sr?(Yg=e,r=du(i,s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(fu)),e}function Ne(){var e,r,n,i,o,s;if(em++,e=Xg,123===t.charCodeAt(Xg)?(r=An,Xg++):(r=Sr,0===em&&u(Nn)),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(i=Le(),i===Sr&&(i=null),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();o!==Sr?(125===t.charCodeAt(Xg)?(s=Ln,Xg++):(s=Sr,0===em&&u(Rn)),s!==Sr?(Yg=e,r=vu(i),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(hu)),e}function Le(){var e,r,n,i,o,s,a;if(em++,e=Xg,(r=Re())!==Sr){for(n=Xg,i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if(46===t.charCodeAt(Xg)?(o=ea,Xg++):(o=Sr,0===em&&u(ta)),o!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();s!==Sr?(a=Le(),a===Sr&&(a=null),a!==Sr?(i=[i,o,s,a],n=i):(Xg=n,n=Sr)):(Xg=n,n=Sr)}else Xg=n,n=Sr;else Xg=n,n=Sr;n===Sr&&(n=null),n!==Sr?(Yg=e,r=mu(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(gu)),e}function Re(){var e,t,r,n,i;for(em++,e=Xg,t=[],r=ur();r!==Sr;)t.push(r),r=ur();if(t!==Sr)if((r=ut())!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(i=ke(),i!==Sr?(Yg=e,t=bu(r,i),e=t):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr;if(e===Sr){for(e=Xg,t=[],r=ur();r!==Sr;)t.push(r),r=ur();if(t!==Sr)if((r=tt())!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(i=Oe(),i!==Sr?(Yg=e,t=Eu(r,i),e=t):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}return em--,e===Sr&&(t=Sr,0===em&&u(yu)),e}function _e(){var e,r,n,i,o,s,a,l,c,p,f,d,h;if(em++,e=Xg,r=Ge(),r===Sr&&(r=He()),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if((i=Pe())!==Sr){for(o=[],s=Xg,a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(59===t.charCodeAt(Xg)?(l=mo,Xg++):(l=Sr,0===em&&u(yo)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr){if(p=Xg,f=Ge(),f===Sr&&(f=He()),f!==Sr){for(d=[],h=ur();h!==Sr;)d.push(h),h=ur();d!==Sr?(h=De(),h!==Sr?(f=[f,d,h],p=f):(Xg=p,p=Sr)):(Xg=p,p=Sr)}else Xg=p,p=Sr;p===Sr&&(p=null),p!==Sr?(a=[a,l,c,p],s=a):(Xg=s,s=Sr)}else Xg=s,s=Sr}else Xg=s,s=Sr;else Xg=s,s=Sr;for(;s!==Sr;){for(o.push(s),s=Xg,a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(59===t.charCodeAt(Xg)?(l=mo,Xg++):(l=Sr,0===em&&u(yo)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr){if(p=Xg,f=Ge(),f===Sr&&(f=He()),f!==Sr){for(d=[],h=ur();h!==Sr;)d.push(h),h=ur();d!==Sr?(h=De(),h!==Sr?(f=[f,d,h],p=f):(Xg=p,p=Sr)):(Xg=p,p=Sr)}else Xg=p,p=Sr;p===Sr&&(p=null),p!==Sr?(a=[a,l,c,p],s=a):(Xg=s,s=Sr)}else Xg=s,s=Sr}else Xg=s,s=Sr;else Xg=s,s=Sr}o!==Sr?(Yg=e,r=Su(r,i,o),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(xu)),e}function ke(){var e,r,n,i,o,s,a,l,c,p,f,d,h;if(em++,e=Xg,(r=Me())!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if((i=De())!==Sr){for(o=[],s=Xg,a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(59===t.charCodeAt(Xg)?(l=mo,Xg++):(l=Sr,0===em&&u(yo)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr){if(p=Xg,(f=Me())!==Sr){for(d=[],h=ur();h!==Sr;)d.push(h),h=ur();d!==Sr?(h=De(),h!==Sr?(f=[f,d,h],p=f):(Xg=p,p=Sr)):(Xg=p,p=Sr)}else Xg=p,p=Sr;p===Sr&&(p=null),p!==Sr?(a=[a,l,c,p],s=a):(Xg=s,s=Sr)}else Xg=s,s=Sr}else Xg=s,s=Sr;else Xg=s,s=Sr;for(;s!==Sr;){for(o.push(s),s=Xg,a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(59===t.charCodeAt(Xg)?(l=mo,Xg++):(l=Sr,0===em&&u(yo)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr){if(p=Xg,(f=Me())!==Sr){for(d=[],h=ur();h!==Sr;)d.push(h),h=ur();d!==Sr?(h=De(),h!==Sr?(f=[f,d,h],p=f):(Xg=p,p=Sr)):(Xg=p,p=Sr)}else Xg=p,p=Sr;p===Sr&&(p=null),p!==Sr?(a=[a,l,c,p],s=a):(Xg=s,s=Sr)}else Xg=s,s=Sr}else Xg=s,s=Sr;else Xg=s,s=Sr}o!==Sr?(Yg=e,r=Iu(r,i,o),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Tu)),e}function Oe(){var e;return em++,e=ke(),e===Sr&&(e=null),em--,e===Sr&&(Sr,0===em&&u(wu)),e}function Pe(){var e,r,n,i,o,s,a,l;if(em++,e=Xg,(r=Fe())!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr){if(i=[],o=Xg,44===t.charCodeAt(Xg)?(s=lu,Xg++):(s=Sr,0===em&&u(cu)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=Fe(),l!==Sr?(s=[s,a,l],o=s):(Xg=o,o=Sr)):(Xg=o,o=Sr)}else Xg=o,o=Sr;for(;o!==Sr;)if(i.push(o),o=Xg,44===t.charCodeAt(Xg)?(s=lu,Xg++):(s=Sr,0===em&&u(cu)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=Fe(),l!==Sr?(s=[s,a,l],o=s):(Xg=o,o=Sr)):(Xg=o,o=Sr)}else Xg=o,o=Sr;i!==Sr?(Yg=e,r=Au(r,i),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Cu)),e}function De(){var e,r,n,i,o,s,a,l;if(em++,e=Xg,(r=je())!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr){if(i=[],o=Xg,44===t.charCodeAt(Xg)?(s=lu,Xg++):(s=Sr,0===em&&u(cu)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=je(),l!==Sr?(s=[s,a,l],o=s):(Xg=o,o=Sr)):(Xg=o,o=Sr)}else Xg=o,o=Sr;for(;o!==Sr;)if(i.push(o),o=Xg,44===t.charCodeAt(Xg)?(s=lu,Xg++):(s=Sr,0===em&&u(cu)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=je(),l!==Sr?(s=[s,a,l],o=s):(Xg=o,o=Sr)):(Xg=o,o=Sr)}else Xg=o,o=Sr;i!==Sr?(Yg=e,r=Lu(r,i),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Nu)),e}function Fe(){var e;return em++,e=st(),em--,e===Sr&&(Sr,0===em&&u(Ru)),e}function je(){var e;return em++,e=at(),em--,e===Sr&&(Sr,0===em&&u(_u)),e}function Me(){var e,r;return em++,e=lt(),e===Sr&&(e=Xg,97===t.charCodeAt(Xg)?(r=Ou,Xg++):(r=Sr,0===em&&u(Pu)),r!==Sr&&(Yg=e,r=Du()),e=r),em--,e===Sr&&(r=Sr,0===em&&u(ku)),e}function $e(){var e,t,r,n,i;for(em++,e=Xg,t=[],r=ur();r!==Sr;)t.push(r),r=ur();if(t!==Sr)if((r=ut())!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(i=Be(),i!==Sr?(Yg=e,t=ju(r,i),e=t):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr;if(e===Sr){for(e=Xg,t=[],r=ur();r!==Sr;)t.push(r),r=ur();if(t!==Sr)if((r=et())!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(i=Ue(),i!==Sr?(Yg=e,t=Mu(r,i),e=t):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}return em--,e===Sr&&(t=Sr,0===em&&u(Fu)),e}function Be(){var e,r,n,i,o,s,a,l,c,p,f,d;if(em++,e=Xg,r=Ge(),r===Sr&&(r=He()),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if((i=Pe())!==Sr){for(o=[],s=Xg,a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(59===t.charCodeAt(Xg)?(l=mo,Xg++):(l=Sr,0===em&&u(yo)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();c!==Sr?(p=Xg,f=Ge(),f===Sr&&(f=He()),f!==Sr?(d=De(),d!==Sr?(f=[f,d],p=f):(Xg=p,p=Sr)):(Xg=p,p=Sr),p===Sr&&(p=null),p!==Sr?(a=[a,l,c,p],s=a):(Xg=s,s=Sr)):(Xg=s,s=Sr)}else Xg=s,s=Sr;else Xg=s,s=Sr;for(;s!==Sr;){for(o.push(s),s=Xg,a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(59===t.charCodeAt(Xg)?(l=mo,Xg++):(l=Sr,0===em&&u(yo)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();c!==Sr?(p=Xg,f=Ge(),f===Sr&&(f=He()),f!==Sr?(d=De(),d!==Sr?(f=[f,d],p=f):(Xg=p,p=Sr)):(Xg=p,p=Sr),p===Sr&&(p=null),p!==Sr?(a=[a,l,c,p],s=a):(Xg=s,s=Sr)):(Xg=s,s=Sr)}else Xg=s,s=Sr;else Xg=s,s=Sr}o!==Sr?(Yg=e,r=Bu(r,i,o),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u($u)),e}function Ue(){var e;return em++,e=_e(),e===Sr&&(e=null),em--,e===Sr&&(Sr,0===em&&u(Uu)),e}function Ge(){var e,t;return em++,e=Xg,t=qe(),t!==Sr&&(Yg=e,t=Hu(t)),e=t,em--,e===Sr&&(t=Sr,0===em&&u(Gu)),e}function He(){var e;return em++,e=ct(),em--,e===Sr&&(Sr,0===em&&u(qu)),e}function qe(){var e;return em++,e=Ve(),em--,e===Sr&&(Sr,0===em&&u(Vu)),e}function Ve(){var e,r,n,i,o,s;if(em++,e=Xg,(r=Qe())!==Sr){for(n=[],i=Xg,124===t.charCodeAt(Xg)?(o=Wu,Xg++):(o=Sr,0===em&&u(zu)),o!==Sr?(s=Qe(),s!==Sr?(o=[o,s],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr);i!==Sr;)n.push(i),i=Xg,124===t.charCodeAt(Xg)?(o=Wu,Xg++):(o=Sr,0===em&&u(zu)),o!==Sr?(s=Qe(),s!==Sr?(o=[o,s],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr);n!==Sr?(Yg=e,r=Xu(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Qu)),e}function Qe(){var e,r,n,i,o,s;if(em++,e=Xg,(r=ze())!==Sr){for(n=[],i=Xg,47===t.charCodeAt(Xg)?(o=Ku,Xg++):(o=Sr,0===em&&u(Ju)),o!==Sr?(s=ze(),s!==Sr?(o=[o,s],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr);i!==Sr;)n.push(i),i=Xg,47===t.charCodeAt(Xg)?(o=Ku,Xg++):(o=Sr,0===em&&u(Ju)),o!==Sr?(s=ze(),s!==Sr?(o=[o,s],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr);n!==Sr?(Yg=e,r=Zu(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Yu)),e}function We(){var e,t,r;return em++,e=Xg,t=Ye(),t!==Sr?(r=Xe(),r===Sr&&(r=null),r!==Sr?(Yg=e,t=tl(t,r),e=t):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(t=Sr,0===em&&u(el)),e}function ze(){var e,r,n;return em++,e=We(),e===Sr&&(e=Xg,94===t.charCodeAt(Xg)?(r=nl,Xg++):(r=Sr,0===em&&u(il)),r!==Sr?(n=We(),n!==Sr?(Yg=e,r=ol(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)),em--,e===Sr&&(r=Sr,0===em&&u(rl)),e}function Xe(){var e,r,n,i,o,s,a,l,c;return em++,42===t.charCodeAt(Xg)?(e=hn,Xg++):(e=Sr,0===em&&u(vn)),e===Sr&&(63===t.charCodeAt(Xg)?(e=al,Xg++):(e=Sr,0===em&&u(ul)),e===Sr&&(43===t.charCodeAt(Xg)?(e=ll,Xg++):(e=Sr,0===em&&u(cl)),e===Sr&&(e=Xg,123===t.charCodeAt(Xg)?(r=An,Xg++):(r=Sr,0===em&&u(Nn)),r!==Sr?(n=Xg,i=Ze(),i!==Sr?(o=Xg,44===t.charCodeAt(Xg)?(s=lu,Xg++):(s=Sr,0===em&&u(cu)),s!==Sr?(125===t.charCodeAt(Xg)?(a=Ln,Xg++):(a=Sr,0===em&&u(Rn)),a===Sr&&(a=Xg,l=Ze(),l!==Sr?(125===t.charCodeAt(Xg)?(c=Ln,Xg++):(c=Sr,0===em&&u(Rn)),c!==Sr?(l=[l,c],a=l):(Xg=a,a=Sr)):(Xg=a,a=Sr)),a!==Sr?(s=[s,a],o=s):(Xg=o,o=Sr)):(Xg=o,o=Sr),o===Sr&&(125===t.charCodeAt(Xg)?(o=Ln,Xg++):(o=Sr,0===em&&u(Rn))),o!==Sr?(i=[i,o],n=i):(Xg=n,n=Sr)):(Xg=n,n=Sr),n===Sr&&(n=Xg,44===t.charCodeAt(Xg)?(i=lu,Xg++):(i=Sr,0===em&&u(cu)),i!==Sr?(o=Ze(),o!==Sr?(125===t.charCodeAt(Xg)?(s=Ln,Xg++):(s=Sr,0===em&&u(Rn)),s!==Sr?(i=[i,o,s],n=i):(Xg=n,n=Sr)):(Xg=n,n=Sr)):(Xg=n,n=Sr)),n!==Sr?(r=[r,n],e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)))),em--,e===Sr&&(r=Sr,0===em&&u(sl)),e}function Ye(){var e,r,n,i;return em++,e=Ft(),e===Sr&&(e=Xg,97===t.charCodeAt(Xg)?(r=Ou,Xg++):(r=Sr,0===em&&u(Pu)),r!==Sr&&(Yg=e,r=Du()),(e=r)===Sr&&(e=Xg,33===t.charCodeAt(Xg)?(r=fl,Xg++):(r=Sr,0===em&&u(dl)),r!==Sr?(n=Ke(),n!==Sr?(r=[r,n],e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),e===Sr&&(e=Xg,40===t.charCodeAt(Xg)?(r=sn,Xg++):(r=Sr,0===em&&u(an)),r!==Sr?(n=qe(),n!==Sr?(41===t.charCodeAt(Xg)?(i=fn,Xg++):(i=Sr,0===em&&u(dn)),i!==Sr?(Yg=e,r=ua(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)):(Xg=e,e=Sr)))),em--,e===Sr&&(r=Sr,0===em&&u(pl)),e}function Ke(){var e,r,n,i,o,s,a,l;if((e=Je())===Sr)if(e=Xg,40===t.charCodeAt(Xg)?(r=sn,Xg++):(r=Sr,0===em&&u(an)),r!==Sr){if(n=Xg,(i=Je())!==Sr){for(o=[],s=Xg,124===t.charCodeAt(Xg)?(a=Wu,Xg++):(a=Sr,0===em&&u(zu)),a!==Sr?(l=Je(),l!==Sr?(a=[a,l],s=a):(Xg=s,s=Sr)):(Xg=s,s=Sr);s!==Sr;)o.push(s),s=Xg,124===t.charCodeAt(Xg)?(a=Wu,Xg++):(a=Sr,0===em&&u(zu)),a!==Sr?(l=Je(),l!==Sr?(a=[a,l],s=a):(Xg=s,s=Sr)):(Xg=s,s=Sr);o!==Sr?(i=[i,o],n=i):(Xg=n,n=Sr)}else Xg=n,n=Sr;n===Sr&&(n=null),n!==Sr?(41===t.charCodeAt(Xg)?(i=fn,Xg++):(i=Sr,0===em&&u(dn)),i!==Sr?(r=[r,n,i],e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;return e}function Je(){var e,r,n;return em++,e=Ft(),e===Sr&&(97===t.charCodeAt(Xg)?(e=Ou,Xg++):(e=Sr,0===em&&u(Pu)),e===Sr&&(e=Xg,94===t.charCodeAt(Xg)?(r=nl,Xg++):(r=Sr,0===em&&u(il)),r!==Sr?(n=Ft(),n===Sr&&(97===t.charCodeAt(Xg)?(n=Ou,Xg++):(n=Sr,0===em&&u(Pu))),n!==Sr?(r=[r,n],e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr))),em--,e===Sr&&(r=Sr,0===em&&u(hl)),e}function Ze(){var e;return em++,e=Qt(),em--,e===Sr&&(Sr,0===em&&u(vl)),e}function et(){var e,t;return em++,e=Xg,t=it(),t!==Sr&&(Yg=e,t=ml(t)),e=t,e===Sr&&(e=rt()),em--,e===Sr&&(t=Sr,0===em&&u(gl)),e}function tt(){var e,t;return em++,e=Xg,t=ot(),t!==Sr&&(Yg=e,t=bl(t)),e=t,e===Sr&&(e=nt()),em--,e===Sr&&(t=Sr,0===em&&u(yl)),e}function rt(){var e,r,n,i,o,s,a,l;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(91===t.charCodeAt(Xg)?(n=xl,Xg++):(n=Sr,0===em&&u(Sl)),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if((o=Be())!==Sr)if(93===t.charCodeAt(Xg)?(s=Tl,Xg++):(s=Sr,0===em&&u(Il)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(Yg=e,r=wl(o),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(El)),e}function nt(){var e,r,n,i,o,s,a,l,c;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(91===t.charCodeAt(Xg)?(n=xl,Xg++):(n=Sr,0===em&&u(Sl)),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if((o=ke())!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr)if(93===t.charCodeAt(Xg)?(a=Tl,Xg++):(a=Sr,0===em&&u(Il)),a!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();l!==Sr?(Yg=e,r=Al(o),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Cl)),e}function it(){var e,r,n,i,o,s,a,l,c;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(40===t.charCodeAt(Xg)?(n=sn,Xg++):(n=Sr,0===em&&u(an)),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr){if(o=[],(s=st())!==Sr)for(;s!==Sr;)o.push(s),s=st();else o=Sr;if(o!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr)if(41===t.charCodeAt(Xg)?(a=fn,Xg++):(a=Sr,0===em&&u(dn)),a!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();l!==Sr?(Yg=e,r=Ll(o),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Nl)),e}function ot(){var e,r,n,i,o,s,a,l,c;for(em++,e=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if(40===t.charCodeAt(Xg)?(n=sn,Xg++):(n=Sr,0===em&&u(an)),n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr){if(o=[],(s=at())!==Sr)for(;s!==Sr;)o.push(s),s=at();else o=Sr;if(o!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr)if(41===t.charCodeAt(Xg)?(a=fn,Xg++):(a=Sr,0===em&&u(dn)),a!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();l!==Sr?(Yg=e,r=Ll(o),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Rl)),e}function st(){var e,t,r,n,i,o;for(em++,e=Xg,t=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if((n=ut())!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();i!==Sr?(r=[r,n,i],t=r):(Xg=t,t=Sr)}else Xg=t,t=Sr;else Xg=t,t=Sr;if(t===Sr){for(t=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if((n=et())!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();i!==Sr?(r=[r,n,i],t=r):(Xg=t,t=Sr)}else Xg=t,t=Sr;else Xg=t,t=Sr}return t!==Sr&&(Yg=e,t=kl(t)),e=t,em--,e===Sr&&(t=Sr,0===em&&u(_l)),e}function at(){var e,t,r,n,i,o;for(em++,e=Xg,t=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if((n=ut())!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();i!==Sr?(r=[r,n,i],t=r):(Xg=t,t=Sr)}else Xg=t,t=Sr;else Xg=t,t=Sr;if(t===Sr){for(t=Xg,r=[],n=ur();n!==Sr;)r.push(n),n=ur();if(r!==Sr)if((n=tt())!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();i!==Sr?(r=[r,n,i],t=r):(Xg=t,t=Sr)}else Xg=t,t=Sr;else Xg=t,t=Sr}return t!==Sr&&(Yg=e,t=kl(t)),e=t,em--,e===Sr&&(t=Sr,0===em&&u(Ol)),e}function ut(){var e;return em++,e=ct(),e===Sr&&(e=pt()),em--,e===Sr&&(Sr,0===em&&u(Pl)),e}function lt(){var e;return em++,e=ct(),e===Sr&&(e=Ft()),em--,e===Sr&&(Sr,0===em&&u(Dl)),e}function ct(){var e,t,r,n,i;for(em++,e=Xg,t=[],r=ur();r!==Sr;)t.push(r),r=ur();if(t!==Sr)if(r=Ht(),r===Sr&&(r=qt()),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(Yg=e,t=jl(r),e=t):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(t=Sr,0===em&&u(Fl)),e}function pt(){var e;return em++,e=Ft(),e===Sr&&(e=Lt())===Sr&&(e=Rt())===Sr&&(e=Pt())===Sr&&(e=Mt())===Sr&&(e=ar()),em--,e===Sr&&(Sr,0===em&&u(Ml)),e}function ft(){var e;return em++,e=dt(),em--,e===Sr&&(Sr,0===em&&u($l)),e}function dt(){var e,r,n,i,o,s,a,l;if(em++,e=Xg,(r=ht())!==Sr){for(n=[],i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,2)===Ul?(s=Ul,Xg+=2):(s=Sr,0===em&&u(Gl)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=ht(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;for(;i!==Sr;){for(n.push(i),i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,2)===Ul?(s=Ul,Xg+=2):(s=Sr,0===em&&u(Gl)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=ht(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr}n!==Sr?(Yg=e,r=Hl(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Bl)),e}function ht(){var e,r,n,i,o,s,a,l;if(em++,e=Xg,(r=vt())!==Sr){for(n=[],i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,2)===Vl?(s=Vl,Xg+=2):(s=Sr,0===em&&u(Ql)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=vt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;for(;i!==Sr;){for(n.push(i),i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,2)===Vl?(s=Vl,Xg+=2):(s=Sr,0===em&&u(Ql)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=vt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr}n!==Sr?(Yg=e,r=Wl(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(ql)),e}function vt(){var e;return em++,e=gt(),em--,e===Sr&&(Sr,0===em&&u(zl)),e}function gt(){var e,r,n,i,o,s,a,l,c,p,f,d,h;if(em++,e=Xg,(r=mt())!==Sr){for(n=[],i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(61===t.charCodeAt(Xg)?(s=Yl,Xg++):(s=Sr,0===em&&u(Kl)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=mt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,2)===Jl?(s=Jl,Xg+=2):(s=Sr,0===em&&u(Zl)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=mt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(60===t.charCodeAt(Xg)?(s=ec,Xg++):(s=Sr,0===em&&u(tc)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=mt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(62===t.charCodeAt(Xg)?(s=rc,Xg++):(s=Sr,0===em&&u(nc)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=mt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,2)===ic?(s=ic,Xg+=2):(s=Sr,0===em&&u(oc)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=mt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,2)===sc?(s=sc,Xg+=2):(s=Sr,0===em&&u(ac)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=mt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(73===t.charCodeAt(Xg)?(s=uc,Xg++):(s=Sr,0===em&&u(lc)),s===Sr&&(105===t.charCodeAt(Xg)?(s=cc,Xg++):(s=Sr,0===em&&u(pc))),s!==Sr)if(78===t.charCodeAt(Xg)?(a=fc,Xg++):(a=Sr,0===em&&u(dc)),a===Sr&&(110===t.charCodeAt(Xg)?(a=hc,Xg++):(a=Sr,0===em&&u(vc))),a!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();l!==Sr?(c=Ae(),c!==Sr?(o=[o,s,a,l,c],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(78===t.charCodeAt(Xg)?(s=fc,Xg++):(s=Sr,0===em&&u(dc)),s===Sr&&(110===t.charCodeAt(Xg)?(s=hc,Xg++):(s=Sr,0===em&&u(vc))),s!==Sr)if(79===t.charCodeAt(Xg)?(a=gc,Xg++):(a=Sr,0===em&&u(mc)),a===Sr&&(111===t.charCodeAt(Xg)?(a=yc,Xg++):(a=Sr,0===em&&u(bc))),a!==Sr)if(84===t.charCodeAt(Xg)?(l=Ec,Xg++):(l=Sr,0===em&&u(xc)),l===Sr&&(116===t.charCodeAt(Xg)?(l=Sc,Xg++):(l=Sr,0===em&&u(Tc))),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if(73===t.charCodeAt(Xg)?(p=uc,Xg++):(p=Sr,0===em&&u(lc)),p===Sr&&(105===t.charCodeAt(Xg)?(p=cc,Xg++):(p=Sr,0===em&&u(pc))),p!==Sr)if(78===t.charCodeAt(Xg)?(f=fc,Xg++):(f=Sr,0===em&&u(dc)),f===Sr&&(110===t.charCodeAt(Xg)?(f=hc,Xg++):(f=Sr,0===em&&u(vc))),f!==Sr){for(d=[],h=ur();h!==Sr;)d.push(h),h=ur();d!==Sr?(h=Ae(),h!==Sr?(o=[o,s,a,l,c,p,f,d,h],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;else Xg=i,i=Sr}else Xg=i,i=Sr;else Xg=i,i=Sr;else Xg=i,i=Sr;else Xg=i,i=Sr}}}}}}}for(;i!==Sr;){for(n.push(i),i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(61===t.charCodeAt(Xg)?(s=Yl,Xg++):(s=Sr,0===em&&u(Kl)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=mt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,2)===Jl?(s=Jl,Xg+=2):(s=Sr,0===em&&u(Zl)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=mt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(60===t.charCodeAt(Xg)?(s=ec,Xg++):(s=Sr,0===em&&u(tc)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=mt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(62===t.charCodeAt(Xg)?(s=rc,Xg++):(s=Sr,0===em&&u(nc)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=mt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,2)===ic?(s=ic,Xg+=2):(s=Sr,0===em&&u(oc)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=mt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,2)===sc?(s=sc,Xg+=2):(s=Sr,0===em&&u(ac)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=mt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(73===t.charCodeAt(Xg)?(s=uc,Xg++):(s=Sr,0===em&&u(lc)),s===Sr&&(105===t.charCodeAt(Xg)?(s=cc,Xg++):(s=Sr,0===em&&u(pc))),s!==Sr)if(78===t.charCodeAt(Xg)?(a=fc,Xg++):(a=Sr,0===em&&u(dc)),a===Sr&&(110===t.charCodeAt(Xg)?(a=hc,Xg++):(a=Sr,0===em&&u(vc))),a!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();l!==Sr?(c=Ae(),c!==Sr?(o=[o,s,a,l,c],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(78===t.charCodeAt(Xg)?(s=fc,Xg++):(s=Sr,0===em&&u(dc)),s===Sr&&(110===t.charCodeAt(Xg)?(s=hc,Xg++):(s=Sr,0===em&&u(vc))),s!==Sr)if(79===t.charCodeAt(Xg)?(a=gc,Xg++):(a=Sr,0===em&&u(mc)),a===Sr&&(111===t.charCodeAt(Xg)?(a=yc,Xg++):(a=Sr,0===em&&u(bc))),a!==Sr)if(84===t.charCodeAt(Xg)?(l=Ec,Xg++):(l=Sr,0===em&&u(xc)),l===Sr&&(116===t.charCodeAt(Xg)?(l=Sc,Xg++):(l=Sr,0===em&&u(Tc))),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if(73===t.charCodeAt(Xg)?(p=uc,Xg++):(p=Sr,0===em&&u(lc)),p===Sr&&(105===t.charCodeAt(Xg)?(p=cc,Xg++):(p=Sr,0===em&&u(pc))),p!==Sr)if(78===t.charCodeAt(Xg)?(f=fc,Xg++):(f=Sr,0===em&&u(dc)),f===Sr&&(110===t.charCodeAt(Xg)?(f=hc,Xg++):(f=Sr,0===em&&u(vc))),f!==Sr){for(d=[],h=ur();h!==Sr;)d.push(h),h=ur();d!==Sr?(h=Ae(),h!==Sr?(o=[o,s,a,l,c,p,f,d,h],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;else Xg=i,i=Sr}else Xg=i,i=Sr;else Xg=i,i=Sr;else Xg=i,i=Sr;else Xg=i,i=Sr}}}}}}}}n!==Sr?(Yg=e,r=Ic(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Xl)),e}function mt(){var e;return em++,e=yt(),em--,e===Sr&&(Sr,0===em&&u(wc)),e}function yt(){var e,r,n,i,o,s,a,l,c,p;if(em++,e=Xg,(r=bt())!==Sr){for(n=[],i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(43===t.charCodeAt(Xg)?(s=ll,Xg++):(s=Sr,0===em&&u(cl)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=bt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(45===t.charCodeAt(Xg)?(s=Ac,Xg++):(s=Sr,0===em&&u(Nc)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=bt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr)if(i=Xg,o=Ot(),o===Sr&&(o=Ot()),o!==Sr){for(s=Xg,a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(42===t.charCodeAt(Xg)?(l=hn,Xg++):(l=Sr,0===em&&u(vn)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();c!==Sr?(p=Et(),p!==Sr?(a=[a,l,c,p],s=a):(Xg=s,s=Sr)):(Xg=s,s=Sr)}else Xg=s,s=Sr;else Xg=s,s=Sr;if(s===Sr){for(s=Xg,a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(47===t.charCodeAt(Xg)?(l=Ku,Xg++):(l=Sr,0===em&&u(Ju)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();c!==Sr?(p=Et(),p!==Sr?(a=[a,l,c,p],s=a):(Xg=s,s=Sr)):(Xg=s,s=Sr)}else Xg=s,s=Sr;else Xg=s,s=Sr}s===Sr&&(s=null),s!==Sr?(o=[o,s],i=o):(Xg=i,i=Sr)}else Xg=i,i=Sr}for(;i!==Sr;){for(n.push(i),i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(43===t.charCodeAt(Xg)?(s=ll,Xg++):(s=Sr,0===em&&u(cl)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=bt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(45===t.charCodeAt(Xg)?(s=Ac,Xg++):(s=Sr,0===em&&u(Nc)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=bt(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr)if(i=Xg,o=Ot(),o===Sr&&(o=Ot()),o!==Sr){for(s=Xg,a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(42===t.charCodeAt(Xg)?(l=hn,Xg++):(l=Sr,0===em&&u(vn)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();c!==Sr?(p=Et(),p!==Sr?(a=[a,l,c,p],s=a):(Xg=s,s=Sr)):(Xg=s,s=Sr)}else Xg=s,s=Sr;else Xg=s,s=Sr;if(s===Sr){for(s=Xg,a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(47===t.charCodeAt(Xg)?(l=Ku,Xg++):(l=Sr,0===em&&u(Ju)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();c!==Sr?(p=Et(),p!==Sr?(a=[a,l,c,p],s=a):(Xg=s,s=Sr)):(Xg=s,s=Sr)}else Xg=s,s=Sr;else Xg=s,s=Sr}s===Sr&&(s=null),s!==Sr?(o=[o,s],i=o):(Xg=i,i=Sr)}else Xg=i,i=Sr}}n!==Sr?(Yg=e,r=Lc(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Cc)),e}function bt(){var e,r,n,i,o,s,a,l;if(em++,e=Xg,(r=Et())!==Sr){for(n=[],i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(42===t.charCodeAt(Xg)?(s=hn,Xg++):(s=Sr,0===em&&u(vn)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=Et(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(47===t.charCodeAt(Xg)?(s=Ku,Xg++):(s=Sr,0===em&&u(Ju)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=Et(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr}for(;i!==Sr;){for(n.push(i),i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(42===t.charCodeAt(Xg)?(s=hn,Xg++):(s=Sr,0===em&&u(vn)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=Et(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr;if(i===Sr){for(i=Xg,o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(47===t.charCodeAt(Xg)?(s=Ku,Xg++):(s=Sr,0===em&&u(Ju)),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(l=Et(),l!==Sr?(o=[o,s,a,l],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr}}n!==Sr?(Yg=e,r=_c(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Rc)),e}function Et(){var e,r,n,i;if(em++,e=Xg,33===t.charCodeAt(Xg)?(r=fl,Xg++):(r=Sr,0===em&&u(dl)),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(i=xt(),i!==Sr?(Yg=e,r=Oc(i),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,43===t.charCodeAt(Xg)?(r=ll,Xg++):(r=Sr,0===em&&u(cl)),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(i=xt(),i!==Sr?(Yg=e,r=Pc(i),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,45===t.charCodeAt(Xg)?(r=Ac,Xg++):(r=Sr,0===em&&u(Nc)),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(i=xt(),i!==Sr?(Yg=e,r=Dc(i),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;e===Sr&&(e=xt())}}return em--,e===Sr&&(r=Sr,0===em&&u(kc)),e}function xt(){var e,t;return em++,e=St(),e===Sr&&(e=Tt())===Sr&&(e=Nt())===Sr&&(e=Xg,t=Lt(),t!==Sr&&(Yg=e,t=jc(t)),(e=t)===Sr&&(e=Xg,t=Rt(),t!==Sr&&(Yg=e,t=Mc(t)),(e=t)===Sr&&(e=Xg,t=Pt(),t!==Sr&&(Yg=e,t=$c(t)),(e=t)===Sr&&(e=At())===Sr&&(e=Xg,t=ct(),t!==Sr&&(Yg=e,t=Bc(t)),e=t)))),em--,e===Sr&&(t=Sr,0===em&&u(Fc)),e}function St(){var e,r,n,i,o,s;if(em++,e=Xg,40===t.charCodeAt(Xg)?(r=sn,Xg++):(r=Sr,0===em&&u(an)),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if((i=ft())!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();o!==Sr?(41===t.charCodeAt(Xg)?(s=fn,Xg++):(s=Sr,0===em&&u(dn)),s!==Sr?(Yg=e,r=Gc(i),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Uc)),e}function Tt(){var e,r,n,i,o,s,a,l,c,p,f,d,h,v,g,m;if(em++,e=Xg,t.substr(Xg,3)===qc?(r=qc,Xg+=3):(r=Sr,0===em&&u(Vc)),r===Sr&&(t.substr(Xg,3)===Qc?(r=Qc,Xg+=3):(r=Sr,0===em&&u(Wc))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if((s=ft())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(41===t.charCodeAt(Xg)?(l=fn,Xg++):(l=Sr,0===em&&u(dn)),l!==Sr?(Yg=e,r=zc(s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,4)===Xc?(r=Xc,Xg+=4):(r=Sr,0===em&&u(Yc)),r===Sr&&(t.substr(Xg,4)===Kc?(r=Kc,Xg+=4):(r=Sr,0===em&&u(Jc))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if((s=ft())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(41===t.charCodeAt(Xg)?(l=fn,Xg++):(l=Sr,0===em&&u(dn)),l!==Sr?(Yg=e,r=Zc(s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,11)===ep?(r=ep,Xg+=11):(r=Sr,0===em&&u(tp)),r===Sr&&(t.substr(Xg,11)===rp?(r=rp,Xg+=11):(r=Sr,0===em&&u(np))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if((s=ft())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(44===t.charCodeAt(Xg)?(l=lu,Xg++):(l=Sr,0===em&&u(cu)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if((p=ft())!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();f!==Sr?(41===t.charCodeAt(Xg)?(d=fn,Xg++):(d=Sr,0===em&&u(dn)),d!==Sr?(Yg=e,r=ip(s,p),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,8)===op?(r=op,Xg+=8):(r=Sr,0===em&&u(sp)),r===Sr&&(t.substr(Xg,8)===ap?(r=ap,Xg+=8):(r=Sr,0===em&&u(up))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if((s=ft())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(41===t.charCodeAt(Xg)?(l=fn,Xg++):(l=Sr,0===em&&u(dn)),l!==Sr?(Yg=e,r=lp(s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,5)===cp?(r=cp,Xg+=5):(r=Sr,0===em&&u(pp)),r===Sr&&(t.substr(Xg,5)===fp?(r=fp,Xg+=5):(r=Sr,0===em&&u(dp))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if((s=ct())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(41===t.charCodeAt(Xg)?(l=fn,Xg++):(l=Sr,0===em&&u(dn)),l!==Sr?(Yg=e,r=hp(s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,3)===vp?(r=vp,Xg+=3):(r=Sr,0===em&&u(gp)),r===Sr&&(t.substr(Xg,3)===mp?(r=mp,Xg+=3):(r=Sr,0===em&&u(yp))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if((s=ft())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(41===t.charCodeAt(Xg)?(l=fn,Xg++):(l=Sr,0===em&&u(dn)),l!==Sr?(Yg=e,r=bp(s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,3)===Ep?(r=Ep,Xg+=3):(r=Sr,0===em&&u(xp)),r===Sr&&(t.substr(Xg,3)===Sp?(r=Sp,Xg+=3):(r=Sr,0===em&&u(Tp))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if((s=ft())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(41===t.charCodeAt(Xg)?(l=fn,Xg++):(l=Sr,0===em&&u(dn)),l!==Sr?(Yg=e,r=Ip(s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,5)===wp?(r=wp,Xg+=5):(r=Sr,0===em&&u(Cp)),r===Sr&&(t.substr(Xg,5)===Ap?(r=Ap,Xg+=5):(r=Sr,0===em&&u(Np))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr){if(i=Xg,40===t.charCodeAt(Xg)?(o=sn,Xg++):(o=Sr,0===em&&u(an)),o!==Sr){for(s=[],a=ur();a!==Sr;)s.push(a),a=ur();if(s!==Sr)if((a=ft())!==Sr){for(l=[],c=ur();c!==Sr;)l.push(c),c=ur();l!==Sr?(41===t.charCodeAt(Xg)?(c=fn,Xg++):(c=Sr,0===em&&u(dn)),c!==Sr?(o=[o,s,a,l,c],i=o):(Xg=i,i=Sr)):(Xg=i,i=Sr)}else Xg=i,i=Sr;else Xg=i,i=Sr}else Xg=i,i=Sr;i===Sr&&(i=ar()),i!==Sr?(Yg=e,r=Lp(i),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,8)===Rp?(r=Rp,Xg+=8):(r=Sr,0===em&&u(_p)),r===Sr&&(t.substr(Xg,8)===kp?(r=kp,Xg+=8):(r=Sr,0===em&&u(Op))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(i=Ae(),i!==Sr?(Yg=e,r=Pp(i),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,2)===Dp?(r=Dp,Xg+=2):(r=Sr,0===em&&u(Fp)),r===Sr&&(t.substr(Xg,2)===jp?(r=jp,Xg+=2):(r=Sr,0===em&&u(Mp))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if((s=ft())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(44===t.charCodeAt(Xg)?(l=lu,Xg++):(l=Sr,0===em&&u(cu)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if((p=ft())!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();if(f!==Sr)if(44===t.charCodeAt(Xg)?(d=lu,Xg++):(d=Sr,0===em&&u(cu)),d!==Sr){for(h=[],v=ur();v!==Sr;)h.push(v),v=ur();if(h!==Sr)if((v=ft())!==Sr){for(g=[],m=ur();m!==Sr;)g.push(m),m=ur();g!==Sr?(41===t.charCodeAt(Xg)?(m=fn,Xg++):(m=Sr,0===em&&u(dn)),m!==Sr?(Yg=e,r=$p(s,p,v),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,9)===Bp?(r=Bp,Xg+=9):(r=Sr,0===em&&u(Up)),r===Sr&&(t.substr(Xg,9)===Gp?(r=Gp,Xg+=9):(r=Sr,0===em&&u(Hp)),r===Sr&&(t.substr(Xg,9)===qp?(r=qp,Xg+=9):(r=Sr,0===em&&u(Vp)))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if((s=ft())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(41===t.charCodeAt(Xg)?(l=fn,Xg++):(l=Sr,0===em&&u(dn)),l!==Sr?(Yg=e,r=Qp(s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,7)===Wp?(r=Wp,Xg+=7):(r=Sr,0===em&&u(zp)),r===Sr&&(t.substr(Xg,7)===Xp?(r=Xp,Xg+=7):(r=Sr,0===em&&u(Yp)),r===Sr&&(t.substr(Xg,7)===Kp?(r=Kp,Xg+=7):(r=Sr,0===em&&u(Jp)))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if((s=ft())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(41===t.charCodeAt(Xg)?(l=fn,Xg++):(l=Sr,0===em&&u(dn)),l!==Sr?(Yg=e,r=Zp(s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,8)===ef?(r=ef,Xg+=8):(r=Sr,0===em&&u(tf)),r===Sr&&(t.substr(Xg,8)===rf?(r=rf,Xg+=8):(r=Sr,0===em&&u(nf))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if((s=ft())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(44===t.charCodeAt(Xg)?(l=lu,Xg++):(l=Sr,0===em&&u(cu)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if((p=ft())!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();f!==Sr?(41===t.charCodeAt(Xg)?(d=fn,Xg++):(d=Sr,0===em&&u(dn)),d!==Sr?(Yg=e,r=of(s,p),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,5)===sf?(r=sf,Xg+=5):(r=Sr,0===em&&u(af)),r===Sr&&(t.substr(Xg,5)===uf?(r=uf,Xg+=5):(r=Sr,0===em&&u(lf)),r===Sr&&(t.substr(Xg,5)===cf?(r=cf,Xg+=5):(r=Sr,0===em&&u(pf)),r===Sr&&(t.substr(Xg,5)===ff?(r=ff,Xg+=5):(r=Sr,0===em&&u(df)),r===Sr&&(t.substr(Xg,5)===hf?(r=hf,Xg+=5):(r=Sr,0===em&&u(vf)),r===Sr&&(t.substr(Xg,5)===gf?(r=gf,Xg+=5):(r=Sr,0===em&&u(mf))))))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if((s=ft())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();a!==Sr?(41===t.charCodeAt(Xg)?(l=fn,Xg++):(l=Sr,0===em&&u(dn)),l!==Sr?(Yg=e,r=yf(s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,7)===bf?(r=bf,Xg+=7):(r=Sr,0===em&&u(Ef)),r===Sr&&(t.substr(Xg,7)===xf?(r=xf,Xg+=7):(r=Sr,0===em&&u(Sf))),r!==Sr){if(n=[],Tf.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(If)),i!==Sr)for(;i!==Sr;)n.push(i),Tf.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(If));else n=Sr;if(n!==Sr){for(i=[],o=ur();o!==Sr;)i.push(o),o=ur();if(i!==Sr)if(40===t.charCodeAt(Xg)?(o=sn,Xg++):(o=Sr,0===em&&u(an)),o!==Sr){for(s=[],a=Xg,l=[],c=ur();c!==Sr;)l.push(c),c=ur();for(l!==Sr?(c=ft(),c!==Sr?(44===t.charCodeAt(Xg)?(p=lu,Xg++):(p=Sr,0===em&&u(cu)),p!==Sr?(l=[l,c,p],a=l):(Xg=a,a=Sr)):(Xg=a,a=Sr)):(Xg=a,a=Sr);a!==Sr;){for(s.push(a),a=Xg,l=[],c=ur();c!==Sr;)l.push(c),c=ur();l!==Sr?(c=ft(),c!==Sr?(44===t.charCodeAt(Xg)?(p=lu,Xg++):(p=Sr,0===em&&u(cu)),p!==Sr?(l=[l,c,p],a=l):(Xg=a,a=Sr)):(Xg=a,a=Sr)):(Xg=a,a=Sr)}if(s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if((l=ft())!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();c!==Sr?(41===t.charCodeAt(Xg)?(p=fn,Xg++):(p=Sr,0===em&&u(dn)),p!==Sr?(Yg=e,r=wf(n,s,l),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr;e===Sr&&(e=It())===Sr&&(e=wt())===Sr&&(e=Ct())}}}}}}}}}}}}}}return em--,e===Sr&&(r=Sr,0===em&&u(Hc)),e}function It(){var e,r,n,i,o,s,a,l,c,p,f,d,h,v,g;if(em++,e=Xg,t.substr(Xg,5)===Af?(r=Af,Xg+=5):(r=Sr,0===em&&u(Nf)),r===Sr&&(t.substr(Xg,5)===Lf?(r=Lf,Xg+=5):(r=Sr,0===em&&u(Rf))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if((s=ft())!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(44===t.charCodeAt(Xg)?(l=lu,Xg++):(l=Sr,0===em&&u(cu)),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if((p=ft())!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();if(f!==Sr){if(d=Xg,44===t.charCodeAt(Xg)?(h=lu,Xg++):(h=Sr,0===em&&u(cu)),h!==Sr){for(v=[],g=ur();g!==Sr;)v.push(g),g=ur();v!==Sr?(g=ft(),g!==Sr?(h=[h,v,g],d=h):(Xg=d,d=Sr)):(Xg=d,d=Sr)}else Xg=d,d=Sr;if(d===Sr&&(d=null),d!==Sr){for(h=[],v=ur();v!==Sr;)h.push(v),v=ur();h!==Sr?(41===t.charCodeAt(Xg)?(v=fn,Xg++):(v=Sr,0===em&&u(dn)),v!==Sr?(Yg=e,r=_f(s,p,d),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Cf)),e}function wt(){var e,r,n,i;if(em++,e=Xg,t.substr(Xg,6)===Of?(r=Of,Xg+=6):(r=Sr,0===em&&u(Pf)),r===Sr&&(t.substr(Xg,6)===Df?(r=Df,Xg+=6):(r=Sr,0===em&&u(Ff))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(i=ue(),i!==Sr?(Yg=e,r=jf(i),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(kf)),e}function Ct(){var e,r,n,i,o,s;if(em++,e=Xg,t.substr(Xg,3)===$f?(r=$f,Xg+=3):(r=Sr,0===em&&u(Bf)),r===Sr&&(t.substr(Xg,3)===Uf?(r=Uf,Xg+=3):(r=Sr,0===em&&u(Gf))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(t.substr(Xg,6)===Of?(i=Of,Xg+=6):(i=Sr,0===em&&u(Pf)),i===Sr&&(t.substr(Xg,6)===Df?(i=Df,Xg+=6):(i=Sr,0===em&&u(Ff))),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();o!==Sr?(s=ue(),s!==Sr?(Yg=e,r=Hf(s),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Mf)),e}function At(){var e,r,n,i,o,s,a,l,c,p,f,d,h,v,g,m,y,b;if(em++,e=Xg,t.substr(Xg,5)===Vf?(r=Vf,Xg+=5):(r=Sr,0===em&&u(Qf)),r===Sr&&(t.substr(Xg,5)===Wf?(r=Wf,Xg+=5):(r=Sr,0===em&&u(zf))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,8)===Kr?(s=Kr,Xg+=8):(s=Sr,0===em&&u(Jr)),s===Sr&&(t.substr(Xg,8)===Zr?(s=Zr,Xg+=8):(s=Sr,0===em&&u(en))),s===Sr&&(s=null),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if(42===t.charCodeAt(Xg)?(l=hn,Xg++):(l=Sr,0===em&&u(vn)),l===Sr&&(l=ft()),l!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if(41===t.charCodeAt(Xg)?(p=fn,Xg++):(p=Sr,0===em&&u(dn)),p!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();f!==Sr?(Yg=e,r=Xf(s,l),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,12)===Yf?(r=Yf,Xg+=12):(r=Sr,0===em&&u(Kf)),r===Sr&&(t.substr(Xg,12)===Jf?(r=Jf,Xg+=12):(r=Sr,0===em&&u(Zf))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,8)===Kr?(s=Kr,Xg+=8):(s=Sr,0===em&&u(Jr)),s===Sr&&(t.substr(Xg,8)===Zr?(s=Zr,Xg+=8):(s=Sr,0===em&&u(en))),s===Sr&&(s=null),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if((l=ft())!==Sr){if(c=Xg,59===t.charCodeAt(Xg)?(p=mo,Xg++):(p=Sr,0===em&&u(yo)),p!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();if(f!==Sr)if(t.substr(Xg,9)===ed?(d=ed,Xg+=9):(d=Sr,0===em&&u(td)),d!==Sr){for(h=[],v=ur();v!==Sr;)h.push(v),v=ur();if(h!==Sr)if(61===t.charCodeAt(Xg)?(v=Yl,Xg++):(v=Sr,0===em&&u(Kl)),v!==Sr){for(g=[],m=ur();m!==Sr;)g.push(m),m=ur();if(g!==Sr)if((m=Dt())!==Sr){for(y=[],b=ur();b!==Sr;)y.push(b),b=ur();y!==Sr?(p=[p,f,d,h,v,g,m,y],c=p):(Xg=c,c=Sr)}else Xg=c,c=Sr;else Xg=c,c=Sr}else Xg=c,c=Sr;else Xg=c,c=Sr}else Xg=c,c=Sr;else Xg=c,c=Sr}else Xg=c,c=Sr;if(c===Sr&&(c=null),c!==Sr)if(41===t.charCodeAt(Xg)?(p=fn,Xg++):(p=Sr,0===em&&u(dn)),p!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();f!==Sr?(Yg=e,r=rd(s,l,c),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,3)===nd?(r=nd,Xg+=3):(r=Sr,0===em&&u(id)),r===Sr&&(t.substr(Xg,3)===od?(r=od,Xg+=3):(r=Sr,0===em&&u(sd))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,8)===Kr?(s=Kr,Xg+=8):(s=Sr,0===em&&u(Jr)),s===Sr&&(t.substr(Xg,8)===Zr?(s=Zr,Xg+=8):(s=Sr,0===em&&u(en))),s===Sr&&(s=null),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if((l=ft())!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if(41===t.charCodeAt(Xg)?(p=fn,Xg++):(p=Sr,0===em&&u(dn)),p!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();f!==Sr?(Yg=e,r=ad(s,l),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,3)===ud?(r=ud,Xg+=3):(r=Sr,0===em&&u(ld)),r===Sr&&(t.substr(Xg,3)===cd?(r=cd,Xg+=3):(r=Sr,0===em&&u(pd))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,8)===Kr?(s=Kr,Xg+=8):(s=Sr,0===em&&u(Jr)),s===Sr&&(t.substr(Xg,8)===Zr?(s=Zr,Xg+=8):(s=Sr,0===em&&u(en))),s===Sr&&(s=null),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if((l=ft())!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if(41===t.charCodeAt(Xg)?(p=fn,Xg++):(p=Sr,0===em&&u(dn)),p!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();f!==Sr?(Yg=e,r=fd(s,l),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,t.substr(Xg,3)===dd?(r=dd,Xg+=3):(r=Sr,0===em&&u(hd)),r===Sr&&(t.substr(Xg,3)===vd?(r=vd,Xg+=3):(r=Sr,0===em&&u(gd))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,8)===Kr?(s=Kr,Xg+=8):(s=Sr,0===em&&u(Jr)),s===Sr&&(t.substr(Xg,8)===Zr?(s=Zr,Xg+=8):(s=Sr,0===em&&u(en))),s===Sr&&(s=null),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if((l=ft())!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if(41===t.charCodeAt(Xg)?(p=fn,Xg++):(p=Sr,0===em&&u(dn)),p!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();f!==Sr?(Yg=e,r=md(s,l),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;if(e===Sr)if(e=Xg,t.substr(Xg,3)===yd?(r=yd,Xg+=3):(r=Sr,0===em&&u(bd)),r===Sr&&(t.substr(Xg,3)===Ed?(r=Ed,Xg+=3):(r=Sr,0===em&&u(xd))),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();if(n!==Sr)if(40===t.charCodeAt(Xg)?(i=sn,Xg++):(i=Sr,0===em&&u(an)),i!==Sr){for(o=[],s=ur();s!==Sr;)o.push(s),s=ur();if(o!==Sr)if(t.substr(Xg,8)===Kr?(s=Kr,Xg+=8):(s=Sr,0===em&&u(Jr)),s===Sr&&(t.substr(Xg,8)===Zr?(s=Zr,Xg+=8):(s=Sr,0===em&&u(en))),s===Sr&&(s=null),s!==Sr){for(a=[],l=ur();l!==Sr;)a.push(l),l=ur();if(a!==Sr)if((l=ft())!==Sr){for(c=[],p=ur();p!==Sr;)c.push(p),p=ur();if(c!==Sr)if(41===t.charCodeAt(Xg)?(p=fn,Xg++):(p=Sr,0===em&&u(dn)),p!==Sr){for(f=[],d=ur();d!==Sr;)f.push(d),d=ur();f!==Sr?(Yg=e,r=Sd(s,l),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr;else Xg=e,e=Sr}else Xg=e,e=Sr}}}}return em--,e===Sr&&(r=Sr,0===em&&u(qf)),e}function Nt(){var e,t,r,n;if(em++,e=Xg,(t=Ft())!==Sr){for(r=[],n=ur();n!==Sr;)r.push(n),n=ur();r!==Sr?(n=Ce(),n===Sr&&(n=null),n!==Sr?(Yg=e,t=Id(t,n),e=t):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(t=Sr,0===em&&u(Td)),e}function Lt(){var e,r,n,i,o;return em++,e=Xg,r=Dt(),r!==Sr?(n=Vt(),n===Sr&&(n=Xg,t.substr(Xg,2)===Cd?(i=Cd,Xg+=2):(i=Sr,0===em&&u(Ad)),i!==Sr?(o=Ft(),o!==Sr?(i=[i,o],n=i):(Xg=n,n=Sr)):(Xg=n,n=Sr)),n===Sr&&(n=null),n!==Sr?(Yg=e,r=Nd(r,n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(wd)),e}function Rt(){var e;return em++,e=_t(),e===Sr&&(e=kt())===Sr&&(e=Ot()),em--,e===Sr&&(Sr,0===em&&u(Ld)),e}function _t(){var e;return em++,e=zt(),e===Sr&&(e=Wt())===Sr&&(e=Qt()),em--,e===Sr&&(Sr,0===em&&u(Rd)),e}function kt(){var e;return em++,e=Kt(),e===Sr&&(e=Yt())===Sr&&(e=Xt()),em--,e===Sr&&(Sr,0===em&&u(_d)),e}function Ot(){var e;return em++,e=er(),e===Sr&&(e=Zt())===Sr&&(e=Jt()),em--,e===Sr&&(Sr,0===em&&u(kd)),e}function Pt(){var e,r;return em++,e=Xg,t.substr(Xg,4)===Pd?(r=Pd,Xg+=4):(r=Sr,0===em&&u(Dd)),r===Sr&&(t.substr(Xg,4)===Fd?(r=Fd,Xg+=4):(r=Sr,0===em&&u(jd))),r!==Sr&&(Yg=e,r=Md()),e=r,e===Sr&&(e=Xg,t.substr(Xg,5)===$d?(r=$d,Xg+=5):(r=Sr,0===em&&u(Bd)),r===Sr&&(t.substr(Xg,5)===Ud?(r=Ud,Xg+=5):(r=Sr,0===em&&u(Gd))),r!==Sr&&(Yg=e,r=Hd()),e=r),em--,e===Sr&&(r=Sr,0===em&&u(Od)),e}function Dt(){var e,t;return em++,e=Xg,t=ir(),t!==Sr&&(Yg=e,t=Vd(t)),e=t,e===Sr&&(e=Xg,t=or(),t!==Sr&&(Yg=e,t=Vd(t)),(e=t)===Sr&&(e=Xg,t=rr(),t!==Sr&&(Yg=e,t=Vd(t)),(e=t)===Sr&&(e=Xg,t=nr(),t!==Sr&&(Yg=e,t=Vd(t)),e=t))),em--,e===Sr&&(t=Sr,0===em&&u(qd)),e}function Ft(){var e,t;return em++,e=Xg,t=$t(),t!==Sr&&(Yg=e,t=Wd(t)),e=t,e===Sr&&(e=Xg,t=jt(),t!==Sr&&(Yg=e,t=zd(t)),e=t),em--,e===Sr&&(t=Sr,0===em&&u(Qd)),e}function jt(){var e,t;return em++,e=Xg,t=Ut(),t!==Sr&&(Yg=e,t=Yd(t)),e=t,e===Sr&&(e=Xg,t=Bt(),t!==Sr&&(Yg=e,t=Kd(t)),e=t),em--,e===Sr&&(t=Sr,0===em&&u(Xd)),e}function Mt(){var e,t;return em++,e=Xg,t=Gt(),t!==Sr&&(Yg=e,t=Zd(t)),e=t,e===Sr&&(e=Xg,t=cr(),t!==Sr&&(Yg=e,t=eh()),e=t),em--,e===Sr&&(t=Sr,0===em&&u(Jd)),e}function $t(){var e,r,n,i;if(em++,e=Xg,60===t.charCodeAt(Xg)?(r=ec,Xg++):(r=Sr,0===em&&u(tc)),r!==Sr){for(n=[],rh.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(nh));i!==Sr;)n.push(i),rh.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(nh));n!==Sr?(62===t.charCodeAt(Xg)?(i=rc,Xg++):(i=Sr,0===em&&u(nc)),i!==Sr?(Yg=e,r=ih(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(th)),e}function Bt(){var e,r,n;return em++,e=Xg,r=vr(),r===Sr&&(r=null),r!==Sr?(58===t.charCodeAt(Xg)?(n=sh,Xg++):(n=Sr,0===em&&u(ah)),n!==Sr?(Yg=e,r=zd(r),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(oh)),e}function Ut(){var e,t,r;return em++,e=Xg,t=Bt(),t!==Sr?(r=gr(),r!==Sr?(Yg=e,t=lh(t,r),e=t):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(t=Sr,0===em&&u(uh)),e}function Gt(){var e,r,n;return em++,e=Xg,t.substr(Xg,2)===ph?(r=ph,Xg+=2):(r=Sr,0===em&&u(fh)),r!==Sr?(n=gr(),n!==Sr?(Yg=e,r=dh(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(ch)),e}function Ht(){var e,r,n;return em++,e=Xg,63===t.charCodeAt(Xg)?(r=al,Xg++):(r=Sr,0===em&&u(ul)),r!==Sr?(n=dr(),n!==Sr?(Yg=e,r=vh(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(hh)),e}function qt(){var e,r,n;return em++,e=Xg,36===t.charCodeAt(Xg)?(r=mh,Xg++):(r=Sr,0===em&&u(yh)),r!==Sr?(n=dr(),n!==Sr?(Yg=e,r=vh(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(gh)),e}function Vt(){var e,r,n,i,o,s,a,l;if(em++,e=Xg,64===t.charCodeAt(Xg)?(r=Eh,Xg++):(r=Sr,0===em&&u(xh)),r!==Sr){if(n=[],Sh.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Th)),i!==Sr)for(;i!==Sr;)n.push(i),Sh.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Th));else n=Sr;if(n!==Sr){if(i=[],o=Xg,45===t.charCodeAt(Xg)?(s=Ac,Xg++):(s=Sr,0===em&&u(Nc)),s!==Sr){if(a=[],Ih.test(t.charAt(Xg))?(l=t.charAt(Xg),Xg++):(l=Sr,0===em&&u(wh)),l!==Sr)for(;l!==Sr;)a.push(l),Ih.test(t.charAt(Xg))?(l=t.charAt(Xg),Xg++):(l=Sr,0===em&&u(wh));else a=Sr;a!==Sr?(s=[s,a],o=s):(Xg=o,o=Sr)}else Xg=o,o=Sr;for(;o!==Sr;)if(i.push(o),o=Xg,45===t.charCodeAt(Xg)?(s=Ac,Xg++):(s=Sr,0===em&&u(Nc)),s!==Sr){if(a=[],Ih.test(t.charAt(Xg))?(l=t.charAt(Xg),Xg++):(l=Sr,0===em&&u(wh)),l!==Sr)for(;l!==Sr;)a.push(l),Ih.test(t.charAt(Xg))?(l=t.charAt(Xg),Xg++):(l=Sr,0===em&&u(wh));else a=Sr;a!==Sr?(s=[s,a],o=s):(Xg=o,o=Sr)}else Xg=o,o=Sr;i!==Sr?(Yg=e,r=Ch(n,i),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(bh)),e}function Qt(){var e,r,n;if(em++,e=Xg,r=[],Nh.test(t.charAt(Xg))?(n=t.charAt(Xg),Xg++):(n=Sr,0===em&&u(Lh)),n!==Sr)for(;n!==Sr;)r.push(n),Nh.test(t.charAt(Xg))?(n=t.charAt(Xg),Xg++):(n=Sr,0===em&&u(Lh));else r=Sr;return r!==Sr&&(Yg=e,r=Rh(r)),e=r,em--,e===Sr&&(r=Sr,0===em&&u(Ah)),e}function Wt(){var e,r,n,i,o;if(em++,e=Xg,r=[],Nh.test(t.charAt(Xg))?(n=t.charAt(Xg),Xg++):(n=Sr,0===em&&u(Lh)),n!==Sr)for(;n!==Sr;)r.push(n),Nh.test(t.charAt(Xg))?(n=t.charAt(Xg),Xg++):(n=Sr,0===em&&u(Lh));else r=Sr;if(r!==Sr)if(46===t.charCodeAt(Xg)?(n=ea,Xg++):(n=Sr,0===em&&u(ta)),n!==Sr){for(i=[],Nh.test(t.charAt(Xg))?(o=t.charAt(Xg),Xg++):(o=Sr,0===em&&u(Lh));o!==Sr;)i.push(o),Nh.test(t.charAt(Xg))?(o=t.charAt(Xg),Xg++):(o=Sr,0===em&&u(Lh));i!==Sr?(Yg=e,r=kh(r,n,i),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr;if(e===Sr)if(e=Xg,46===t.charCodeAt(Xg)?(r=ea,Xg++):(r=Sr,0===em&&u(ta)),r!==Sr){if(n=[],Nh.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Lh)),i!==Sr)for(;i!==Sr;)n.push(i),Nh.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Lh));else n=Sr;n!==Sr?(Yg=e,r=Oh(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(_h)),e}function zt(){var e,r,n,i,o;if(em++,e=Xg,r=[],Nh.test(t.charAt(Xg))?(n=t.charAt(Xg),Xg++):(n=Sr,0===em&&u(Lh)),n!==Sr)for(;n!==Sr;)r.push(n),Nh.test(t.charAt(Xg))?(n=t.charAt(Xg),Xg++):(n=Sr,0===em&&u(Lh));else r=Sr;if(r!==Sr)if(46===t.charCodeAt(Xg)?(n=ea,Xg++):(n=Sr,0===em&&u(ta)),n!==Sr){for(i=[],Nh.test(t.charAt(Xg))?(o=t.charAt(Xg),Xg++):(o=Sr,0===em&&u(Lh));o!==Sr;)i.push(o),Nh.test(t.charAt(Xg))?(o=t.charAt(Xg),Xg++):(o=Sr,0===em&&u(Lh));i!==Sr?(o=tr(),o!==Sr?(Yg=e,r=Dh(r,n,i,o),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr;if(e===Sr){if(e=Xg,46===t.charCodeAt(Xg)?(r=ea,Xg++):(r=Sr,0===em&&u(ta)),r!==Sr){if(n=[],Nh.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Lh)),i!==Sr)for(;i!==Sr;)n.push(i),Nh.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Lh));else n=Sr;n!==Sr?(i=tr(),i!==Sr?(Yg=e,r=Fh(r,n,i),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;if(e===Sr){if(e=Xg,r=[],Nh.test(t.charAt(Xg))?(n=t.charAt(Xg),Xg++):(n=Sr,0===em&&u(Lh)),n!==Sr)for(;n!==Sr;)r.push(n),Nh.test(t.charAt(Xg))?(n=t.charAt(Xg),Xg++):(n=Sr,0===em&&u(Lh));else r=Sr;r!==Sr?(n=tr(),n!==Sr?(Yg=e,r=jh(r,n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}}return em--,e===Sr&&(r=Sr,0===em&&u(Ph)),e}function Xt(){var e,r,n;return em++,e=Xg,43===t.charCodeAt(Xg)?(r=ll,Xg++):(r=Sr,0===em&&u(cl)),r!==Sr?(n=Qt(),n!==Sr?(Yg=e,r=$h(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(Mh)),e}function Yt(){var e,r,n;return em++,e=Xg,43===t.charCodeAt(Xg)?(r=ll,Xg++):(r=Sr,0===em&&u(cl)),r!==Sr?(n=Wt(),n!==Sr?(Yg=e,r=Uh(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(Bh)),e}function Kt(){var e,r,n;return em++,e=Xg,43===t.charCodeAt(Xg)?(r=ll,Xg++):(r=Sr,0===em&&u(cl)),r!==Sr?(n=zt(),n!==Sr?(Yg=e,r=Uh(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(Gh)),e}function Jt(){var e,r,n;return em++,e=Xg,45===t.charCodeAt(Xg)?(r=Ac,Xg++):(r=Sr,0===em&&u(Nc)),r!==Sr?(n=Qt(),n!==Sr?(Yg=e,r=qh(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(Hh)),e}function Zt(){var e,r,n;return em++,e=Xg,45===t.charCodeAt(Xg)?(r=Ac,Xg++):(r=Sr,0===em&&u(Nc)),r!==Sr?(n=Wt(),n!==Sr?(Yg=e,r=qh(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(Vh)),e}function er(){var e,r,n;return em++,e=Xg,45===t.charCodeAt(Xg)?(r=Ac,Xg++):(r=Sr,0===em&&u(Nc)),r!==Sr?(n=zt(),n!==Sr?(Yg=e,r=qh(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(Qh)),e}function tr(){var e,r,n,i,o;if(em++,e=Xg,zh.test(t.charAt(Xg))?(r=t.charAt(Xg),Xg++):(r=Sr,0===em&&u(Xh)),r!==Sr)if(Yh.test(t.charAt(Xg))?(n=t.charAt(Xg),Xg++):(n=Sr,0===em&&u(Kh)),n===Sr&&(n=null),n!==Sr){if(i=[],Nh.test(t.charAt(Xg))?(o=t.charAt(Xg),Xg++):(o=Sr,0===em&&u(Lh)),o!==Sr)for(;o!==Sr;)i.push(o),Nh.test(t.charAt(Xg))?(o=t.charAt(Xg),Xg++):(o=Sr,0===em&&u(Lh));else i=Sr;i!==Sr?(Yg=e,r=Jh(r,n,i),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Wh)),e}function rr(){var e,r,n,i;if(em++,e=Xg,39===t.charCodeAt(Xg)?(r=ev,Xg++):(r=Sr,0===em&&u(tv)),r!==Sr){for(n=[],rv.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(nv)),i===Sr&&(i=sr());i!==Sr;)n.push(i),rv.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(nv)),i===Sr&&(i=sr());n!==Sr?(39===t.charCodeAt(Xg)?(i=ev,Xg++):(i=Sr,0===em&&u(tv)),i!==Sr?(Yg=e,r=iv(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Zh)),e}function nr(){var e,r,n,i;if(em++,e=Xg,34===t.charCodeAt(Xg)?(r=sv,Xg++):(r=Sr,0===em&&u(av)),r!==Sr){for(n=[],uv.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(lv)),i===Sr&&(i=sr());i!==Sr;)n.push(i),uv.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(lv)),i===Sr&&(i=sr());n!==Sr?(34===t.charCodeAt(Xg)?(i=sv,Xg++):(i=Sr,0===em&&u(av)),i!==Sr?(Yg=e,r=iv(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(ov)),e}function ir(){var e,r,n,i;if(em++,e=Xg,t.substr(Xg,3)===pv?(r=pv,Xg+=3):(r=Sr,0===em&&u(fv)),r!==Sr){for(n=[],dv.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(hv)),i===Sr&&(i=sr());i!==Sr;)n.push(i),dv.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(hv)),i===Sr&&(i=sr());n!==Sr?(t.substr(Xg,3)===pv?(i=pv,Xg+=3):(i=Sr,0===em&&u(fv)),i!==Sr?(Yg=e,r=iv(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(cv)),e}function or(){var e,r,n,i;if(em++,e=Xg,t.substr(Xg,3)===gv?(r=gv,Xg+=3):(r=Sr,0===em&&u(mv)),r!==Sr){for(n=[],yv.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(bv)),i===Sr&&(i=sr());i!==Sr;)n.push(i),yv.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(bv)),i===Sr&&(i=sr());n!==Sr?(t.substr(Xg,3)===gv?(i=gv,Xg+=3):(i=Sr,0===em&&u(mv)),i!==Sr?(Yg=e,r=iv(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(vv)),e}function sr(){var e,r,n;return em++,e=Xg,92===t.charCodeAt(Xg)?(r=xv,Xg++):(r=Sr,0===em&&u(Sv)),r!==Sr?(Tv.test(t.charAt(Xg))?(n=t.charAt(Xg),Xg++):(n=Sr,0===em&&u(Iv)),n!==Sr?(r=[r,n],e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(Ev)),e}function ar(){var e,r,n,i;if(em++,e=Xg,40===t.charCodeAt(Xg)?(r=sn,Xg++):(r=Sr,0===em&&u(an)),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(41===t.charCodeAt(Xg)?(i=fn,Xg++):(i=Sr,0===em&&u(dn)),i!==Sr?(Yg=e,r=Cv(),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(wv)),e}function ur(){var e;return em++,Nv.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(Lv)),e===Sr&&(Rv.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(_v)),e===Sr&&(kv.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(Ov)),e===Sr&&(Pv.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(Dv)),e===Sr&&(e=lr())))),em--,e===Sr&&(Sr,0===em&&u(Av)),e}function lr(){var e,r,n,i;if(em++,e=Xg,35===t.charCodeAt(Xg)?(r=jv,Xg++):(r=Sr,0===em&&u(Mv)),r!==Sr){for(n=[],$v.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Bv));i!==Sr;)n.push(i),$v.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Bv));n!==Sr?(r=[r,n],e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Fv)),e}function cr(){var e,r,n,i;if(em++,e=Xg,91===t.charCodeAt(Xg)?(r=xl,Xg++):(r=Sr,0===em&&u(Sl)),r!==Sr){for(n=[],i=ur();i!==Sr;)n.push(i),i=ur();n!==Sr?(93===t.charCodeAt(Xg)?(i=Tl,Xg++):(i=Sr,0===em&&u(Il)),i!==Sr?(r=[r,n,i],e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Uv)),e}function pr(){var e;return em++,Hv.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(qv)),e===Sr&&(Vv.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(Qv)),e===Sr&&(Wv.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(zv)),e===Sr&&(Xv.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(Yv)),e===Sr&&(Kv.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(Jv)),e===Sr&&(Zv.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(eg)),e===Sr&&(tg.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(rg)),e===Sr&&(ng.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(ig)),e===Sr&&(og.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(sg)),e===Sr&&(ag.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(ug)),e===Sr&&(lg.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(cg)),e===Sr&&(pg.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(fg)),e===Sr&&(dg.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(hg)),e===Sr&&(vg.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(gg))))))))))))))),em--,e===Sr&&(Sr,0===em&&u(Gv)),e}function fr(){var e;return em++,e=pr(),e===Sr&&(95===t.charCodeAt(Xg)?(e=yg,Xg++):(e=Sr,0===em&&u(bg))),em--,e===Sr&&(Sr,0===em&&u(mg)),e}function dr(){var e,r,n,i;if(em++,e=Xg,r=fr(),r===Sr&&(Nh.test(t.charAt(Xg))?(r=t.charAt(Xg),Xg++):(r=Sr,0===em&&u(Lh))),r!==Sr){for(n=[],i=fr(),i===Sr&&(Nh.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Lh)),i===Sr&&(xg.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Sg)),i===Sr&&(Tg.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Ig)),i===Sr&&(wg.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Cg))))));i!==Sr;)n.push(i),(i=fr())===Sr&&(Nh.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Lh)),i===Sr&&(xg.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Sg)),i===Sr&&(Tg.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Ig)),i===Sr&&(wg.test(t.charAt(Xg))?(i=t.charAt(Xg),Xg++):(i=Sr,0===em&&u(Cg))))));n!==Sr?(Yg=e,r=Ag(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Eg)),e}function hr(){var e;return em++,e=fr(),e===Sr&&(45===t.charCodeAt(Xg)?(e=Ac,Xg++):(e=Sr,0===em&&u(Nc)),e===Sr&&(Nh.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(Lh)),e===Sr&&(xg.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(Sg)),e===Sr&&(Tg.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(Ig)),e===Sr&&(wg.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(Cg))))))),em--,e===Sr&&(Sr,0===em&&u(Ng)),e}function vr(){var e,r,n,i;if(em++,e=Xg,(r=pr())!==Sr){for(n=[],i=hr(),i===Sr&&(46===t.charCodeAt(Xg)?(i=ea,Xg++):(i=Sr,0===em&&u(ta)));i!==Sr;)n.push(i),(i=hr())===Sr&&(46===t.charCodeAt(Xg)?(i=ea,Xg++):(i=Sr,0===em&&u(ta)));n!==Sr?(Yg=e,r=Rg(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(Lg)),e}function gr(){var e,r,n,i;if(em++,e=Xg,r=fr(),r===Sr&&(Nh.test(t.charAt(Xg))?(r=t.charAt(Xg),Xg++):(r=Sr,0===em&&u(Lh)),r===Sr&&(58===t.charCodeAt(Xg)?(r=sh,Xg++):(r=Sr,0===em&&u(ah)),r===Sr&&(r=mr()))),r!==Sr){for(n=[],i=hr(),i===Sr&&(46===t.charCodeAt(Xg)?(i=ea,Xg++):(i=Sr,0===em&&u(ta)),i===Sr&&(58===t.charCodeAt(Xg)?(i=sh,Xg++):(i=Sr,0===em&&u(ah)),i===Sr&&(i=mr())));i!==Sr;)n.push(i),(i=hr())===Sr&&(46===t.charCodeAt(Xg)?(i=ea,Xg++):(i=Sr,0===em&&u(ta)),i===Sr&&(58===t.charCodeAt(Xg)?(i=sh,Xg++):(i=Sr,0===em&&u(ah)),i===Sr&&(i=mr())));n!==Sr?(Yg=e,r=kg(r,n),e=r):(Xg=e,e=Sr)}else Xg=e,e=Sr;return em--,e===Sr&&(r=Sr,0===em&&u(_g)),e}function mr(){var e;return em++,e=yr(),e===Sr&&(e=Er()),em--,e===Sr&&(Sr,0===em&&u(Og)),e}function yr(){var e,r,n,i,o;return em++,e=Xg,r=Xg,37===t.charCodeAt(Xg)?(n=Dg,Xg++):(n=Sr,0===em&&u(Fg)),n!==Sr?(i=br(),i!==Sr?(o=br(),o!==Sr?(n=[n,i,o],r=n):(Xg=r,r=Sr)):(Xg=r,r=Sr)):(Xg=r,r=Sr),r!==Sr&&(Yg=e,r=jg(r)),e=r,em--,e===Sr&&(r=Sr,0===em&&u(Pg)),e}function br(){var e;return em++,Nh.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(Lh)),e===Sr&&($g.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(Bg)),e===Sr&&(Ug.test(t.charAt(Xg))?(e=t.charAt(Xg),Xg++):(e=Sr,0===em&&u(Gg)))),em--,e===Sr&&(Sr,0===em&&u(Mg)),e}function Er(){var e,r,n;return em++,e=Xg,92===t.charCodeAt(Xg)?(r=xv,Xg++):(r=Sr,0===em&&u(Sv)),r!==Sr?(95===t.charCodeAt(Xg)?(n=yg,Xg++):(n=Sr,0===em&&u(bg)),n===Sr&&(126===t.charCodeAt(Xg)?(n=qg,Xg++):(n=Sr,0===em&&u(Vg)),n===Sr&&(46===t.charCodeAt(Xg)?(n=ea,Xg++):(n=Sr,0===em&&u(ta)),n===Sr&&(45===t.charCodeAt(Xg)?(n=Ac,Xg++):(n=Sr,0===em&&u(Nc)),n===Sr&&(33===t.charCodeAt(Xg)?(n=fl,Xg++):(n=Sr,0===em&&u(dl)),n===Sr&&(36===t.charCodeAt(Xg)?(n=mh,Xg++):(n=Sr,0===em&&u(yh)),n===Sr&&(38===t.charCodeAt(Xg)?(n=Qg,Xg++):(n=Sr,0===em&&u(Wg)),n===Sr&&(39===t.charCodeAt(Xg)?(n=ev,Xg++):(n=Sr,0===em&&u(tv)),n===Sr&&(40===t.charCodeAt(Xg)?(n=sn,Xg++):(n=Sr,0===em&&u(an)),n===Sr&&(41===t.charCodeAt(Xg)?(n=fn,Xg++):(n=Sr,0===em&&u(dn)),n===Sr&&(42===t.charCodeAt(Xg)?(n=hn,Xg++):(n=Sr,0===em&&u(vn)),n===Sr&&(43===t.charCodeAt(Xg)?(n=ll,Xg++):(n=Sr,0===em&&u(cl)),n===Sr&&(44===t.charCodeAt(Xg)?(n=lu,Xg++):(n=Sr,0===em&&u(cu)),n===Sr&&(59===t.charCodeAt(Xg)?(n=mo,Xg++):(n=Sr,0===em&&u(yo)),n===Sr&&(58===t.charCodeAt(Xg)?(n=sh,Xg++):(n=Sr,0===em&&u(ah)),n===Sr&&(61===t.charCodeAt(Xg)?(n=Yl,Xg++):(n=Sr,0===em&&u(Kl)),n===Sr&&(47===t.charCodeAt(Xg)?(n=Ku,Xg++):(n=Sr,0===em&&u(Ju)),n===Sr&&(63===t.charCodeAt(Xg)?(n=al,Xg++):(n=Sr,0===em&&u(ul)),n===Sr&&(35===t.charCodeAt(Xg)?(n=jv,Xg++):(n=Sr,0===em&&u(Mv)),n===Sr&&(64===t.charCodeAt(Xg)?(n=Eh,Xg++):(n=Sr,0===em&&u(xh)),n===Sr&&(37===t.charCodeAt(Xg)?(n=Dg,Xg++):(n=Sr,0===em&&u(Fg)))))))))))))))))))))),n!==Sr?(Yg=e,r=zg(n),e=r):(Xg=e,e=Sr)):(Xg=e,e=Sr),em--,e===Sr&&(r=Sr,0===em&&u(Hg)),e}r=void 0!==r?r:{};var xr,Sr={},Tr={DOCUMENT:c},Ir=c,wr=o("[1] QueryUnit"),Cr=o("[2] Query"),Ar=function(e,t,r){return{token:"query",kind:"query",prologue:e,units:[t],inlineData:r}},Nr=o("[3] Prologue"),Lr=function(e,t){return{token:"prologue",base:e,prefixes:t}},Rr=o("[4] BaseDecl"),_r="BASE",kr=n("BASE",!1),Or="base",Pr=n("base",!1),Dr=function(e){om(e);var t={};return t.token="base",t.value=e,t},Fr=o("[5] PrefixDecl"),jr="PREFIX",Mr=n("PREFIX",!1),$r="prefix",Br=n("prefix",!1),Ur=function(e,t){im(e,t);var r={};return r.token="prefix",r.prefix=e,r.local=t,r},Gr=o("[6] SelectQuery"),Hr=function(e,t,r,n){for(var i={named:[],implicit:[]},o=0;o<t.length;o++){var s=t[o];"default"===s.kind?i.implicit.push(s.graph):i.named.push(s.graph)}0===i.named.length&&0===i.implicit.length&&i.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});var a={};return a.kind="select",a.token="executableunit",a.dataset=i,a.projection=e.vars,a.modifier=e.modifier,a.pattern=r,null!=n&&null!=n.limit&&(a.limit=n.limit),null!=n&&null!=n.offset&&(a.offset=n.offset),null!=n&&null!=n.order&&""!=n.order&&(a.order=n.order),null!=n&&null!=n.group&&(a.group=n.group),a},qr=o("[7] SubSelect"),Vr=function(e,t,r){var n={};return n.kind="select",n.token="subselect",n.projection=e.vars,n.modifier=e.modifier,n.pattern=t,null!=r&&null!=r.limit&&(n.limit=r.limit),null!=r&&null!=r.offset&&(n.offset=r.offset),null!=r&&null!=r.order&&""!=r.order&&(n.order=r.order),null!=r&&null!=r.group&&(n.group=r.group),n},Qr=o("[8] SelectClause"),Wr="SELECT",zr=n("SELECT",!1),Xr="select",Yr=n("select",!1),Kr="DISTINCT",Jr=n("DISTINCT",!1),Zr="distinct",en=n("distinct",!1),tn="REDUCED",rn=n("REDUCED",!1),nn="reduced",on=n("reduced",!1),sn="(",an=n("(",!1),un="AS",ln=n("AS",!1),cn="as",pn=n("as",!1),fn=")",dn=n(")",!1),hn="*",vn=n("*",!1),gn=function(e,t){var r=[];if(3===t.length&&"*"===t[1])return{vars:[{token:"variable",kind:"*"}],modifier:sm(e)};for(var n=0;n<t.length;n++){var i=t[n];3===i.length?r.push({token:"variable",kind:"var",value:i[1]}):r.push({token:"variable",kind:"aliased",expression:i[3],alias:i[7]})}return{vars:r,modifier:sm(e)}},mn=o("[9] ConstructQuery"),yn="CONSTRUCT",bn=n("CONSTRUCT",!1),En="construct",xn=n("construct",!1),Sn=function(e,t,r,n){for(var i={named:[],implicit:[]},o=0;o<t.length;o++){var s=t[o];"default"===s.kind?i.implicit.push(s.graph):i.named.push(s.graph)}0===i.named.length&&0===i.implicit.length&&i.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});var a={};return a.kind="construct",a.token="executableunit",a.dataset=i,a.template=e,a.pattern=r,null!=n&&null!=n.limit&&(a.limit=n.limit),null!=n&&null!=n.offset&&(a.offset=n.offset),null!=n&&null!=n.order&&""!=n.order&&(a.order=n.order),a},Tn="WHERE",In=n("WHERE",!1),wn="where",Cn=n("where",!1),An="{",Nn=n("{",!1),Ln="}",Rn=n("}",!1),_n=function(e,t,r){for(var n={named:[],implicit:[]},i=0;i<e.length;i++){var o=e[i];"default"===o.kind?n.implicit.push(o.graph):n.named.push(o.graph)}0===n.named.length&&0===n.implicit.length&&n.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});var s={};return s.kind="construct",s.token="executableunit",s.dataset=n,s.template=t,s.pattern={token:"basicgraphpattern",triplesContext:t.triplesContext},null!=r&&null!=r.limit&&(s.limit=r.limit),null!=r&&null!=r.offset&&(s.offset=r.offset),null!=r&&null!=r.order&&""!=r.order&&(s.order=r.order),s},kn=o("[10] DescribeQuery"),On="DESCRIBE",Pn=n("DESCRIBE",!1),Dn=o("[11] AskQuery"),Fn="ASK",jn=n("ASK",!1),Mn="ask",$n=n("ask",!1),Bn=function(e,t){for(var r={named:[],implicit:[]},n=0;n<e.length;n++){var i=e[n];"implicit"===i.kind?r.implicit.push(i.graph):r.named.push(i.graph)}0===r.named.length&&0===r.implicit.length&&r.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});var o={};return o.kind="ask",o.token="executableunit",o.dataset=r,o.pattern=t,o},Un=o("[12] DatasetClause"),Gn="FROM",Hn=n("FROM",!1),qn="from",Vn=n("from",!1),Qn=function(e){return e},Wn=o("[13] DefaultGraphClause"),zn=function(e){return{graph:e,kind:"default",token:"graphClause"}},Xn=o("[14] NamedGraphClause"),Yn="NAMED",Kn=n("NAMED",!1),Jn="named",Zn=n("named",!1),ei=function(e){return{graph:e,kind:"named",token:"graphCluase"}},ti=o("[15] SourceSelector"),ri=o("[16] WhereClause"),ni=function(e){return e},ii=o("[17] SolutionModifier"),oi=function(e,t,r){var n={};return null!=r&&(null!=r.limit&&(n.limit=r.limit),null!=r.offset&&(n.offset=r.offset)),null!=e&&(n.group=e),n.order=t,n},si=o("[18] GroupClause"),ai="GROUP",ui=n("GROUP",!1),li="group",ci=n("group",!1),pi="BY",fi=n("BY",!1),di="by",hi=n("by",!1),vi=function(e){return e},gi=o("[19] GroupCondition"),mi=function(e){return e},yi=function(e){return e},bi=function(e,t){return 0!=t.length?{token:"aliased_expression",expression:e,alias:t[2]}:e},Ei=function(e){return e},xi=o("[20] HavingClause"),Si="HAVING",Ti=n("HAVING",!1),Ii=o("[21] HavingCondition"),wi=o("[22] OrderClause"),Ci="ORDER",Ai=n("ORDER",!1),Ni="order",Li=n("order",!1),Ri=function(e){return e},_i=o("[23] OrderCondition"),ki="ASC",Oi=n("ASC",!1),Pi="asc",Di=n("asc",!1),Fi="DESC",ji=n("DESC",!1),Mi="desc",$i=n("desc",!1),Bi=function(e,t){return{direction:e.toUpperCase(),expression:t}},Ui=function(e){if("var"===e.token)var e={token:"expression",expressionType:"atomic",primaryexpression:"var",value:e};return{direction:"ASC",expression:e}},Gi=o("[24] LimitOffsetClauses"),Hi=function(e){for(var t={},r=0;r<e.length;r++){var n=e[r];null!=n&&null!=n.limit?t.limit=n.limit:null!=n&&null!=n.offset&&(t.offset=n.offset)}return t},qi=o("[25] LimitClause"),Vi="LIMIT",Qi=n("LIMIT",!1),Wi="limit",zi=n("limit",!1),Xi=function(e){return{limit:parseInt(e.value)}},Yi=o("[26] OffsetClause"),Ki="OFFSET",Ji=n("OFFSET",!1),Zi="offset",eo=n("offset",!1),to=function(e){return{offset:parseInt(e.value)}},ro=o("[27] BindingsClause"),no="BINDINGS",io=n("BINDINGS",!1),oo=o("[28] BindingValue"),so="UNDEF",ao=n("UNDEF",!1),uo=o("[28]\tValuesClause\t  ::=\t( 'VALUES' DataBlock )?"),lo="VALUES",co=n("VALUES",!1),po="values",fo=n("values",!1),ho=function(e){return null!=e?e[1]:null},vo=o("[29] UpdateUnit"),go=o("[30] Update"),mo=";",yo=n(";",!1),bo=function(e,t,r){var n={};n.token="query",n.kind="update",n.prologue=e;var i=[t];return null!=r&&null!=r.length&&null!=r[3]&&null!=r[3].units&&(i=i.concat(r[3].units)),n.units=i,n},Eo=o("[31] Update1"),xo=o("[32] Load"),So="LOAD",To=n("LOAD",!1),Io="load",wo=n("load",!1),Co="INTO",Ao=n("INTO",!1),No="into",Lo=n("into",!1),Ro=function(e,t){var r={};return r.kind="load",r.token="executableunit",r.sourceGraph=e,null!=t&&(r.destinyGraph=t[2]),r},_o=o("[33] Clear"),ko="CLEAR",Oo=n("CLEAR",!1),Po="clear",Do=n("clear",!1),Fo="SILENT",jo=n("SILENT",!1),Mo="silent",$o=n("silent",!1),Bo=function(e){var t={};return t.kind="clear",t.token="executableunit",t.destinyGraph=e,t},Uo=o("[34] Drop"),Go="DROP",Ho=n("DROP",!1),qo="drop",Vo=n("drop",!1),Qo=function(e){var t={};return t.kind="drop",t.token="executableunit",t.destinyGraph=e,t},Wo=o("[35] Create"),zo="CREATE",Xo=n("CREATE",!1),Yo="create",Ko=n("create",!1),Jo=function(e){var t={};return t.kind="create",t.token="executableunit",t.destinyGraph=e,t},Zo=o("[36] InsertData"),es="INSERT",ts=n("INSERT",!1),rs="insert",ns=n("insert",!1),is="DATA",os=n("DATA",!1),ss="data",as=n("data",!1),us=function(e){var t={};return t.kind="insertdata",t.token="executableunit",t.quads=e,t},ls=o("[37] DeleteData"),cs="DELETE",ps=n("DELETE",!1),fs="delete",ds=n("delete",!1),hs=function(e){var t={};return t.kind="deletedata",t.token="executableunit",t.quads=e,t},vs=o("[38] DeleteWhere"),gs=function(e){var t={};t.kind="modify",t.pattern=e,t.with=null,t.using=null;var r=[],n=e.patterns[0];n=null==n.triplesContext&&null!=n.patterns?n.patterns[0].triplesContext:n.triplesContext;for(var i=0;i<n.length;i++){var o={},s=n[i];o.subject=s.subject,o.predicate=s.predicate,o.object=s.object,o.graph=s.graph,r.push(o)}return t.delete=r,t},ms=o("[39] Modify"),ys="WITH",bs=n("WITH",!1),Es="with",xs=n("with",!1),Ss=function(e,t,r,n){var i={};return i.kind="modify",i.with=""!=e&&null!=e?e[2]:null,3!==t.length||""!==t[2]&&null!=t[2]?3===t.length&&null!=t[0].length&&null!=t[1].length&&null!=t[2].length?(i.delete=t[0],i.insert=t[2]):(i.insert=t,i.delete=null):(i.delete=t[0],i.insert=null),""!=r&&(i.using=r),i.pattern=n,i},Ts=o("[40] DeleteClause"),Is=function(e){return e},ws=o("[41] InsertClause"),Cs=o("[42] UsingClause"),As="USING",Ns=n("USING",!1),Ls="using",Rs=n("using",!1),_s=function(e){return null!=e.length?{kind:"named",uri:e[2]}:{kind:"default",uri:e}},ks=o("[43] GraphRef"),Os="GRAPH",Ps=n("GRAPH",!1),Ds="graph",Fs=n("graph",!1),js=function(e){return e},Ms=o("[44] GraphRefAll"),$s="DEFAULT",Bs=n("DEFAULT",!1),Us="default",Gs=n("default",!1),Hs=function(){return"default"},qs=function(){return"named"},Vs="ALL",Qs=n("ALL",!1),Ws="all",zs=n("all",!1),Xs=function(){return"all"},Ys=o("[45] QuadPattern"),Ks=function(e){return e.quadsContext},Js=o("[46] QuadData"),Zs=o("[47] Quads"),ea=".",ta=n(".",!1),ra=function(e,t){var r=[];if(null!=e&&null!=e.triplesContext)for(var n=0;n<e.triplesContext.length;n++){var i=e.triplesContext[n];i.graph=null,r.push(i)}if(t&&t.length>0&&t[0].length>0&&(r=r.concat(t[0][0].quadsContext),null!=t[0][2]&&null!=t[0][2].triplesContext))for(var n=0;n<t[0][2].triplesContext.length;n++){var i=t[0][2].triplesContext[n];i.graph=null,r.push(i)}return{token:"quads",quadsContext:r}},na=o("[48] QuadsNotTriples"),ia=function(e,t){var r=[];if(null!=t)for(var n=0;n<t.triplesContext.length;n++){var i=t.triplesContext[n];i.graph=e,r.push(i)}return{token:"quadsnottriples",quadsContext:r}},oa=o("[49] TriplesTemplate"),sa=function(e,t){var r=e.triplesContext;return null!=t&&"object"==typeof t&&null!=t.length&&null!=t[3]&&null!=t[3].triplesContext&&(r=r.concat(t[3].triplesContext)),{token:"triplestemplate",triplesContext:r}},aa=o("[50] GroupGraphPattern"),ua=function(e){return e},la=o("[51] GroupGraphPatternSub"),ca=function(e,t){var r=[];null!=e&&e!=[]&&r.push(e);for(var n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)null!=t[n][i]&&null!=t[n][i].token&&r.push(t[n][i]);for(var o=[],s=[],a=[],u=[],n=0;n<r.length;n++)if("triplespattern"!==r[n].token&&"filter"!==r[n].token&&"bind"!==r[n].token){if(0!=s.length||0!=a.length){for(var l=[],i=0;i<s.length;i++)l=l.concat(s[i].triplesContext);l.length>0&&o.push({token:"basicgraphpattern",triplesContext:l}),s=[]}o.push(r[n])}else"triplespattern"===r[n].token?s.push(r[n]):"bind"===r[n].token?u.push(r[n]):a.push(r[n]);if(0!=s.length||0!=a.length){for(var l=[],i=0;i<s.length;i++)l=l.concat(s[i].triplesContext);l.length>0&&o.push({token:"basicgraphpattern",triplesContext:l})}return{token:"groupgraphpattern",patterns:o,filters:a,binds:u}},pa=o("[54] TriplesBlock"),fa=function(e,t){var r=e.triplesContext;return null!=t&&"object"==typeof t&&null!=t&&null!=t.length&&null!=t[2]&&null!=t[2].triplesContext&&(r=r.concat(t[2].triplesContext)),{token:"triplespattern",triplesContext:r}},da=o("[53] GraphPatternNotTriples"),ha=o("[54] OptionalGraphPattern"),va="OPTIONAL",ga=n("OPTIONAL",!1),ma="optional",ya=n("optional",!1),ba=function(e){return{token:"optionalgraphpattern",value:e}},Ea=o("[55] GraphGraphPattern"),xa=function(e,t){for(var r=0;r<t.patterns.length;r++)for(var n=t.patterns[r],i=0;i<n.triplesContext.length;i++){var o=n.triplesContext[i];o.graph=e}return t.token="groupgraphpattern",t},Sa=o("[56] ServiceGraphPattern"),Ta="SERVICE",Ia=n("SERVICE",!1),wa=function(e,t){return{token:"servicegraphpattern",status:"todo",value:[e,t]}},Ca=o("[57] MinusGraphPattern"),Aa="MINUS",Na=n("MINUS",!1),La="minus",Ra=n("minus",!1),_a=function(e){return{token:"minusgraphpattern",status:"todo",value:e}},ka=o("[58] GroupOrUnionGraphPattern"),Oa="UNION",Pa=n("UNION",!1),Da="union",Fa=n("union",!1),ja=function(e,t){if(0===t.length)return e;for(var r={token:"graphunionpattern",value:[e]},n=0;n<t.length;n++)if(n==t.length-1)r.value.push(t[n][3]);else{r.value.push(t[n][3]);var i={token:"graphunionpattern",value:[r]};r=i}return r},Ma=o("[59] Filter"),$a="FILTER",Ba=n("FILTER",!1),Ua="filter",Ga=n("filter",!1),Ha=function(e){return{token:"filter",value:e}},qa=o("[60] Bind"),Va="BIND",Qa=n("BIND",!1),Wa="bind",za=n("bind",!1),Xa=function(e,t){return{token:"bind",expression:e,as:t}},Ya=o("[60] Constraint"),Ka=o("[61] InlineData"),Ja=function(e){return e},Za=o("[62] DataBlock"),eu=o("[63] InlineDataOneVar"),tu=function(e,t){return{token:"inlineData",values:[{var:e,value:t}]}},ru=o("[64] InlineDataFull"),nu=function(e,t){return{token:"inlineData",values:[],todo:!0}},iu=o("[65] DataBlockValue"),ou=o("[61] FunctionCall"),su=function(e,t){var r={};return r.token="expression",r.expressionType="irireforfunction",r.iriref=e,r.args=t.value,r},au=o("[62] ArgList"),uu=function(){var e={};return e.token="args",e.value=[],e},lu=",",cu=n(",",!1),pu=function(e,t,r){for(var n=[],i=0;i<r.length;i++)n.push(r[i][2]);var o={};return o.token="args",o.value=[t].concat(n),null!=e&&"DISTINCT"===e.toUpperCase()?o.distinct=!0:o.distinct=!1,o},fu=o("[63] ExpressionList"),du=function(e,t){for(var r=[],n=0;n<t.length;n++)r.push(t[n][2]);var i={};return i.token="args",i.value=[e].concat(r),i},hu=o("[64] ConstructTemplate"),vu=function(e){return e},gu=o("[65] ConstructTriples"),mu=function(e,t){var r=e.triplesContext;return null!=t&&"object"==typeof t&&null!=t.length&&null!=t[3]&&null!=t[3].triplesContext&&(r=r.concat(t[3].triplesContext)),{token:"triplestemplate",triplesContext:r}},yu=o("[66] TriplesSameSubject"),bu=function(e,t){var r=t.triplesContext,n=e;if(t.pairs)for(var i=0;i<t.pairs.length;i++){var o=t.pairs[i],s=null;null!=o[1].length&&(o[1]=o[1][0]),n.token&&"triplesnodecollection"===n.token?(s={subject:n.chainSubject[0],predicate:o[0],object:o[1]},r.push(s),r=r.concat(n.triplesContext)):(s={subject:n,predicate:o[0],object:o[1]},r.push(s))}var a={};return a.token="triplessamesubject",a.triplesContext=r,a.chainSubject=n,a},Eu=function(e,t){var r=e.triplesContext,n=e.chainSubject;if(t.pairs)for(var i=0;i<t.pairs.length;i++){var o=t.pairs[i];if(null!=o[1].length&&(o[1]=o[1][0]),"triplesnodecollection"===e.token)for(var s=0;s<n.length;s++){var a=n[s];if(null!=a.triplesContext){var u={subject:a.chainSubject,predicate:o[0],object:o[1]};r.concat(a.triplesContext)}else{var u={subject:n[s],predicate:o[0],object:o[1]};r.push(u)}}else{var u={subject:n,predicate:o[0],object:o[1]};r.push(u)}}var l={};return l.token="triplessamesubject",l.triplesContext=r,l.chainSubject=n,l},xu=o("[83] PropertyListPathNotEmpty"),Su=function(e,t,r){var n={};n.token="propertylist";for(var i=[],o=[],s=0;s<t.length;s++)null!=t[s].triplesContext?(i=i.concat(t[s].triplesContext),"triplesnodecollection"===t[s].token&&null!=t[s].chainSubject.length?o.push([e,t[s].chainSubject[0]]):o.push([e,t[s].chainSubject])):o.push([e,t[s]]);for(var s=0;s<r.length;s++)for(var a=r[s][3],u=a[0],l=a[2]||[],c=0;c<l.length;c++)null!=l[c].triplesContext?(i=i.concat(l[c].triplesContext),o.push([u,l[c].chainSubject])):o.push([u,l[c]]);return n.pairs=o,n.triplesContext=i,n},Tu=o("[67] PropertyListNotEmpty"),Iu=function(e,t,r){var n={};n.token="propertylist";for(var i=[],o=[],s=0;s<t.length;s++)null!=t[s].triplesContext?(i=i.concat(t[s].triplesContext),"triplesnodecollection"===t[s].token&&null!=t[s].chainSubject.length?o.push([e,t[s].chainSubject[0]]):o.push([e,t[s].chainSubject])):o.push([e,t[s]]);for(var s=0;s<r.length;s++)for(var a=r[s][3],u=a[0],l=a[2]||[],c=0;c<l.length;c++)null!=l[c].triplesContext?(i=i.concat(l[c].triplesContext),o.push([u,l[c].chainSubject])):o.push([u,l[c]]);return n.pairs=o,n.triplesContext=i,n},wu=o("[68] PropertyList"),Cu=o("[86] ObjectListPath"),Au=function(e,t){var r=[];r.push(e);for(var n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)"object"==typeof t[n][i]&&null!=t[n][i].token&&r.push(t[n][i]);return r},Nu=o("[69] ObjectList"),Lu=function(e,t){var r=[];r.push(e);for(var n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)"object"==typeof t[n][i]&&null!=t[n][i].token&&r.push(t[n][i]);return r},Ru=o("[87] ObjectPath"),_u=o("[70] Object"),ku=o("[71] Verb"),Ou="a",Pu=n("a",!1),Du=function(){return{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}},Fu=o("[72] TriplesSameSubjectPath"),ju=function(e,t){var r=t.triplesContext,n=e;if(t.pairs)for(var i=0;i<t.pairs.length;i++){var o=t.pairs[i],s=null;null!=o[1].length&&(o[1]=o[1][0]),n.token&&"triplesnodecollection"===n.token?(s={subject:n.chainSubject[0],predicate:o[0],object:o[1]},"path"===s.predicate.token&&"element"===s.predicate.kind&&(s.predicate=s.predicate.value),r.push(s),r=r.concat(n.triplesContext)):(s={subject:n,predicate:o[0],object:o[1]},"path"===s.predicate.token&&"element"===s.predicate.kind&&(s.predicate=s.predicate.value),r.push(s))}var a={};return a.token="triplessamesubject",a.triplesContext=r,a.chainSubject=n,a},Mu=function(e,t){var r=e.triplesContext,n=e.chainSubject;if(null!=t&&null!=t.pairs)for(var i=0;i<t.pairs.length;i++){var o=t.pairs[i];if(null!=o[1].length&&(o[1]=o[1][0]),"triplesnodecollection"===e.token)for(var s=0;s<n.length;s++){var a=n[s];if(null!=a.triplesContext){var u={subject:a.chainSubject,predicate:o[0],object:o[1]};r.concat(a.triplesContext)}else{var u={subject:n[s],predicate:o[0],object:o[1]};r.push(u)}}else{var u={subject:n,predicate:o[0],object:o[1]};r.push(u)}}var l={};return l.token="triplessamesubject",l.triplesContext=r,l.chainSubject=n,l},$u=o("[73] PropertyListNotEmptyPath"),Bu=function(e,t,r){var n={};n.token="propertylist";for(var i=[],o=[],s=0;s<t.length;s++)null!=t[s].triplesContext?(i=i.concat(t[s].triplesContext),"triplesnodecollection"===t[s].token&&null!=t[s].chainSubject.length?o.push([e,t[s].chainSubject[0]]):o.push([e,t[s].chainSubject])):o.push([e,t[s]]);for(var s=0;s<r.length;s++)for(var a=r[s][3],u=a[0],l=a[1]||[],c=0;c<l.length;c++)null!=l[c].triplesContext?(i=i.concat(l[c].triplesContext),o.push([u,l[c].chainSubject])):o.push([u,l[c]]);return n.pairs=o,n.triplesContext=i,n},Uu=o("[74] PropertyListPath"),Gu=o("[75]"),Hu=function(e){var t={};return t.token="path",t.kind="element",t.value=e,e},qu=o("[76] VerbSimple"),Vu=o("[77] Path"),Qu=o("[78] PathAlternative"),Wu="|",zu=n("|",!1),Xu=function(e,t){if(null==t||0===t.length)return e;for(var r=[],n=0;n<t.length;n++)r.push(t[1]);var i={};return i.token="path",i.kind="alternative",i.value=r,i},Yu=o("[79] PathSequence"),Ku="/",Ju=n("/",!1),Zu=function(e,t){if(null==t||0===t.length)return e;for(var r=[e],n=0;n<t.length;n++)r.push(t[n][1]);var i={};return i.token="path",i.kind="sequence",i.value=r,i},el=o("[88] PathElt"),tl=function(e,t){if(e.token&&"path"!=e.token&&""==t)return e;if(e.token&&e.token!=r&&""!=t){var r={};return r.token="path",r.kind="element",r.value=e,r.modifier=t,r}return e.modifier=t,e},rl=o("[81] PathEltOrInverse"),nl="^",il=n("^",!1),ol=function(e){var t={};return t.token="path",t.kind="inversePath",t.value=e,t},sl=o("[82] PathMod"),al="?",ul=n("?",!1),ll="+",cl=n("+",!1),pl=o("[83] PathPrimary"),fl="!",dl=n("!",!1),hl=o("[85] PathOneInPropertySet"),vl=o("[86] Integer"),gl=o("[100] TriplesNodePath"),ml=function(e){for(var t=[],r=[],n=null,i=0;i<e.length;i++){rm++;var o=null;null==e[i].chainSubject&&null==e[i].triplesContext?o=e[i]:(o=e[i].chainSubject,t=t.concat(e[i].triplesContext)),n={subject:{token:"blank",value:"_:"+rm},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:o},0==i&&r.push(n.subject),t.push(n),n=i===e.length-1?{subject:{token:"blank",value:"_:"+rm},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+rm},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(rm+1)}},t.push(n)}return{token:"triplesnodecollection",triplesContext:t,chainSubject:r}},yl=o("[87] TriplesNode"),bl=function(e){for(var t=[],r=[],n=null,i=0;i<e.length;i++){rm++;var o=null;null==e[i].chainSubject&&null==e[i].triplesContext?o=e[i]:(o=e[i].chainSubject,t=t.concat(o.triplesContext)),n={subject:{token:"blank",value:"_:"+rm},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:o},0==i&&r.push(n.subject),t.push(n),n=i===e.length-1?{subject:{token:"blank",value:"_:"+rm},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+rm},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(rm+1)}},t.push(n)}return{token:"triplesnodecollection",triplesContext:t,chainSubject:r}},El=o("[101] BlankNodePropertyListPath"),xl="[",Sl=n("[",!1),Tl="]",Il=n("]",!1),wl=function(e){rm++;for(var t={token:"blank",value:"_:"+rm},r=[],n=0;n<e.pairs.length;n++){var i=e.pairs[n],o={};o.subject=t,o.predicate=i[0],null!=i[1].length&&(i[1]=i[1][0]),o.object=i[1],r.push(o)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:e.triplesContext.concat(r),chainSubject:t}},Cl=o("[88] BlankNodePropertyList"),Al=function(e){rm++;for(var t={token:"blank",value:"_:"+rm},r=[],n=0;n<e.pairs.length;n++){var i=e.pairs[n],o={};o.subject=t,o.predicate=i[0],null!=i[1].length&&(i[1]=i[1][0]),o.object=i[1],r.push(o)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:e.triplesContext.concat(r),chainSubject:t}},Nl=o("[103] CollectionPath"),Ll=function(e){return e},Rl=o("[89] Collection"),_l=o("[105] GraphNodePath"),kl=function(e){return e[1]},Ol=o("[90] GraphNode"),Pl=o("[91] VarOrTerm"),Dl=o("[92] VarOrIRIref"),Fl=o("[93] Var"),jl=function(e){var t={};return t.token="var",t.value=e,t},Ml=o("[94] GraphTerm"),$l=o("[95] Expression"),Bl=o("[96] ConditionalOrExpression"),Ul="||",Gl=n("||",!1),Hl=function(e,t){if(0===t.length)return e;var r={};r.token="expression",r.expressionType="conditionalor";for(var n=[e],i=0;i<t.length;i++)n.push(t[i][3]);return r.operands=n,r},ql=o("[97] ConditionalAndExpression"),Vl="&&",Ql=n("&&",!1),Wl=function(e,t){if(0===t.length)return e;var r={};r.token="expression",r.expressionType="conditionaland";for(var n=[e],i=0;i<t.length;i++)n.push(t[i][3]);return r.operands=n,r},zl=o("[98] ValueLogical"),Xl=o("[99] RelationalExpression"),Yl="=",Kl=n("=",!1),Jl="!=",Zl=n("!=",!1),ec="<",tc=n("<",!1),rc=">",nc=n(">",!1),ic="<=",oc=n("<=",!1),sc=">=",ac=n(">=",!1),uc="I",lc=n("I",!1),cc="i",pc=n("i",!1),fc="N",dc=n("N",!1),hc="n",vc=n("n",!1),gc="O",mc=n("O",!1),yc="o",bc=n("o",!1),Ec="T",xc=n("T",!1),Sc="t",Tc=n("t",!1),Ic=function(e,t){if(0===t.length)return e;if("i"===t[0][1]||"I"===t[0][1]||"n"===t[0][1]||"N"===t[0][1]){var r={};if("i"===t[0][1]||"I"===t[0][1]){var n="=";r.expressionType="conditionalor"}else{var n="!=";r.expressionType="conditionaland"}for(var i=e,o=[],s=0;s<t[0].length;s++)if("args"===t[0][s].token){o=t[0][s].value;break}r.token="expression",r.operands=[];for(var a=0;a<o.length;a++){var u={};u.token="expression",u.expressionType="relationalexpression",u.operator=n,u.op1=i,u.op2=o[a],r.operands.push(u)}return r}var r={};return r.expressionType="relationalexpression",r.operator=t[0][1],r.op1=e,r.op2=t[0][3],r.token="expression",r},wc=o("[100] NumericExpression"),Cc=o("[101] AdditiveExpression"),Ac="-",Nc=n("-",!1),Lc=function(e,t){if(0===t.length)return e;var r={};r.token="expression",r.expressionType="additiveexpression",r.summand=e,r.summands=[];for(var n=0;n<t.length;n++){var i=t[n],o={};if(4==i.length&&"string"==typeof i[1])o.operator=i[1],o.expression=i[3];else{var s={},a=o[0],u=(o[1][1],o[1][3]);a.value<0?(o.operator="-",a.value=-a.value):o.operator="+",s.token="expression",s.expressionType="multiplicativeexpression",s.operator=a,s.factors=[{operator:null,expression:u}],o.expression=s}r.summands.push(o)}return r},Rc=o("[102] MultiplicativeExpression"),_c=function(e,t){if(0===t.length)return e;var r={};r.token="expression",r.expressionType="multiplicativeexpression",r.factor=e,r.factors=[];for(var n=0;n<t.length;n++){var i=t[n],o={};o.operator=i[1],o.expression=i[3],r.factors.push(o)}return r},kc=o("[103] UnaryExpression"),Oc=function(e){var t={};return t.token="expression",t.expressionType="unaryexpression",t.unaryexpression="!",t.expression=e,t},Pc=function(e){var t={};return t.token="expression",t.expressionType="unaryexpression",t.unaryexpression="+",t.expression=e,t},Dc=function(e){var t={};return t.token="expression",t.expressionType="unaryexpression",t.unaryexpression="-",t.expression=e,t},Fc=o("[104] PrimaryExpression"),jc=function(e){var t={};return t.token="expression",t.expressionType="atomic",t.primaryexpression="rdfliteral",t.value=e,t},Mc=function(e){var t={};return t.token="expression",t.expressionType="atomic",t.primaryexpression="numericliteral",t.value=e,t},$c=function(e){var t={};return t.token="expression",t.expressionType="atomic",t.primaryexpression="booleanliteral",t.value=e,t},Bc=function(e){var t={};return t.token="expression",t.expressionType="atomic",t.primaryexpression="var",t.value=e,t},Uc=o("[105] BrackettedExpression"),Gc=function(e){return e},Hc=o("[106] BuiltInCall"),qc="STR",Vc=n("STR",!1),Qc="str",Wc=n("str",!1),zc=function(e){var t={};return t.token="expression",t.expressionType="builtincall",t.builtincall="str",t.args=[e],t},Xc="LANG",Yc=n("LANG",!1),Kc="lang",Jc=n("lang",!1),Zc=function(e){var t={};return t.token="expression",t.expressionType="builtincall",t.builtincall="lang",t.args=[e],t},ep="LANGMATCHES",tp=n("LANGMATCHES",!1),rp="langmatches",np=n("langmatches",!1),ip=function(e,t){var r={};return r.token="expression",r.expressionType="builtincall",r.builtincall="langmatches",r.args=[e,t],r},op="DATATYPE",sp=n("DATATYPE",!1),ap="datatype",up=n("datatype",!1),lp=function(e){var t={};return t.token="expression",t.expressionType="builtincall",t.builtincall="datatype",t.args=[e],t},cp="BOUND",pp=n("BOUND",!1),fp="bound",dp=n("bound",!1),hp=function(e){var t={};return t.token="expression",t.expressionType="builtincall",t.builtincall="bound",t.args=[e],t},vp="IRI",gp=n("IRI",!1),mp="iri",yp=n("iri",!1),bp=function(e){var t={};return t.token="expression",t.expressionType="builtincall",t.builtincall="iri",t.args=[e],t},Ep="URI",xp=n("URI",!1),Sp="uri",Tp=n("uri",!1),Ip=function(e){var t={};return t.token="expression",t.expressionType="builtincall",t.builtincall="uri",t.args=[e],t},wp="BNODE",Cp=n("BNODE",!1),Ap="bnode",Np=n("bnode",!1),Lp=function(e){var t={};return t.token="expression",t.expressionType="builtincall",t.builtincall="bnode",5===e.length?t.args=[e[2]]:t.args=null,t},Rp="COALESCE",_p=n("COALESCE",!1),kp="coalesce",Op=n("coalesce",!1),Pp=function(e){var t={};return t.token="expression",t.expressionType="builtincall",t.builtincall="coalesce",t.args=e,t},Dp="IF",Fp=n("IF",!1),jp="if",Mp=n("if",!1),$p=function(e,t,r){var n={};return n.token="expression",n.expressionType="builtincall",n.builtincall="if",n.args=[e,t,r],n},Bp="ISLITERAL",Up=n("ISLITERAL",!1),Gp="isliteral",Hp=n("isliteral",!1),qp="isLITERAL",Vp=n("isLITERAL",!1),Qp=function(e){var t={};return t.token="expression",t.expressionType="builtincall",t.builtincall="isliteral",t.args=[e],t},Wp="ISBLANK",zp=n("ISBLANK",!1),Xp="isblank",Yp=n("isblank",!1),Kp="isBLANK",Jp=n("isBLANK",!1),Zp=function(e){var t={};return t.token="expression",t.expressionType="builtincall",t.builtincall="isblank",t.args=[e],t},ef="SAMETERM",tf=n("SAMETERM",!1),rf="sameterm",nf=n("sameterm",!1),of=function(e,t){var r={};return r.token="expression",r.expressionType="builtincall",r.builtincall="sameterm",r.args=[e,t],r},sf="ISURI",af=n("ISURI",!1),uf="isuri",lf=n("isuri",!1),cf="isURI",pf=n("isURI",!1),ff="ISIRI",df=n("ISIRI",!1),hf="isiri",vf=n("isiri",!1),gf="isIRI",mf=n("isIRI",!1),yf=function(e){var t={};return t.token="expression",t.expressionType="builtincall",t.builtincall="isuri",t.args=[e],t},bf="custom:",Ef=n("custom:",!1),xf="CUSTOM:",Sf=n("CUSTOM:",!1),Tf=/^[a-zA-Z0-9_]/,If=i([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),wf=function(e,t,r){var n={};n.token="expression",n.expressionType="custom",n.name=e.join("");for(var i=[],o=0;o<t.length;o++)i.push(t[o][1]);return i.push(r),n.args=i,n},Cf=o("[107] RegexExpression"),Af="REGEX",Nf=n("REGEX",!1),Lf="regex",Rf=n("regex",!1),_f=function(e,t,r){var n={};return n.token="expression",n.expressionType="regex",n.text=e,n.pattern=t,null!=r&&(n.flags=r[2]),n},kf=o("[108] ExistsFunc"),Of="EXISTS",Pf=n("EXISTS",!1),Df="exists",Ff=n("exists",!1),jf=function(e){var t={};return t.token="expression",t.expressionType="builtincall",t.builtincall="exists",t.args=[e],t},Mf=o("[109] NotExistsFunc"),$f="NOT",Bf=n("NOT",!1),Uf="not",Gf=n("not",!1),Hf=function(e){var t={};return t.token="expression",t.expressionType="builtincall",t.builtincall="notexists",t.args=[e],t},qf=o("[110] Aggregate"),Vf="COUNT",Qf=n("COUNT",!1),Wf="count",zf=n("count",!1),Xf=function(e,t){var r={};return r.token="expression",r.expressionType="aggregate",r.aggregateType="count",r.distinct=""!=e&&null!=e?"DISTINCT":e,r.expression=t,r},Yf="GROUP_CONCAT",Kf=n("GROUP_CONCAT",!1),Jf="group_concat",Zf=n("group_concat",!1),ed="SEPARATOR",td=n("SEPARATOR",!1),rd=function(e,t,r){var n={};return n.token="expression",n.expressionType="aggregate",n.aggregateType="group_concat",n.distinct=""!=e&&null!=e?"DISTINCT":e,n.expression=t,n.separator=r,n},nd="SUM",id=n("SUM",!1),od="sum",sd=n("sum",!1),ad=function(e,t){var r={};return r.token="expression",r.expressionType="aggregate",r.aggregateType="sum",r.distinct=""!=e&&null!=e?"DISTINCT":e,r.expression=t,r},ud="MIN",ld=n("MIN",!1),cd="min",pd=n("min",!1),fd=function(e,t){var r={};return r.token="expression",r.expressionType="aggregate",r.aggregateType="min",r.distinct=""!=e&&null!=e?"DISTINCT":e,r.expression=t,r},dd="MAX",hd=n("MAX",!1),vd="max",gd=n("max",!1),md=function(e,t){var r={};return r.token="expression",r.expressionType="aggregate",r.aggregateType="max",r.distinct=""!=e&&null!=e?"DISTINCT":e,r.expression=t,r},yd="AVG",bd=n("AVG",!1),Ed="avg",xd=n("avg",!1),Sd=function(e,t){var r={};return r.token="expression",r.expressionType="aggregate",r.aggregateType="avg",r.distinct=""!=e&&null!=e?"DISTINCT":e,r.expression=t,r},Td=o("[117] IRIrefOrFunction"),Id=function(e,t){var r={};return r.token="expression",r.expressionType="irireforfunction",r.iriref=e,r.args=null!=t?t.value:t,r},wd=o("[112] RDFLiteral"),Cd="^^",Ad=n("^^",!1),Nd=function(e,t){return"string"==typeof t&&t.length>0?{token:"literal",value:e.value,lang:t.slice(1),type:null}:null!=t&&"object"==typeof t?(t.shift(),{token:"literal",value:e.value,lang:null,type:t[0]}):{token:"literal",value:e.value,lang:null,type:null}},Ld=o("[113] NumericLiteral"),Rd=o("[114] NumericLiteralUnsigned"),_d=o("[115] NumericLiteralPositive"),kd=o("[116] NumericLiteralNegative"),Od=o("[117] BooleanLiteral"),Pd="TRUE",Dd=n("TRUE",!1),Fd="true",jd=n("true",!1),Md=function(){var e={};return e.token="literal",e.lang=null,e.type="http://www.w3.org/2001/XMLSchema#boolean",e.value=!0,e},$d="FALSE",Bd=n("FALSE",!1),Ud="false",Gd=n("false",!1),Hd=function(){var e={};return e.token="literal",e.lang=null,e.type="http://www.w3.org/2001/XMLSchema#boolean",e.value=!1,e},qd=o("[118] String"),Vd=function(e){return{token:"string",value:e}},Qd=o("[119] IRIref"),Wd=function(e){return{token:"uri",prefix:null,suffix:null,value:e}},zd=function(e){return e},Xd=o("[120] PrefixedName"),Yd=function(e){return{token:"uri",prefix:e[0],suffix:e[1],value:null}},Kd=function(e){return{token:"uri",prefix:e,suffix:"",value:null}},Jd=o("[121] BlankNode"),Zd=function(e){return{token:"blank",value:e}},eh=function(){return rm++,{token:"blank",value:"_:"+rm}},th=o("[122] IRI_REF"),rh=/^[^<>"{}|\^`\\]/,nh=i(["<",">",'"',"{","}","|","^","`","\\"],!0,!1),ih=function(e){return e.join("")},oh=o("[123] PNAME_NS"),sh=":",ah=n(":",!1),uh=o("[124] PNAME_LN"),lh=function(e,t){return[e,t]},ch=o("[125] BLANK_NODE_LABEL"),ph="_:",fh=n("_:",!1),dh=function(e){return e},hh=o("[126] VAR1"),vh=function(e){return e},gh=o("[127] VAR2"),mh="$",yh=n("$",!1),bh=o("[128] LANGTAG"),Eh="@",xh=n("@",!1),Sh=/^[a-zA-Z]/,Th=i([["a","z"],["A","Z"]],!1,!1),Ih=/^[a-zA-Z0-9]/,wh=i([["a","z"],["A","Z"],["0","9"]],!1,!1),Ch=function(e,t){return 0===t.length?("@"+e.join("")).toLowerCase():("@"+e.join("")+"-"+t[0][1].join("")).toLowerCase()},Ah=o("[129] INTEGER"),Nh=/^[0-9]/,Lh=i([["0","9"]],!1,!1),Rh=function(e){var t={};return t.token="literal",t.lang=null,t.type="http://www.w3.org/2001/XMLSchema#integer",t.value=tm(e),t},_h=o("[130] DECIMAL"),kh=function(e,t,r){var n={};return n.token="literal",n.lang=null,n.type="http://www.w3.org/2001/XMLSchema#decimal",n.value=tm([e,t,r]),n},Oh=function(e,t){var r={};return r.token="literal",r.lang=null,r.type="http://www.w3.org/2001/XMLSchema#decimal",r.value=tm([e,t]),r},Ph=o("[131] DOUBLE"),Dh=function(e,t,r,n){var i={};return i.token="literal",i.lang=null,i.type="http://www.w3.org/2001/XMLSchema#double",i.value=tm([e,t,r,n]),i},Fh=function(e,t,r){var n={};return n.token="literal",n.lang=null,n.type="http://www.w3.org/2001/XMLSchema#double",n.value=tm([e,t,r]),n},jh=function(e,t){var r={};return r.token="literal",r.lang=null,r.type="http://www.w3.org/2001/XMLSchema#double",r.value=tm([e,t]),r},Mh=o("[132] INTEGER_POSITIVE"),$h=function(e){return e.value="+"+e.value,e},Bh=o("[133] DECIMAL_POSITIVE"),Uh=function(e){return e.value="+"+e.value,e},Gh=o("[134] DOUBLE_POSITIVE"),Hh=o("[135] INTEGER_NEGATIVE"),qh=function(e){return e.value="-"+e.value,e},Vh=o("[136] DECIMAL_NEGATIVE"),Qh=o("[137] DOUBLE_NEGATIVE"),Wh=o("[138] EXPONENT"),zh=/^[eE]/,Xh=i(["e","E"],!1,!1),Yh=/^[+\-]/,Kh=i(["+","-"],!1,!1),Jh=function(e,t,r){return tm([e,t,r])},Zh=o("[139] STRING_LITERAL1"),ev="'",tv=n("'",!1),rv=/^[^'\\\n\r]/,nv=i(["'","\\","\n","\r"],!0,!1),iv=function(e){return tm(e)},ov=o("[140] STRING_LITERAL2"),sv='"',av=n('"',!1),uv=/^[^"\\\n\r]/,lv=i(['"',"\\","\n","\r"],!0,!1),cv=o("[141] STRING_LITERAL_LONG1"),pv="'''",fv=n("'''",!1),dv=/^[^'\\]/,hv=i(["'","\\"],!0,!1),vv=o("[142] STRING_LITERAL_LONG2"),gv='"""',mv=n('"""',!1),yv=/^[^"\\]/,bv=i(['"',"\\"],!0,!1),Ev=o("[143] ECHAR"),xv="\\",Sv=n("\\",!1),Tv=/^[tbnrf"']/,Iv=i(["t","b","n","r","f",'"',"'"],!1,!1),wv=o("[144] NIL"),Cv=function(){return{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}},Av=o("[145] WS"),Nv=/^[ ]/,Lv=i([" "],!1,!1),Rv=/^[\t]/,_v=i(["\t"],!1,!1),kv=/^[\r]/,Ov=i(["\r"],!1,!1),Pv=/^[\n]/,Dv=i(["\n"],!1,!1),Fv=o(" COMMENT"),jv="#",Mv=n("#",!1),$v=/^[^\n\r]/,Bv=i(["\n","\r"],!0,!1),Uv=o("[146] ANON"),Gv=o("[147] PN_CHARS_BASE"),Hv=/^[A-Z]/,qv=i([["A","Z"]],!1,!1),Vv=/^[a-z]/,Qv=i([["a","z"]],!1,!1),Wv=/^[\xC0-\xD6]/,zv=i([["",""]],!1,!1),Xv=/^[\xD8-\xF6]/,Yv=i([["",""]],!1,!1),Kv=/^[\xF8-\u02FF]/,Jv=i([["",""]],!1,!1),Zv=/^[\u0370-\u037D]/,eg=i([["",""]],!1,!1),tg=/^[\u037F-\u1FFF]/,rg=i([["",""]],!1,!1),ng=/^[\u200C-\u200D]/,ig=i([["",""]],!1,!1),og=/^[\u2070-\u218F]/,sg=i([["",""]],!1,!1),ag=/^[\u2C00-\u2FEF]/,ug=i([["",""]],!1,!1),lg=/^[\u3001-\uD7FF]/,cg=i([["",""]],!1,!1),pg=/^[\uF900-\uFDCF]/,fg=i([["",""]],!1,!1),dg=/^[\uFDF0-\uFFFD]/,hg=i([["",""]],!1,!1),vg=/^[\u1000-\uEFFF]/,gg=i([["",""]],!1,!1),mg=o("[148] PN_CHARS_U"),yg="_",bg=n("_",!1),Eg=o("[149] VARNAME"),xg=/^[\xB7]/,Sg=i([""],!1,!1),Tg=/^[\u0300-\u036F]/,Ig=i([["",""]],!1,!1),wg=/^[\u203F-\u2040]/,Cg=i([["",""]],!1,!1),Ag=function(e,t){return e+t.join("")},Ng=o("[150] PN_CHARS"),Lg=o("[151] PN_PREFIX"),Rg=function(e,t){if("."==t[t.length-1])throw new Error("Wrong PN_PREFIX, cannot finish with '.'");return e+t.join("")},_g=o("[152] PN_LOCAL"),kg=function(e,t){return e+(t||[]).join("")},Og=o("[170] PLX"),Pg=o("[171] PERCENT"),Dg="%",Fg=n("%",!1),jg=function(e){return e.join("")},Mg=o("[172] HEX"),$g=/^[A-F]/,Bg=i([["A","F"]],!1,!1),Ug=/^[a-f]/,Gg=i([["a","f"]],!1,!1),Hg=o("[173] PN_LOCAL_ESC"),qg="~",Vg=n("~",!1),Qg="&",Wg=n("&",!1),zg=function(e){return"\\"+e},Xg=0,Yg=0,Kg=[{line:1,column:1}],Jg=0,Zg=[],em=0;if("startRule"in r){if(!(r.startRule in Tr))throw new Error("Can't start parsing from rule \""+r.startRule+'".');Ir=Tr[r.startRule]}var tm=function(e){for(var t="",r=0;r<e.length;r++)"string"==typeof e[r]?t+=e[r]:t+=e[r].join("");return t},rm=0,nm={},im=function(e,t){nm[e]=t},om=function(e){nm[null]=e},sm=function(e){var t="";if(null==e)return null;for(var r=0;r<e.length;r++)t+=e[r];return t.toUpperCase()};if((xr=Ir())!==Sr&&Xg===t.length)return xr;throw xr!==Sr&&Xg<t.length&&u(function(){return{type:"end"}}()),l(Zg,Jg<t.length?t.charAt(Jg):null,Jg<t.length?a(Jg,Jg+1):a(Jg,Jg))}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),e.buildMessage=function(e,t){function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function o(e){return s[e.type](e)}var s={literal:function(e){return'"'+n(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?i(e.parts[t][0])+"-"+i(e.parts[t][1]):i(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};return"Expected "+function(e){var t,r,n=new Array(e.length);for(t=0;t<e.length;t++)n[t]=o(e[t]);if(n.sort(),n.length>0){for(t=1,r=1;t<n.length;t++)n[t-1]!==n[t]&&(n[r]=n[t],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+function(e){return e?'"'+n(e)+'"':"end of input"}(t)+" found."},{SyntaxError:e,parse:t}}()},function(e,t,r){var n=(r(124).Tree,r(7)),i=n,o=r(193).Lexicon;PersistentLexicon=function(e,t){var r=this;n.registerIndexedDB(r),this.defaultGraphOid=0,this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph",this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri},this.oidCounter=1,r.dbName=t||"rdfstorejs";var i=r.indexedDB.open(this.dbName+"_lexicon",1);i.onerror=function(t){e(null,new Error("Error opening IndexedDB: "+t.target.errorCode))},i.onsuccess=function(t){r.db=t.target.result,e(r)},i.onupgradeneeded=function(e){r.db=e.target.result,r.db.createObjectStore("knownGraphs",{keyPath:"oid"}).createIndex("uriToken","uriToken",{unique:!0}),r.db.createObjectStore("components",{keyPath:"id",autoIncrement:!0}).createIndex("value","value",{unique:!0})}},PersistentLexicon.prototype.registerGraph=function(e,t,r){if(e!=this.defaultGraphOid){var n=this.db.transaction(["knownGraphs"],"readwrite");n.onerror=function(e){r(null,new Error(e.target.statusCode))};var i=n.objectStore("knownGraphs");i.get(t).onsuccess=function(n){n.target.result?r(!0):i.add({oid:e,uriToken:t}).onsuccess=function(e){r(!0)}}}else r()},PersistentLexicon.prototype.registeredGraphs=function(e,t){var r=[],n=this.db.transaction(["knownGraphs"],"readwrite").objectStore("knownGraphs"),i=n.openCursor();i.onsuccess=function(n){var i=n.target.result;i?(!0===e?r.push(i.value.uriToken):r.push(i.value.oid),i.continue()):t(r)},i.onerror=function(e){t(null,new Error("Error retrieving data from the cursor: "+e.target.errorCode))}},PersistentLexicon.prototype.registerUri=function(e,t){var r=this;if(e===this.defaultGraphUri)t(this.defaultGraphOid);else{var n=r.db.transaction(["components"],"readwrite").objectStore("components"),i=n.index("value").get("_u:"+e);i.onsuccess=function(r){var i=r.target.result;if(i){i.counter++;var o=i.id,s=n.put(i);s.onsuccess=function(e){t(o)},s.onerror=function(e){t(null,new Error("Error updating the URI data"+e.target.errorCode))}}else{var a=n.add({value:"_u:"+e,counter:0,uri:!0});a.onsuccess=function(e){t(e.target.result)},a.onerror=function(e){t(null,new Error("Error inserting the URI data"+e.target.errorCode))}}},i.onerror=function(e){t(null,new Error("Error retrieving the URI data"+e.target.errorCode))}}},PersistentLexicon.prototype.resolveUri=function(e,t){if(e===this.defaultGraphUri)t(this.defaultGraphOid);else{var r=this.db.transaction(["components"]).objectStore("components"),n=r.index("value").get("_u:"+e);n.onsuccess=function(e){t(null!=e.target.result?e.target.result.id:-1)},n.onerror=function(e){t(null,new Error("Error retrieving uri data "+e.target.errorCode))}}},PersistentLexicon.prototype.resolveUriCost=function(e,t){if(e===this.defaultGraphUri)t(0);else{var r=that.db.transaction(["components"]).objectStore("components"),n=r.index("value").get("_u:"+e);n.onsuccess=function(e){t(null!=e.target.result?e.target.result.cost:-1)},n.onerror=function(e){t(null,new Error("Error retrieving uri data "+e.target.errorCode))}}},PersistentLexicon.prototype.registerBlank=function(e){var t=guid(),r=this,n=r.db.transaction(["components"],"readwrite").objectStore("components"),i=n.add({value:"_b:"+t,counter:0,label:!0});i.onsuccess=function(t){e(t.target.result)},i.onerror=function(t){e(null,new Error("Error inserting the URI data"+t.target.errorCode))}},PersistentLexicon.prototype.resolveBlankCost=function(e,t){t(0)},PersistentLexicon.prototype.registerLiteral=function(e,t){var r=this,n=r.db.transaction(["components"],"readwrite").objectStore("components"),i=n.index("value").get("_l:"+e);i.onsuccess=function(r){var i=r.target.result;if(i){i.counter++;var o=i.id,s=n.put(i);s.onsuccess=function(e){t(o)},s.onerror=function(e){t(null,new Error("Error updating the literal data"+e.target.errorCode))}}else{var a=n.add({value:"_l:"+e,counter:0,literal:!0});a.onsuccess=function(e){t(e.target.result)},a.onerror=function(e){t(null,new Error("Error inserting the literal data"+e.target.errorCode))}}},i.onerror=function(e){t(null,new Error("Error retrieving the literal data"+e.target.errorCode))}},PersistentLexicon.prototype.resolveLiteral=function(e,t){var r=that.db.transaction(["components"]).objectStore("components"),n=r.index("value").get("_l:"+e);n.onsuccess=function(e){t(null!=e.target.result?e.target.result.id:-1)},n.onerror=function(e){t(null,new Error("Error retrieving literal data "+e.target.errorCode))}},PersistentLexicon.prototype.resolveLiteralCost=function(e,t){var r=that.db.transaction(["components"]).objectStore("components"),n=r.index("components").get(e);n.onsuccess=function(e){t(null!=e.target.result?e.target.result.cost:-1)},n.onerror=function(e){t(null,new Error("Error retrieving literal data "+e.target.errorCode))}},PersistentLexicon.prototype.parseLiteral=function(e){return o.prototype.parseLiteral(e)},PersistentLexicon.prototype.parseUri=function(e){return o.prototype.parseUri(e)},PersistentLexicon.prototype.retrieve=function(e,t){var r,n,i=this;e===this.defaultGraphOid?t({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0}):(r=i.db.transaction(["components"]),n=r.objectStore("components").get(e),n.onsuccess=function(e){if(null!=e.target.result)if(null!=e.target.result.label){var r="_:"+e.target.result.id;t({token:"blank",value:r})}else null!=e.target.result.uri?t(i.parseUri(e.target.result.value.slice(3,e.target.result.value.length))):null!=e.target.result.literal?t(i.parseLiteral(e.target.result.value.slice(3,e.target.result.value.length))):(console.log(e.target.result),t(null,new Error("Unknown type of component "+e.target.result)));else t(null,null)},n.onerror=function(e){t(null,new Error("Error searching in blanks data "+e.target.errorCode))})},PersistentLexicon.prototype.clear=function(e){var t=this;this.defaultGraphOid=0,this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph",this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};var r,n=t.db.transaction(["components"],"readwrite"),i=n.objectStore("components"),o=function(){null!=e&&e()};r=i.clear(),r.onsuccess=o,r.onerror=o},PersistentLexicon.prototype.unregister=function(e,t,r){var n=this;i.seq(function(r){n._unregisterTerm(e.subject.token,t.subject,r)},function(r){n._unregisterTerm(e.predicate.token,t.predicate,r)},function(r){n._unregisterTerm(e.object.token,t.object,r)},function(r){null!=e.graph?n._unregisterTerm(e.graph.token,t.graph,r):r()})(function(){r(!0)})},PersistentLexicon.prototype._unregisterTerm=function(e,t,r){var n,i=this,o=i.db.transaction(["components","knownGraphs"],"readwrite");if("uri"===e)if(t!=this.defaultGraphOid){n=o.objectStore("components").delete(t),n.onsuccess=function(){o.objectStore("knownGraphs").delete(t).onsuccess=function(){r()}}()}else r();else n=o.objectStore("components").delete(t),n.onsuccess=function(){r()}},e.exports={PersistentLexicon:PersistentLexicon}},function(e,t,r){var n=r(7);PersistentQuadBackend=function(e,t){var r=this;if(0!==arguments){n.registerIndexedDB(r),this.indexMap={},this.indices=["S","P","O","G","SP","SO","SG","PO","PG","OG","SPO","SPG","SOG","POG","SPOG"],this.componentOrders={S:["subject","predicate","object","graph"],P:["predicate","subject","object","graph"],O:["object","subject","predicate","graph"],G:["graph","subject","predicate","object"],SP:["subject","predicate","object","graph"],SO:["subject","object","predicate","graph"],SG:["subject","graph","predicate","object"],PO:["predicate","object","subject","graph"],PG:["predicate","graph","subject","object"],OG:["object","graph","subject","predicate"],SPO:["subject","predicate","object","graph"],SPG:["subject","predicate","graph","object"],SOG:["subject","object","graph","predicate"],POG:["predicate","object","graph","subject"],SPOG:["subject","predicate","object","graph"]},this.componentOrdersMap={};for(var i in this.componentOrders){var o=this.componentOrders[i],s=o.slice(0,i.length).sort().join(".");this.componentOrdersMap[s]=i}r.dbName=e.name||"rdfstorejs";var a=r.indexedDB.open(this.dbName+"_db",1);a.onerror=function(e){t(null,new Error("Error opening IndexedDB: "+e.target.errorCode))},a.onsuccess=function(e){r.db=e.target.result,t(r)},a.onupgradeneeded=function(e){var t=e.target.result,i=t.createObjectStore(r.dbName,{keyPath:"SPOG"});n.each(r.indices,function(e){"SPOG"!==e&&i.createIndex(e,e,{unique:!1})})}}},PersistentQuadBackend.prototype.index=function(e,t){var r=this;n.each(this.indices,function(t){e[t]=r._genMinIndexKey(e,t)});var i=r.db.transaction([r.dbName],"readwrite");i.oncomplete=function(e){},i.onerror=function(e){t(null,new Error(e.target.statusCode))},i.objectStore(r.dbName).add(e).onsuccess=function(e){t(!0)}},PersistentQuadBackend.prototype.range=function(e,t){var r,n=this,i=n.db.transaction([n.dbName]).objectStore(n.dbName),o=this._indexForPattern(e),s=this._genMinIndexKey(e,o),a=this._genMaxIndexKey(e,o),u=n.IDBKeyRange.bound(s,a,!1,!1),l=[];r="SPOG"===o?i:i.index(o),r.openCursor(u).onsuccess=function(e){var r=e.target.result;r?(l.push(r.value),r.continue()):t(l)}},PersistentQuadBackend.prototype.search=function(e,t){var r=this,n=r.db.transaction([r.dbName]).objectStore(r.dbName),i=this._genMinIndexKey(e,"SPOG"),o=n.get(i);o.onerror=function(e){t(null,new Error(e.target.statusCode))},o.onsuccess=function(e){t(null!=e.target.result)}},PersistentQuadBackend.prototype.delete=function(e,t){var r=this,n=r._genMinIndexKey(e,"SPOG"),i=r.db.transaction([r.dbName],"readwrite").objectStore(r.dbName).delete(n);i.onsuccess=function(){t(!0)},i.onerror=function(e){t(null,new Error(e.target.statusCode))}},PersistentQuadBackend.prototype._genMinIndexKey=function(e,t){var r=this.componentOrders[t];return n.map(r,function(t){return"string"==typeof e[t]||null==e[t]?"0":e[t]}).join(".")},PersistentQuadBackend.prototype._genMaxIndexKey=function(e,t){for(var r=this.componentOrders[t],i=[],o=0;o<r.length;o++){var s=r[o],a=e[s];i[o]="string"==typeof a?"z":a}return n.map(i,function(e){return""+e}).join(".")},PersistentQuadBackend.prototype._indexForPattern=function(e){var t=this,r=e.indexKey,n=r.sort().join("."),i=t.componentOrdersMap[n];if(null==i)throw new Error("Error, cannot find index for indexKey "+n);return i},PersistentQuadBackend.prototype.clear=function(e){var t,r=this,n=r.db.transaction([r.dbName],"readwrite");t=n.objectStore(r.dbName).clear(),t.onsuccess=function(){e()},t.onerror=function(){e()}},e.exports.PersistentQuadBackend=PersistentQuadBackend},function(e,t,r){var n=r(83).QuadIndex,i=r(7);QuadBackend=function(e,t){this.indexMap={},this.treeOrder=e.treeOrder,this.indices=e.index||QuadBackend.allIndices,this.componentOrders=QuadBackend.componentOrders;var r=this;i.eachSeries(this.indices,function(e,t){new n({order:r.treeOrder,componentOrder:r.componentOrders[e]},function(n){r.indexMap[e]=n,t()})},function(){t(r)})},QuadBackend.allIndices=["SPOG","GP","OGS","POG","GSP","OS"],QuadBackend.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]},QuadBackend.prototype._indexForPattern=function(e){for(var t=e.indexKey,r=0;r<QuadBackend.allIndices.length;r++)for(var n=QuadBackend.allIndices[r],o=QuadBackend.componentOrders[n],s=0;s<o.length&&!1!==i.include(t,o[s]);s++)if(s==t.length-1)return n;return"SPOG"},QuadBackend.prototype.index=function(e,t){var r=this;i.eachSeries(this.indices,function(t,n){r.indexMap[t].insert(e,function(){n()})},function(){t(!0)})},QuadBackend.prototype.range=function(e,t){var r=this._indexForPattern(e),n=this.indexMap[r];null!=n&&n.range(e,function(e){t(e)})},QuadBackend.prototype.search=function(e,t){var r=this.indexMap.SPOG;null!=r&&r.search(e,function(e){t(null!=e)})},QuadBackend.prototype.delete=function(e,t){var r=this;i.eachSeries(this.indices,function(t,n){r.indexMap[t].delete(e,function(){n()})},function(){t(!0)})},QuadBackend.prototype.clear=function(e){var t=this;i.eachSeries(this.indices,function(e,r){new n({order:t.treeOrder,componentOrder:t.componentOrders[e]},function(n){t.indexMap[e]=n,r()})},function(){e(!0)})},e.exports.QuadBackend=QuadBackend},function(e,t,r){function n(e,t,r){this.name="BindExpressionError",this.bind=t,this.error=r,this.message=e}var i=r(123).AbstractQueryTree,o=r(123).NonSupportedSparqlFeatureError,s=r(7),a=r(83),u=r(430).QueryPlan,l=r(194).QueryFilters,c=r(125),p=r(431).RDFLoader,f=r(422).CallbacksBackend,d=r(7),h=r(7);n.prototype=new Error,n.constructor=n,QueryEngine=function(e){0!=arguments.length&&(this.backend=e.backend,this.lexicon=e.lexicon,this.eventsOnBatchLoad=e.eventsOnBatchLoad||!1,this.defaultPrefixes={},this.abstractQueryTree=new i,this.rdfLoader=new p(e.communication),this.callbacksBackend=new f(this),this.customFns=e.customFns||{})},QueryEngine.prototype.setCustomFunctions=function(e){this.customFns=e},QueryEngine.prototype.registerNsInEnvironment=function(e,t){var r=[];null!=e&&null!=e.prefixes&&(r=e.prefixes);var n={};for(var i in this.defaultPrefixes)n[i]=this.defaultPrefixes[i];for(var o=0;o<r.length;o++){var s=r[o];"prefix"===s.token&&(n[s.prefix]=s.local)}t.namespaces=n,null!=e&&e.base&&"object"==typeof e.base?t.base=e.base.value:t.base=null},QueryEngine.prototype.applyModifier=function(e,t){if("DISTINCT"==e){for(var r={},n=[],i=0;i<t.length;i++){var o=t[i],s="";for(var a in o){var u=o[a];null==u?s=s+a+"null":"literal"==u.token?(null!=u.value&&(s+=u.value),null!=u.lang&&(s+=u.lang),null!=u.type&&(s+=u.type)):s=u.value?s+a+u.value:s+a+u}null==r[s]&&(n.push(o),r[s]=!0)}return n}return t},QueryEngine.prototype.applyLimitOffset=function(e,t,r){return null==t&&null==e?r:(null==e&&(e=0),t=null==t?r.length:e+t,r.slice(e,t))},QueryEngine.prototype.applySingleOrderBy=function(e,t,r,n,i){var o=[],s=this;d.eachSeries(e,function(e,i){l.collect(e.expression,[t],r,n,s,function(e){o.push(e[0].value),i()})},function(){i({binding:t,value:o})})},QueryEngine.prototype.applyOrderBy=function(e,t,r,n,i){var o=this,s=[];null!=e&&e.length>0?d.eachSeries(t,function(t,i){o.applySingleOrderBy(e,t,r,n,function(e){s.push(e),i()})},function(){s.sort(function(t,r){return o.compareFilteredBindings(t,r,e,n)});for(var t=[],r=0;r<s.length;r++)t.push(s[r].binding);i(t)}):i(t)},QueryEngine.prototype.compareFilteredBindings=function(e,t,r,n){for(var i=0;;){if(i==e.value.length)return 0;var o,s=r[i].direction;if(null!=e.value[i]||null!=t.value[i]){if(null==e.value[i])o={value:!1};else if(null==t.value[i])o={value:!0};else{if("blank"===e.value[i].token&&"blank"===t.value[i].token){i++;continue}if("blank"===e.value[i].token)o={value:!1};else if("blank"===t.value[i].token)o={value:!0};else if("uri"===e.value[i].token&&"uri"===t.value[i].token){if(1==l.runEqualityFunction(e.value[i],t.value[i],[],this,n).value){i++;continue}o=l.runTotalGtFunction(e.value[i],t.value[i],[])}else if("uri"===e.value[i].token)o={value:!1};else if("uri"===t.value[i].token)o={value:!0};else if("literal"===e.value[i].token&&"literal"===t.value[i].token&&null==e.value[i].type&&null==t.value[i].type){if(1==l.runEqualityFunction(e.value[i],t.value[i],[],this,n).value){i++;continue}o=l.runTotalGtFunction(e.value[i],t.value[i],[])}else if("literal"===e.value[i].token&&null==e.value[i].type)o={value:!1};else if("literal"===t.value[i].token&&null==t.value[i].type)o={value:!0};else{if(1==l.runEqualityFunction(e.value[i],t.value[i],[],this,n).value){i++;continue}o=l.runTotalGtFunction(e.value[i],t.value[i],[])}}return 1==o.value?"ASC"===s?1:-1:"ASC"===s?-1:1}i++}},QueryEngine.prototype.removeDefaultGraphBindings=function(e,t){for(var r=[],n={},i=0;i<t.named.length;i++)n[t.named[i].oid]=!0;for(i=0;i<t.implicit.length;i++)null==n[t.implicit[i].oid]&&r.push(t.implicit[i].oid);var o=[];for(i=0;i<e.length;i++){var s=e[i],a=!1;for(var u in s){for(var l=0;l<n.length;l++)if(s[u]===n[l]){a=!0;break}if(a)break}a||o.push(s)}return o},QueryEngine.prototype.aggregateBindings=function(e,t,r,n,i){this.copyDenormalizedBindings(t,n.outCache,function(t){for(var o={},s=0;s<e.length;s++){var a=l.runAggregator(e[s],t,this,r,n);e[s].alias?o[e[s].alias.value]=a:o[e[s].value.value]=a}i(o)})},QueryEngine.prototype.projectBindings=function(e,t,r){if("*"===e[0].kind)return t;for(var n=[],i=0;i<t.length;i++){for(var o=t[i],s={},a=!0,u=0;u<e.length;u++)if("variable"==e[u].token&&"aliased"!=e[u].kind)s[e[u].value.value]=o[e[u].value.value];else if("variable"==e[u].token&&"aliased"==e[u].kind){var c=l.runFilter(e[u].expression,o,this,r,{blanks:{},outCache:{}});if(l.isEbvError(c)){a=!1;break}s[e[u].alias.value]=c}!0===a&&n.push(s)}return n},QueryEngine.prototype.resolveNsInEnvironment=function(e,t){return t.namespaces[e]},QueryEngine.prototype.normalizeTerm=function(e,t,r,n){if("uri"===e.token){var i=s.lexicalFormBaseUri(e,t);null==i?n(null):r?this.lexicon.registerUri(i,n):this.lexicon.resolveUri(i,n)}else if("literal"===e.token){var o=s.lexicalFormLiteral(e,t);r?this.lexicon.registerLiteral(o,n):this.lexicon.resolveLiteral(o,n)}else if("blank"===e.token){var a=e.value,u=t.blanks[a];null!=u?n(u):r?this.lexicon.registerBlank(function(e){t.blanks[a]=e,n(e)}):this.lexicon.resolveBlank(function(e){t.blanks[a]=e,n(e)})}else n("var"===e.token?e.value:null)},QueryEngine.prototype.normalizeDatasets=function(e,t,r){var n=this;d.eachSeries(e,function(e,r){e.value===n.lexicon.defaultGraphUri?(e.oid=n.lexicon.defaultGraphOid,r()):n.normalizeTerm(e,t,!1,function(t){null!=t&&(e.oid=t),r()})},function(){r(!0)})},QueryEngine.prototype.normalizeQuad=function(e,t,r,n){var i=null,o=null,a=null,u=null,l=this,c=!1;d.seq(function(n){if(null==e.graph||e.graph.value===l.lexicon.defaultGraphUri)u=0,n();else{var i=s.lexicalFormBaseUri(e.graph,t);l.normalizeTerm(e.graph,t,r,function(t){null!=t?(u=t,!0===r&&"var"!=e.graph.token?l.lexicon.registerGraph(t,i,function(){n()}):n()):(c=!0,n())})}},function(n){!1===c?l.normalizeTerm(e.subject,t,r,function(e){null!=e?(i=e,n()):(c=!0,n())}):n()},function(n){!1===c?l.normalizeTerm(e.predicate,t,r,function(e){null!=e?(o=e,n()):(c=!0,n())}):n()},function(n){!1===c?l.normalizeTerm(e.object,t,r,function(e){null!=e?(a=e,n()):(c=!0,n())}):n()})(function(){n(!0===c?null:{subject:i,predicate:o,object:a,graph:u})})},QueryEngine.prototype.denormalizeBindingsList=function(e,t,r){var n=this,i=[];d.eachSeries(e,function(e,r){n.denormalizeBindings(e,t,function(e){i.push(e),r()})},function(){r(i)})},QueryEngine.prototype.copyDenormalizedBindings=function(e,t,r){var n=this,i=[];d.eachSeries(e,function(e,r){var o={},s=h.keys(e);d.eachSeries(s,function(r,i){var s=e[r];if(null==s)o[r]=null,i();else if("object"==typeof s)o[r]=s,i();else{var a=t[s];null!=a?(o[r]=a,i()):n.lexicon.retrieve(s,function(e){t[s]=e,o[r]=e,i()})}},function(){i.push(o),r()})},function(){r(i)})},QueryEngine.prototype.denormalizeBindings=function(e,t,r){var n=h.keys(e),i=t.outCache,o=this;d.eachSeries(n,function(r,n){var s=e[r];null==s?(e[r]=null,n()):"object"==typeof s?n():null!=i[s]?(e[r]=i[s],n()):o.lexicon.retrieve(s,function(i){e[r]=i,"blank"===i.token&&(t.blanks[i.value]=s),n()})},function(){r(e)})},QueryEngine.prototype.execute=function(e,t,r,n){e=s.normalizeUnicodeLiterals(e);var i=this.abstractQueryTree.parseQueryString(e);if(null==i)t(!1,"Error parsing query string");else if("query"===i.token&&"update"==i.kind){this.callbacksBackend.startGraphModification();var o=this;this.executeUpdate(i,function(e,r){o.lexicon.updateAfterWrite&&o.lexicon.updateAfterWrite(),e?(o.callbacksBackend.cancelGraphModification(),t(e,r)):o.callbacksBackend.endGraphModification(function(){t(e,r)})})}else"query"===i.token&&"query"==i.kind&&this.executeQuery(i,t,r,n)},QueryEngine.prototype.executeQuery=function(e,t,r,n){var i=e.prologue,o=e.units,s=this,a={blanks:{},outCache:{}};this.registerNsInEnvironment(i,a);var u=s.abstractQueryTree.parseExecutableUnit(o[0]);"select"===u.kind?this.executeSelect(u,a,r,n,function(e,r){null==e?"object"==typeof r&&!0===r.denorm?t(null,r.bindings):s.denormalizeBindingsList(r,a,function(e){t(null,e)}):t(e)}):"ask"===u.kind?(u.projection=[{token:"variable",kind:"*"}],this.executeSelect(u,a,r,n,function(e,r){null==e?r.length>0?t(null,!0):t(null,!1):t(e)})):"construct"===u.kind&&(u.projection=[{token:"variable",kind:"*"}],s=this,this.executeSelect(u,a,r,n,function(e,r){null==e?s.denormalizeBindingsList(r,a,function(e){if(null!=e){var r=new c.Graph;null==u.template&&(u.template={triplesContext:u.pattern});for(var n=1,i=[],o=0;o<e.length;o++){for(var l=e[o],p=0;p<i.length;p++)delete i[p].valuetmp;for(var p=0;p<u.template.triplesContext.length;p++){for(var f=["subject","predicate","object"],d=u.template.triplesContext[p],h=0;h<f.length;h++){var v=f[h];if("blank"===d[v].token)if(d[v].valuetmp&&null!=d[v].valuetmp);else{var g="_:b"+n;n++,d[v].valuetmp=g,i.push(d[v])}}var m=c.buildRDFResource(d.subject,l,s,a),h=c.buildRDFResource(d.predicate,l,s,a),y=c.buildRDFResource(d.object,l,s,a);if(null!=m&&null!=h&&null!=y){var b=new c.Triple(m,h,y);r.add(b)}}}t(null,r)}else t(new Error("Error denormalizing bindings."))}):t(e)}))},QueryEngine.prototype.executeSelect=function(e,t,r,n,i){if("select"===e.kind||"ask"===e.kind||"construct"===e.kind||"modify"===e.kind){var o=e.projection,s=e.dataset,a=e.modifier,u=e.limit,l=e.offset,c=e.order,p=this;null==r&&null==n||(s.implicit=r||[],s.named=n||[]),null!=s.implicit&&0===s.implicit.length&&null!=s.named&&0===s.named.length&&s.implicit.push(this.lexicon.defaultGraphUriTerm),p.normalizeDatasets(s.implicit.concat(s.named),t,function(){try{p.executeSelectUnit(o,s,e.pattern,t,function(r){if(null!=r){if(null!=e.group&&""===e.group){for(var n=!1,f=0;f<e.projection.length;f++)if(null!=e.projection[f].expression&&"aggregate"===e.projection[f].expression.expressionType){n=!0;break}!0===n&&(e.group="singleGroup")}e.group&&""!=e.group?p.checkGroupSemantics(e.group,o)?p.groupSolution(r,e.group,s,t,function(e){var r=[];d.eachSeries(e,function(e,n){p.aggregateBindings(o,e,s,t,function(e){r.push(e),n()})},function(){i(null,{bindings:r,denorm:!0})})}):i(new Error("Incompatible Group and Projection variables")):p.applyOrderBy(c,r,s,t,function(e){var t=p.projectBindings(o,e,s),r=p.applyModifier(a,t),n=p.applyLimitOffset(l,u,r),c=p.removeDefaultGraphBindings(n,s);i(null,c)})}else i(new Error("Error executing SELECT query."))})}catch(e){i(e)}})}else i(new Error("Cannot execute "+e.kind+" query as a select query"))},QueryEngine.prototype.groupSolution=function(e,t,r,n,i){var o=[],s=[],a=!1,u=this;"singleGroup"===t?i([e]):d.eachSeries(e,function(e,i){var c=!0;d.eachSeries(t,function(t,i){var s=null;if("var"===t.token)s=t.value,0==a&&o.push(s),i();else if("aliased_expression"===t.token){if(s=t.alias.value,0==a&&o.push(s),"var"===t.expression.primaryexpression)e[t.alias.value]=e[t.expression.value.value];else{var p=u.copyDenormalizedBindings([e],n.outCache),f=l.runFilter(t.expression,p[0],u,r,n);l.isEbvError(f)?c=!1:(null!=f.value&&(f.value=""+f.value),e[t.alias.value]=f)}i()}else u.copyDenormalizedBindings([e],n.outCache,function(r){var p=l.runFilter(t,r[0],u,n);l.isEbvError(p)?c=!1:(e["groupCondition"+env._i]=p,s="groupCondition"+env._i,0==a&&o.push(s)),i()})},function(){0==a&&(a=!0),!0===c&&s.push(e),i()})},function(){for(var e={},t={},r=0;r<s.length;r++){for(var n=s[r],a="",u=0;u<o.length;u++){var l=n[o[u]];a+="object"==typeof l?l.value:l}null==e[a]?(t[a]=0,e[a]=[n]):e[a].push(n)}var c=[];for(var p in e)c.push(e[p]);i(c)})},QueryEngine.prototype.executeSelectUnit=function(e,t,r,n,i){if("BGP"===r.kind)this.executeAndBGP(e,t,r,n,i);else if("UNION"===r.kind)this.executeUNION(e,t,r.value,n,i);else if("JOIN"===r.kind)this.executeJOIN(e,t,r,n,i);else if("LEFT_JOIN"===r.kind)this.executeLEFT_JOIN(e,t,r,n,i);else if("FILTER"===r.kind){var s=this;this.executeSelectUnit(e,t,r.value,n,function(e){null!=e?l.checkFilters(r,e,!1,t,n,s,i):i([])})}else{if("EMPTY_PATTERN"!==r.kind)throw new o(r.kind);i([])}},QueryEngine.prototype.executeUNION=function(e,t,r,i,o){var s,a,c=r[0],p=r[1],f=null;if(2!=r.length)throw"SPARQL algebra UNION with more than two components";var h=this;d.seq(function(r){try{h.executeSelectUnit(e,t,c,i,function(e){s=e,r()})}catch(e){f=e,r()}},function(r){if(null==f)try{h.executeSelectUnit(e,t,p,i,function(e){a=e,r()})}catch(e){f=e,r()}else r()})(function(){if(null!=f)o(f);else{var e=u.unionBindings(s,a);h.runBinds(r.binds,e,t,i,function(e,s){if(null!=e)throw new n("Error processing bind expressions",r.binds,e);l.checkFilters(r,s,!1,t,i,h,o)})}})},QueryEngine.prototype.executeAndBGP=function(e,t,r,i,o){var s=this;u.executeAndBGPsDPSize(r.value,t,this,i,function(e){null!=e?s.runBinds(r.binds,e,t,i,function(e,a){if(null!=e)throw new n("Error processing bind expressions",r.binds,e);l.checkFilters(r,a,!1,t,i,s,o)}):o(null)})},QueryEngine.prototype.executeLEFT_JOIN=function(e,t,r,i,o){var s=r.lvalue,a=r.rvalue;if("EMPTY_PATTERN"===s.kind)this.executeSelectUnit(e,t,a,i,o);else{var c,p,f=null,h=null,v=null,g=this;d.seq(function(r){try{g.executeSelectUnit(e,t,s,i,function(e){f=e,r()})}catch(e){v=e,r()}},function(r){if(null!=v)r();else try{g.executeSelectUnit(e,t,a,i,function(e){h=e,r()})}catch(e){v=e,r()}})(function(){if(null!=v)o(v);else{var e=u.leftOuterJoinBindings(f,h);g.runBinds(r.binds,e,t,i,function(s,a){if(null!=s)throw new n("Error processing bind expressions",r.binds,s);l.checkFilters(r,e,!0,t,i,g,function(e){if(f.length>1&&h.length>1){var t=[],r={};for(var n in f[0])r[n]=!0;for(n in h[0])1!=r[n]&&t.push(n);c=[],p={};for(var i=0;i<e.length;i++)if(!0===e[i].__nullify__){for(var s=0;s<t.length;s++)e[i].bindings[t[s]]=null;var a=[],u=[];for(var n in e[i].bindings)null!=e[i].bindings[n]&&(a.push(n+e[i].bindings[n]),a.sort(),u.push(a.join("")));if(null==p[a.join("")]){for(s=0;s<u.length;s++)p[u[s]]=!0;c.push(e[i].bindings)}}else{c.push(e[i]);var a=[],u=[];for(var n in e[i])a.push(n+e[i][n]),a.sort(),p[a.join("")]=!0}o(c)}else o(e)})})}})}},QueryEngine.prototype.executeJOIN=function(e,t,r,i,o){var s=r.lvalue,a=r.rvalue,c=null,p=null,f=null,h=this;d.seq(function(r){try{h.executeSelectUnit(e,t,s,i,function(e){c=e,r()})}catch(e){f=e,r()}},function(r){if(null!=f)r();else try{h.executeSelectUnit(e,t,a,i,function(e){p=e,r()})}catch(e){f=e,r()}})(function(){var e=null;if(null!=f)o(f);else if(0===c.length||0===p.length)o([]);else{var d={},v=[];for(var g in c[0])d[g]=!1;for(var g in p[0])!1===d[g]&&v.push(g);e=0==v.length?u.joinBindings(c,p):h.abstractQueryTree.treeWithUnion(s)||h.abstractQueryTree.treeWithUnion(a)?u.joinBindings(c,p):u.joinBindings2(v,c,p),h.runBinds(r.binds,e,t,i,function(e,s){if(null!=e)throw new n("Error processing bind expressions",r.binds,e);l.checkFilters(r,s,!1,t,i,h,o)})}})},QueryEngine.prototype.rangeQuery=function(e,t,r){var n=this;n.normalizeQuad(e,t,!1,function(e){null!=e?n.backend.range(new a.Pattern(e),function(e){r(null==e||0==e.length?[]:e)}):r(null)})},QueryEngine.prototype.executeUpdate=function(e,t){var r=e.prologue,n=e.units,i=this,o={blanks:{},outCache:{}};this.registerNsInEnvironment(r,o);for(var a=0;a<n.length;a++){var u=i.abstractQueryTree.parseExecutableUnit(n[a]);if("insertdata"===u.kind){var l=null;d.eachSeries(u.quads,function(e,t){null===l?i._executeQuadInsert(e,o,function(e){null!=e&&(l=e),t()}):t()},function(){null===l?t(null,!0):t(l)})}else if("deletedata"===u.kind){var l=null;d.eachSeries(u.quads,function(e,t){null===l?i._executeQuadDelete(e,o,function(e){null!=e&&(l=e),t()}):t()},function(){null===l?t(null,!0):t(l)})}else if("modify"===u.kind)this._executeModifyQuery(u,o,t);else if("create"===u.kind)t(!0);else if("load"===u.kind){var c={uri:s.lexicalFormBaseUri(u.sourceGraph,o)};null!=u.destinyGraph&&(c={uri:s.lexicalFormBaseUri(u.destinyGraph,o)});var i=this;this.rdfLoader.load(u.sourceGraph.value,c,function(e,r){e?t(new Error("error batch loading quads")):i.batchLoad(r,function(e){null!==e?t(null,e):t(new Error("Error batch loading quads"))})})}else if("drop"===u.kind)this._executeClearGraph(u.destinyGraph,o,t);else{if("clear"!==u.kind)throw new Error("not supported execution unit");this._executeClearGraph(u.destinyGraph,o,t)}}},QueryEngine.prototype.batchLoad=function(e,t){var r=0,n={},i=this;this.eventsOnBatchLoad&&this.callbacksBackend.startGraphModification();var o=function(e,t,r,o){var s,e;if(e[t].uri||"uri"===e[t].token){var a=e[t].uri||e[t].value;i.lexicon.registerUri(a,function(n){var s=function(){null!=e[t].uri&&(e[t]={token:"uri",value:e[t].uri},delete e[t].uri),r[t]=n,o()};"graph"===t?i.lexicon.registerGraph(n,a,function(){s()}):s()})}else e[t].literal||"literal"===e[t].token?i.lexicon.registerLiteral(e[t].literal||e[t].value,function(n){null!=e[t].literal&&(e[t]=i.lexicon.parseLiteral(e[t].literal),delete e[t].literal),r[t]=n,o()}):(s=n[e[t].blank||e[t].value],null==s?i.lexicon.registerBlank(function(i){n[e[t].blank||e[t].value]=i,null==e[t].token&&(e[t].token="blank",e[t].value=e[t].blank,delete e[t].blank),r[t]=i,o()}):(null==e[t].token&&(e[t].token="blank",e[t].value=e[t].blank,delete e[t].blank),r[t]=s,o()))};d.eachSeries(e,function(e,t){var n={};d.eachSeries(["subject","predicate","object","graph"],function(t,r){o(e,t,n,r)},function(){var o=e;e=n;var s=new a.NodeKey(e);i.backend.search(s,function(n){n?t():i.backend.index(s,function(n){n&&(i.eventsOnBatchLoad&&i.callbacksBackend.nextGraphModification(f.added,[o,e]),r+=1),t()})})})},function(){null!=i.lexicon.updateAfterWrite&&i.lexicon.updateAfterWrite();var e=function(){t(r)};i.eventsOnBatchLoad?i.callbacksBackend.endGraphModification(e()):e()})},QueryEngine.prototype._executeModifyQuery=function(e,t,r){var n=this,i=!0,o=new Error("Error executing modify query"),s=null,a=["subject","predicate","object","graph"];e.insert=null==e.insert?[]:e.insert,e.delete=null==e.delete?[]:e.delete,d.seq(function(r){var a=[],u=[];if(null!=e.with&&a.push(e.with),null!=e.using){u=[];for(var l=0;l<e.using.length;l++){var c=e.using[l];"named"===c.kind?u.push(c.uri):a.push(c.uri)}}e.dataset={},e.projection=[{token:"variable",kind:"*"}],n.executeSelect(e,t,a,u,function(e,a){if(e)return o=e,i=!1,r();n.denormalizeBindingsList(a,t,function(e){null!=e?s=e:(o=new Error("Error denormalizing bindings list"),i=!1),r()})})},function(r){var o=e.with;if(i){for(var u=[],l=0;l<e.delete.length;l++)for(var c=e.delete[l],p=0;p<s.length;p++){for(var f={},h=s[p],v=0;v<a.length;v++){var g=a[v];"graph"==g&&null==c[g]?f.graph=o:"var"===c[g].token?f[g]=h[c[g].value]:f[g]=c[g]}u.push(f)}d.eachSeries(u,function(e,r){n._executeQuadDelete(e,t,function(){r()})},function(){r()})}else r()},function(r){var o=e.with;if(i){for(var u=[],l=0;l<e.insert.length;l++)for(var c=e.insert[l],p=0;p<s.length;p++){for(var f={},h=s[p],v=0;v<a.length;v++){var g=a[v];"graph"==g&&null==c[g]?f.graph=o:"var"===c[g].token?f[g]=h[c[g].value]:f[g]=c[g]}u.push(f)}d.eachSeries(u,function(e,r){n._executeQuadInsert(e,t,function(){r()})},function(){r()})}else r()})(function(){r(i?null:o)})},QueryEngine.prototype._executeQuadInsert=function(e,t,r){var n,i=this,o=!1,s=null;d.seq(function(r){i.normalizeQuad(e,t,!0,function(e){null!=e?n=e:(o=!0,s="Error normalizing quad."),r()})},function(t){if(!1===o){var r=new a.NodeKey(n);i.backend.search(r,function(o){!0===o?t():i.backend.index(r,function(){i.callbacksBackend.nextGraphModification(f.added,[e,n]),t()})})}else t()})(function(){o?r(new Error(s)):r(null,!0)})},QueryEngine.prototype._executeQuadDelete=function(e,t,r){var n,i,o,s=this,u=!1;d.seq(function(r){s.normalizeQuad(e,t,!0,function(e){null!=e?n=e:(u=!0,i="Error normalizing quad."),r()})},function(e){!1===u?(o=new a.NodeKey(n),s.backend.delete(o,function(){e()})):e()},function(t){!1===u?s.lexicon.unregister(e,o,function(){s.callbacksBackend.nextGraphModification(f.deleted,[e,n]),t()}):t()})(function(){u?r(new Error(i)):r(null,!0)})},QueryEngine.prototype._executeClearGraph=function(e,t,r){var n=this;if("default"===e)this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",r);else if("named"===e)n.lexicon.registeredGraphs(!0,function(e){if(null!=e){var t=!1;d.eachSeries(e,function(e,r){t?r():n.execute("DELETE { GRAPH <"+e+"> { ?s ?p ?o } } WHERE { GRAPH <"+e+"> { ?s ?p ?o } }",function(i,o){i?(t=i,r()):n.lexicon.resolveUri(e,function(i){-1!=i?n.lexicon.knownGraphs.delete(i,function(){r()}):(t="Cannot find graph "+e+" to clear it",r())})})},function(){r(!t)})}else r(!1,"Error deleting named graphs")});else if("all"===e){var n=this;this.execute("CLEAR DEFAULT",function(e,t){e?r(!1,t):n.execute("CLEAR NAMED",r)})}else if("uri"==e.token){var i=s.lexicalFormBaseUri(e,t);null!=i?(this.callbacksBackend.ongoingModification=!0,this.execute("DELETE { GRAPH <"+i+"> { ?s ?p ?o } } WHERE { GRAPH <"+i+"> { ?s ?p ?o } }",function(e){n.callbacksBackend.ongoingModification=!1,r(e)})):r(!1,"wrong graph URI")}else r(!1,"wrong graph URI")},QueryEngine.prototype.checkGroupSemantics=function(e,t){if("singleGroup"===e)return!0;for(var r={},n=0;n<e.length;n++){var i=e[n];"var"===i.token?r[i.value]=!0:"aliased_expression"===i.token&&(r[i.alias.value]=!0)}for(n=0;n<t.length;n++){var o=t[n];if("var"===o.kind){if(null==r[o.value.value])return!1}else if("aliased"===o.kind&&o.expression&&"var"===o.expression.primaryexpression&&null==r[o.expression.value.value])return!1}return!0},QueryEngine.prototype.runBinds=function(e,t,r,n,i){var o=this,s=t;null!=e&&e.length>0?o.copyDenormalizedBindings(t,n.outCache,function(a){for(var u=0;u<t.length;u++)for(var c=0;c<e.length;c++){var p=e[c],f=a[u],d=l.runFilter(p.expression,f,o,r,n);l.isEbvError(d)?i(d):s[u][p.as.value]=d}i(null,t)}):i(null,t)},QueryEngine.prototype.computeCosts=function(e,t,r){for(var n=0;n<e.length;n++)e[n]._cost=this.quadCost(e[n],t);r(e)},QueryEngine.prototype.quadCost=function(e,t){return 1},QueryEngine.prototype.registerDefaultNamespace=function(e,t){this.defaultPrefixes[e]=t},e.exports={QueryEngine:QueryEngine}},function(e,t,r){var n=r(7),i=r(7),o={};o.variablesInBGP=function(e){var t=e.variables;if(t)return t;var r=e.value||e;t=[];for(var n in r)r[n]&&"var"===r[n].token?t.push(r[n].value):r[n]&&"blank"===r[n].token&&t.push("blank:"+r[n].value);return e.variables=t,t},o.connected=function(e,t){for(var r="/"+e.vars.join("/")+"/",n=0;n<t.vars.length;n++)if(-1!=r.indexOf("/"+t.vars[n]+"/"))return!0;return!1};var s=function(e,t){for(var r={},n=0;n<e.lenght;n++)r[e[n]]=1;for(n=0;n<t.length;n++){var i=r[t[n]]||0;i++,r[t[n]]=i}var o=[];for(var s in r)2==r[s]&&o.push(r[s]);return o};o.variablesIntersectionBGP=function(e,t){return s(o.variablesInBGP(e),o.variablesInBGP(t))},o.executeAndBGPsGroups=function(e){for(var t={},r={},i=0,s=0;s<e.length;s++){var a=e[s],u={},l={},c=o.variablesInBGP(a),p={};for(var f in r)!function(e,t){for(var r=0;r<e.length;r++){var n="/"+e[r]+"/";if(-1!=t.indexOf(n))return!0}return!1}(c,r[f])?(u[f]=t[f],l[f]=r[f]):p[f]=!0;0===n.size(p)?(u["g"+i]=[a],l["g"+i]="/"+c.join("/")+"/",i++):function(e,n,i,o){var s=[],a="",u="";for(var l in n)a+=l,s=s.concat(t[l]),u+=r[l];u=u+c.join("/")+"/",s.push(e),i[a]=s,o[a]=u}(a,p,u,l),t=u,r=l}return n.values(t)},o.intersectionSize=function(e,t){for(var r=t.i.split("_"),n=0;n<r.length;n++)if(""!=r[n]&&-1!=e.i.indexOf("_"+r[n]+"_"))return 1;return 0},o.createJoinTree=function(e,t){for(var r="/"+e.vars.join("/")+"/",i=e.vars.concat([]),o=[],s=0;s<t.vars.length;s++)-1!=r.indexOf("/"+t.vars[s]+"/")?0==t.vars[s].indexOf("_:")?o.push("blank:"+t.vars[s]):o.push(t.vars[s]):i.push(t.vars[s]);for(var a=t.i.split("_"),u=e.i.split("_"),l={},s=0;s<a.length;s++)""!=a[s]&&(l[a[s]]=!0);for(var s=0;s<u.length;s++)""!=u[s]&&(l[u[s]]=!0);var c=n.keys(l);return{left:e,right:t,cost:e.cost+t.cost,i:"_"+c.sort().join("_")+"_",vars:i,join:o}},o.executeBushyTree=function(e,t,r,n,i){null==e.left?o.executeEmptyJoinBGP(e.right,t,r,n,i):null==e.right?o.executeEmptyJoinBGP(e.left,t,r,n,i):o.executeBushyTree(e.left,t,r,n,function(s){null!=s?o.executeBushyTree(e.right,t,r,n,function(t){i(null!=t?o.joinBindings2(e.join,s,t):null)}):i(null)})},o.executeAndBGPsDPSize=function(e,t,r,n,s){var a=o.executeAndBGPsGroups(e),u=[];i.eachSeries(a,function(e,t){r.computeCosts(e,n,function(e){var r={},n={},i={},s=1,a=null,l={};i[1]=[];for(var c=0;c<e.length;c++){var p=[];delete e[c].variables;for(var f in e[c])"_cost"!=f&&("var"===e[c][f].token?p.push(e[c][f].value):"blank"===e[c][f].token&&p.push(e[c][f].value));n["_"+c+"_"]={left:e[c],right:null,cost:e[c]._cost,i:"_"+c+"_",vars:p};var d={left:e[c],right:null,cost:e[c]._cost,i:"_"+c+"_",vars:p};r["_"+c+"_"]=d,delete e[c]._cost,l["_"+c+"_"]=!0,i[1].push("_"+c+"_"),(null==a||a.cost>d.cost)&&(a=d)}for(var h=2;h<=e.length;h++)for(var v=1;v<h;v++)for(var g=h-v,m=i[""+v]||[],y=i[""+g]||[],c=0;c<m.length;c++)for(var b=0;b<y.length;b++)if(m[c]!==y[b]){var E=n[m[c]],x=n[y[b]];if(0==o.intersectionSize(E,x)&&o.connected(E,x)){s=h;var S=r[E.i],T=r[x.i],I=o.createJoinTree(S,T);if(!l[I.i]){l[I.i]=!0;var w=I.cost+1;null!=r[I.i]&&(w=r[I.i].cost);var C=i[h]||[];C.push(I.i),n[I.i]=I,i[h]=C,w>I.cost&&(s===h&&(a=I),r[I.i]=I)}}}u.push(a),t()})},function(){var e=null;i.eachSeries(u,function(i,s){o.executeBushyTree(i,t,r,n,function(t){t?null==e?(e=t,s()):(e=o.crossProductBindings(e,t),s()):s("Error executing bushy tree")})},function(t){t?s(null,t):s(e)})})},o.executeEmptyJoinBGP=function(e,t,r,n,i){return o.executeBGPDatasets(e,t,r,n,i)},o.executeBGPDatasets=function(e,t,r,n,s){var a={};if(null==e.graph){var u=[];i.eachSeries(t.implicit,function(t,i){null==a[t.oid]?(a[t.oid]=!0,e.graph=t,r.rangeQuery(e,n,function(t){t=o.buildBindingsFromRange(t,e),u.push(t),i()})):i()},function(){var e=o.unionManyBindings(u);s(e)})}else if("var"===e.graph.token){var l=e.graph.value,u=[];i.eachSeries(t.named,function(t,i){null==a[t.oid]?(a[t.oid]=!0,e.graph=t,null!=u?r.rangeQuery(e,n,function(r){if(null!=r){r=o.buildBindingsFromRange(r,e);for(var n=0;n<r.length;n++)r[n][l]=t.oid;u.push(r)}else u=null;i()}):i()):i()},function(){if(null==u)s(null);else{var e=o.unionManyBindings(u);s(e)}})}else r.rangeQuery(e,n,function(t){null!=t?(t=o.buildBindingsFromRange(t,e),s(t)):s(null)})},o.buildBindingsFromRange=function(e,t){o.variablesInBGP(t);var r=t.value||t,n={};for(c in r)r[c]&&"var"===r[c].token?n[c]=r[c].value:r[c]&&"blank"===r[c].token&&(n[c]="blank:"+r[c].value);var i=[];if(null!=e)for(var s=0;s<e.length;s++){var a={},u=e[s],l=!1;for(var c in n){var p=u[c];if(null!=a[n[c]]&&a[n[c]]!==p){l=!0;break}a[n[c]]=p}l||i.push(a)}return i},o.areCompatibleBindings=function(e,t){for(var r in e)if(null!=t[r]&&t[r]!=e[r])return!1;return!0},o.mergeBindings=function(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r},o.joinBindings2=function(e,t,r){for(var n,i,s,a,u,l={},c=[],p=0;p<t.length;p++){n=t[p],u=l;for(var f=0;f<e.length;f++)i=e[f],s=n[i],f==e.length-1?(a=u[s]||[],a.push(n),u[s]=a):(a=u[s]||{},u[s]=a,u=a)}for(var p=0;p<r.length;p++){n=r[p],u=l;for(var f=0;f<e.length;f++)if(i=e[f],s=n[i],null!=u[s])if(f==e.length-1)for(var d=0;d<u[s].length;d++)c.push(o.mergeBindings(u[s][d],n));else u=u[s]}return c},o.joinBindings=function(e,t){for(var r=[],n=0;n<e.length;n++)for(var i=e[n],s=0;s<t.length;s++){var a=t[s];o.areCompatibleBindings(i,a)&&r.push(o.mergeBindings(i,a))}return r},o.augmentMissingBindings=function(e,t){for(var r in t)null==e[r]&&(e[r]=null);return e},o.leftOuterJoinBindings=function(e,t){for(var r=[],n=0;n<e.length;n++){for(var i=e[n],s=!1,a=0;a<t.length;a++){var u=t[a];o.areCompatibleBindings(i,u)&&(s=!0,r.push(o.mergeBindings(i,u)))}!1===s&&(o.augmentMissingBindings(i,u),r.push(i))}return r},o.crossProductBindings=function(e,t){for(var r=[],n=0;n<e.length;n++)for(var i=e[n],s=0;s<t.length;s++){var a=t[s];r.push(o.mergeBindings(i,a))}return r},o.unionBindings=function(e,t){return e.concat(t)},o.unionManyBindings=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t=o.unionBindings(t,n)}return t},e.exports={QueryPlan:o}},function(e,t,r){var n=r(424).NetworkTransport,i=r(432).RVN3Parser,o=r(423).JSONLDParser,s=r(7),a=function(e){if(this.precedences=["text/turtle","text/n3","application/ld+json","application/json"],this.parsers={"text/turtle":i.parser,"text/n3":i.parser,"application/ld+json":o.parser,"application/json":o.parser},"undefined"!=typeof RDFXMLParser&&(this.precedences.push("application/rdf+xml"),this.parsers["application/rdf+xml"]=RDFXMLParser.parser),null!=e)for(var t in e.parsers)this.parsers[t]=e.parsers[t];if(e&&null!=e.precedences){this.precedences=e.precedences;for(var t in e.parsers)s.include(this.precedences,t)||this.precedences.push(t)}this.acceptHeaderValue="";for(var r=0;r<this.precedences.length;r++)this.acceptHeaderValue=0!=r?this.acceptHeaderValue+","+this.precedences[r]:this.acceptHeaderValue+this.precedences[r]};a.prototype.registerParser=function(e,t){this.parsers[e]=t,this.precedences.push(e)},a.prototype.unregisterParser=function(e){delete this.parsers[e];for(var t=[],r=0;r<this.precedences.length;r++)this.precedences[r]!=e&&t.push(this.precedences[r]);this.precedences=t},a.prototype.setAcceptHeaderPrecedence=function(e){this.precedences=e},a.prototype.load=function(e,t,r){var i=this;n.load(e,this.acceptHeaderValue,function(n,o){if(n)r(n);else{var s=o.headers["Content-Type"]||o.headers["content-type"],a=o.data;if(null!=s){s=s.split(";")[0];for(var u in i.parsers)if(-1!=u.indexOf("/")){var l=u.split("/");if("*"===l[1]){if(-1!=s.indexOf(l[0]))return i.tryToParse(i.parsers[u],t,a,{documentURI:e},r)}else{if(-1!=s.indexOf(u))return i.tryToParse(i.parsers[u],t,a,{documentURI:e},r);if(-1!=s.indexOf(l[1]))return i.tryToParse(i.parsers[u],t,a,{documentURI:e},r)}}else if(-1!=s.indexOf(u))return i.tryToParse(i.parsers[u],t,a,{documentURI:e},r);r(new Error("Unknown media type : "+s))}else r(new Error("Uknown media type"))}})},a.prototype.loadFromFile=function(e,t,n,i){try{var o=this;r(399).readFile(n.split("file:/")[1],function(r,s){if(r)i(r);else{var s=s.toString("utf8");o.tryToParse(e,t,s,{documentURI:n},i)}})}catch(e){i(e)}},a.prototype.tryToParse=function(e,t,r,n,i){try{"string"==typeof r&&(r=s.normalizeUnicodeLiterals(r)),e.parse(r,t,n,i)}catch(e){console.log(e.message),console.log(e.stack),i(e)}},e.exports={RDFLoader:a}},function(e,t,r){function n(e){switch(e[0]){case'"':if(e.indexOf("^^")>0){var t=e.split("^^");return{literal:t[0]+"^^<"+t[1]+">"}}return{literal:e};case"_":return{blank:e.replace("b","")};default:return{token:"uri",value:e,prefix:null,suffix:null}}}var i=r(392).Parser,o={};o.parser={async:!0,parse:function(e,t,r,o){o||(o=r,r=t,t=null),t&&"string"==typeof t&&(t={token:"uri",value:t,prefix:null,suffix:null}),r&&r.baseURI&&(r.documentIRI=r.baseURI);var s=[];new i(r).parse(e,function(e,r){e?o(e):r?s.push({subject:n(r.subject),predicate:n(r.predicate),object:n(r.object),graph:t}):o(!1,s)})},resetBlankNodeIds:function(){i._resetBlankNodeIds()}},e.exports={RVN3Parser:o}},function(e,t,r){var n=r(429).QueryEngine,i=r(428).QuadBackend,o=r(427).PersistentQuadBackend,s=r(193).Lexicon,a=r(426).PersistentLexicon,u=r(125),l=r(7);Store=function(e,t){var r=null,u=null;if(0==arguments.length)u={};else if(1==arguments.length)u={},r=e;else{if(!(arguments.length>1))throw"An optional argument map and a callback must be provided";u=e,r=t}null==u.treeOrder&&(u.treeOrder=15);var l=s,c=i;!0===u.persistent&&(l=a,c=o),this.functionMap={};var p=this;this.customFns={},new l(function(e){var t=function(){new c(u,function(t){var i=function(){u.backend=t,u.lexicon=e,p.engine=new n(u),r(null,p)};u.overwrite?t.clear(i):i()})};!0===u.overwrite?e.clear(t):t()},u.name)},Store.prototype.rdf=u.rdf,Store.prototype.rdf.api=u,Store.prototype.registerCustomFunction=function(e,t){this.customFns[e]=t,this.engine.setCustomFunctions(this.customFns)},Store.prototype.execute=function(){if(3===arguments.length)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(4===arguments.length)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var e,t;if(1===arguments.length){e=arguments[0];var t=function(){}}else 2===arguments.length&&(e=arguments[0],t=arguments[1]);this.engine.execute(e,t)}},Store.prototype.executeWithEnvironment=function(){var e,t,r;if(3===arguments.length){e=arguments[0];var n=function(){};t=arguments[1],r=arguments[2]}else if(4===arguments.length){e=arguments[0];var n=arguments[3];t=arguments[1],r=arguments[2]}t=l.map(t,function(e){return{token:"uri",value:e}}),r=l.map(r,function(e){return{token:"uri",value:e}}),this.engine.execute(e,n,t,r)},Store.prototype.graph=function(){var e=null,t=null;if(1===arguments.length)t=arguments[0]||function(){},e=this.engine.lexicon.defaultGraphUri;else{if(2!==arguments.length)throw"An optional graph URI and a callback function must be provided";t=arguments[1]||function(){},e=arguments[0]}null!=this.rdf.resolve(e)&&(e=this.rdf.resolve(e)),this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+e+"> { ?s ?p ?o } }",t)},Store.prototype.node=function(){var e=null,t=null,r=null;if(2===arguments.length)r=arguments[0],t=arguments[1]||function(){},e=this.engine.lexicon.defaultGraphUri;else{if(3!==arguments.length)throw"An optional graph URI, node URI and a callback function must be provided";r=arguments[0],e=arguments[1],t=arguments[2]||function(){}}null!=this.rdf.resolve(e)&&(e=this.rdf.resolve(e)),null!=this.rdf.resolve(r)&&(r=this.rdf.resolve(r)),this.engine.execute("CONSTRUCT { <"+r+"> ?p ?o } WHERE { GRAPH <"+e+"> { <"+r+"> ?p ?o } }",t)},Store.prototype.startObservingNode=function(){var e,t,r;2===arguments.length?(e=arguments[0],r=arguments[1],this.engine.callbacksBackend.observeNode(e,r,function(){})):3===arguments.length&&(e=arguments[0],t=arguments[1],r=arguments[2],this.engine.callbacksBackend.observeNode(e,t,r,function(){}))},Store.prototype.stopObservingNode=function(e){this.engine.callbacksBackend.stopObservingNode(e)},Store.prototype.startObservingQuery=function(){var e=arguments[0],t=arguments[1],r=arguments[2];null!=r?this.engine.callbacksBackend.observeQuery(e,t,r):this.engine.callbacksBackend.observeQuery(e,t,function(){})},Store.prototype.stopObservingQuery=function(e){this.engine.callbacksBackend.stopObservingQuery(e)},Store.prototype.subscribe=function(e,t,r,n,i){var o=this,s=function(e,t){var r=[],n={blanks:{},outCache:{}},s=[];l.each(t,function(e){var t=u.buildRDFResource(e.subject,s,o.engine,n),i=u.buildRDFResource(e.predicate,s,o.engine,n),a=u.buildRDFResource(e.object,s,o.engine,n);null!=t&&null!=i&&null!=a&&(e=new u.Triple(t,i,a),r.push(e))}),i(e,r)};this.functionMap[i]=s,this.engine.callbacksBackend.subscribe(e,t,r,n,s,function(){})},Store.prototype.unsubscribe=function(e){var t=this.functionMap[e];this.engine.callbacksBackend.unsubscribe(t),delete this.functionMap[e]},Store.prototype.setPrefix=function(e,t){this.rdf.setPrefix(e,t)},Store.prototype.setDefaultPrefix=function(e){this.rdf.setDefaultPrefix(e)},Store.prototype.insert=function(){var e,t,r;if(1===arguments.length)t=arguments[0],r=function(){};else if(2===arguments.length)t=arguments[0],r=arguments[1]||function(){};else{if(3!==arguments.length)throw"The triples to insert, an optional graph and callback must be provided";t=arguments[0],e=this.rdf.createNamedNode(arguments[1]),r=arguments[2]||function(){}}var n="",i=this;t.forEach(function(e){n=n+i._nodeToQuery(e.subject)+i._nodeToQuery(e.predicate)+i._nodeToQuery(e.object)+"."}),n=null!=e?"INSERT DATA { GRAPH "+this._nodeToQuery(e)+" { "+n+" } }":"INSERT DATA { "+n+" }",this.engine.execute(n,r)},Store.prototype._nodeToQuery=function(e){if("NamedNode"===e.interfaceName){var t=this.rdf.resolve(e.valueOf());return null!=t?"<"+t+">":"<"+e.valueOf()+">"}return e.toString()},Store.prototype.delete=function(){var e,t,r;if(1===arguments.length)t=arguments[0],r=function(){};else if(2===arguments.length)t=arguments[0],r=arguments[1]||function(){};else{if(3!==arguments.length)throw"The triples to delete, an optional graph and callback must be provided";t=arguments[0],e=this.rdf.createNamedNode(arguments[1]),r=arguments[2]||function(){}}var n="",i=this;t.forEach(function(e){n=n+i._nodeToQuery(e.subject)+i._nodeToQuery(e.predicate)+i._nodeToQuery(e.object)+"."}),n=null!=e?"DELETE DATA { GRAPH "+this._nodeToQuery(e)+" { "+n+" } }":"DELETE DATA { "+n+" }",this.engine.execute(n,r)},Store.prototype.clear=function(){var e,t;if(0===arguments.length){e=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri);var t=function(){}}else if(1===arguments.length)e=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),t=arguments[0]||function(){};else{if(2!==arguments.length)throw"The optional graph and a callback must be provided";e=this.rdf.createNamedNode(arguments[0]),t=arguments[1]||function(){}}var r="CLEAR GRAPH "+this._nodeToQuery(e);this.engine.execute(r,t)},Store.prototype.setBatchLoadEvents=function(e){this.engine.eventsOnBatchLoad=e},Store.prototype.registerDefaultNamespace=function(e,t){this.rdf.prefixes.set(e,t),this.engine.registerDefaultNamespace(e,t)},Store.prototype.registerDefaultProfileNamespaces=function(){var e=this.rdf.prefixes.values();for(var t in e)this.registerDefaultNamespace(t,e[t])},Store.prototype.load=function(){var e,t,r,n,i={};if(3===arguments.length)r=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),e=arguments[0],t=arguments[1],n=arguments[2]||function(){};else if(4===arguments.length)e=arguments[0],t=arguments[1],i=arguments[2],"string"==typeof i?(r=this.rdf.createNamedNode(i),i={}):(r=this.rdf.createNamedNode(i.graph||this.engine.lexicon.defaultGraphUri),delete i.graph),n=arguments[3]||function(){};else if(2===arguments.length)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";if("remote"===e){t=this.rdf.createNamedNode(t);var o="LOAD <"+t.valueOf()+"> INTO GRAPH <"+r.valueOf()+">";this.engine.execute(o,n)}else{var s=this,a=this.engine.rdfLoader.parsers[e];if(!a)return n(new Error("Cannot find parser for the provided media type:"+e));var u=function(e,t){e?n(e,t):s.engine.batchLoad(t,function(e){null!=e?n(null,e):n(new Error("Erro batch-loading triples."))})},l=[a,{token:"uri",value:r.valueOf()},t,i,u];t&&"string"==typeof t&&0===t.indexOf("file://")?this.engine.rdfLoader.loadFromFile.apply(null,l):this.engine.rdfLoader.tryToParse.apply(null,l)}},Store.prototype.registerParser=function(e,t){this.engine.rdfLoader.registerParser(e,t)},Store.prototype.registeredGraphs=function(e){this.engine.lexicon.registeredGraphs(!0,function(t){var r=l.map(t,function(e){return new u.NamedNode(e)});e(null,r)})},Store.prototype.getNetworkTransport=function(){return NetworkTransport},Store.prototype.setNetworkTransport=function(e){NetworkTransport=e},Store.prototype.close=function(e){null==e&&(e=function(){}),this.engine.close?this.engine.close(e):e()},Store.VERSION="0.9.17";var c=function(){var e;(e=1==arguments.length?arguments[0]:2==arguments.length?arguments[1]:arguments[2])(new Error("Store#connect is not supported in the 0.9.X series of the library"))},p=function(){return 1==arguments.length?new Store(arguments[0]):2==arguments.length?new Store(arguments[0],arguments[1]):new Store};Store.yieldFrequency=function(e){l.yieldFrequency(e)},e.exports.Store=Store,e.exports.create=p,e.exports.connect=c},function(e,t,r){e.exports=r(38)},function(e,t,r){"use strict";function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}e.exports=n;var i=r(196),o=r(60);o.inherits=r(25),o.inherits(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r){e.copy(t,r)}var o=r(128).Buffer;e.exports=function(){function e(){n(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t=o.allocUnsafe(e>>>0),r=this.head,n=0;r;)i(r.data,t,n),n+=r.data.length,r=r.next;return t},e}()},function(e,t,r){e.exports=r(61).PassThrough},function(e,t,r){e.exports=r(61).Transform},function(e,t,r){e.exports=r(126)},function(e,t,r){(function(e){!function(e,r){r(t)}(0,function(t){"use strict";function r(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,r){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function s(e,t){s.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function a(e,t,r){a.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function u(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function l(e){var t=void 0===e?"undefined":R(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function c(e,t,r,n,p,f,d){p=p||[],d=d||[];var h=p.slice(0);if(void 0!==f){if(n){if("function"==typeof n&&n(h,f))return;if("object"===(void 0===n?"undefined":R(n))){if(n.prefilter&&n.prefilter(h,f))return;if(n.normalize){var v=n.normalize(h,f,e,t);v&&(e=v[0],t=v[1])}}}h.push(f)}"regexp"===l(e)&&"regexp"===l(t)&&(e=e.toString(),t=t.toString());var g=void 0===e?"undefined":R(e),m=void 0===t?"undefined":R(t),y="undefined"!==g||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(f),b="undefined"!==m||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(f);if(!y&&b)r(new o(h,t));else if(!b&&y)r(new s(h,e));else if(l(e)!==l(t))r(new i(h,e,t));else if("date"===l(e)&&e-t!=0)r(new i(h,e,t));else if("object"===g&&null!==e&&null!==t)if(d.filter(function(t){return t.lhs===e}).length)e!==t&&r(new i(h,e,t));else{if(d.push({lhs:e,rhs:t}),Array.isArray(e)){var E;for(e.length,E=0;E<e.length;E++)E>=t.length?r(new a(h,E,new s(void 0,e[E]))):c(e[E],t[E],r,n,h,E,d);for(;E<t.length;)r(new a(h,E,new o(void 0,t[E++])))}else{var x=Object.keys(e),S=Object.keys(t);x.forEach(function(i,o){var s=S.indexOf(i);s>=0?(c(e[i],t[i],r,n,h,i,d),S=u(S,s)):c(e[i],void 0,r,n,h,i,d)}),S.forEach(function(e){c(void 0,t[e],r,n,h,e,d)})}d.length=d.length-1}else e!==t&&("number"===g&&isNaN(e)&&isNaN(t)||r(new i(h,e,t)))}function p(e,t,r,n){return n=n||[],c(e,t,function(e){e&&n.push(e)},r),n.length?n:void 0}function f(e,t,r){if(r.path&&r.path.length){var n,i=e[t],o=r.path.length-1;for(n=0;n<o;n++)i=i[r.path[n]];switch(r.kind){case"A":f(i[r.path[n]],r.index,r.item);break;case"D":delete i[r.path[n]];break;case"E":case"N":i[r.path[n]]=r.rhs}}else switch(r.kind){case"A":f(e[t],r.index,r.item);break;case"D":e=u(e,t);break;case"E":case"N":e[t]=r.rhs}return e}function d(e,t,r){if(e&&t&&r&&r.kind){for(var n=e,i=-1,o=r.path?r.path.length-1:0;++i<o;)void 0===n[r.path[i]]&&(n[r.path[i]]="number"==typeof r.path[i]?[]:{}),n=n[r.path[i]];switch(r.kind){case"A":f(r.path?n[r.path[i]]:n,r.index,r.item);break;case"D":delete n[r.path[i]];break;case"E":case"N":n[r.path[i]]=r.rhs}}}function h(e,t,r){if(r.path&&r.path.length){var n,i=e[t],o=r.path.length-1;for(n=0;n<o;n++)i=i[r.path[n]];switch(r.kind){case"A":h(i[r.path[n]],r.index,r.item);break;case"D":case"E":i[r.path[n]]=r.lhs;break;case"N":delete i[r.path[n]]}}else switch(r.kind){case"A":h(e[t],r.index,r.item);break;case"D":case"E":e[t]=r.lhs;break;case"N":e=u(e,t)}return e}function v(e,t,r){if(e&&t&&r&&r.kind){var n,i,o=e;for(i=r.path.length-1,n=0;n<i;n++)void 0===o[r.path[n]]&&(o[r.path[n]]={}),o=o[r.path[n]];switch(r.kind){case"A":h(o[r.path[n]],r.index,r.item);break;case"D":case"E":o[r.path[n]]=r.lhs;break;case"N":delete o[r.path[n]]}}}function g(e,t,r){if(e&&t){c(e,t,function(n){r&&!r(e,t,n)||d(e,t,n)})}}function m(e){return"color: "+O[e].color+"; font-weight: bold"}function y(e){var t=e.kind,r=e.path,n=e.lhs,i=e.rhs,o=e.index,s=e.item;switch(t){case"E":return[r.join("."),n,"",i];case"N":return[r.join("."),i];case"D":return[r.join(".")];case"A":return[r.join(".")+"["+o+"]",s];default:return[]}}function b(e,t,r,n){var i=p(e,t);try{n?r.groupCollapsed("diff"):r.group("diff")}catch(e){r.log("diff")}i?i.forEach(function(e){var t=e.kind,n=y(e);r.log.apply(r,["%c "+O[t].text,m(t)].concat(_(n)))}):r.log(" no diff ");try{r.groupEnd()}catch(e){r.log(" diff end  ")}}function E(e,t,r,n){switch(void 0===e?"undefined":R(e)){case"object":return"function"==typeof e[n]?e[n].apply(e,_(r)):e[n];case"function":return e(t);default:return e}}function x(e){var t=e.timestamp,r=e.duration;return function(e,n,i){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+n),r&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}function S(e,t){var r=t.logger,n=t.actionTransformer,i=t.titleFormatter,o=void 0===i?x(t):i,s=t.collapsed,a=t.colors,u=t.level,l=t.diff,c=void 0===t.titleFormatter;e.forEach(function(i,p){var f=i.started,d=i.startedTime,h=i.action,v=i.prevState,g=i.error,m=i.took,y=i.nextState,x=e[p+1];x&&(y=x.prevState,m=x.started-f);var S=n(h),T="function"==typeof s?s(function(){return y},h,i):s,I=N(d),w=a.title?"color: "+a.title(S)+";":"",C=["color: gray; font-weight: lighter;"];C.push(w),t.timestamp&&C.push("color: gray; font-weight: lighter;"),t.duration&&C.push("color: gray; font-weight: lighter;");var A=o(S,I,m);try{T?a.title&&c?r.groupCollapsed.apply(r,["%c "+A].concat(C)):r.groupCollapsed(A):a.title&&c?r.group.apply(r,["%c "+A].concat(C)):r.group(A)}catch(e){r.log(A)}var L=E(u,S,[v],"prevState"),R=E(u,S,[S],"action"),_=E(u,S,[g,v],"error"),k=E(u,S,[y],"nextState");if(L)if(a.prevState){var O="color: "+a.prevState(v)+"; font-weight: bold";r[L]("%c prev state",O,v)}else r[L]("prev state",v);if(R)if(a.action){var P="color: "+a.action(S)+"; font-weight: bold";r[R]("%c action    ",P,S)}else r[R]("action    ",S);if(g&&_)if(a.error){var D="color: "+a.error(g,v)+"; font-weight: bold;";r[_]("%c error     ",D,g)}else r[_]("error     ",g);if(k)if(a.nextState){var F="color: "+a.nextState(y)+"; font-weight: bold";r[k]("%c next state",F,y)}else r[k]("next state",y);l&&b(v,y,r,T);try{r.groupEnd()}catch(e){r.log(" log end ")}})}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},P,e),r=t.logger,n=t.stateTransformer,i=t.errorTransformer,o=t.predicate,s=t.logErrors,a=t.diffPredicate;if(void 0===r)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var u=[];return function(e){var r=e.getState;return function(e){return function(l){if("function"==typeof o&&!o(r,l))return e(l);var c={};u.push(c),c.started=L.now(),c.startedTime=new Date,c.prevState=n(r()),c.action=l;var p=void 0;if(s)try{p=e(l)}catch(e){c.error=i(e)}else p=e(l);c.took=L.now()-c.started,c.nextState=n(r());var f=t.diff&&"function"==typeof a?a(r,l):t.diff;if(S(u,Object.assign({},t,{diff:f})),u.length=0,c.error)throw c.error;return p}}}}var I,w,C=function(e,t){return new Array(t+1).join(e)},A=function(e,t){return C("0",t-e.toString().length)+e},N=function(e){return A(e.getHours(),2)+":"+A(e.getMinutes(),2)+":"+A(e.getSeconds(),2)+"."+A(e.getMilliseconds(),3)},L="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},k=[];I="object"===(void 0===e?"undefined":R(e))&&e?e:"undefined"!=typeof window?window:{},w=I.DeepDiff,w&&k.push(function(){void 0!==w&&I.DeepDiff===p&&(I.DeepDiff=w,w=void 0)}),r(i,n),r(o,n),r(s,n),r(a,n),Object.defineProperties(p,{diff:{value:p,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:g,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return void 0!==w},enumerable:!0},noConflict:{value:function(){return k&&(k.forEach(function(e){e()}),k=null),p},enumerable:!0}});var O={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},P={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,r=e.getState;return"function"==typeof t||"function"==typeof r?T()({dispatch:t,getState:r}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=P,t.createLogger=T,t.logger=D,t.default=D,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,r(10))},function(e,t,r){"use strict";function n(e){return e&&"function"==typeof e.then}function i(e){var t=e.dispatch;return function(e){return function(r){return s.isFSA(r)?n(r.payload)?r.payload.then(function(e){return t(o({},r,{payload:e}))},function(e){return t(o({},r,{payload:e,error:!0}))}):e(r):n(r)?r.then(t):e(r)}}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=i;var s=r(368);e.exports=t.default},function(e,t,r){"use strict";function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){return"function"==typeof i?i(r,n,e):t(i)}}}}t.__esModule=!0;var i=n();i.withExtraArgument=n,t.default=i},function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r,n,s){var a=e(r,n,s),u=a.dispatch,l=[],c={getState:a.getState,dispatch:function(e){return u(e)}};return l=t.map(function(e){return e(c)}),u=i.a.apply(void 0,l)(a.dispatch),o({},a,{dispatch:u})}}}t.a=n;var i=r(199),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t,r){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function i(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),i={},o=0;o<r.length;o++){var s=r[o],a=e[s];"function"==typeof a&&(i[s]=n(a,t))}return i}t.a=i},function(e,t,r){"use strict";function n(e,t){var r=t&&t.type;return"Given action "+(r&&'"'+r.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function i(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:s.a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+s.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function o(e){for(var t=Object.keys(e),r={},o=0;o<t.length;o++){var s=t[o];"function"==typeof e[s]&&(r[s]=e[s])}var a=Object.keys(r),u=void 0;try{i(r)}catch(e){u=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(u)throw u;for(var i=!1,o={},s=0;s<a.length;s++){var l=a[s],c=r[l],p=e[l],f=c(p,t);if(void 0===f){var d=n(l,t);throw new Error(d)}o[l]=f,i=i||f!==p}return i?o:e}}t.a=o;var s=r(200);r(184),r(201)},function(e,t,r){(function(e,t){!function(e,r){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return l[u]=n,a(u),u++}function i(e){delete l[e]}function o(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}function s(e){if(c)setTimeout(s,0,e);else{var t=l[e];if(t){c=!0;try{o(t)}finally{i(e),c=!1}}}}if(!e.setImmediate){var a,u=1,l={},c=!1,p=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){a=function(e){t.nextTick(function(){s(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&s(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),a=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){s(e.data)},a=function(t){e.port2.postMessage(t)}}():p&&"onreadystatechange"in p.createElement("script")?function(){var e=p.documentElement;a=function(t){var r=p.createElement("script");r.onreadystatechange=function(){s(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():function(){a=function(e){setTimeout(s,0,e)}}(),f.setImmediate=n,f.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,r(10),r(19))},function(e,t,r){var n=r(450),i=r(451),o=[r(448)];e.exports=n.createStore(i,o)},function(e,t,r){function n(){return r(449),{}}e.exports=n},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var r,n,i,o,s,a=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,r=0;r<o;r+=1)s[r]=str(r,u)||"null";return i=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(o=rep.length,r=0;r<o;r+=1)"string"==typeof rep[r]&&(n=rep[r],(i=str(n,u))&&s.push(quote(n)+(gap?": ":":")+i));else for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(i=str(n,u))&&s.push(quote(n)+(gap?": ":":")+i);return i=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,i}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,r){var n;if(gap="",indent="","number"==typeof r)for(n=0;n<r;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var r,n,i=e[t];if(i&&"object"==typeof i)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n=walk(i,r),void 0!==n?i[r]=n:delete i[r]);return reviver.call(e,t,i)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(e,t,r){function n(){var e="undefined"==typeof console?null:console;if(e){(e.warn?e.warn:e.log).apply(e,arguments)}}function i(e,t,r){r||(r=""),e&&!p(e)&&(e=[e]),t&&!p(t)&&(t=[t]);var i=r?"__storejs_"+r+"_":"",o=r?new RegExp("^"+i):null;if(!/^[a-zA-Z0-9_\-]*$/.test(r))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var v={_namespacePrefix:i,_namespaceRegexp:o,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var r=e.read(t)===t;return e.remove(t),r}catch(e){return!1}},_assignPluginFnProp:function(e,t){var r=this[t];this[t]=function(){function t(){if(r)return u(arguments,function(e,t){n[t]=e}),r.apply(i,n)}var n=s(arguments,0),i=this,o=[t].concat(n);return e.apply(i,o)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var r="";try{r=JSON.parse(e)}catch(t){r=e}return void 0!==r?r:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(p(e))return void u(e,function(e){t._addPlugin(e)});if(!a(this.plugins,function(t){return e===t})){if(this.plugins.push(e),!f(e))throw new Error("Plugins must be function values that return objects");var r=e.call(this);if(!d(r))throw new Error("Plugins must return an object of function properties");u(r,function(r,n){if(!f(r))throw new Error("Bad plugin property: "+n+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(r,n)})}},addStorage:function(e){n("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},g=c(v,h,{plugins:[]});return g.raw={},u(g,function(e,t){f(e)&&(g.raw[t]=l(g,e))}),u(e,function(e){g._addStorage(e)}),u(t,function(e){g._addPlugin(e)}),g}var o=r(51),s=o.slice,a=o.pluck,u=o.each,l=o.bind,c=o.create,p=o.isList,f=o.isFunction,d=o.isObject;e.exports={createStore:i};var h={version:"2.0.12",enabled:!1,get:function(e,t){var r=this.storage.read(this._namespacePrefix+e);return this._deserialize(r,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each(function(r,n){e.call(t,t._deserialize(r),(n||"").replace(t._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return i.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return i(this.storage,this.plugins,e)}}},function(e,t,r){e.exports=[r(453),r(455),r(456),r(452),r(457),r(454)]},function(e,t,r){function n(e){if(!e||!u(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(f.cookie.replace(new RegExp(t),"$1"))}function i(e){for(var t=f.cookie.split(/; ?/g),r=t.length-1;r>=0;r--)if(p(t[r])){var n=t[r].split("="),i=unescape(n[0]),o=unescape(n[1]);e(o,i)}}function o(e,t){e&&(f.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function s(e){e&&u(e)&&(f.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function a(){i(function(e,t){s(t)})}function u(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(f.cookie)}var l=r(51),c=l.Global,p=l.trim;e.exports={name:"cookieStorage",read:n,write:o,each:i,remove:s,clearAll:a};var f=c.document},function(e,t,r){function n(){return c.localStorage}function i(e){return n().getItem(e)}function o(e,t){return n().setItem(e,t)}function s(e){for(var t=n().length-1;t>=0;t--){var r=n().key(t);e(i(r),r)}}function a(e){return n().removeItem(e)}function u(){return n().clear()}var l=r(51),c=l.Global;e.exports={name:"localStorage",read:i,write:o,each:s,remove:a,clearAll:u}},function(e,t){function r(e){return a[e]}function n(e,t){a[e]=t}function i(e){for(var t in a)a.hasOwnProperty(t)&&e(a[t],t)}function o(e){delete a[e]}function s(e){a={}}e.exports={name:"memoryStorage",read:r,write:n,each:i,remove:o,clearAll:s};var a={}},function(e,t,r){function n(e){return c[e]}function i(e,t){c[e]=t}function o(e){for(var t=c.length-1;t>=0;t--){var r=c.key(t);e(c[r],r)}}function s(e){return c.removeItem(e)}function a(){o(function(e,t){delete c[e]})}var u=r(51),l=u.Global;e.exports={name:"oldFF-globalStorage",read:n,write:i,each:o,remove:s,clearAll:a};var c=l.globalStorage},function(e,t,r){function n(e,t){if(!h){var r=u(e);d(function(e){e.setAttribute(r,t),e.save(p)})}}function i(e){if(!h){var t=u(e),r=null;return d(function(e){r=e.getAttribute(t)}),r}}function o(e){d(function(t){for(var r=t.XMLDocument.documentElement.attributes,n=r.length-1;n>=0;n--){var i=r[n];e(t.getAttribute(i.name),i.name)}})}function s(e){var t=u(e);d(function(e){e.removeAttribute(t),e.save(p)})}function a(){d(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(p);for(var r=t.length-1;r>=0;r--)e.removeAttribute(t[r].name);e.save(p)})}function u(e){return e.replace(/^\d/,"___$&").replace(v,"___")}var l=r(51),c=l.Global;e.exports={name:"oldIE-userDataStorage",write:n,read:i,each:o,remove:s,clearAll:a};var p="storejs",f=c.document,d=function(){if(!f||!f.documentElement||!f.documentElement.addBehavior)return null;var e,t,r;try{t=new ActiveXObject("htmlfile"),t.open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,r=e.createElement("div")}catch(t){r=f.createElement("div"),e=f.body}return function(t){var n=[].slice.call(arguments,0);n.unshift(r),e.appendChild(r),r.addBehavior("#default#userData"),r.load(p),t.apply(this,n),e.removeChild(r)}}(),h=(c.navigator?c.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),v=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g")},function(e,t,r){function n(){return c.sessionStorage}function i(e){return n().getItem(e)}function o(e,t){return n().setItem(e,t)}function s(e){for(var t=n().length-1;t>=0;t--){var r=n().key(t);e(i(r),r)}}function a(e){return n().removeItem(e)}function u(){return n().clear()}var l=r(51),c=l.Global;e.exports={name:"sessionStorage",read:i,write:o,each:s,remove:a,clearAll:u}},function(e,t,r){(function(t,n,i){function o(e,t){return a.fetch&&t?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&e?"arraybuffer":a.vbArray&&e?"text:vbarray":"text"}function s(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}var a=r(204),u=r(25),l=r(459),c=r(61),p=r(463),f=l.IncomingMessage,d=l.readyStates,h=e.exports=function(e){var r=this;c.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){r.setHeader(t,e.headers[t])});var n,i=!0;if("disable-fetch"===e.mode||"timeout"in e)i=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!a.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=o(n,i),r.on("finish",function(){r._onFinish()})};u(h,c.Writable),h.prototype.setHeader=function(e,t){var r=this,n=e.toLowerCase();-1===v.indexOf(n)&&(r._headers[n]={name:e,value:t})},h.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},h.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},h.prototype._onFinish=function(){var e=this;if(!e._destroyed){var r=e._opts,o=e._headers,s=null;"GET"!==r.method&&"HEAD"!==r.method&&(s=a.blobConstructor?new n.Blob(e._body.map(function(e){return p(e)}),{type:(o["content-type"]||{}).value||""}):t.concat(e._body).toString());var u=[];if(Object.keys(o).forEach(function(e){var t=o[e].name,r=o[e].value;Array.isArray(r)?r.forEach(function(e){u.push([t,e])}):u.push([t,r])}),"fetch"===e._mode)n.fetch(e._opts.url,{method:e._opts.method,headers:u,body:s||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin"}).then(function(t){e._fetchResponse=t,e._connect()},function(t){e.emit("error",t)});else{var l=e._xhr=new n.XMLHttpRequest;try{l.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick(function(){e.emit("error",t)})}"responseType"in l&&(l.responseType=e._mode.split(":")[0]),"withCredentials"in l&&(l.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in l&&l.overrideMimeType("text/plain; charset=x-user-defined"),"timeout"in r&&(l.timeout=r.timeout,l.ontimeout=function(){e.emit("timeout")}),u.forEach(function(e){l.setRequestHeader(e[0],e[1])}),e._response=null,l.onreadystatechange=function(){switch(l.readyState){case d.LOADING:case d.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(l.onprogress=function(){e._onXHRProgress()}),l.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{l.send(s)}catch(t){return void i.nextTick(function(){e.emit("error",t)})}}}},h.prototype._onXHRProgress=function(){var e=this;s(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},h.prototype._connect=function(){var e=this;e._destroyed||(e._response=new f(e._xhr,e._fetchResponse,e._mode),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},h.prototype._write=function(e,t,r){this._body.push(e),r()},h.prototype.abort=h.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},h.prototype.end=function(e,t,r){var n=this;"function"==typeof e&&(r=e,e=void 0),c.Writable.prototype.end.call(n,e,t,r)},h.prototype.flushHeaders=function(){},h.prototype.setTimeout=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var v=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(t,r(45).Buffer,r(10),r(19))},function(e,t,r){(function(e,n,i){var o=r(204),s=r(25),a=r(61),u=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=t.IncomingMessage=function(t,r,i){function s(){l.read().then(function(e){if(!u._destroyed){if(e.done)return void u.push(null);u.push(new n(e.value)),s()}}).catch(function(e){u.emit("error",e)})}var u=this;if(a.Readable.call(u),u._mode=i,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){e.nextTick(function(){u.emit("close")})}),"fetch"===i){u._fetchResponse=r,u.url=r.url,u.statusCode=r.status,u.statusMessage=r.statusText,r.headers.forEach(function(e,t){u.headers[t.toLowerCase()]=e,u.rawHeaders.push(t,e)});var l=r.body.getReader();s()}else{u._xhr=t,u._pos=0,u.url=t.responseURL,u.statusCode=t.status,u.statusMessage=t.statusText;if(t.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===u.headers[r]&&(u.headers[r]=[]),u.headers[r].push(t[2])):void 0!==u.headers[r]?u.headers[r]+=", "+t[2]:u.headers[r]=t[2],u.rawHeaders.push(t[1],t[2])}}),u._charset="x-user-defined",!o.overrideMimeType){var c=u.rawHeaders["mime-type"];if(c){var p=c.match(/;\s*charset=([^;])(;|$)/);p&&(u._charset=p[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};s(l,a.Readable),l.prototype._read=function(){},l.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==u.DONE)break;try{r=new i.VBArray(t.responseBody).toArray()}catch(e){}if(null!==r){e.push(new n(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var o=r.substr(e._pos);if("x-user-defined"===e._charset){for(var s=new n(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);e.push(s)}else e.push(o,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==u.DONE||!t.response)break;r=t.response,e.push(new n(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==u.LOADING||!r)break;e.push(new n(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==u.LOADING)break;var l=new i.MSStreamReader;l.onprogress=function(){l.result.byteLength>e._pos&&(e.push(new n(new Uint8Array(l.result.slice(e._pos)))),e._pos=l.result.byteLength)},l.onload=function(){e.push(null)},l.readAsArrayBuffer(r)}e._xhr.readyState===u.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(t,r(19),r(45).Buffer,r(10))},function(e,t,r){e.exports=r(461)},function(e,t,r){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var i,o=r(462),s=function(e){return e&&e.__esModule?e:{default:e}}(o);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var a=(0,s.default)(i);t.default=a}).call(t,r(10),r(129)(e))},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,r){var n=r(45).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(n.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,i=0;i<r;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){(function(t){function r(e,t){function r(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(n("noDeprecation"))return e;var i=!1;return r}function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=r}).call(t,r(10))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){function r(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e}e.exports=r;var n=Object.prototype.hasOwnProperty},function(e,t){e.exports={_args:[["yasgui-utils@1.6.7","/Users/esjewett/git_repos/fibra"]],_from:"yasgui-utils@1.6.7",_id:"yasgui-utils@1.6.7",_inBundle:!1,_integrity:"sha1-K8/FoxVojeOuYFeIPZrjQrIF8mc=",_location:"/yasgui-utils",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"yasgui-utils@1.6.7",name:"yasgui-utils",escapedName:"yasgui-utils",rawSpec:"1.6.7",saveSpec:null,fetchSpec:"1.6.7"},_requiredBy:[],_resolved:"https://registry.npmjs.org/yasgui-utils/-/yasgui-utils-1.6.7.tgz",_spec:"1.6.7",_where:"/Users/esjewett/git_repos/fibra",author:{name:"Laurens Rietveld"},bugs:{url:"https://github.com/YASGUI/Utils/issues"},dependencies:{store:"^2.0.4"},description:"Utils for YASGUI libs",homepage:"https://github.com/YASGUI/Utils",licenses:[{type:"MIT",url:"http://yasgui.github.io/license.txt"}],main:"src/main.js",maintainers:[{name:"Laurens Rietveld",email:"laurens.rietveld@gmail.com",url:"http://laurensrietveld.nl"}],name:"yasgui-utils",repository:{type:"git",url:"git://github.com/YASGUI/Utils.git"},version:"1.6.7"}},function(e,t,r){function n(e){var t=!1;if(e)if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else-2147024882===e.number&&(t=!0);return t}var i=r(447),o={day:function(){return 864e5},month:function(){o.day()},year:function(){o.month()}},s=e.exports={set:function(e,t,r,s){if(i.enabled&&e&&void 0!==t){"string"==typeof r&&(r=o[r]()),t.documentElement&&(t=(new XMLSerializer).serializeToString(t.documentElement));try{i.set(e,{val:t,exp:r,time:(new Date).getTime()})}catch(e){if(e.quotaExceeded=n(e),!e.quotaExceeded||!s)throw e;s(e)}}},remove:function(e){i.enabled&&e&&i.remove(e)},removeAll:function(e){i.enabled&&(e?"function"==typeof e&&i.each(function(t,r){e(r,t)&&s.remove(r)}):i.clearAll())},get:function(e){if(!i.enabled)return null;if(e){var t=i.get(e);return t?t.exp&&(new Date).getTime()-t.time>t.exp?null:t.val:null}return null}}},function(e,t){e.exports={draw:function(t,r){if(t){var n=e.exports.getElement(r);n&&(t.append?t.append(n):t.appendChild(n))}},getElement:function(e){if(e&&0==e.indexOf("<svg")){var t=new DOMParser,r=t.parseFromString(e,"text/xml"),n=r.documentElement,i=document.createElement("div");return i.className="svgImg",i.appendChild(n),i}return!1}}},function(e,t,r){"use strict";var n=r(14);n.deparam=function(e,t){var r={},i={true:!0,false:!1,null:null};return n.each(e.replace(/\+/g," ").split("&"),function(e,o){var s,a=o.split("="),u=decodeURIComponent(a[0]),l=r,c=0,p=u.split("]["),f=p.length-1;if(/\[/.test(p[0])&&/\]$/.test(p[f])?(p[f]=p[f].replace(/\]$/,""),p=p.shift().split("[").concat(p),f=p.length-1):f=0,2===a.length)if(s=decodeURIComponent(a[1]),t&&(s=s&&!isNaN(s)?+s:"undefined"===s?void 0:void 0!==i[s]?i[s]:s),f)for(;c<=f;c++)u=""===p[c]?l.length:p[c],l=l[u]=c<f?l[u]||(p[c+1]&&isNaN(p[c+1])?{}:[]):s;else n.isArray(r[u])?r[u].push(s):void 0!==r[u]?r[u]=[r[u],s]:r[u]=s;else u&&(r[u]=t?void 0:"")}),r}},function(e,t){e.exports={table:{"*[&&,valueLogical]":{"&&":["[&&,valueLogical]","*[&&,valueLogical]"],AS:[],")":[],",":[],"||":[],";":[]},"*[,,expression]":{",":["[,,expression]","*[,,expression]"],")":[]},"*[,,objectPath]":{",":["[,,objectPath]","*[,,objectPath]"],".":[],";":[],"]":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"*[,,object]":{",":["[,,object]","*[,,object]"],".":[],";":[],"]":[],"}":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"*[/,pathEltOrInverse]":{"/":["[/,pathEltOrInverse]","*[/,pathEltOrInverse]"],"|":[],")":[],"(":[],"[":[],VAR1:[],VAR2:[],NIL:[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},"*[;,?[or([verbPath,verbSimple]),objectList]]":{";":["[;,?[or([verbPath,verbSimple]),objectList]]","*[;,?[or([verbPath,verbSimple]),objectList]]"],".":[],"]":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"*[;,?[verb,objectList]]":{";":["[;,?[verb,objectList]]","*[;,?[verb,objectList]]"],".":[],"]":[],"}":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"*[UNION,groupGraphPattern]":{UNION:["[UNION,groupGraphPattern]","*[UNION,groupGraphPattern]"],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],".":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"*[graphPatternNotTriples,?.,?triplesBlock]":{"{":["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],OPTIONAL:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],MINUS:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],GRAPH:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],SERVICE:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],FILTER:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],BIND:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],VALUES:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],"}":[]},"*[quadsNotTriples,?.,?triplesTemplate]":{GRAPH:["[quadsNotTriples,?.,?triplesTemplate]","*[quadsNotTriples,?.,?triplesTemplate]"],"}":[]},"*[|,pathOneInPropertySet]":{"|":["[|,pathOneInPropertySet]","*[|,pathOneInPropertySet]"],")":[]},"*[|,pathSequence]":{"|":["[|,pathSequence]","*[|,pathSequence]"],")":[],"(":[],"[":[],VAR1:[],VAR2:[],NIL:[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},"*[||,conditionalAndExpression]":{"||":["[||,conditionalAndExpression]","*[||,conditionalAndExpression]"],AS:[],")":[],",":[],";":[]},"*dataBlockValue":{UNDEF:["dataBlockValue","*dataBlockValue"],IRI_REF:["dataBlockValue","*dataBlockValue"],TRUE:["dataBlockValue","*dataBlockValue"],FALSE:["dataBlockValue","*dataBlockValue"],PNAME_LN:["dataBlockValue","*dataBlockValue"],PNAME_NS:["dataBlockValue","*dataBlockValue"],STRING_LITERAL1:["dataBlockValue","*dataBlockValue"],STRING_LITERAL2:["dataBlockValue","*dataBlockValue"],STRING_LITERAL_LONG1:["dataBlockValue","*dataBlockValue"],STRING_LITERAL_LONG2:["dataBlockValue","*dataBlockValue"],INTEGER:["dataBlockValue","*dataBlockValue"],DECIMAL:["dataBlockValue","*dataBlockValue"],DOUBLE:["dataBlockValue","*dataBlockValue"],INTEGER_POSITIVE:["dataBlockValue","*dataBlockValue"],DECIMAL_POSITIVE:["dataBlockValue","*dataBlockValue"],DOUBLE_POSITIVE:["dataBlockValue","*dataBlockValue"],INTEGER_NEGATIVE:["dataBlockValue","*dataBlockValue"],DECIMAL_NEGATIVE:["dataBlockValue","*dataBlockValue"],DOUBLE_NEGATIVE:["dataBlockValue","*dataBlockValue"],"}":[],")":[]},"*datasetClause":{FROM:["datasetClause","*datasetClause"],WHERE:[],"{":[]},"*describeDatasetClause":{FROM:["describeDatasetClause","*describeDatasetClause"],ORDER:[],HAVING:[],GROUP:[],LIMIT:[],OFFSET:[],WHERE:[],"{":[],VALUES:[],$:[]},"*graphNode":{"(":["graphNode","*graphNode"],"[":["graphNode","*graphNode"],VAR1:["graphNode","*graphNode"],VAR2:["graphNode","*graphNode"],NIL:["graphNode","*graphNode"],IRI_REF:["graphNode","*graphNode"],TRUE:["graphNode","*graphNode"],FALSE:["graphNode","*graphNode"],BLANK_NODE_LABEL:["graphNode","*graphNode"],ANON:["graphNode","*graphNode"],PNAME_LN:["graphNode","*graphNode"],PNAME_NS:["graphNode","*graphNode"],STRING_LITERAL1:["graphNode","*graphNode"],STRING_LITERAL2:["graphNode","*graphNode"],STRING_LITERAL_LONG1:["graphNode","*graphNode"],STRING_LITERAL_LONG2:["graphNode","*graphNode"],INTEGER:["graphNode","*graphNode"],DECIMAL:["graphNode","*graphNode"],DOUBLE:["graphNode","*graphNode"],INTEGER_POSITIVE:["graphNode","*graphNode"],DECIMAL_POSITIVE:["graphNode","*graphNode"],DOUBLE_POSITIVE:["graphNode","*graphNode"],INTEGER_NEGATIVE:["graphNode","*graphNode"],DECIMAL_NEGATIVE:["graphNode","*graphNode"],DOUBLE_NEGATIVE:["graphNode","*graphNode"],")":[]},"*graphNodePath":{"(":["graphNodePath","*graphNodePath"],"[":["graphNodePath","*graphNodePath"],VAR1:["graphNodePath","*graphNodePath"],VAR2:["graphNodePath","*graphNodePath"],NIL:["graphNodePath","*graphNodePath"],IRI_REF:["graphNodePath","*graphNodePath"],TRUE:["graphNodePath","*graphNodePath"],FALSE:["graphNodePath","*graphNodePath"],BLANK_NODE_LABEL:["graphNodePath","*graphNodePath"],ANON:["graphNodePath","*graphNodePath"],PNAME_LN:["graphNodePath","*graphNodePath"],PNAME_NS:["graphNodePath","*graphNodePath"],STRING_LITERAL1:["graphNodePath","*graphNodePath"],STRING_LITERAL2:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG1:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG2:["graphNodePath","*graphNodePath"],INTEGER:["graphNodePath","*graphNodePath"],DECIMAL:["graphNodePath","*graphNodePath"],DOUBLE:["graphNodePath","*graphNodePath"],INTEGER_POSITIVE:["graphNodePath","*graphNodePath"],DECIMAL_POSITIVE:["graphNodePath","*graphNodePath"],DOUBLE_POSITIVE:["graphNodePath","*graphNodePath"],INTEGER_NEGATIVE:["graphNodePath","*graphNodePath"],DECIMAL_NEGATIVE:["graphNodePath","*graphNodePath"],DOUBLE_NEGATIVE:["graphNodePath","*graphNodePath"],")":[]},"*groupCondition":{"(":["groupCondition","*groupCondition"],STR:["groupCondition","*groupCondition"],LANG:["groupCondition","*groupCondition"],LANGMATCHES:["groupCondition","*groupCondition"],DATATYPE:["groupCondition","*groupCondition"],BOUND:["groupCondition","*groupCondition"],IRI:["groupCondition","*groupCondition"],URI:["groupCondition","*groupCondition"],BNODE:["groupCondition","*groupCondition"],RAND:["groupCondition","*groupCondition"],ABS:["groupCondition","*groupCondition"],CEIL:["groupCondition","*groupCondition"],FLOOR:["groupCondition","*groupCondition"],ROUND:["groupCondition","*groupCondition"],CONCAT:["groupCondition","*groupCondition"],STRLEN:["groupCondition","*groupCondition"],UCASE:["groupCondition","*groupCondition"],LCASE:["groupCondition","*groupCondition"],ENCODE_FOR_URI:["groupCondition","*groupCondition"],CONTAINS:["groupCondition","*groupCondition"],STRSTARTS:["groupCondition","*groupCondition"],STRENDS:["groupCondition","*groupCondition"],STRBEFORE:["groupCondition","*groupCondition"],STRAFTER:["groupCondition","*groupCondition"],YEAR:["groupCondition","*groupCondition"],MONTH:["groupCondition","*groupCondition"],DAY:["groupCondition","*groupCondition"],HOURS:["groupCondition","*groupCondition"],MINUTES:["groupCondition","*groupCondition"],SECONDS:["groupCondition","*groupCondition"],TIMEZONE:["groupCondition","*groupCondition"],TZ:["groupCondition","*groupCondition"],NOW:["groupCondition","*groupCondition"],UUID:["groupCondition","*groupCondition"],STRUUID:["groupCondition","*groupCondition"],MD5:["groupCondition","*groupCondition"],SHA1:["groupCondition","*groupCondition"],SHA256:["groupCondition","*groupCondition"],SHA384:["groupCondition","*groupCondition"],SHA512:["groupCondition","*groupCondition"],COALESCE:["groupCondition","*groupCondition"],IF:["groupCondition","*groupCondition"],STRLANG:["groupCondition","*groupCondition"],STRDT:["groupCondition","*groupCondition"],SAMETERM:["groupCondition","*groupCondition"],ISIRI:["groupCondition","*groupCondition"],ISURI:["groupCondition","*groupCondition"],ISBLANK:["groupCondition","*groupCondition"],ISLITERAL:["groupCondition","*groupCondition"],ISNUMERIC:["groupCondition","*groupCondition"],VAR1:["groupCondition","*groupCondition"],VAR2:["groupCondition","*groupCondition"],SUBSTR:["groupCondition","*groupCondition"],REPLACE:["groupCondition","*groupCondition"],REGEX:["groupCondition","*groupCondition"],EXISTS:["groupCondition","*groupCondition"],NOT:["groupCondition","*groupCondition"],IRI_REF:["groupCondition","*groupCondition"],PNAME_LN:["groupCondition","*groupCondition"],PNAME_NS:["groupCondition","*groupCondition"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],HAVING:[],$:[],"}":[]},"*havingCondition":{"(":["havingCondition","*havingCondition"],STR:["havingCondition","*havingCondition"],LANG:["havingCondition","*havingCondition"],LANGMATCHES:["havingCondition","*havingCondition"],DATATYPE:["havingCondition","*havingCondition"],BOUND:["havingCondition","*havingCondition"],IRI:["havingCondition","*havingCondition"],URI:["havingCondition","*havingCondition"],BNODE:["havingCondition","*havingCondition"],RAND:["havingCondition","*havingCondition"],ABS:["havingCondition","*havingCondition"],CEIL:["havingCondition","*havingCondition"],FLOOR:["havingCondition","*havingCondition"],ROUND:["havingCondition","*havingCondition"],CONCAT:["havingCondition","*havingCondition"],STRLEN:["havingCondition","*havingCondition"],UCASE:["havingCondition","*havingCondition"],LCASE:["havingCondition","*havingCondition"],ENCODE_FOR_URI:["havingCondition","*havingCondition"],CONTAINS:["havingCondition","*havingCondition"],STRSTARTS:["havingCondition","*havingCondition"],STRENDS:["havingCondition","*havingCondition"],STRBEFORE:["havingCondition","*havingCondition"],STRAFTER:["havingCondition","*havingCondition"],YEAR:["havingCondition","*havingCondition"],MONTH:["havingCondition","*havingCondition"],DAY:["havingCondition","*havingCondition"],HOURS:["havingCondition","*havingCondition"],MINUTES:["havingCondition","*havingCondition"],SECONDS:["havingCondition","*havingCondition"],TIMEZONE:["havingCondition","*havingCondition"],TZ:["havingCondition","*havingCondition"],NOW:["havingCondition","*havingCondition"],UUID:["havingCondition","*havingCondition"],STRUUID:["havingCondition","*havingCondition"],MD5:["havingCondition","*havingCondition"],SHA1:["havingCondition","*havingCondition"],SHA256:["havingCondition","*havingCondition"],SHA384:["havingCondition","*havingCondition"],SHA512:["havingCondition","*havingCondition"],COALESCE:["havingCondition","*havingCondition"],IF:["havingCondition","*havingCondition"],STRLANG:["havingCondition","*havingCondition"],STRDT:["havingCondition","*havingCondition"],SAMETERM:["havingCondition","*havingCondition"],ISIRI:["havingCondition","*havingCondition"],ISURI:["havingCondition","*havingCondition"],ISBLANK:["havingCondition","*havingCondition"],ISLITERAL:["havingCondition","*havingCondition"],ISNUMERIC:["havingCondition","*havingCondition"],SUBSTR:["havingCondition","*havingCondition"],REPLACE:["havingCondition","*havingCondition"],REGEX:["havingCondition","*havingCondition"],EXISTS:["havingCondition","*havingCondition"],NOT:["havingCondition","*havingCondition"],IRI_REF:["havingCondition","*havingCondition"],PNAME_LN:["havingCondition","*havingCondition"],PNAME_NS:["havingCondition","*havingCondition"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],$:[],"}":[]},"*or([[ (,*dataBlockValue,)],NIL])":{"(":["or([[ (,*dataBlockValue,)],NIL])","*or([[ (,*dataBlockValue,)],NIL])"],NIL:["or([[ (,*dataBlockValue,)],NIL])","*or([[ (,*dataBlockValue,)],NIL])"],"}":[]},"*or([[*,unaryExpression],[/,unaryExpression]])":{"*":["or([[*,unaryExpression],[/,unaryExpression]])","*or([[*,unaryExpression],[/,unaryExpression]])"],"/":["or([[*,unaryExpression],[/,unaryExpression]])","*or([[*,unaryExpression],[/,unaryExpression]])"],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],"+":[],"-":[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],";":[]},"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])":{"+":["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"-":["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_POSITIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_POSITIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE_POSITIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_NEGATIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_NEGATIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE_NEGATIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],";":[]},"*or([baseDecl,prefixDecl])":{BASE:["or([baseDecl,prefixDecl])","*or([baseDecl,prefixDecl])"],PREFIX:["or([baseDecl,prefixDecl])","*or([baseDecl,prefixDecl])"],$:[],CONSTRUCT:[],DESCRIBE:[],ASK:[],INSERT:[],DELETE:[],SELECT:[],LOAD:[],CLEAR:[],DROP:[],ADD:[],MOVE:[],COPY:[],CREATE:[],WITH:[]},"*or([var,[ (,expression,AS,var,)]])":{"(":["or([var,[ (,expression,AS,var,)]])","*or([var,[ (,expression,AS,var,)]])"],VAR1:["or([var,[ (,expression,AS,var,)]])","*or([var,[ (,expression,AS,var,)]])"],VAR2:["or([var,[ (,expression,AS,var,)]])","*or([var,[ (,expression,AS,var,)]])"],WHERE:[],"{":[],FROM:[]},"*orderCondition":{ASC:["orderCondition","*orderCondition"],DESC:["orderCondition","*orderCondition"],VAR1:["orderCondition","*orderCondition"],VAR2:["orderCondition","*orderCondition"],"(":["orderCondition","*orderCondition"],STR:["orderCondition","*orderCondition"],LANG:["orderCondition","*orderCondition"],LANGMATCHES:["orderCondition","*orderCondition"],DATATYPE:["orderCondition","*orderCondition"],BOUND:["orderCondition","*orderCondition"],IRI:["orderCondition","*orderCondition"],URI:["orderCondition","*orderCondition"],BNODE:["orderCondition","*orderCondition"],RAND:["orderCondition","*orderCondition"],ABS:["orderCondition","*orderCondition"],CEIL:["orderCondition","*orderCondition"],FLOOR:["orderCondition","*orderCondition"],ROUND:["orderCondition","*orderCondition"],CONCAT:["orderCondition","*orderCondition"],STRLEN:["orderCondition","*orderCondition"],UCASE:["orderCondition","*orderCondition"],LCASE:["orderCondition","*orderCondition"],ENCODE_FOR_URI:["orderCondition","*orderCondition"],CONTAINS:["orderCondition","*orderCondition"],STRSTARTS:["orderCondition","*orderCondition"],STRENDS:["orderCondition","*orderCondition"],STRBEFORE:["orderCondition","*orderCondition"],STRAFTER:["orderCondition","*orderCondition"],YEAR:["orderCondition","*orderCondition"],MONTH:["orderCondition","*orderCondition"],DAY:["orderCondition","*orderCondition"],HOURS:["orderCondition","*orderCondition"],MINUTES:["orderCondition","*orderCondition"],SECONDS:["orderCondition","*orderCondition"],TIMEZONE:["orderCondition","*orderCondition"],TZ:["orderCondition","*orderCondition"],NOW:["orderCondition","*orderCondition"],UUID:["orderCondition","*orderCondition"],STRUUID:["orderCondition","*orderCondition"],MD5:["orderCondition","*orderCondition"],SHA1:["orderCondition","*orderCondition"],SHA256:["orderCondition","*orderCondition"],SHA384:["orderCondition","*orderCondition"],SHA512:["orderCondition","*orderCondition"],COALESCE:["orderCondition","*orderCondition"],IF:["orderCondition","*orderCondition"],STRLANG:["orderCondition","*orderCondition"],STRDT:["orderCondition","*orderCondition"],SAMETERM:["orderCondition","*orderCondition"],ISIRI:["orderCondition","*orderCondition"],ISURI:["orderCondition","*orderCondition"],ISBLANK:["orderCondition","*orderCondition"],ISLITERAL:["orderCondition","*orderCondition"],ISNUMERIC:["orderCondition","*orderCondition"],SUBSTR:["orderCondition","*orderCondition"],REPLACE:["orderCondition","*orderCondition"],REGEX:["orderCondition","*orderCondition"],EXISTS:["orderCondition","*orderCondition"],NOT:["orderCondition","*orderCondition"],IRI_REF:["orderCondition","*orderCondition"],PNAME_LN:["orderCondition","*orderCondition"],PNAME_NS:["orderCondition","*orderCondition"],VALUES:[],LIMIT:[],OFFSET:[],$:[],"}":[]},"*usingClause":{USING:["usingClause","*usingClause"],WHERE:[]},"*var":{VAR1:["var","*var"],VAR2:["var","*var"],")":[]},"*varOrIRIref":{VAR1:["varOrIRIref","*varOrIRIref"],VAR2:["varOrIRIref","*varOrIRIref"],IRI_REF:["varOrIRIref","*varOrIRIref"],PNAME_LN:["varOrIRIref","*varOrIRIref"],PNAME_NS:["varOrIRIref","*varOrIRIref"],ORDER:[],HAVING:[],GROUP:[],LIMIT:[],OFFSET:[],WHERE:[],"{":[],FROM:[],VALUES:[],$:[]},"+graphNode":{"(":["graphNode","*graphNode"],"[":["graphNode","*graphNode"],VAR1:["graphNode","*graphNode"],VAR2:["graphNode","*graphNode"],NIL:["graphNode","*graphNode"],IRI_REF:["graphNode","*graphNode"],TRUE:["graphNode","*graphNode"],FALSE:["graphNode","*graphNode"],BLANK_NODE_LABEL:["graphNode","*graphNode"],ANON:["graphNode","*graphNode"],PNAME_LN:["graphNode","*graphNode"],PNAME_NS:["graphNode","*graphNode"],STRING_LITERAL1:["graphNode","*graphNode"],STRING_LITERAL2:["graphNode","*graphNode"],STRING_LITERAL_LONG1:["graphNode","*graphNode"],STRING_LITERAL_LONG2:["graphNode","*graphNode"],INTEGER:["graphNode","*graphNode"],DECIMAL:["graphNode","*graphNode"],DOUBLE:["graphNode","*graphNode"],INTEGER_POSITIVE:["graphNode","*graphNode"],DECIMAL_POSITIVE:["graphNode","*graphNode"],DOUBLE_POSITIVE:["graphNode","*graphNode"],INTEGER_NEGATIVE:["graphNode","*graphNode"],DECIMAL_NEGATIVE:["graphNode","*graphNode"],DOUBLE_NEGATIVE:["graphNode","*graphNode"]},"+graphNodePath":{"(":["graphNodePath","*graphNodePath"],"[":["graphNodePath","*graphNodePath"],VAR1:["graphNodePath","*graphNodePath"],VAR2:["graphNodePath","*graphNodePath"],NIL:["graphNodePath","*graphNodePath"],IRI_REF:["graphNodePath","*graphNodePath"],TRUE:["graphNodePath","*graphNodePath"],FALSE:["graphNodePath","*graphNodePath"],BLANK_NODE_LABEL:["graphNodePath","*graphNodePath"],ANON:["graphNodePath","*graphNodePath"],PNAME_LN:["graphNodePath","*graphNodePath"],PNAME_NS:["graphNodePath","*graphNodePath"],STRING_LITERAL1:["graphNodePath","*graphNodePath"],STRING_LITERAL2:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG1:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG2:["graphNodePath","*graphNodePath"],INTEGER:["graphNodePath","*graphNodePath"],DECIMAL:["graphNodePath","*graphNodePath"],DOUBLE:["graphNodePath","*graphNodePath"],INTEGER_POSITIVE:["graphNodePath","*graphNodePath"],DECIMAL_POSITIVE:["graphNodePath","*graphNodePath"],DOUBLE_POSITIVE:["graphNodePath","*graphNodePath"],INTEGER_NEGATIVE:["graphNodePath","*graphNodePath"],DECIMAL_NEGATIVE:["graphNodePath","*graphNodePath"],DOUBLE_NEGATIVE:["graphNodePath","*graphNodePath"]},"+groupCondition":{"(":["groupCondition","*groupCondition"],STR:["groupCondition","*groupCondition"],LANG:["groupCondition","*groupCondition"],LANGMATCHES:["groupCondition","*groupCondition"],DATATYPE:["groupCondition","*groupCondition"],BOUND:["groupCondition","*groupCondition"],IRI:["groupCondition","*groupCondition"],URI:["groupCondition","*groupCondition"],BNODE:["groupCondition","*groupCondition"],RAND:["groupCondition","*groupCondition"],ABS:["groupCondition","*groupCondition"],CEIL:["groupCondition","*groupCondition"],FLOOR:["groupCondition","*groupCondition"],ROUND:["groupCondition","*groupCondition"],CONCAT:["groupCondition","*groupCondition"],STRLEN:["groupCondition","*groupCondition"],UCASE:["groupCondition","*groupCondition"],LCASE:["groupCondition","*groupCondition"],ENCODE_FOR_URI:["groupCondition","*groupCondition"],CONTAINS:["groupCondition","*groupCondition"],STRSTARTS:["groupCondition","*groupCondition"],STRENDS:["groupCondition","*groupCondition"],STRBEFORE:["groupCondition","*groupCondition"],STRAFTER:["groupCondition","*groupCondition"],YEAR:["groupCondition","*groupCondition"],MONTH:["groupCondition","*groupCondition"],DAY:["groupCondition","*groupCondition"],HOURS:["groupCondition","*groupCondition"],MINUTES:["groupCondition","*groupCondition"],SECONDS:["groupCondition","*groupCondition"],TIMEZONE:["groupCondition","*groupCondition"],TZ:["groupCondition","*groupCondition"],NOW:["groupCondition","*groupCondition"],UUID:["groupCondition","*groupCondition"],STRUUID:["groupCondition","*groupCondition"],MD5:["groupCondition","*groupCondition"],SHA1:["groupCondition","*groupCondition"],SHA256:["groupCondition","*groupCondition"],SHA384:["groupCondition","*groupCondition"],SHA512:["groupCondition","*groupCondition"],COALESCE:["groupCondition","*groupCondition"],IF:["groupCondition","*groupCondition"],STRLANG:["groupCondition","*groupCondition"],STRDT:["groupCondition","*groupCondition"],SAMETERM:["groupCondition","*groupCondition"],ISIRI:["groupCondition","*groupCondition"],ISURI:["groupCondition","*groupCondition"],ISBLANK:["groupCondition","*groupCondition"],ISLITERAL:["groupCondition","*groupCondition"],ISNUMERIC:["groupCondition","*groupCondition"],VAR1:["groupCondition","*groupCondition"],VAR2:["groupCondition","*groupCondition"],SUBSTR:["groupCondition","*groupCondition"],REPLACE:["groupCondition","*groupCondition"],REGEX:["groupCondition","*groupCondition"],EXISTS:["groupCondition","*groupCondition"],NOT:["groupCondition","*groupCondition"],IRI_REF:["groupCondition","*groupCondition"],PNAME_LN:["groupCondition","*groupCondition"],PNAME_NS:["groupCondition","*groupCondition"]},"+havingCondition":{"(":["havingCondition","*havingCondition"],STR:["havingCondition","*havingCondition"],LANG:["havingCondition","*havingCondition"],LANGMATCHES:["havingCondition","*havingCondition"],DATATYPE:["havingCondition","*havingCondition"],BOUND:["havingCondition","*havingCondition"],IRI:["havingCondition","*havingCondition"],URI:["havingCondition","*havingCondition"],BNODE:["havingCondition","*havingCondition"],RAND:["havingCondition","*havingCondition"],ABS:["havingCondition","*havingCondition"],CEIL:["havingCondition","*havingCondition"],FLOOR:["havingCondition","*havingCondition"],ROUND:["havingCondition","*havingCondition"],CONCAT:["havingCondition","*havingCondition"],STRLEN:["havingCondition","*havingCondition"],UCASE:["havingCondition","*havingCondition"],LCASE:["havingCondition","*havingCondition"],ENCODE_FOR_URI:["havingCondition","*havingCondition"],CONTAINS:["havingCondition","*havingCondition"],STRSTARTS:["havingCondition","*havingCondition"],STRENDS:["havingCondition","*havingCondition"],STRBEFORE:["havingCondition","*havingCondition"],STRAFTER:["havingCondition","*havingCondition"],YEAR:["havingCondition","*havingCondition"],MONTH:["havingCondition","*havingCondition"],DAY:["havingCondition","*havingCondition"],HOURS:["havingCondition","*havingCondition"],MINUTES:["havingCondition","*havingCondition"],SECONDS:["havingCondition","*havingCondition"],TIMEZONE:["havingCondition","*havingCondition"],TZ:["havingCondition","*havingCondition"],NOW:["havingCondition","*havingCondition"],UUID:["havingCondition","*havingCondition"],STRUUID:["havingCondition","*havingCondition"],MD5:["havingCondition","*havingCondition"],SHA1:["havingCondition","*havingCondition"],SHA256:["havingCondition","*havingCondition"],SHA384:["havingCondition","*havingCondition"],SHA512:["havingCondition","*havingCondition"],COALESCE:["havingCondition","*havingCondition"],IF:["havingCondition","*havingCondition"],STRLANG:["havingCondition","*havingCondition"],STRDT:["havingCondition","*havingCondition"],SAMETERM:["havingCondition","*havingCondition"],ISIRI:["havingCondition","*havingCondition"],ISURI:["havingCondition","*havingCondition"],ISBLANK:["havingCondition","*havingCondition"],ISLITERAL:["havingCondition","*havingCondition"],ISNUMERIC:["havingCondition","*havingCondition"],SUBSTR:["havingCondition","*havingCondition"],REPLACE:["havingCondition","*havingCondition"],REGEX:["havingCondition","*havingCondition"],EXISTS:["havingCondition","*havingCondition"],NOT:["havingCondition","*havingCondition"],IRI_REF:["havingCondition","*havingCondition"],PNAME_LN:["havingCondition","*havingCondition"],PNAME_NS:["havingCondition","*havingCondition"]},"+or([var,[ (,expression,AS,var,)]])":{"(":["or([var,[ (,expression,AS,var,)]])","*or([var,[ (,expression,AS,var,)]])"],VAR1:["or([var,[ (,expression,AS,var,)]])","*or([var,[ (,expression,AS,var,)]])"],VAR2:["or([var,[ (,expression,AS,var,)]])","*or([var,[ (,expression,AS,var,)]])"]},"+orderCondition":{ASC:["orderCondition","*orderCondition"],DESC:["orderCondition","*orderCondition"],VAR1:["orderCondition","*orderCondition"],VAR2:["orderCondition","*orderCondition"],"(":["orderCondition","*orderCondition"],STR:["orderCondition","*orderCondition"],LANG:["orderCondition","*orderCondition"],LANGMATCHES:["orderCondition","*orderCondition"],DATATYPE:["orderCondition","*orderCondition"],BOUND:["orderCondition","*orderCondition"],IRI:["orderCondition","*orderCondition"],URI:["orderCondition","*orderCondition"],BNODE:["orderCondition","*orderCondition"],RAND:["orderCondition","*orderCondition"],ABS:["orderCondition","*orderCondition"],CEIL:["orderCondition","*orderCondition"],FLOOR:["orderCondition","*orderCondition"],ROUND:["orderCondition","*orderCondition"],CONCAT:["orderCondition","*orderCondition"],STRLEN:["orderCondition","*orderCondition"],UCASE:["orderCondition","*orderCondition"],LCASE:["orderCondition","*orderCondition"],ENCODE_FOR_URI:["orderCondition","*orderCondition"],CONTAINS:["orderCondition","*orderCondition"],STRSTARTS:["orderCondition","*orderCondition"],STRENDS:["orderCondition","*orderCondition"],STRBEFORE:["orderCondition","*orderCondition"],STRAFTER:["orderCondition","*orderCondition"],YEAR:["orderCondition","*orderCondition"],MONTH:["orderCondition","*orderCondition"],DAY:["orderCondition","*orderCondition"],HOURS:["orderCondition","*orderCondition"],MINUTES:["orderCondition","*orderCondition"],SECONDS:["orderCondition","*orderCondition"],TIMEZONE:["orderCondition","*orderCondition"],TZ:["orderCondition","*orderCondition"],NOW:["orderCondition","*orderCondition"],UUID:["orderCondition","*orderCondition"],STRUUID:["orderCondition","*orderCondition"],MD5:["orderCondition","*orderCondition"],SHA1:["orderCondition","*orderCondition"],SHA256:["orderCondition","*orderCondition"],SHA384:["orderCondition","*orderCondition"],SHA512:["orderCondition","*orderCondition"],COALESCE:["orderCondition","*orderCondition"],IF:["orderCondition","*orderCondition"],STRLANG:["orderCondition","*orderCondition"],STRDT:["orderCondition","*orderCondition"],SAMETERM:["orderCondition","*orderCondition"],ISIRI:["orderCondition","*orderCondition"],ISURI:["orderCondition","*orderCondition"],ISBLANK:["orderCondition","*orderCondition"],ISLITERAL:["orderCondition","*orderCondition"],ISNUMERIC:["orderCondition","*orderCondition"],SUBSTR:["orderCondition","*orderCondition"],REPLACE:["orderCondition","*orderCondition"],REGEX:["orderCondition","*orderCondition"],EXISTS:["orderCondition","*orderCondition"],NOT:["orderCondition","*orderCondition"],IRI_REF:["orderCondition","*orderCondition"],PNAME_LN:["orderCondition","*orderCondition"],PNAME_NS:["orderCondition","*orderCondition"]},"+varOrIRIref":{VAR1:["varOrIRIref","*varOrIRIref"],VAR2:["varOrIRIref","*varOrIRIref"],IRI_REF:["varOrIRIref","*varOrIRIref"],PNAME_LN:["varOrIRIref","*varOrIRIref"],PNAME_NS:["varOrIRIref","*varOrIRIref"]},"?.":{".":["."],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?DISTINCT":{DISTINCT:["DISTINCT"],"!":[],"+":[],"-":[],VAR1:[],VAR2:[],"(":[],STR:[],LANG:[],LANGMATCHES:[],DATATYPE:[],BOUND:[],IRI:[],URI:[],BNODE:[],RAND:[],ABS:[],CEIL:[],FLOOR:[],ROUND:[],CONCAT:[],STRLEN:[],UCASE:[],LCASE:[],ENCODE_FOR_URI:[],CONTAINS:[],STRSTARTS:[],STRENDS:[],STRBEFORE:[],STRAFTER:[],YEAR:[],MONTH:[],DAY:[],HOURS:[],MINUTES:[],SECONDS:[],TIMEZONE:[],TZ:[],NOW:[],UUID:[],STRUUID:[],MD5:[],SHA1:[],SHA256:[],SHA384:[],SHA512:[],COALESCE:[],IF:[],STRLANG:[],STRDT:[],SAMETERM:[],ISIRI:[],ISURI:[],ISBLANK:[],ISLITERAL:[],ISNUMERIC:[],TRUE:[],FALSE:[],COUNT:[],SUM:[],MIN:[],MAX:[],AVG:[],SAMPLE:[],GROUP_CONCAT:[],SUBSTR:[],REPLACE:[],REGEX:[],EXISTS:[],NOT:[],IRI_REF:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],PNAME_LN:[],PNAME_NS:[],"*":[]},"?GRAPH":{GRAPH:["GRAPH"],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?SILENT":{SILENT:["SILENT"],VAR1:[],VAR2:[],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?SILENT_1":{SILENT:["SILENT"],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?SILENT_2":{SILENT:["SILENT"],GRAPH:[],DEFAULT:[],NAMED:[],ALL:[]},"?SILENT_3":{SILENT:["SILENT"],GRAPH:[]},"?SILENT_4":{SILENT:["SILENT"],DEFAULT:[],GRAPH:[],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?WHERE":{WHERE:["WHERE"],"{":[]},"?[,,expression]":{",":["[,,expression]"],")":[]},"?[.,?constructTriples]":{".":["[.,?constructTriples]"],"}":[]},"?[.,?triplesBlock]":{".":["[.,?triplesBlock]"],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?[.,?triplesTemplate]":{".":["[.,?triplesTemplate]"],"}":[],GRAPH:[]},"?[;,SEPARATOR,=,string]":{";":["[;,SEPARATOR,=,string]"],")":[]},"?[;,update]":{";":["[;,update]"],$:[]},"?[AS,var]":{AS:["[AS,var]"],")":[]},"?[INTO,graphRef]":{INTO:["[INTO,graphRef]"],";":[],$:[]},"?[or([verbPath,verbSimple]),objectList]":{VAR1:["[or([verbPath,verbSimple]),objectList]"],VAR2:["[or([verbPath,verbSimple]),objectList]"],"^":["[or([verbPath,verbSimple]),objectList]"],a:["[or([verbPath,verbSimple]),objectList]"],"!":["[or([verbPath,verbSimple]),objectList]"],"(":["[or([verbPath,verbSimple]),objectList]"],IRI_REF:["[or([verbPath,verbSimple]),objectList]"],PNAME_LN:["[or([verbPath,verbSimple]),objectList]"],PNAME_NS:["[or([verbPath,verbSimple]),objectList]"],";":[],".":[],"]":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?[pathOneInPropertySet,*[|,pathOneInPropertySet]]":{a:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],"^":["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],IRI_REF:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],PNAME_LN:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],PNAME_NS:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],")":[]},"?[update1,?[;,update]]":{INSERT:["[update1,?[;,update]]"],DELETE:["[update1,?[;,update]]"],LOAD:["[update1,?[;,update]]"],CLEAR:["[update1,?[;,update]]"],DROP:["[update1,?[;,update]]"],ADD:["[update1,?[;,update]]"],MOVE:["[update1,?[;,update]]"],COPY:["[update1,?[;,update]]"],CREATE:["[update1,?[;,update]]"],WITH:["[update1,?[;,update]]"],$:[]},"?[verb,objectList]":{a:["[verb,objectList]"],VAR1:["[verb,objectList]"],VAR2:["[verb,objectList]"],IRI_REF:["[verb,objectList]"],PNAME_LN:["[verb,objectList]"],PNAME_NS:["[verb,objectList]"],";":[],".":[],"]":[],"}":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"?argList":{NIL:["argList"],"(":["argList"],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],"+":[],"-":[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],"*":[],"/":[],";":[]},"?constructTriples":{VAR1:["constructTriples"],VAR2:["constructTriples"],NIL:["constructTriples"],"(":["constructTriples"],"[":["constructTriples"],IRI_REF:["constructTriples"],TRUE:["constructTriples"],FALSE:["constructTriples"],BLANK_NODE_LABEL:["constructTriples"],ANON:["constructTriples"],PNAME_LN:["constructTriples"],PNAME_NS:["constructTriples"],STRING_LITERAL1:["constructTriples"],STRING_LITERAL2:["constructTriples"],STRING_LITERAL_LONG1:["constructTriples"],STRING_LITERAL_LONG2:["constructTriples"],INTEGER:["constructTriples"],DECIMAL:["constructTriples"],DOUBLE:["constructTriples"],INTEGER_POSITIVE:["constructTriples"],DECIMAL_POSITIVE:["constructTriples"],DOUBLE_POSITIVE:["constructTriples"],INTEGER_NEGATIVE:["constructTriples"],DECIMAL_NEGATIVE:["constructTriples"],DOUBLE_NEGATIVE:["constructTriples"],"}":[]},"?groupClause":{GROUP:["groupClause"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],HAVING:[],$:[],"}":[]},"?havingClause":{HAVING:["havingClause"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],$:[],"}":[]},"?insertClause":{INSERT:["insertClause"],WHERE:[],USING:[]},"?limitClause":{LIMIT:["limitClause"],VALUES:[],$:[],"}":[]},"?limitOffsetClauses":{LIMIT:["limitOffsetClauses"],OFFSET:["limitOffsetClauses"],VALUES:[],$:[],"}":[]},"?offsetClause":{OFFSET:["offsetClause"],VALUES:[],$:[],"}":[]},"?or([DISTINCT,REDUCED])":{DISTINCT:["or([DISTINCT,REDUCED])"],REDUCED:["or([DISTINCT,REDUCED])"],"*":[],"(":[],VAR1:[],VAR2:[]},"?or([LANGTAG,[^^,iriRef]])":{LANGTAG:["or([LANGTAG,[^^,iriRef]])"],"^^":["or([LANGTAG,[^^,iriRef]])"],UNDEF:[],IRI_REF:[],TRUE:[],FALSE:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],a:[],VAR1:[],VAR2:[],"^":[],"!":[],"(":[],".":[],";":[],",":[],AS:[],")":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],"+":[],"-":[],"*":[],"/":[],"}":[],"[":[],NIL:[],BLANK_NODE_LABEL:[],ANON:[],"]":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"?or([[*,unaryExpression],[/,unaryExpression]])":{"*":["or([[*,unaryExpression],[/,unaryExpression]])"],"/":["or([[*,unaryExpression],[/,unaryExpression]])"],"+":[],"-":[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],";":[]},"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])":{"=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"!=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"<":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],">":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"<=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],">=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IN:["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],NOT:["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],AS:[],")":[],",":[],"||":[],"&&":[],";":[]},"?orderClause":{ORDER:["orderClause"],VALUES:[],LIMIT:[],OFFSET:[],$:[],"}":[]},"?pathMod":{"*":["pathMod"],"?":["pathMod"],"+":["pathMod"],"{":["pathMod"],"|":[],"/":[],")":[],"(":[],"[":[],VAR1:[],VAR2:[],NIL:[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},"?triplesBlock":{VAR1:["triplesBlock"],VAR2:["triplesBlock"],NIL:["triplesBlock"],"(":["triplesBlock"],"[":["triplesBlock"],IRI_REF:["triplesBlock"],TRUE:["triplesBlock"],FALSE:["triplesBlock"],BLANK_NODE_LABEL:["triplesBlock"],ANON:["triplesBlock"],PNAME_LN:["triplesBlock"],PNAME_NS:["triplesBlock"],STRING_LITERAL1:["triplesBlock"],STRING_LITERAL2:["triplesBlock"],STRING_LITERAL_LONG1:["triplesBlock"],STRING_LITERAL_LONG2:["triplesBlock"],INTEGER:["triplesBlock"],DECIMAL:["triplesBlock"],DOUBLE:["triplesBlock"],INTEGER_POSITIVE:["triplesBlock"],DECIMAL_POSITIVE:["triplesBlock"],DOUBLE_POSITIVE:["triplesBlock"],INTEGER_NEGATIVE:["triplesBlock"],DECIMAL_NEGATIVE:["triplesBlock"],DOUBLE_NEGATIVE:["triplesBlock"],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?triplesTemplate":{VAR1:["triplesTemplate"],VAR2:["triplesTemplate"],NIL:["triplesTemplate"],"(":["triplesTemplate"],"[":["triplesTemplate"],IRI_REF:["triplesTemplate"],TRUE:["triplesTemplate"],FALSE:["triplesTemplate"],BLANK_NODE_LABEL:["triplesTemplate"],ANON:["triplesTemplate"],PNAME_LN:["triplesTemplate"],PNAME_NS:["triplesTemplate"],STRING_LITERAL1:["triplesTemplate"],STRING_LITERAL2:["triplesTemplate"],STRING_LITERAL_LONG1:["triplesTemplate"],STRING_LITERAL_LONG2:["triplesTemplate"],INTEGER:["triplesTemplate"],DECIMAL:["triplesTemplate"],DOUBLE:["triplesTemplate"],INTEGER_POSITIVE:["triplesTemplate"],DECIMAL_POSITIVE:["triplesTemplate"],DOUBLE_POSITIVE:["triplesTemplate"],INTEGER_NEGATIVE:["triplesTemplate"],DECIMAL_NEGATIVE:["triplesTemplate"],DOUBLE_NEGATIVE:["triplesTemplate"],"}":[],GRAPH:[]},"?whereClause":{WHERE:["whereClause"],"{":["whereClause"],ORDER:[],HAVING:[],GROUP:[],LIMIT:[],OFFSET:[],VALUES:[],$:[]},"[ (,*dataBlockValue,)]":{"(":["(","*dataBlockValue",")"]},"[ (,*var,)]":{"(":["(","*var",")"]},"[ (,expression,)]":{"(":["(","expression",")"]},"[ (,expression,AS,var,)]":{"(":["(","expression","AS","var",")"]},"[!=,numericExpression]":{"!=":["!=","numericExpression"]},"[&&,valueLogical]":{"&&":["&&","valueLogical"]},"[*,unaryExpression]":{"*":["*","unaryExpression"]},"[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]":{WHERE:["*datasetClause","WHERE","{","?triplesTemplate","}","solutionModifier"],FROM:["*datasetClause","WHERE","{","?triplesTemplate","}","solutionModifier"]},"[+,multiplicativeExpression]":{"+":["+","multiplicativeExpression"]},"[,,expression]":{",":[",","expression"]},"[,,integer,}]":{",":[",","integer","}"]},"[,,objectPath]":{",":[",","objectPath"]},"[,,object]":{",":[",","object"]},"[,,or([},[integer,}]])]":{",":[",","or([},[integer,}]])"]},"[-,multiplicativeExpression]":{"-":["-","multiplicativeExpression"]},"[.,?constructTriples]":{".":[".","?constructTriples"]},"[.,?triplesBlock]":{".":[".","?triplesBlock"]},"[.,?triplesTemplate]":{".":[".","?triplesTemplate"]},"[/,pathEltOrInverse]":{"/":["/","pathEltOrInverse"]},"[/,unaryExpression]":{"/":["/","unaryExpression"]},"[;,?[or([verbPath,verbSimple]),objectList]]":{";":[";","?[or([verbPath,verbSimple]),objectList]"]},"[;,?[verb,objectList]]":{";":[";","?[verb,objectList]"]},"[;,SEPARATOR,=,string]":{";":[";","SEPARATOR","=","string"]},"[;,update]":{";":[";","update"]},"[<,numericExpression]":{"<":["<","numericExpression"]},"[<=,numericExpression]":{"<=":["<=","numericExpression"]},"[=,numericExpression]":{"=":["=","numericExpression"]},"[>,numericExpression]":{">":[">","numericExpression"]},"[>=,numericExpression]":{">=":[">=","numericExpression"]},"[AS,var]":{AS:["AS","var"]},"[IN,expressionList]":{IN:["IN","expressionList"]},"[INTO,graphRef]":{INTO:["INTO","graphRef"]},"[NAMED,iriRef]":{NAMED:["NAMED","iriRef"]},"[NOT,IN,expressionList]":{NOT:["NOT","IN","expressionList"]},"[UNION,groupGraphPattern]":{UNION:["UNION","groupGraphPattern"]},"[^^,iriRef]":{"^^":["^^","iriRef"]},"[constructTemplate,*datasetClause,whereClause,solutionModifier]":{"{":["constructTemplate","*datasetClause","whereClause","solutionModifier"]},"[deleteClause,?insertClause]":{DELETE:["deleteClause","?insertClause"]},"[graphPatternNotTriples,?.,?triplesBlock]":{"{":["graphPatternNotTriples","?.","?triplesBlock"],OPTIONAL:["graphPatternNotTriples","?.","?triplesBlock"],MINUS:["graphPatternNotTriples","?.","?triplesBlock"],GRAPH:["graphPatternNotTriples","?.","?triplesBlock"],SERVICE:["graphPatternNotTriples","?.","?triplesBlock"],FILTER:["graphPatternNotTriples","?.","?triplesBlock"],BIND:["graphPatternNotTriples","?.","?triplesBlock"],VALUES:["graphPatternNotTriples","?.","?triplesBlock"]},"[integer,or([[,,or([},[integer,}]])],}])]":{INTEGER:["integer","or([[,,or([},[integer,}]])],}])"]},"[integer,}]":{INTEGER:["integer","}"]},"[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]":{INTEGER_POSITIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_POSITIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_POSITIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER_NEGATIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_NEGATIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_NEGATIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"]},"[or([verbPath,verbSimple]),objectList]":{VAR1:["or([verbPath,verbSimple])","objectList"],VAR2:["or([verbPath,verbSimple])","objectList"],"^":["or([verbPath,verbSimple])","objectList"],a:["or([verbPath,verbSimple])","objectList"],"!":["or([verbPath,verbSimple])","objectList"],"(":["or([verbPath,verbSimple])","objectList"],IRI_REF:["or([verbPath,verbSimple])","objectList"],PNAME_LN:["or([verbPath,verbSimple])","objectList"],PNAME_NS:["or([verbPath,verbSimple])","objectList"]},"[pathOneInPropertySet,*[|,pathOneInPropertySet]]":{a:["pathOneInPropertySet","*[|,pathOneInPropertySet]"],"^":["pathOneInPropertySet","*[|,pathOneInPropertySet]"],IRI_REF:["pathOneInPropertySet","*[|,pathOneInPropertySet]"],PNAME_LN:["pathOneInPropertySet","*[|,pathOneInPropertySet]"],PNAME_NS:["pathOneInPropertySet","*[|,pathOneInPropertySet]"]},"[quadsNotTriples,?.,?triplesTemplate]":{GRAPH:["quadsNotTriples","?.","?triplesTemplate"]},"[update1,?[;,update]]":{INSERT:["update1","?[;,update]"],DELETE:["update1","?[;,update]"],LOAD:["update1","?[;,update]"],CLEAR:["update1","?[;,update]"],DROP:["update1","?[;,update]"],ADD:["update1","?[;,update]"],MOVE:["update1","?[;,update]"],COPY:["update1","?[;,update]"],CREATE:["update1","?[;,update]"],WITH:["update1","?[;,update]"]},"[verb,objectList]":{a:["verb","objectList"],VAR1:["verb","objectList"],VAR2:["verb","objectList"],IRI_REF:["verb","objectList"],PNAME_LN:["verb","objectList"],PNAME_NS:["verb","objectList"]},"[|,pathOneInPropertySet]":{"|":["|","pathOneInPropertySet"]},"[|,pathSequence]":{"|":["|","pathSequence"]},"[||,conditionalAndExpression]":{"||":["||","conditionalAndExpression"]},add:{ADD:["ADD","?SILENT_4","graphOrDefault","TO","graphOrDefault"]},additiveExpression:{"!":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"+":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"-":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],VAR1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],VAR2:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"(":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],LANG:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],LANGMATCHES:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DATATYPE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],BOUND:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],IRI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],URI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],BNODE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],RAND:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ABS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],CEIL:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],FLOOR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ROUND:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],CONCAT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRLEN:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],UCASE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],LCASE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ENCODE_FOR_URI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],CONTAINS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRSTARTS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRENDS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRBEFORE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRAFTER:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],YEAR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MONTH:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DAY:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],HOURS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MINUTES:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SECONDS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],TIMEZONE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],TZ:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],NOW:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],UUID:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRUUID:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MD5:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA256:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA384:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA512:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],COALESCE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],IF:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRLANG:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRDT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SAMETERM:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISIRI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISURI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISBLANK:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISLITERAL:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISNUMERIC:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],TRUE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],FALSE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],COUNT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SUM:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MIN:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MAX:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],AVG:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SAMPLE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],GROUP_CONCAT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SUBSTR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],REPLACE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],REGEX:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],EXISTS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],NOT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],IRI_REF:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL2:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL_LONG1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL_LONG2:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_POSITIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_POSITIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE_POSITIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_NEGATIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_NEGATIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE_NEGATIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],PNAME_LN:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],PNAME_NS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"]},aggregate:{COUNT:["COUNT","(","?DISTINCT","or([*,expression])",")"],SUM:["SUM","(","?DISTINCT","expression",")"],MIN:["MIN","(","?DISTINCT","expression",")"],MAX:["MAX","(","?DISTINCT","expression",")"],AVG:["AVG","(","?DISTINCT","expression",")"],SAMPLE:["SAMPLE","(","?DISTINCT","expression",")"],GROUP_CONCAT:["GROUP_CONCAT","(","?DISTINCT","expression","?[;,SEPARATOR,=,string]",")"]},allowBnodes:{"}":[]},allowVars:{"}":[]},argList:{NIL:["NIL"],"(":["(","?DISTINCT","expression","*[,,expression]",")"]},askQuery:{ASK:["ASK","*datasetClause","whereClause","solutionModifier"]},baseDecl:{BASE:["BASE","IRI_REF"]},bind:{BIND:["BIND","(","expression","AS","var",")"]},blankNode:{BLANK_NODE_LABEL:["BLANK_NODE_LABEL"],ANON:["ANON"]},blankNodePropertyList:{"[":["[","propertyListNotEmpty","]"]},blankNodePropertyListPath:{"[":["[","propertyListPathNotEmpty","]"]},booleanLiteral:{TRUE:["TRUE"],FALSE:["FALSE"]},brackettedExpression:{"(":["(","expression",")"]},builtInCall:{STR:["STR","(","expression",")"],LANG:["LANG","(","expression",")"],LANGMATCHES:["LANGMATCHES","(","expression",",","expression",")"],DATATYPE:["DATATYPE","(","expression",")"],BOUND:["BOUND","(","var",")"],IRI:["IRI","(","expression",")"],URI:["URI","(","expression",")"],BNODE:["BNODE","or([[ (,expression,)],NIL])"],RAND:["RAND","NIL"],ABS:["ABS","(","expression",")"],CEIL:["CEIL","(","expression",")"],FLOOR:["FLOOR","(","expression",")"],ROUND:["ROUND","(","expression",")"],CONCAT:["CONCAT","expressionList"],SUBSTR:["substringExpression"],STRLEN:["STRLEN","(","expression",")"],REPLACE:["strReplaceExpression"],UCASE:["UCASE","(","expression",")"],LCASE:["LCASE","(","expression",")"],ENCODE_FOR_URI:["ENCODE_FOR_URI","(","expression",")"],CONTAINS:["CONTAINS","(","expression",",","expression",")"],STRSTARTS:["STRSTARTS","(","expression",",","expression",")"],STRENDS:["STRENDS","(","expression",",","expression",")"],STRBEFORE:["STRBEFORE","(","expression",",","expression",")"],STRAFTER:["STRAFTER","(","expression",",","expression",")"],YEAR:["YEAR","(","expression",")"],MONTH:["MONTH","(","expression",")"],DAY:["DAY","(","expression",")"],HOURS:["HOURS","(","expression",")"],MINUTES:["MINUTES","(","expression",")"],SECONDS:["SECONDS","(","expression",")"],TIMEZONE:["TIMEZONE","(","expression",")"],TZ:["TZ","(","expression",")"],NOW:["NOW","NIL"],UUID:["UUID","NIL"],STRUUID:["STRUUID","NIL"],MD5:["MD5","(","expression",")"],SHA1:["SHA1","(","expression",")"],SHA256:["SHA256","(","expression",")"],SHA384:["SHA384","(","expression",")"],SHA512:["SHA512","(","expression",")"],COALESCE:["COALESCE","expressionList"],IF:["IF","(","expression",",","expression",",","expression",")"],STRLANG:["STRLANG","(","expression",",","expression",")"],STRDT:["STRDT","(","expression",",","expression",")"],SAMETERM:["SAMETERM","(","expression",",","expression",")"],ISIRI:["ISIRI","(","expression",")"],ISURI:["ISURI","(","expression",")"],ISBLANK:["ISBLANK","(","expression",")"],ISLITERAL:["ISLITERAL","(","expression",")"],ISNUMERIC:["ISNUMERIC","(","expression",")"],REGEX:["regexExpression"],EXISTS:["existsFunc"],NOT:["notExistsFunc"]},clear:{CLEAR:["CLEAR","?SILENT_2","graphRefAll"]},collection:{"(":["(","+graphNode",")"]},collectionPath:{"(":["(","+graphNodePath",")"]},conditionalAndExpression:{"!":["valueLogical","*[&&,valueLogical]"],"+":["valueLogical","*[&&,valueLogical]"],"-":["valueLogical","*[&&,valueLogical]"],VAR1:["valueLogical","*[&&,valueLogical]"],VAR2:["valueLogical","*[&&,valueLogical]"],"(":["valueLogical","*[&&,valueLogical]"],STR:["valueLogical","*[&&,valueLogical]"],LANG:["valueLogical","*[&&,valueLogical]"],LANGMATCHES:["valueLogical","*[&&,valueLogical]"],DATATYPE:["valueLogical","*[&&,valueLogical]"],BOUND:["valueLogical","*[&&,valueLogical]"],IRI:["valueLogical","*[&&,valueLogical]"],URI:["valueLogical","*[&&,valueLogical]"],BNODE:["valueLogical","*[&&,valueLogical]"],RAND:["valueLogical","*[&&,valueLogical]"],ABS:["valueLogical","*[&&,valueLogical]"],CEIL:["valueLogical","*[&&,valueLogical]"],FLOOR:["valueLogical","*[&&,valueLogical]"],ROUND:["valueLogical","*[&&,valueLogical]"],CONCAT:["valueLogical","*[&&,valueLogical]"],STRLEN:["valueLogical","*[&&,valueLogical]"],UCASE:["valueLogical","*[&&,valueLogical]"],LCASE:["valueLogical","*[&&,valueLogical]"],ENCODE_FOR_URI:["valueLogical","*[&&,valueLogical]"],CONTAINS:["valueLogical","*[&&,valueLogical]"],STRSTARTS:["valueLogical","*[&&,valueLogical]"],STRENDS:["valueLogical","*[&&,valueLogical]"],STRBEFORE:["valueLogical","*[&&,valueLogical]"],STRAFTER:["valueLogical","*[&&,valueLogical]"],YEAR:["valueLogical","*[&&,valueLogical]"],MONTH:["valueLogical","*[&&,valueLogical]"],DAY:["valueLogical","*[&&,valueLogical]"],HOURS:["valueLogical","*[&&,valueLogical]"],MINUTES:["valueLogical","*[&&,valueLogical]"],SECONDS:["valueLogical","*[&&,valueLogical]"],TIMEZONE:["valueLogical","*[&&,valueLogical]"],TZ:["valueLogical","*[&&,valueLogical]"],NOW:["valueLogical","*[&&,valueLogical]"],UUID:["valueLogical","*[&&,valueLogical]"],STRUUID:["valueLogical","*[&&,valueLogical]"],MD5:["valueLogical","*[&&,valueLogical]"],SHA1:["valueLogical","*[&&,valueLogical]"],SHA256:["valueLogical","*[&&,valueLogical]"],SHA384:["valueLogical","*[&&,valueLogical]"],SHA512:["valueLogical","*[&&,valueLogical]"],COALESCE:["valueLogical","*[&&,valueLogical]"],IF:["valueLogical","*[&&,valueLogical]"],STRLANG:["valueLogical","*[&&,valueLogical]"],STRDT:["valueLogical","*[&&,valueLogical]"],SAMETERM:["valueLogical","*[&&,valueLogical]"],ISIRI:["valueLogical","*[&&,valueLogical]"],ISURI:["valueLogical","*[&&,valueLogical]"],ISBLANK:["valueLogical","*[&&,valueLogical]"],ISLITERAL:["valueLogical","*[&&,valueLogical]"],ISNUMERIC:["valueLogical","*[&&,valueLogical]"],TRUE:["valueLogical","*[&&,valueLogical]"],FALSE:["valueLogical","*[&&,valueLogical]"],COUNT:["valueLogical","*[&&,valueLogical]"],SUM:["valueLogical","*[&&,valueLogical]"],MIN:["valueLogical","*[&&,valueLogical]"],MAX:["valueLogical","*[&&,valueLogical]"],AVG:["valueLogical","*[&&,valueLogical]"],SAMPLE:["valueLogical","*[&&,valueLogical]"],GROUP_CONCAT:["valueLogical","*[&&,valueLogical]"],SUBSTR:["valueLogical","*[&&,valueLogical]"],REPLACE:["valueLogical","*[&&,valueLogical]"],REGEX:["valueLogical","*[&&,valueLogical]"],EXISTS:["valueLogical","*[&&,valueLogical]"],NOT:["valueLogical","*[&&,valueLogical]"],IRI_REF:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL1:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL2:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL_LONG1:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL_LONG2:["valueLogical","*[&&,valueLogical]"],INTEGER:["valueLogical","*[&&,valueLogical]"],DECIMAL:["valueLogical","*[&&,valueLogical]"],DOUBLE:["valueLogical","*[&&,valueLogical]"],INTEGER_POSITIVE:["valueLogical","*[&&,valueLogical]"],DECIMAL_POSITIVE:["valueLogical","*[&&,valueLogical]"],DOUBLE_POSITIVE:["valueLogical","*[&&,valueLogical]"],INTEGER_NEGATIVE:["valueLogical","*[&&,valueLogical]"],DECIMAL_NEGATIVE:["valueLogical","*[&&,valueLogical]"],DOUBLE_NEGATIVE:["valueLogical","*[&&,valueLogical]"],PNAME_LN:["valueLogical","*[&&,valueLogical]"],PNAME_NS:["valueLogical","*[&&,valueLogical]"]},conditionalOrExpression:{"!":["conditionalAndExpression","*[||,conditionalAndExpression]"],"+":["conditionalAndExpression","*[||,conditionalAndExpression]"],"-":["conditionalAndExpression","*[||,conditionalAndExpression]"],VAR1:["conditionalAndExpression","*[||,conditionalAndExpression]"],VAR2:["conditionalAndExpression","*[||,conditionalAndExpression]"],"(":["conditionalAndExpression","*[||,conditionalAndExpression]"],STR:["conditionalAndExpression","*[||,conditionalAndExpression]"],LANG:["conditionalAndExpression","*[||,conditionalAndExpression]"],LANGMATCHES:["conditionalAndExpression","*[||,conditionalAndExpression]"],DATATYPE:["conditionalAndExpression","*[||,conditionalAndExpression]"],BOUND:["conditionalAndExpression","*[||,conditionalAndExpression]"],IRI:["conditionalAndExpression","*[||,conditionalAndExpression]"],URI:["conditionalAndExpression","*[||,conditionalAndExpression]"],BNODE:["conditionalAndExpression","*[||,conditionalAndExpression]"],RAND:["conditionalAndExpression","*[||,conditionalAndExpression]"],ABS:["conditionalAndExpression","*[||,conditionalAndExpression]"],CEIL:["conditionalAndExpression","*[||,conditionalAndExpression]"],FLOOR:["conditionalAndExpression","*[||,conditionalAndExpression]"],ROUND:["conditionalAndExpression","*[||,conditionalAndExpression]"],CONCAT:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRLEN:["conditionalAndExpression","*[||,conditionalAndExpression]"],UCASE:["conditionalAndExpression","*[||,conditionalAndExpression]"],LCASE:["conditionalAndExpression","*[||,conditionalAndExpression]"],ENCODE_FOR_URI:["conditionalAndExpression","*[||,conditionalAndExpression]"],CONTAINS:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRSTARTS:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRENDS:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRBEFORE:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRAFTER:["conditionalAndExpression","*[||,conditionalAndExpression]"],YEAR:["conditionalAndExpression","*[||,conditionalAndExpression]"],MONTH:["conditionalAndExpression","*[||,conditionalAndExpression]"],DAY:["conditionalAndExpression","*[||,conditionalAndExpression]"],HOURS:["conditionalAndExpression","*[||,conditionalAndExpression]"],MINUTES:["conditionalAndExpression","*[||,conditionalAndExpression]"],SECONDS:["conditionalAndExpression","*[||,conditionalAndExpression]"],TIMEZONE:["conditionalAndExpression","*[||,conditionalAndExpression]"],TZ:["conditionalAndExpression","*[||,conditionalAndExpression]"],NOW:["conditionalAndExpression","*[||,conditionalAndExpression]"],UUID:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRUUID:["conditionalAndExpression","*[||,conditionalAndExpression]"],MD5:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA1:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA256:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA384:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA512:["conditionalAndExpression","*[||,conditionalAndExpression]"],COALESCE:["conditionalAndExpression","*[||,conditionalAndExpression]"],IF:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRLANG:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRDT:["conditionalAndExpression","*[||,conditionalAndExpression]"],SAMETERM:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISIRI:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISURI:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISBLANK:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISLITERAL:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISNUMERIC:["conditionalAndExpression","*[||,conditionalAndExpression]"],TRUE:["conditionalAndExpression","*[||,conditionalAndExpression]"],FALSE:["conditionalAndExpression","*[||,conditionalAndExpression]"],COUNT:["conditionalAndExpression","*[||,conditionalAndExpression]"],SUM:["conditionalAndExpression","*[||,conditionalAndExpression]"],MIN:["conditionalAndExpression","*[||,conditionalAndExpression]"],MAX:["conditionalAndExpression","*[||,conditionalAndExpression]"],AVG:["conditionalAndExpression","*[||,conditionalAndExpression]"],SAMPLE:["conditionalAndExpression","*[||,conditionalAndExpression]"],GROUP_CONCAT:["conditionalAndExpression","*[||,conditionalAndExpression]"],SUBSTR:["conditionalAndExpression","*[||,conditionalAndExpression]"],REPLACE:["conditionalAndExpression","*[||,conditionalAndExpression]"],REGEX:["conditionalAndExpression","*[||,conditionalAndExpression]"],EXISTS:["conditionalAndExpression","*[||,conditionalAndExpression]"],NOT:["conditionalAndExpression","*[||,conditionalAndExpression]"],IRI_REF:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL1:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL2:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL_LONG1:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL_LONG2:["conditionalAndExpression","*[||,conditionalAndExpression]"],INTEGER:["conditionalAndExpression","*[||,conditionalAndExpression]"],DECIMAL:["conditionalAndExpression","*[||,conditionalAndExpression]"],DOUBLE:["conditionalAndExpression","*[||,conditionalAndExpression]"],INTEGER_POSITIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DECIMAL_POSITIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DOUBLE_POSITIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],INTEGER_NEGATIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DECIMAL_NEGATIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DOUBLE_NEGATIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],PNAME_LN:["conditionalAndExpression","*[||,conditionalAndExpression]"],PNAME_NS:["conditionalAndExpression","*[||,conditionalAndExpression]"]},constraint:{"(":["brackettedExpression"],STR:["builtInCall"],LANG:["builtInCall"],LANGMATCHES:["builtInCall"],DATATYPE:["builtInCall"],BOUND:["builtInCall"],IRI:["builtInCall"],URI:["builtInCall"],BNODE:["builtInCall"],RAND:["builtInCall"],ABS:["builtInCall"],CEIL:["builtInCall"],FLOOR:["builtInCall"],ROUND:["builtInCall"],CONCAT:["builtInCall"],STRLEN:["builtInCall"],UCASE:["builtInCall"],LCASE:["builtInCall"],ENCODE_FOR_URI:["builtInCall"],CONTAINS:["builtInCall"],STRSTARTS:["builtInCall"],STRENDS:["builtInCall"],STRBEFORE:["builtInCall"],STRAFTER:["builtInCall"],YEAR:["builtInCall"],MONTH:["builtInCall"],DAY:["builtInCall"],HOURS:["builtInCall"],MINUTES:["builtInCall"],SECONDS:["builtInCall"],TIMEZONE:["builtInCall"],TZ:["builtInCall"],NOW:["builtInCall"],UUID:["builtInCall"],STRUUID:["builtInCall"],MD5:["builtInCall"],SHA1:["builtInCall"],SHA256:["builtInCall"],SHA384:["builtInCall"],SHA512:["builtInCall"],COALESCE:["builtInCall"],IF:["builtInCall"],STRLANG:["builtInCall"],STRDT:["builtInCall"],SAMETERM:["builtInCall"],ISIRI:["builtInCall"],ISURI:["builtInCall"],ISBLANK:["builtInCall"],ISLITERAL:["builtInCall"],ISNUMERIC:["builtInCall"],SUBSTR:["builtInCall"],REPLACE:["builtInCall"],REGEX:["builtInCall"],EXISTS:["builtInCall"],NOT:["builtInCall"],IRI_REF:["functionCall"],PNAME_LN:["functionCall"],PNAME_NS:["functionCall"]},constructQuery:{CONSTRUCT:["CONSTRUCT","or([[constructTemplate,*datasetClause,whereClause,solutionModifier],[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]])"]},constructTemplate:{"{":["{","?constructTriples","}"]},constructTriples:{VAR1:["triplesSameSubject","?[.,?constructTriples]"],VAR2:["triplesSameSubject","?[.,?constructTriples]"],NIL:["triplesSameSubject","?[.,?constructTriples]"],"(":["triplesSameSubject","?[.,?constructTriples]"],"[":["triplesSameSubject","?[.,?constructTriples]"],IRI_REF:["triplesSameSubject","?[.,?constructTriples]"],TRUE:["triplesSameSubject","?[.,?constructTriples]"],FALSE:["triplesSameSubject","?[.,?constructTriples]"],BLANK_NODE_LABEL:["triplesSameSubject","?[.,?constructTriples]"],ANON:["triplesSameSubject","?[.,?constructTriples]"],PNAME_LN:["triplesSameSubject","?[.,?constructTriples]"],PNAME_NS:["triplesSameSubject","?[.,?constructTriples]"],STRING_LITERAL1:["triplesSameSubject","?[.,?constructTriples]"],STRING_LITERAL2:["triplesSameSubject","?[.,?constructTriples]"],STRING_LITERAL_LONG1:["triplesSameSubject","?[.,?constructTriples]"],STRING_LITERAL_LONG2:["triplesSameSubject","?[.,?constructTriples]"],INTEGER:["triplesSameSubject","?[.,?constructTriples]"],DECIMAL:["triplesSameSubject","?[.,?constructTriples]"],DOUBLE:["triplesSameSubject","?[.,?constructTriples]"],INTEGER_POSITIVE:["triplesSameSubject","?[.,?constructTriples]"],DECIMAL_POSITIVE:["triplesSameSubject","?[.,?constructTriples]"],DOUBLE_POSITIVE:["triplesSameSubject","?[.,?constructTriples]"],INTEGER_NEGATIVE:["triplesSameSubject","?[.,?constructTriples]"],DECIMAL_NEGATIVE:["triplesSameSubject","?[.,?constructTriples]"],DOUBLE_NEGATIVE:["triplesSameSubject","?[.,?constructTriples]"]},copy:{COPY:["COPY","?SILENT_4","graphOrDefault","TO","graphOrDefault"]},create:{CREATE:["CREATE","?SILENT_3","graphRef"]},dataBlock:{NIL:["or([inlineDataOneVar,inlineDataFull])"],"(":["or([inlineDataOneVar,inlineDataFull])"],VAR1:["or([inlineDataOneVar,inlineDataFull])"],VAR2:["or([inlineDataOneVar,inlineDataFull])"]},dataBlockValue:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],STRING_LITERAL1:["rdfLiteral"],STRING_LITERAL2:["rdfLiteral"],STRING_LITERAL_LONG1:["rdfLiteral"],STRING_LITERAL_LONG2:["rdfLiteral"],INTEGER:["numericLiteral"],DECIMAL:["numericLiteral"],DOUBLE:["numericLiteral"],INTEGER_POSITIVE:["numericLiteral"],DECIMAL_POSITIVE:["numericLiteral"],DOUBLE_POSITIVE:["numericLiteral"],INTEGER_NEGATIVE:["numericLiteral"],DECIMAL_NEGATIVE:["numericLiteral"],DOUBLE_NEGATIVE:["numericLiteral"],TRUE:["booleanLiteral"],FALSE:["booleanLiteral"],UNDEF:["UNDEF"]},datasetClause:{FROM:["FROM","or([defaultGraphClause,namedGraphClause])"]},defaultGraphClause:{IRI_REF:["sourceSelector"],PNAME_LN:["sourceSelector"],PNAME_NS:["sourceSelector"]},delete1:{DATA:["DATA","quadDataNoBnodes"],WHERE:["WHERE","quadPatternNoBnodes"],"{":["quadPatternNoBnodes","?insertClause","*usingClause","WHERE","groupGraphPattern"]},deleteClause:{DELETE:["DELETE","quadPattern"]},describeDatasetClause:{FROM:["FROM","or([defaultGraphClause,namedGraphClause])"]},describeQuery:{DESCRIBE:["DESCRIBE","or([+varOrIRIref,*])","*describeDatasetClause","?whereClause","solutionModifier"]},disallowBnodes:{"}":[],GRAPH:[],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},disallowVars:{"}":[],GRAPH:[],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},drop:{DROP:["DROP","?SILENT_2","graphRefAll"]},existsFunc:{EXISTS:["EXISTS","groupGraphPattern"]},expression:{"!":["conditionalOrExpression"],"+":["conditionalOrExpression"],"-":["conditionalOrExpression"],VAR1:["conditionalOrExpression"],VAR2:["conditionalOrExpression"],"(":["conditionalOrExpression"],STR:["conditionalOrExpression"],LANG:["conditionalOrExpression"],LANGMATCHES:["conditionalOrExpression"],DATATYPE:["conditionalOrExpression"],BOUND:["conditionalOrExpression"],IRI:["conditionalOrExpression"],URI:["conditionalOrExpression"],BNODE:["conditionalOrExpression"],RAND:["conditionalOrExpression"],ABS:["conditionalOrExpression"],CEIL:["conditionalOrExpression"],FLOOR:["conditionalOrExpression"],ROUND:["conditionalOrExpression"],CONCAT:["conditionalOrExpression"],STRLEN:["conditionalOrExpression"],UCASE:["conditionalOrExpression"],LCASE:["conditionalOrExpression"],ENCODE_FOR_URI:["conditionalOrExpression"],CONTAINS:["conditionalOrExpression"],STRSTARTS:["conditionalOrExpression"],STRENDS:["conditionalOrExpression"],STRBEFORE:["conditionalOrExpression"],STRAFTER:["conditionalOrExpression"],YEAR:["conditionalOrExpression"],MONTH:["conditionalOrExpression"],DAY:["conditionalOrExpression"],HOURS:["conditionalOrExpression"],MINUTES:["conditionalOrExpression"],SECONDS:["conditionalOrExpression"],TIMEZONE:["conditionalOrExpression"],TZ:["conditionalOrExpression"],NOW:["conditionalOrExpression"],UUID:["conditionalOrExpression"],STRUUID:["conditionalOrExpression"],MD5:["conditionalOrExpression"],SHA1:["conditionalOrExpression"],SHA256:["conditionalOrExpression"],SHA384:["conditionalOrExpression"],SHA512:["conditionalOrExpression"],COALESCE:["conditionalOrExpression"],IF:["conditionalOrExpression"],STRLANG:["conditionalOrExpression"],STRDT:["conditionalOrExpression"],SAMETERM:["conditionalOrExpression"],ISIRI:["conditionalOrExpression"],ISURI:["conditionalOrExpression"],ISBLANK:["conditionalOrExpression"],ISLITERAL:["conditionalOrExpression"],ISNUMERIC:["conditionalOrExpression"],TRUE:["conditionalOrExpression"],FALSE:["conditionalOrExpression"],COUNT:["conditionalOrExpression"],SUM:["conditionalOrExpression"],MIN:["conditionalOrExpression"],MAX:["conditionalOrExpression"],AVG:["conditionalOrExpression"],SAMPLE:["conditionalOrExpression"],GROUP_CONCAT:["conditionalOrExpression"],SUBSTR:["conditionalOrExpression"],REPLACE:["conditionalOrExpression"],REGEX:["conditionalOrExpression"],EXISTS:["conditionalOrExpression"],NOT:["conditionalOrExpression"],IRI_REF:["conditionalOrExpression"],STRING_LITERAL1:["conditionalOrExpression"],STRING_LITERAL2:["conditionalOrExpression"],STRING_LITERAL_LONG1:["conditionalOrExpression"],STRING_LITERAL_LONG2:["conditionalOrExpression"],INTEGER:["conditionalOrExpression"],DECIMAL:["conditionalOrExpression"],DOUBLE:["conditionalOrExpression"],INTEGER_POSITIVE:["conditionalOrExpression"],DECIMAL_POSITIVE:["conditionalOrExpression"],DOUBLE_POSITIVE:["conditionalOrExpression"],INTEGER_NEGATIVE:["conditionalOrExpression"],DECIMAL_NEGATIVE:["conditionalOrExpression"],DOUBLE_NEGATIVE:["conditionalOrExpression"],PNAME_LN:["conditionalOrExpression"],PNAME_NS:["conditionalOrExpression"]},expressionList:{NIL:["NIL"],"(":["(","expression","*[,,expression]",")"]},filter:{FILTER:["FILTER","constraint"]},functionCall:{IRI_REF:["iriRef","argList"],PNAME_LN:["iriRef","argList"],PNAME_NS:["iriRef","argList"]},graphGraphPattern:{GRAPH:["GRAPH","varOrIRIref","groupGraphPattern"]},graphNode:{VAR1:["varOrTerm"],VAR2:["varOrTerm"],NIL:["varOrTerm"],IRI_REF:["varOrTerm"],TRUE:["varOrTerm"],FALSE:["varOrTerm"],BLANK_NODE_LABEL:["varOrTerm"],ANON:["varOrTerm"],PNAME_LN:["varOrTerm"],PNAME_NS:["varOrTerm"],STRING_LITERAL1:["varOrTerm"],STRING_LITERAL2:["varOrTerm"],STRING_LITERAL_LONG1:["varOrTerm"],STRING_LITERAL_LONG2:["varOrTerm"],INTEGER:["varOrTerm"],DECIMAL:["varOrTerm"],DOUBLE:["varOrTerm"],INTEGER_POSITIVE:["varOrTerm"],DECIMAL_POSITIVE:["varOrTerm"],DOUBLE_POSITIVE:["varOrTerm"],INTEGER_NEGATIVE:["varOrTerm"],DECIMAL_NEGATIVE:["varOrTerm"],DOUBLE_NEGATIVE:["varOrTerm"],"(":["triplesNode"],"[":["triplesNode"]},graphNodePath:{VAR1:["varOrTerm"],VAR2:["varOrTerm"],NIL:["varOrTerm"],IRI_REF:["varOrTerm"],TRUE:["varOrTerm"],FALSE:["varOrTerm"],BLANK_NODE_LABEL:["varOrTerm"],ANON:["varOrTerm"],PNAME_LN:["varOrTerm"],PNAME_NS:["varOrTerm"],STRING_LITERAL1:["varOrTerm"],STRING_LITERAL2:["varOrTerm"],STRING_LITERAL_LONG1:["varOrTerm"],STRING_LITERAL_LONG2:["varOrTerm"],INTEGER:["varOrTerm"],DECIMAL:["varOrTerm"],DOUBLE:["varOrTerm"],INTEGER_POSITIVE:["varOrTerm"],DECIMAL_POSITIVE:["varOrTerm"],DOUBLE_POSITIVE:["varOrTerm"],INTEGER_NEGATIVE:["varOrTerm"],DECIMAL_NEGATIVE:["varOrTerm"],DOUBLE_NEGATIVE:["varOrTerm"],"(":["triplesNodePath"],"[":["triplesNodePath"]},graphOrDefault:{DEFAULT:["DEFAULT"],IRI_REF:["?GRAPH","iriRef"],PNAME_LN:["?GRAPH","iriRef"],PNAME_NS:["?GRAPH","iriRef"],GRAPH:["?GRAPH","iriRef"]},graphPatternNotTriples:{"{":["groupOrUnionGraphPattern"],OPTIONAL:["optionalGraphPattern"],MINUS:["minusGraphPattern"],GRAPH:["graphGraphPattern"],SERVICE:["serviceGraphPattern"],FILTER:["filter"],BIND:["bind"],VALUES:["inlineData"]},graphRef:{GRAPH:["GRAPH","iriRef"]},graphRefAll:{GRAPH:["graphRef"],DEFAULT:["DEFAULT"],NAMED:["NAMED"],ALL:["ALL"]},graphTerm:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],STRING_LITERAL1:["rdfLiteral"],STRING_LITERAL2:["rdfLiteral"],STRING_LITERAL_LONG1:["rdfLiteral"],STRING_LITERAL_LONG2:["rdfLiteral"],INTEGER:["numericLiteral"],DECIMAL:["numericLiteral"],DOUBLE:["numericLiteral"],INTEGER_POSITIVE:["numericLiteral"],DECIMAL_POSITIVE:["numericLiteral"],DOUBLE_POSITIVE:["numericLiteral"],INTEGER_NEGATIVE:["numericLiteral"],DECIMAL_NEGATIVE:["numericLiteral"],DOUBLE_NEGATIVE:["numericLiteral"],TRUE:["booleanLiteral"],FALSE:["booleanLiteral"],BLANK_NODE_LABEL:["blankNode"],ANON:["blankNode"],NIL:["NIL"]},groupClause:{GROUP:["GROUP","BY","+groupCondition"]},groupCondition:{STR:["builtInCall"],LANG:["builtInCall"],LANGMATCHES:["builtInCall"],DATATYPE:["builtInCall"],BOUND:["builtInCall"],IRI:["builtInCall"],URI:["builtInCall"],BNODE:["builtInCall"],RAND:["builtInCall"],ABS:["builtInCall"],CEIL:["builtInCall"],FLOOR:["builtInCall"],ROUND:["builtInCall"],CONCAT:["builtInCall"],STRLEN:["builtInCall"],UCASE:["builtInCall"],LCASE:["builtInCall"],ENCODE_FOR_URI:["builtInCall"],CONTAINS:["builtInCall"],STRSTARTS:["builtInCall"],STRENDS:["builtInCall"],STRBEFORE:["builtInCall"],STRAFTER:["builtInCall"],YEAR:["builtInCall"],MONTH:["builtInCall"],DAY:["builtInCall"],HOURS:["builtInCall"],MINUTES:["builtInCall"],SECONDS:["builtInCall"],TIMEZONE:["builtInCall"],TZ:["builtInCall"],NOW:["builtInCall"],UUID:["builtInCall"],STRUUID:["builtInCall"],MD5:["builtInCall"],SHA1:["builtInCall"],SHA256:["builtInCall"],SHA384:["builtInCall"],SHA512:["builtInCall"],COALESCE:["builtInCall"],IF:["builtInCall"],STRLANG:["builtInCall"],STRDT:["builtInCall"],SAMETERM:["builtInCall"],ISIRI:["builtInCall"],ISURI:["builtInCall"],ISBLANK:["builtInCall"],ISLITERAL:["builtInCall"],ISNUMERIC:["builtInCall"],SUBSTR:["builtInCall"],REPLACE:["builtInCall"],REGEX:["builtInCall"],EXISTS:["builtInCall"],NOT:["builtInCall"],IRI_REF:["functionCall"],PNAME_LN:["functionCall"],PNAME_NS:["functionCall"],"(":["(","expression","?[AS,var]",")"],VAR1:["var"],VAR2:["var"]},groupGraphPattern:{"{":["{","or([subSelect,groupGraphPatternSub])","}"]},groupGraphPatternSub:{"{":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],OPTIONAL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],MINUS:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],GRAPH:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],SERVICE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],FILTER:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],BIND:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],VALUES:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],VAR1:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],VAR2:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],NIL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],"(":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],"[":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],IRI_REF:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],TRUE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],FALSE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],BLANK_NODE_LABEL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],ANON:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],PNAME_LN:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],PNAME_NS:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL1:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL2:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL_LONG1:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL_LONG2:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],INTEGER:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DECIMAL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DOUBLE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],INTEGER_POSITIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DECIMAL_POSITIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DOUBLE_POSITIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],INTEGER_NEGATIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DECIMAL_NEGATIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DOUBLE_NEGATIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],"}":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"]},groupOrUnionGraphPattern:{"{":["groupGraphPattern","*[UNION,groupGraphPattern]"]},havingClause:{HAVING:["HAVING","+havingCondition"]},havingCondition:{"(":["constraint"],STR:["constraint"],LANG:["constraint"],LANGMATCHES:["constraint"],DATATYPE:["constraint"],BOUND:["constraint"],IRI:["constraint"],URI:["constraint"],BNODE:["constraint"],RAND:["constraint"],ABS:["constraint"],CEIL:["constraint"],FLOOR:["constraint"],ROUND:["constraint"],CONCAT:["constraint"],STRLEN:["constraint"],UCASE:["constraint"],LCASE:["constraint"],ENCODE_FOR_URI:["constraint"],CONTAINS:["constraint"],STRSTARTS:["constraint"],STRENDS:["constraint"],STRBEFORE:["constraint"],STRAFTER:["constraint"],YEAR:["constraint"],MONTH:["constraint"],DAY:["constraint"],HOURS:["constraint"],MINUTES:["constraint"],SECONDS:["constraint"],TIMEZONE:["constraint"],TZ:["constraint"],NOW:["constraint"],UUID:["constraint"],STRUUID:["constraint"],MD5:["constraint"],SHA1:["constraint"],SHA256:["constraint"],SHA384:["constraint"],SHA512:["constraint"],COALESCE:["constraint"],IF:["constraint"],STRLANG:["constraint"],STRDT:["constraint"],SAMETERM:["constraint"],ISIRI:["constraint"],ISURI:["constraint"],ISBLANK:["constraint"],ISLITERAL:["constraint"],ISNUMERIC:["constraint"],SUBSTR:["constraint"],REPLACE:["constraint"],REGEX:["constraint"],EXISTS:["constraint"],NOT:["constraint"],IRI_REF:["constraint"],PNAME_LN:["constraint"],PNAME_NS:["constraint"]},inlineData:{VALUES:["VALUES","dataBlock"]},inlineDataFull:{NIL:["or([NIL,[ (,*var,)]])","{","*or([[ (,*dataBlockValue,)],NIL])","}"],"(":["or([NIL,[ (,*var,)]])","{","*or([[ (,*dataBlockValue,)],NIL])","}"]},inlineDataOneVar:{VAR1:["var","{","*dataBlockValue","}"],VAR2:["var","{","*dataBlockValue","}"]},insert1:{DATA:["DATA","quadData"],"{":["quadPattern","*usingClause","WHERE","groupGraphPattern"]},insertClause:{INSERT:["INSERT","quadPattern"]},integer:{INTEGER:["INTEGER"]},iriRef:{IRI_REF:["IRI_REF"],PNAME_LN:["prefixedName"],PNAME_NS:["prefixedName"]},iriRefOrFunction:{IRI_REF:["iriRef","?argList"],PNAME_LN:["iriRef","?argList"],PNAME_NS:["iriRef","?argList"]},limitClause:{LIMIT:["LIMIT","INTEGER"]},limitOffsetClauses:{LIMIT:["limitClause","?offsetClause"],OFFSET:["offsetClause","?limitClause"]},load:{LOAD:["LOAD","?SILENT_1","iriRef","?[INTO,graphRef]"]},minusGraphPattern:{MINUS:["MINUS","groupGraphPattern"]},modify:{WITH:["WITH","iriRef","or([[deleteClause,?insertClause],insertClause])","*usingClause","WHERE","groupGraphPattern"]},move:{MOVE:["MOVE","?SILENT_4","graphOrDefault","TO","graphOrDefault"]},multiplicativeExpression:{"!":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],"+":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],"-":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],VAR1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],VAR2:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],"(":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],LANG:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],LANGMATCHES:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DATATYPE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],BOUND:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],IRI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],URI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],BNODE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],RAND:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ABS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],CEIL:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],FLOOR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ROUND:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],CONCAT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRLEN:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],UCASE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],LCASE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ENCODE_FOR_URI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],CONTAINS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRSTARTS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRENDS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRBEFORE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRAFTER:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],YEAR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MONTH:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DAY:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],HOURS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MINUTES:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SECONDS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],TIMEZONE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],TZ:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],NOW:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],UUID:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRUUID:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MD5:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA256:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA384:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA512:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],COALESCE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],IF:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRLANG:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRDT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SAMETERM:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISIRI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISURI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISBLANK:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISLITERAL:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISNUMERIC:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],TRUE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],FALSE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],COUNT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SUM:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MIN:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MAX:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],AVG:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SAMPLE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],GROUP_CONCAT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SUBSTR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],REPLACE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],REGEX:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],EXISTS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],NOT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],IRI_REF:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL2:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL_LONG1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL_LONG2:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER_POSITIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_POSITIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_POSITIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER_NEGATIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_NEGATIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_NEGATIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],PNAME_LN:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],PNAME_NS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"]},namedGraphClause:{NAMED:["NAMED","sourceSelector"]},notExistsFunc:{NOT:["NOT","EXISTS","groupGraphPattern"]},numericExpression:{"!":["additiveExpression"],"+":["additiveExpression"],"-":["additiveExpression"],VAR1:["additiveExpression"],VAR2:["additiveExpression"],"(":["additiveExpression"],STR:["additiveExpression"],LANG:["additiveExpression"],LANGMATCHES:["additiveExpression"],DATATYPE:["additiveExpression"],BOUND:["additiveExpression"],IRI:["additiveExpression"],URI:["additiveExpression"],BNODE:["additiveExpression"],RAND:["additiveExpression"],ABS:["additiveExpression"],CEIL:["additiveExpression"],FLOOR:["additiveExpression"],ROUND:["additiveExpression"],CONCAT:["additiveExpression"],STRLEN:["additiveExpression"],UCASE:["additiveExpression"],LCASE:["additiveExpression"],ENCODE_FOR_URI:["additiveExpression"],CONTAINS:["additiveExpression"],STRSTARTS:["additiveExpression"],STRENDS:["additiveExpression"],STRBEFORE:["additiveExpression"],STRAFTER:["additiveExpression"],YEAR:["additiveExpression"],MONTH:["additiveExpression"],DAY:["additiveExpression"],HOURS:["additiveExpression"],MINUTES:["additiveExpression"],SECONDS:["additiveExpression"],TIMEZONE:["additiveExpression"],TZ:["additiveExpression"],NOW:["additiveExpression"],UUID:["additiveExpression"],STRUUID:["additiveExpression"],MD5:["additiveExpression"],SHA1:["additiveExpression"],SHA256:["additiveExpression"],SHA384:["additiveExpression"],SHA512:["additiveExpression"],COALESCE:["additiveExpression"],IF:["additiveExpression"],STRLANG:["additiveExpression"],STRDT:["additiveExpression"],SAMETERM:["additiveExpression"],ISIRI:["additiveExpression"],ISURI:["additiveExpression"],ISBLANK:["additiveExpression"],ISLITERAL:["additiveExpression"],ISNUMERIC:["additiveExpression"],TRUE:["additiveExpression"],FALSE:["additiveExpression"],COUNT:["additiveExpression"],SUM:["additiveExpression"],MIN:["additiveExpression"],MAX:["additiveExpression"],AVG:["additiveExpression"],SAMPLE:["additiveExpression"],GROUP_CONCAT:["additiveExpression"],SUBSTR:["additiveExpression"],REPLACE:["additiveExpression"],REGEX:["additiveExpression"],EXISTS:["additiveExpression"],NOT:["additiveExpression"],IRI_REF:["additiveExpression"],STRING_LITERAL1:["additiveExpression"],STRING_LITERAL2:["additiveExpression"],STRING_LITERAL_LONG1:["additiveExpression"],STRING_LITERAL_LONG2:["additiveExpression"],INTEGER:["additiveExpression"],DECIMAL:["additiveExpression"],DOUBLE:["additiveExpression"],INTEGER_POSITIVE:["additiveExpression"],DECIMAL_POSITIVE:["additiveExpression"],DOUBLE_POSITIVE:["additiveExpression"],INTEGER_NEGATIVE:["additiveExpression"],DECIMAL_NEGATIVE:["additiveExpression"],DOUBLE_NEGATIVE:["additiveExpression"],PNAME_LN:["additiveExpression"],PNAME_NS:["additiveExpression"]},numericLiteral:{INTEGER:["numericLiteralUnsigned"],DECIMAL:["numericLiteralUnsigned"],DOUBLE:["numericLiteralUnsigned"],INTEGER_POSITIVE:["numericLiteralPositive"],DECIMAL_POSITIVE:["numericLiteralPositive"],DOUBLE_POSITIVE:["numericLiteralPositive"],INTEGER_NEGATIVE:["numericLiteralNegative"],DECIMAL_NEGATIVE:["numericLiteralNegative"],DOUBLE_NEGATIVE:["numericLiteralNegative"]},numericLiteralNegative:{INTEGER_NEGATIVE:["INTEGER_NEGATIVE"],DECIMAL_NEGATIVE:["DECIMAL_NEGATIVE"],DOUBLE_NEGATIVE:["DOUBLE_NEGATIVE"]},numericLiteralPositive:{INTEGER_POSITIVE:["INTEGER_POSITIVE"],DECIMAL_POSITIVE:["DECIMAL_POSITIVE"],DOUBLE_POSITIVE:["DOUBLE_POSITIVE"]},numericLiteralUnsigned:{INTEGER:["INTEGER"],DECIMAL:["DECIMAL"],DOUBLE:["DOUBLE"]},object:{"(":["graphNode"],"[":["graphNode"],VAR1:["graphNode"],VAR2:["graphNode"],NIL:["graphNode"],IRI_REF:["graphNode"],TRUE:["graphNode"],FALSE:["graphNode"],BLANK_NODE_LABEL:["graphNode"],ANON:["graphNode"],PNAME_LN:["graphNode"],PNAME_NS:["graphNode"],STRING_LITERAL1:["graphNode"],STRING_LITERAL2:["graphNode"],STRING_LITERAL_LONG1:["graphNode"],STRING_LITERAL_LONG2:["graphNode"],INTEGER:["graphNode"],DECIMAL:["graphNode"],DOUBLE:["graphNode"],INTEGER_POSITIVE:["graphNode"],DECIMAL_POSITIVE:["graphNode"],DOUBLE_POSITIVE:["graphNode"],INTEGER_NEGATIVE:["graphNode"],DECIMAL_NEGATIVE:["graphNode"],DOUBLE_NEGATIVE:["graphNode"]},objectList:{"(":["object","*[,,object]"],"[":["object","*[,,object]"],VAR1:["object","*[,,object]"],VAR2:["object","*[,,object]"],NIL:["object","*[,,object]"],IRI_REF:["object","*[,,object]"],TRUE:["object","*[,,object]"],FALSE:["object","*[,,object]"],BLANK_NODE_LABEL:["object","*[,,object]"],ANON:["object","*[,,object]"],PNAME_LN:["object","*[,,object]"],PNAME_NS:["object","*[,,object]"],STRING_LITERAL1:["object","*[,,object]"],STRING_LITERAL2:["object","*[,,object]"],STRING_LITERAL_LONG1:["object","*[,,object]"],STRING_LITERAL_LONG2:["object","*[,,object]"],INTEGER:["object","*[,,object]"],DECIMAL:["object","*[,,object]"],DOUBLE:["object","*[,,object]"],INTEGER_POSITIVE:["object","*[,,object]"],DECIMAL_POSITIVE:["object","*[,,object]"],DOUBLE_POSITIVE:["object","*[,,object]"],INTEGER_NEGATIVE:["object","*[,,object]"],DECIMAL_NEGATIVE:["object","*[,,object]"],DOUBLE_NEGATIVE:["object","*[,,object]"]},objectListPath:{"(":["objectPath","*[,,objectPath]"],"[":["objectPath","*[,,objectPath]"],VAR1:["objectPath","*[,,objectPath]"],VAR2:["objectPath","*[,,objectPath]"],NIL:["objectPath","*[,,objectPath]"],IRI_REF:["objectPath","*[,,objectPath]"],TRUE:["objectPath","*[,,objectPath]"],FALSE:["objectPath","*[,,objectPath]"],BLANK_NODE_LABEL:["objectPath","*[,,objectPath]"],ANON:["objectPath","*[,,objectPath]"],PNAME_LN:["objectPath","*[,,objectPath]"],PNAME_NS:["objectPath","*[,,objectPath]"],STRING_LITERAL1:["objectPath","*[,,objectPath]"],STRING_LITERAL2:["objectPath","*[,,objectPath]"],STRING_LITERAL_LONG1:["objectPath","*[,,objectPath]"],STRING_LITERAL_LONG2:["objectPath","*[,,objectPath]"],INTEGER:["objectPath","*[,,objectPath]"],DECIMAL:["objectPath","*[,,objectPath]"],DOUBLE:["objectPath","*[,,objectPath]"],INTEGER_POSITIVE:["objectPath","*[,,objectPath]"],DECIMAL_POSITIVE:["objectPath","*[,,objectPath]"],DOUBLE_POSITIVE:["objectPath","*[,,objectPath]"],INTEGER_NEGATIVE:["objectPath","*[,,objectPath]"],DECIMAL_NEGATIVE:["objectPath","*[,,objectPath]"],DOUBLE_NEGATIVE:["objectPath","*[,,objectPath]"]},objectPath:{"(":["graphNodePath"],"[":["graphNodePath"],VAR1:["graphNodePath"],VAR2:["graphNodePath"],NIL:["graphNodePath"],IRI_REF:["graphNodePath"],TRUE:["graphNodePath"],FALSE:["graphNodePath"],BLANK_NODE_LABEL:["graphNodePath"],ANON:["graphNodePath"],PNAME_LN:["graphNodePath"],PNAME_NS:["graphNodePath"],STRING_LITERAL1:["graphNodePath"],STRING_LITERAL2:["graphNodePath"],STRING_LITERAL_LONG1:["graphNodePath"],STRING_LITERAL_LONG2:["graphNodePath"],INTEGER:["graphNodePath"],DECIMAL:["graphNodePath"],DOUBLE:["graphNodePath"],INTEGER_POSITIVE:["graphNodePath"],DECIMAL_POSITIVE:["graphNodePath"],DOUBLE_POSITIVE:["graphNodePath"],INTEGER_NEGATIVE:["graphNodePath"],DECIMAL_NEGATIVE:["graphNodePath"],DOUBLE_NEGATIVE:["graphNodePath"]},offsetClause:{OFFSET:["OFFSET","INTEGER"]},optionalGraphPattern:{OPTIONAL:["OPTIONAL","groupGraphPattern"]},"or([*,expression])":{"*":["*"],"!":["expression"],"+":["expression"],"-":["expression"],VAR1:["expression"],VAR2:["expression"],"(":["expression"],STR:["expression"],LANG:["expression"],LANGMATCHES:["expression"],DATATYPE:["expression"],BOUND:["expression"],IRI:["expression"],URI:["expression"],BNODE:["expression"],RAND:["expression"],ABS:["expression"],CEIL:["expression"],FLOOR:["expression"],ROUND:["expression"],CONCAT:["expression"],STRLEN:["expression"],UCASE:["expression"],LCASE:["expression"],ENCODE_FOR_URI:["expression"],CONTAINS:["expression"],STRSTARTS:["expression"],STRENDS:["expression"],STRBEFORE:["expression"],STRAFTER:["expression"],YEAR:["expression"],MONTH:["expression"],DAY:["expression"],HOURS:["expression"],MINUTES:["expression"],SECONDS:["expression"],TIMEZONE:["expression"],TZ:["expression"],NOW:["expression"],UUID:["expression"],STRUUID:["expression"],MD5:["expression"],SHA1:["expression"],SHA256:["expression"],SHA384:["expression"],SHA512:["expression"],COALESCE:["expression"],IF:["expression"],STRLANG:["expression"],STRDT:["expression"],SAMETERM:["expression"],ISIRI:["expression"],ISURI:["expression"],ISBLANK:["expression"],ISLITERAL:["expression"],ISNUMERIC:["expression"],TRUE:["expression"],FALSE:["expression"],COUNT:["expression"],SUM:["expression"],MIN:["expression"],MAX:["expression"],AVG:["expression"],SAMPLE:["expression"],GROUP_CONCAT:["expression"],SUBSTR:["expression"],REPLACE:["expression"],REGEX:["expression"],EXISTS:["expression"],NOT:["expression"],IRI_REF:["expression"],STRING_LITERAL1:["expression"],STRING_LITERAL2:["expression"],STRING_LITERAL_LONG1:["expression"],STRING_LITERAL_LONG2:["expression"],INTEGER:["expression"],DECIMAL:["expression"],DOUBLE:["expression"],INTEGER_POSITIVE:["expression"],DECIMAL_POSITIVE:["expression"],DOUBLE_POSITIVE:["expression"],INTEGER_NEGATIVE:["expression"],DECIMAL_NEGATIVE:["expression"],DOUBLE_NEGATIVE:["expression"],PNAME_LN:["expression"],PNAME_NS:["expression"]},"or([+or([var,[ (,expression,AS,var,)]]),*])":{"(":["+or([var,[ (,expression,AS,var,)]])"],VAR1:["+or([var,[ (,expression,AS,var,)]])"],VAR2:["+or([var,[ (,expression,AS,var,)]])"],"*":["*"]},"or([+varOrIRIref,*])":{VAR1:["+varOrIRIref"],VAR2:["+varOrIRIref"],IRI_REF:["+varOrIRIref"],PNAME_LN:["+varOrIRIref"],PNAME_NS:["+varOrIRIref"],"*":["*"]},"or([ASC,DESC])":{ASC:["ASC"],DESC:["DESC"]},"or([DISTINCT,REDUCED])":{DISTINCT:["DISTINCT"],REDUCED:["REDUCED"]},"or([LANGTAG,[^^,iriRef]])":{LANGTAG:["LANGTAG"],"^^":["[^^,iriRef]"]},"or([NIL,[ (,*var,)]])":{NIL:["NIL"],"(":["[ (,*var,)]"]},"or([[ (,*dataBlockValue,)],NIL])":{"(":["[ (,*dataBlockValue,)]"],NIL:["NIL"]},"or([[ (,expression,)],NIL])":{"(":["[ (,expression,)]"],NIL:["NIL"]},"or([[*,unaryExpression],[/,unaryExpression]])":{"*":["[*,unaryExpression]"],"/":["[/,unaryExpression]"]},"or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])":{"+":["[+,multiplicativeExpression]"],"-":["[-,multiplicativeExpression]"],INTEGER_POSITIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DECIMAL_POSITIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DOUBLE_POSITIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],INTEGER_NEGATIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DECIMAL_NEGATIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DOUBLE_NEGATIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"]},"or([[,,or([},[integer,}]])],}])":{",":["[,,or([},[integer,}]])]"],"}":["}"]},"or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])":{"=":["[=,numericExpression]"],"!=":["[!=,numericExpression]"],"<":["[<,numericExpression]"],">":["[>,numericExpression]"],"<=":["[<=,numericExpression]"],">=":["[>=,numericExpression]"],IN:["[IN,expressionList]"],NOT:["[NOT,IN,expressionList]"]},"or([[constructTemplate,*datasetClause,whereClause,solutionModifier],[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]])":{"{":["[constructTemplate,*datasetClause,whereClause,solutionModifier]"],WHERE:["[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]"],FROM:["[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]"]},"or([[deleteClause,?insertClause],insertClause])":{DELETE:["[deleteClause,?insertClause]"],INSERT:["insertClause"]},"or([[integer,or([[,,or([},[integer,}]])],}])],[,,integer,}]])":{INTEGER:["[integer,or([[,,or([},[integer,}]])],}])]"],",":["[,,integer,}]"]},"or([baseDecl,prefixDecl])":{BASE:["baseDecl"],PREFIX:["prefixDecl"]},"or([defaultGraphClause,namedGraphClause])":{IRI_REF:["defaultGraphClause"],PNAME_LN:["defaultGraphClause"],PNAME_NS:["defaultGraphClause"],NAMED:["namedGraphClause"]},"or([inlineDataOneVar,inlineDataFull])":{VAR1:["inlineDataOneVar"],VAR2:["inlineDataOneVar"],NIL:["inlineDataFull"],"(":["inlineDataFull"]},"or([iriRef,[NAMED,iriRef]])":{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],NAMED:["[NAMED,iriRef]"]},"or([iriRef,a])":{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],a:["a"]},"or([numericLiteralPositive,numericLiteralNegative])":{INTEGER_POSITIVE:["numericLiteralPositive"],DECIMAL_POSITIVE:["numericLiteralPositive"],DOUBLE_POSITIVE:["numericLiteralPositive"],INTEGER_NEGATIVE:["numericLiteralNegative"],DECIMAL_NEGATIVE:["numericLiteralNegative"],DOUBLE_NEGATIVE:["numericLiteralNegative"]},"or([queryAll,updateAll])":{CONSTRUCT:["queryAll"],DESCRIBE:["queryAll"],ASK:["queryAll"],SELECT:["queryAll"],INSERT:["updateAll"],DELETE:["updateAll"],LOAD:["updateAll"],CLEAR:["updateAll"],DROP:["updateAll"],ADD:["updateAll"],MOVE:["updateAll"],COPY:["updateAll"],CREATE:["updateAll"],WITH:["updateAll"],$:["updateAll"]},"or([selectQuery,constructQuery,describeQuery,askQuery])":{SELECT:["selectQuery"],CONSTRUCT:["constructQuery"],DESCRIBE:["describeQuery"],ASK:["askQuery"]},"or([subSelect,groupGraphPatternSub])":{SELECT:["subSelect"],"{":["groupGraphPatternSub"],OPTIONAL:["groupGraphPatternSub"],MINUS:["groupGraphPatternSub"],GRAPH:["groupGraphPatternSub"],SERVICE:["groupGraphPatternSub"],FILTER:["groupGraphPatternSub"],BIND:["groupGraphPatternSub"],VALUES:["groupGraphPatternSub"],VAR1:["groupGraphPatternSub"],VAR2:["groupGraphPatternSub"],NIL:["groupGraphPatternSub"],"(":["groupGraphPatternSub"],"[":["groupGraphPatternSub"],IRI_REF:["groupGraphPatternSub"],TRUE:["groupGraphPatternSub"],FALSE:["groupGraphPatternSub"],BLANK_NODE_LABEL:["groupGraphPatternSub"],ANON:["groupGraphPatternSub"],PNAME_LN:["groupGraphPatternSub"],PNAME_NS:["groupGraphPatternSub"],STRING_LITERAL1:["groupGraphPatternSub"],STRING_LITERAL2:["groupGraphPatternSub"],STRING_LITERAL_LONG1:["groupGraphPatternSub"],STRING_LITERAL_LONG2:["groupGraphPatternSub"],INTEGER:["groupGraphPatternSub"],DECIMAL:["groupGraphPatternSub"],DOUBLE:["groupGraphPatternSub"],INTEGER_POSITIVE:["groupGraphPatternSub"],DECIMAL_POSITIVE:["groupGraphPatternSub"],DOUBLE_POSITIVE:["groupGraphPatternSub"],INTEGER_NEGATIVE:["groupGraphPatternSub"],DECIMAL_NEGATIVE:["groupGraphPatternSub"],DOUBLE_NEGATIVE:["groupGraphPatternSub"],"}":["groupGraphPatternSub"]},"or([var,[ (,expression,AS,var,)]])":{VAR1:["var"],VAR2:["var"],"(":["[ (,expression,AS,var,)]"]},"or([verbPath,verbSimple])":{"^":["verbPath"],a:["verbPath"],"!":["verbPath"],"(":["verbPath"],IRI_REF:["verbPath"],PNAME_LN:["verbPath"],PNAME_NS:["verbPath"],VAR1:["verbSimple"],VAR2:["verbSimple"]},"or([},[integer,}]])":{"}":["}"],INTEGER:["[integer,}]"]},orderClause:{ORDER:["ORDER","BY","+orderCondition"]},orderCondition:{ASC:["or([ASC,DESC])","brackettedExpression"],DESC:["or([ASC,DESC])","brackettedExpression"],"(":["constraint"],STR:["constraint"],LANG:["constraint"],LANGMATCHES:["constraint"],DATATYPE:["constraint"],BOUND:["constraint"],IRI:["constraint"],URI:["constraint"],BNODE:["constraint"],RAND:["constraint"],ABS:["constraint"],CEIL:["constraint"],FLOOR:["constraint"],ROUND:["constraint"],CONCAT:["constraint"],STRLEN:["constraint"],UCASE:["constraint"],LCASE:["constraint"],ENCODE_FOR_URI:["constraint"],CONTAINS:["constraint"],STRSTARTS:["constraint"],STRENDS:["constraint"],STRBEFORE:["constraint"],STRAFTER:["constraint"],YEAR:["constraint"],MONTH:["constraint"],DAY:["constraint"],HOURS:["constraint"],MINUTES:["constraint"],SECONDS:["constraint"],TIMEZONE:["constraint"],TZ:["constraint"],NOW:["constraint"],UUID:["constraint"],STRUUID:["constraint"],MD5:["constraint"],SHA1:["constraint"],SHA256:["constraint"],SHA384:["constraint"],SHA512:["constraint"],COALESCE:["constraint"],IF:["constraint"],STRLANG:["constraint"],STRDT:["constraint"],SAMETERM:["constraint"],ISIRI:["constraint"],ISURI:["constraint"],ISBLANK:["constraint"],ISLITERAL:["constraint"],ISNUMERIC:["constraint"],SUBSTR:["constraint"],REPLACE:["constraint"],REGEX:["constraint"],EXISTS:["constraint"],NOT:["constraint"],IRI_REF:["constraint"],PNAME_LN:["constraint"],PNAME_NS:["constraint"],VAR1:["var"],VAR2:["var"]},path:{"^":["pathAlternative"],a:["pathAlternative"],"!":["pathAlternative"],"(":["pathAlternative"],IRI_REF:["pathAlternative"],PNAME_LN:["pathAlternative"],PNAME_NS:["pathAlternative"]},pathAlternative:{"^":["pathSequence","*[|,pathSequence]"],a:["pathSequence","*[|,pathSequence]"],"!":["pathSequence","*[|,pathSequence]"],"(":["pathSequence","*[|,pathSequence]"],IRI_REF:["pathSequence","*[|,pathSequence]"],PNAME_LN:["pathSequence","*[|,pathSequence]"],PNAME_NS:["pathSequence","*[|,pathSequence]"]},pathElt:{a:["pathPrimary","?pathMod"],"!":["pathPrimary","?pathMod"],"(":["pathPrimary","?pathMod"],IRI_REF:["pathPrimary","?pathMod"],PNAME_LN:["pathPrimary","?pathMod"],PNAME_NS:["pathPrimary","?pathMod"]},pathEltOrInverse:{a:["pathElt"],"!":["pathElt"],"(":["pathElt"],IRI_REF:["pathElt"],PNAME_LN:["pathElt"],PNAME_NS:["pathElt"],"^":["^","pathElt"]},pathMod:{"*":["*"],"?":["?"],"+":["+"],"{":["{","or([[integer,or([[,,or([},[integer,}]])],}])],[,,integer,}]])"]},pathNegatedPropertySet:{a:["pathOneInPropertySet"],"^":["pathOneInPropertySet"],IRI_REF:["pathOneInPropertySet"],PNAME_LN:["pathOneInPropertySet"],PNAME_NS:["pathOneInPropertySet"],"(":["(","?[pathOneInPropertySet,*[|,pathOneInPropertySet]]",")"]},pathOneInPropertySet:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],a:["a"],"^":["^","or([iriRef,a])"]},pathPrimary:{IRI_REF:["storeProperty","iriRef"],PNAME_LN:["storeProperty","iriRef"],PNAME_NS:["storeProperty","iriRef"],a:["storeProperty","a"],"!":["!","pathNegatedPropertySet"],"(":["(","path",")"]},pathSequence:{"^":["pathEltOrInverse","*[/,pathEltOrInverse]"],a:["pathEltOrInverse","*[/,pathEltOrInverse]"],"!":["pathEltOrInverse","*[/,pathEltOrInverse]"],"(":["pathEltOrInverse","*[/,pathEltOrInverse]"],IRI_REF:["pathEltOrInverse","*[/,pathEltOrInverse]"],PNAME_LN:["pathEltOrInverse","*[/,pathEltOrInverse]"],PNAME_NS:["pathEltOrInverse","*[/,pathEltOrInverse]"]},prefixDecl:{PREFIX:["PREFIX","PNAME_NS","IRI_REF"]},prefixedName:{PNAME_LN:["PNAME_LN"],PNAME_NS:["PNAME_NS"]},primaryExpression:{"(":["brackettedExpression"],STR:["builtInCall"],LANG:["builtInCall"],LANGMATCHES:["builtInCall"],DATATYPE:["builtInCall"],BOUND:["builtInCall"],IRI:["builtInCall"],URI:["builtInCall"],BNODE:["builtInCall"],RAND:["builtInCall"],ABS:["builtInCall"],CEIL:["builtInCall"],FLOOR:["builtInCall"],ROUND:["builtInCall"],CONCAT:["builtInCall"],STRLEN:["builtInCall"],UCASE:["builtInCall"],LCASE:["builtInCall"],ENCODE_FOR_URI:["builtInCall"],CONTAINS:["builtInCall"],STRSTARTS:["builtInCall"],STRENDS:["builtInCall"],STRBEFORE:["builtInCall"],STRAFTER:["builtInCall"],YEAR:["builtInCall"],MONTH:["builtInCall"],DAY:["builtInCall"],HOURS:["builtInCall"],MINUTES:["builtInCall"],SECONDS:["builtInCall"],TIMEZONE:["builtInCall"],TZ:["builtInCall"],NOW:["builtInCall"],UUID:["builtInCall"],STRUUID:["builtInCall"],MD5:["builtInCall"],SHA1:["builtInCall"],SHA256:["builtInCall"],SHA384:["builtInCall"],SHA512:["builtInCall"],COALESCE:["builtInCall"],IF:["builtInCall"],STRLANG:["builtInCall"],STRDT:["builtInCall"],SAMETERM:["builtInCall"],ISIRI:["builtInCall"],ISURI:["builtInCall"],ISBLANK:["builtInCall"],ISLITERAL:["builtInCall"],ISNUMERIC:["builtInCall"],SUBSTR:["builtInCall"],REPLACE:["builtInCall"],REGEX:["builtInCall"],EXISTS:["builtInCall"],NOT:["builtInCall"],IRI_REF:["iriRefOrFunction"],PNAME_LN:["iriRefOrFunction"],PNAME_NS:["iriRefOrFunction"],STRING_LITERAL1:["rdfLiteral"],STRING_LITERAL2:["rdfLiteral"],STRING_LITERAL_LONG1:["rdfLiteral"],STRING_LITERAL_LONG2:["rdfLiteral"],INTEGER:["numericLiteral"],DECIMAL:["numericLiteral"],DOUBLE:["numericLiteral"],INTEGER_POSITIVE:["numericLiteral"],DECIMAL_POSITIVE:["numericLiteral"],DOUBLE_POSITIVE:["numericLiteral"],INTEGER_NEGATIVE:["numericLiteral"],DECIMAL_NEGATIVE:["numericLiteral"],DOUBLE_NEGATIVE:["numericLiteral"],TRUE:["booleanLiteral"],FALSE:["booleanLiteral"],VAR1:["var"],VAR2:["var"],COUNT:["aggregate"],SUM:["aggregate"],MIN:["aggregate"],MAX:["aggregate"],AVG:["aggregate"],SAMPLE:["aggregate"],GROUP_CONCAT:["aggregate"]},prologue:{BASE:["*or([baseDecl,prefixDecl])"],PREFIX:["*or([baseDecl,prefixDecl])"],$:["*or([baseDecl,prefixDecl])"],CONSTRUCT:["*or([baseDecl,prefixDecl])"],DESCRIBE:["*or([baseDecl,prefixDecl])"],ASK:["*or([baseDecl,prefixDecl])"],INSERT:["*or([baseDecl,prefixDecl])"],DELETE:["*or([baseDecl,prefixDecl])"],SELECT:["*or([baseDecl,prefixDecl])"],LOAD:["*or([baseDecl,prefixDecl])"],CLEAR:["*or([baseDecl,prefixDecl])"],DROP:["*or([baseDecl,prefixDecl])"],ADD:["*or([baseDecl,prefixDecl])"],MOVE:["*or([baseDecl,prefixDecl])"],COPY:["*or([baseDecl,prefixDecl])"],CREATE:["*or([baseDecl,prefixDecl])"],WITH:["*or([baseDecl,prefixDecl])"]},propertyList:{a:["propertyListNotEmpty"],VAR1:["propertyListNotEmpty"],VAR2:["propertyListNotEmpty"],IRI_REF:["propertyListNotEmpty"],PNAME_LN:["propertyListNotEmpty"],PNAME_NS:["propertyListNotEmpty"],".":[],"}":[],GRAPH:[]},propertyListNotEmpty:{a:["verb","objectList","*[;,?[verb,objectList]]"],VAR1:["verb","objectList","*[;,?[verb,objectList]]"],VAR2:["verb","objectList","*[;,?[verb,objectList]]"],IRI_REF:["verb","objectList","*[;,?[verb,objectList]]"],PNAME_LN:["verb","objectList","*[;,?[verb,objectList]]"],PNAME_NS:["verb","objectList","*[;,?[verb,objectList]]"]},propertyListPath:{a:["propertyListNotEmpty"],VAR1:["propertyListNotEmpty"],VAR2:["propertyListNotEmpty"],IRI_REF:["propertyListNotEmpty"],PNAME_LN:["propertyListNotEmpty"],PNAME_NS:["propertyListNotEmpty"],".":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},propertyListPathNotEmpty:{VAR1:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],VAR2:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],"^":["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],a:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],"!":["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],"(":["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],IRI_REF:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],PNAME_LN:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],PNAME_NS:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"]},quadData:{"{":["{","disallowVars","quads","allowVars","}"]},quadDataNoBnodes:{"{":["{","disallowBnodes","disallowVars","quads","allowVars","allowBnodes","}"]},quadPattern:{"{":["{","quads","}"]},quadPatternNoBnodes:{"{":["{","disallowBnodes","quads","allowBnodes","}"]},quads:{GRAPH:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],VAR1:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],VAR2:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],NIL:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],"(":["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],"[":["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],IRI_REF:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],TRUE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],FALSE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],BLANK_NODE_LABEL:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],ANON:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],PNAME_LN:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],PNAME_NS:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL1:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL2:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL_LONG1:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL_LONG2:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],INTEGER:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DECIMAL:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DOUBLE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],INTEGER_POSITIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DECIMAL_POSITIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DOUBLE_POSITIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],INTEGER_NEGATIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DECIMAL_NEGATIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DOUBLE_NEGATIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],"}":["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"]},quadsNotTriples:{GRAPH:["GRAPH","varOrIRIref","{","?triplesTemplate","}"]},queryAll:{CONSTRUCT:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"],DESCRIBE:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"],ASK:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"],SELECT:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"]},rdfLiteral:{STRING_LITERAL1:["string","?or([LANGTAG,[^^,iriRef]])"],STRING_LITERAL2:["string","?or([LANGTAG,[^^,iriRef]])"],STRING_LITERAL_LONG1:["string","?or([LANGTAG,[^^,iriRef]])"],STRING_LITERAL_LONG2:["string","?or([LANGTAG,[^^,iriRef]])"]},regexExpression:{REGEX:["REGEX","(","expression",",","expression","?[,,expression]",")"]},relationalExpression:{"!":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"+":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"-":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],VAR1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],VAR2:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"(":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],LANG:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],LANGMATCHES:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DATATYPE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],BOUND:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IRI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],URI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],BNODE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],RAND:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ABS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],CEIL:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],FLOOR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ROUND:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],CONCAT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRLEN:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],UCASE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],LCASE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ENCODE_FOR_URI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],CONTAINS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRSTARTS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRENDS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRBEFORE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRAFTER:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],YEAR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MONTH:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DAY:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],HOURS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MINUTES:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SECONDS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],TIMEZONE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],TZ:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],NOW:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],UUID:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRUUID:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MD5:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA256:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA384:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA512:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],COALESCE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IF:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRLANG:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRDT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SAMETERM:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISIRI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISURI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISBLANK:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISLITERAL:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISNUMERIC:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],TRUE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],FALSE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],COUNT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SUM:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MIN:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MAX:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],AVG:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SAMPLE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],GROUP_CONCAT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SUBSTR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],REPLACE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],REGEX:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],EXISTS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],NOT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IRI_REF:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL2:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL_LONG1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL_LONG2:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],INTEGER:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DECIMAL:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DOUBLE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],INTEGER_POSITIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DECIMAL_POSITIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DOUBLE_POSITIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],INTEGER_NEGATIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DECIMAL_NEGATIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DOUBLE_NEGATIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],PNAME_LN:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],PNAME_NS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"]},selectClause:{SELECT:["SELECT","?or([DISTINCT,REDUCED])","or([+or([var,[ (,expression,AS,var,)]]),*])"]},selectQuery:{SELECT:["selectClause","*datasetClause","whereClause","solutionModifier"]},serviceGraphPattern:{SERVICE:["SERVICE","?SILENT","varOrIRIref","groupGraphPattern"]},solutionModifier:{LIMIT:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],OFFSET:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],ORDER:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],HAVING:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],GROUP:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],VALUES:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],$:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],"}":["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"]},sourceSelector:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"]},sparql11:{$:["prologue","or([queryAll,updateAll])","$"],CONSTRUCT:["prologue","or([queryAll,updateAll])","$"],DESCRIBE:["prologue","or([queryAll,updateAll])","$"],ASK:["prologue","or([queryAll,updateAll])","$"],INSERT:["prologue","or([queryAll,updateAll])","$"],DELETE:["prologue","or([queryAll,updateAll])","$"],SELECT:["prologue","or([queryAll,updateAll])","$"],LOAD:["prologue","or([queryAll,updateAll])","$"],CLEAR:["prologue","or([queryAll,updateAll])","$"],DROP:["prologue","or([queryAll,updateAll])","$"],ADD:["prologue","or([queryAll,updateAll])","$"],MOVE:["prologue","or([queryAll,updateAll])","$"],COPY:["prologue","or([queryAll,updateAll])","$"],CREATE:["prologue","or([queryAll,updateAll])","$"],WITH:["prologue","or([queryAll,updateAll])","$"],BASE:["prologue","or([queryAll,updateAll])","$"],PREFIX:["prologue","or([queryAll,updateAll])","$"]},storeProperty:{VAR1:[],VAR2:[],IRI_REF:[],PNAME_LN:[],PNAME_NS:[],a:[]},strReplaceExpression:{REPLACE:["REPLACE","(","expression",",","expression",",","expression","?[,,expression]",")"]},string:{STRING_LITERAL1:["STRING_LITERAL1"],STRING_LITERAL2:["STRING_LITERAL2"],STRING_LITERAL_LONG1:["STRING_LITERAL_LONG1"],STRING_LITERAL_LONG2:["STRING_LITERAL_LONG2"]},subSelect:{SELECT:["selectClause","whereClause","solutionModifier","valuesClause"]},substringExpression:{SUBSTR:["SUBSTR","(","expression",",","expression","?[,,expression]",")"]},triplesBlock:{VAR1:["triplesSameSubjectPath","?[.,?triplesBlock]"],VAR2:["triplesSameSubjectPath","?[.,?triplesBlock]"],NIL:["triplesSameSubjectPath","?[.,?triplesBlock]"],"(":["triplesSameSubjectPath","?[.,?triplesBlock]"],"[":["triplesSameSubjectPath","?[.,?triplesBlock]"],IRI_REF:["triplesSameSubjectPath","?[.,?triplesBlock]"],TRUE:["triplesSameSubjectPath","?[.,?triplesBlock]"],FALSE:["triplesSameSubjectPath","?[.,?triplesBlock]"],BLANK_NODE_LABEL:["triplesSameSubjectPath","?[.,?triplesBlock]"],ANON:["triplesSameSubjectPath","?[.,?triplesBlock]"],PNAME_LN:["triplesSameSubjectPath","?[.,?triplesBlock]"],PNAME_NS:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL1:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL2:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL_LONG1:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL_LONG2:["triplesSameSubjectPath","?[.,?triplesBlock]"],INTEGER:["triplesSameSubjectPath","?[.,?triplesBlock]"],DECIMAL:["triplesSameSubjectPath","?[.,?triplesBlock]"],DOUBLE:["triplesSameSubjectPath","?[.,?triplesBlock]"],INTEGER_POSITIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DECIMAL_POSITIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DOUBLE_POSITIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],INTEGER_NEGATIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DECIMAL_NEGATIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DOUBLE_NEGATIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"]},triplesNode:{"(":["collection"],"[":["blankNodePropertyList"]},triplesNodePath:{"(":["collectionPath"],"[":["blankNodePropertyListPath"]},triplesSameSubject:{VAR1:["varOrTerm","propertyListNotEmpty"],VAR2:["varOrTerm","propertyListNotEmpty"],NIL:["varOrTerm","propertyListNotEmpty"],IRI_REF:["varOrTerm","propertyListNotEmpty"],TRUE:["varOrTerm","propertyListNotEmpty"],FALSE:["varOrTerm","propertyListNotEmpty"],BLANK_NODE_LABEL:["varOrTerm","propertyListNotEmpty"],ANON:["varOrTerm","propertyListNotEmpty"],PNAME_LN:["varOrTerm","propertyListNotEmpty"],PNAME_NS:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL1:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL2:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL_LONG1:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL_LONG2:["varOrTerm","propertyListNotEmpty"],INTEGER:["varOrTerm","propertyListNotEmpty"],DECIMAL:["varOrTerm","propertyListNotEmpty"],DOUBLE:["varOrTerm","propertyListNotEmpty"],INTEGER_POSITIVE:["varOrTerm","propertyListNotEmpty"],DECIMAL_POSITIVE:["varOrTerm","propertyListNotEmpty"],DOUBLE_POSITIVE:["varOrTerm","propertyListNotEmpty"],INTEGER_NEGATIVE:["varOrTerm","propertyListNotEmpty"],DECIMAL_NEGATIVE:["varOrTerm","propertyListNotEmpty"],DOUBLE_NEGATIVE:["varOrTerm","propertyListNotEmpty"],"(":["triplesNode","propertyList"],"[":["triplesNode","propertyList"]},triplesSameSubjectPath:{VAR1:["varOrTerm","propertyListPathNotEmpty"],VAR2:["varOrTerm","propertyListPathNotEmpty"],NIL:["varOrTerm","propertyListPathNotEmpty"],IRI_REF:["varOrTerm","propertyListPathNotEmpty"],TRUE:["varOrTerm","propertyListPathNotEmpty"],FALSE:["varOrTerm","propertyListPathNotEmpty"],BLANK_NODE_LABEL:["varOrTerm","propertyListPathNotEmpty"],ANON:["varOrTerm","propertyListPathNotEmpty"],PNAME_LN:["varOrTerm","propertyListPathNotEmpty"],PNAME_NS:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL1:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL2:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL_LONG1:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL_LONG2:["varOrTerm","propertyListPathNotEmpty"],INTEGER:["varOrTerm","propertyListPathNotEmpty"],DECIMAL:["varOrTerm","propertyListPathNotEmpty"],DOUBLE:["varOrTerm","propertyListPathNotEmpty"],INTEGER_POSITIVE:["varOrTerm","propertyListPathNotEmpty"],DECIMAL_POSITIVE:["varOrTerm","propertyListPathNotEmpty"],DOUBLE_POSITIVE:["varOrTerm","propertyListPathNotEmpty"],INTEGER_NEGATIVE:["varOrTerm","propertyListPathNotEmpty"],DECIMAL_NEGATIVE:["varOrTerm","propertyListPathNotEmpty"],DOUBLE_NEGATIVE:["varOrTerm","propertyListPathNotEmpty"],"(":["triplesNodePath","propertyListPath"],"[":["triplesNodePath","propertyListPath"]},triplesTemplate:{VAR1:["triplesSameSubject","?[.,?triplesTemplate]"],VAR2:["triplesSameSubject","?[.,?triplesTemplate]"],NIL:["triplesSameSubject","?[.,?triplesTemplate]"],"(":["triplesSameSubject","?[.,?triplesTemplate]"],"[":["triplesSameSubject","?[.,?triplesTemplate]"],IRI_REF:["triplesSameSubject","?[.,?triplesTemplate]"],TRUE:["triplesSameSubject","?[.,?triplesTemplate]"],FALSE:["triplesSameSubject","?[.,?triplesTemplate]"],BLANK_NODE_LABEL:["triplesSameSubject","?[.,?triplesTemplate]"],ANON:["triplesSameSubject","?[.,?triplesTemplate]"],PNAME_LN:["triplesSameSubject","?[.,?triplesTemplate]"],PNAME_NS:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL1:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL2:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL_LONG1:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL_LONG2:["triplesSameSubject","?[.,?triplesTemplate]"],INTEGER:["triplesSameSubject","?[.,?triplesTemplate]"],DECIMAL:["triplesSameSubject","?[.,?triplesTemplate]"],DOUBLE:["triplesSameSubject","?[.,?triplesTemplate]"],INTEGER_POSITIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DECIMAL_POSITIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DOUBLE_POSITIVE:["triplesSameSubject","?[.,?triplesTemplate]"],INTEGER_NEGATIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DECIMAL_NEGATIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DOUBLE_NEGATIVE:["triplesSameSubject","?[.,?triplesTemplate]"]},unaryExpression:{"!":["!","primaryExpression"],"+":["+","primaryExpression"],"-":["-","primaryExpression"],VAR1:["primaryExpression"],VAR2:["primaryExpression"],"(":["primaryExpression"],STR:["primaryExpression"],LANG:["primaryExpression"],LANGMATCHES:["primaryExpression"],DATATYPE:["primaryExpression"],BOUND:["primaryExpression"],IRI:["primaryExpression"],URI:["primaryExpression"],BNODE:["primaryExpression"],RAND:["primaryExpression"],ABS:["primaryExpression"],CEIL:["primaryExpression"],FLOOR:["primaryExpression"],ROUND:["primaryExpression"],CONCAT:["primaryExpression"],STRLEN:["primaryExpression"],UCASE:["primaryExpression"],LCASE:["primaryExpression"],ENCODE_FOR_URI:["primaryExpression"],CONTAINS:["primaryExpression"],STRSTARTS:["primaryExpression"],STRENDS:["primaryExpression"],STRBEFORE:["primaryExpression"],STRAFTER:["primaryExpression"],YEAR:["primaryExpression"],MONTH:["primaryExpression"],DAY:["primaryExpression"],HOURS:["primaryExpression"],MINUTES:["primaryExpression"],SECONDS:["primaryExpression"],TIMEZONE:["primaryExpression"],TZ:["primaryExpression"],NOW:["primaryExpression"],UUID:["primaryExpression"],STRUUID:["primaryExpression"],MD5:["primaryExpression"],SHA1:["primaryExpression"],SHA256:["primaryExpression"],SHA384:["primaryExpression"],SHA512:["primaryExpression"],COALESCE:["primaryExpression"],IF:["primaryExpression"],STRLANG:["primaryExpression"],STRDT:["primaryExpression"],SAMETERM:["primaryExpression"],ISIRI:["primaryExpression"],ISURI:["primaryExpression"],ISBLANK:["primaryExpression"],ISLITERAL:["primaryExpression"],ISNUMERIC:["primaryExpression"],TRUE:["primaryExpression"],FALSE:["primaryExpression"],COUNT:["primaryExpression"],SUM:["primaryExpression"],MIN:["primaryExpression"],MAX:["primaryExpression"],AVG:["primaryExpression"],SAMPLE:["primaryExpression"],GROUP_CONCAT:["primaryExpression"],SUBSTR:["primaryExpression"],REPLACE:["primaryExpression"],REGEX:["primaryExpression"],EXISTS:["primaryExpression"],NOT:["primaryExpression"],IRI_REF:["primaryExpression"],STRING_LITERAL1:["primaryExpression"],STRING_LITERAL2:["primaryExpression"],STRING_LITERAL_LONG1:["primaryExpression"],STRING_LITERAL_LONG2:["primaryExpression"],INTEGER:["primaryExpression"],DECIMAL:["primaryExpression"],DOUBLE:["primaryExpression"],INTEGER_POSITIVE:["primaryExpression"],DECIMAL_POSITIVE:["primaryExpression"],DOUBLE_POSITIVE:["primaryExpression"],INTEGER_NEGATIVE:["primaryExpression"],DECIMAL_NEGATIVE:["primaryExpression"],DOUBLE_NEGATIVE:["primaryExpression"],PNAME_LN:["primaryExpression"],PNAME_NS:["primaryExpression"]},update:{INSERT:["prologue","?[update1,?[;,update]]"],DELETE:["prologue","?[update1,?[;,update]]"],LOAD:["prologue","?[update1,?[;,update]]"],CLEAR:["prologue","?[update1,?[;,update]]"],DROP:["prologue","?[update1,?[;,update]]"],ADD:["prologue","?[update1,?[;,update]]"],MOVE:["prologue","?[update1,?[;,update]]"],COPY:["prologue","?[update1,?[;,update]]"],CREATE:["prologue","?[update1,?[;,update]]"],WITH:["prologue","?[update1,?[;,update]]"],BASE:["prologue","?[update1,?[;,update]]"],PREFIX:["prologue","?[update1,?[;,update]]"],$:["prologue","?[update1,?[;,update]]"]},update1:{LOAD:["load"],CLEAR:["clear"],DROP:["drop"],ADD:["add"],MOVE:["move"],COPY:["copy"],CREATE:["create"],INSERT:["INSERT","insert1"],DELETE:["DELETE","delete1"],WITH:["modify"]},updateAll:{INSERT:["?[update1,?[;,update]]"],DELETE:["?[update1,?[;,update]]"],LOAD:["?[update1,?[;,update]]"],CLEAR:["?[update1,?[;,update]]"],DROP:["?[update1,?[;,update]]"],ADD:["?[update1,?[;,update]]"],MOVE:["?[update1,?[;,update]]"],COPY:["?[update1,?[;,update]]"],CREATE:["?[update1,?[;,update]]"],WITH:["?[update1,?[;,update]]"],$:["?[update1,?[;,update]]"]},usingClause:{USING:["USING","or([iriRef,[NAMED,iriRef]])"]},valueLogical:{"!":["relationalExpression"],"+":["relationalExpression"],"-":["relationalExpression"],VAR1:["relationalExpression"],VAR2:["relationalExpression"],"(":["relationalExpression"],STR:["relationalExpression"],LANG:["relationalExpression"],LANGMATCHES:["relationalExpression"],DATATYPE:["relationalExpression"],BOUND:["relationalExpression"],IRI:["relationalExpression"],URI:["relationalExpression"],BNODE:["relationalExpression"],RAND:["relationalExpression"],ABS:["relationalExpression"],CEIL:["relationalExpression"],FLOOR:["relationalExpression"],ROUND:["relationalExpression"],CONCAT:["relationalExpression"],STRLEN:["relationalExpression"],UCASE:["relationalExpression"],LCASE:["relationalExpression"],ENCODE_FOR_URI:["relationalExpression"],CONTAINS:["relationalExpression"],STRSTARTS:["relationalExpression"],STRENDS:["relationalExpression"],STRBEFORE:["relationalExpression"],STRAFTER:["relationalExpression"],YEAR:["relationalExpression"],MONTH:["relationalExpression"],DAY:["relationalExpression"],HOURS:["relationalExpression"],MINUTES:["relationalExpression"],SECONDS:["relationalExpression"],TIMEZONE:["relationalExpression"],TZ:["relationalExpression"],NOW:["relationalExpression"],UUID:["relationalExpression"],STRUUID:["relationalExpression"],MD5:["relationalExpression"],SHA1:["relationalExpression"],SHA256:["relationalExpression"],SHA384:["relationalExpression"],SHA512:["relationalExpression"],COALESCE:["relationalExpression"],IF:["relationalExpression"],STRLANG:["relationalExpression"],STRDT:["relationalExpression"],SAMETERM:["relationalExpression"],ISIRI:["relationalExpression"],ISURI:["relationalExpression"],ISBLANK:["relationalExpression"],ISLITERAL:["relationalExpression"],ISNUMERIC:["relationalExpression"],TRUE:["relationalExpression"],FALSE:["relationalExpression"],COUNT:["relationalExpression"],SUM:["relationalExpression"],MIN:["relationalExpression"],MAX:["relationalExpression"],AVG:["relationalExpression"],SAMPLE:["relationalExpression"],GROUP_CONCAT:["relationalExpression"],SUBSTR:["relationalExpression"],REPLACE:["relationalExpression"],REGEX:["relationalExpression"],EXISTS:["relationalExpression"],NOT:["relationalExpression"],IRI_REF:["relationalExpression"],STRING_LITERAL1:["relationalExpression"],STRING_LITERAL2:["relationalExpression"],STRING_LITERAL_LONG1:["relationalExpression"],STRING_LITERAL_LONG2:["relationalExpression"],INTEGER:["relationalExpression"],DECIMAL:["relationalExpression"],DOUBLE:["relationalExpression"],INTEGER_POSITIVE:["relationalExpression"],DECIMAL_POSITIVE:["relationalExpression"],DOUBLE_POSITIVE:["relationalExpression"],INTEGER_NEGATIVE:["relationalExpression"],DECIMAL_NEGATIVE:["relationalExpression"],DOUBLE_NEGATIVE:["relationalExpression"],PNAME_LN:["relationalExpression"],PNAME_NS:["relationalExpression"]},valuesClause:{VALUES:["VALUES","dataBlock"],$:[],"}":[]},var:{VAR1:["VAR1"],VAR2:["VAR2"]},varOrIRIref:{VAR1:["var"],VAR2:["var"],IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"]},varOrTerm:{VAR1:["var"],VAR2:["var"],NIL:["graphTerm"],IRI_REF:["graphTerm"],TRUE:["graphTerm"],FALSE:["graphTerm"],BLANK_NODE_LABEL:["graphTerm"],ANON:["graphTerm"],PNAME_LN:["graphTerm"],PNAME_NS:["graphTerm"],STRING_LITERAL1:["graphTerm"],STRING_LITERAL2:["graphTerm"],STRING_LITERAL_LONG1:["graphTerm"],STRING_LITERAL_LONG2:["graphTerm"],INTEGER:["graphTerm"],DECIMAL:["graphTerm"],DOUBLE:["graphTerm"],INTEGER_POSITIVE:["graphTerm"],DECIMAL_POSITIVE:["graphTerm"],DOUBLE_POSITIVE:["graphTerm"],INTEGER_NEGATIVE:["graphTerm"],DECIMAL_NEGATIVE:["graphTerm"],DOUBLE_NEGATIVE:["graphTerm"]},verb:{VAR1:["storeProperty","varOrIRIref"],VAR2:["storeProperty","varOrIRIref"],IRI_REF:["storeProperty","varOrIRIref"],PNAME_LN:["storeProperty","varOrIRIref"],PNAME_NS:["storeProperty","varOrIRIref"],a:["storeProperty","a"]},verbPath:{"^":["path"],a:["path"],"!":["path"],"(":["path"],IRI_REF:["path"],PNAME_LN:["path"],PNAME_NS:["path"]},verbSimple:{VAR1:["var"],VAR2:["var"]},whereClause:{"{":["?WHERE","groupGraphPattern"],WHERE:["?WHERE","groupGraphPattern"]}},keywords:/^(GROUP_CONCAT|DATATYPE|BASE|PREFIX|SELECT|CONSTRUCT|DESCRIBE|ASK|FROM|NAMED|ORDER|BY|LIMIT|ASC|DESC|OFFSET|DISTINCT|REDUCED|WHERE|GRAPH|OPTIONAL|UNION|FILTER|GROUP|HAVING|AS|VALUES|LOAD|CLEAR|DROP|CREATE|MOVE|COPY|SILENT|INSERT|DELETE|DATA|WITH|TO|USING|NAMED|MINUS|BIND|LANGMATCHES|LANG|BOUND|SAMETERM|ISIRI|ISURI|ISBLANK|ISLITERAL|REGEX|TRUE|FALSE|UNDEF|ADD|DEFAULT|ALL|SERVICE|INTO|IN|NOT|IRI|URI|BNODE|RAND|ABS|CEIL|FLOOR|ROUND|CONCAT|STRLEN|UCASE|LCASE|ENCODE_FOR_URI|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|NOW|UUID|STRUUID|MD5|SHA1|SHA256|SHA384|SHA512|COALESCE|IF|STRLANG|STRDT|ISNUMERIC|SUBSTR|REPLACE|EXISTS|COUNT|SUM|MIN|MAX|AVG|SAMPLE|SEPARATOR|STR)/i,punct:/^(\*|a|\.|\{|\}|,|\(|\)|;|\[|\]|\|\||&&|=|!=|!|<=|>=|<|>|\+|-|\/|\^\^|\?|\||\^)/,startSymbol:"sparql11",acceptEmpty:!0}},function(e,t,r){"use strict";var n=r(17);n.defineMode("sparql11",function(e,t){function n(e){var t=[],r=a[e];if(void 0!=r)for(var n in r)t.push(n.toString());else t.push(e);return t}function i(e,t){function r(){var r=e.column();t.errorStartPos=r,t.errorEndPos=r+i.text.length}0==e.pos&&(t.possibleCurrent=t.possibleNext);var i=function(){var r=null;if(t.inLiteral){var n=!1;if(r=e.match(y[t.inLiteral].contents.regex,!0,!1),r&&0==r[0].length&&(r=e.match(y[t.inLiteral].closing.regex,!0,!1),n=!0),r&&r[0].length>0){var i={quotePos:n?"end":"content",cat:g[t.inLiteral].CAT,style:y[t.inLiteral].complete.style,text:r[0],start:e.start};return n&&(t.inLiteral=!1),i}}for(var o in y)if(r=e.match(y[o].quotes.regex,!0,!1)){var a;return t.inLiteral?(t.inLiteral=!1,a="end"):(t.inLiteral=o,a="start"),{cat:g[o].CAT,style:y[o].quotes.style,text:r[0],quotePos:a,start:e.start}}for(var u=0;u<x.length;++u)if(r=e.match(x[u].regex,!0,!1))return{cat:x[u].name,style:x[u].style,text:r[0],start:e.start};return(r=e.match(s.keywords,!0,!1))?{cat:e.current().toUpperCase(),style:"keyword",text:r[0],start:e.start}:(r=e.match(s.punct,!0,!1))?{cat:e.current(),style:"punc",text:r[0],start:e.start}:(r=e.match(/^.[A-Za-z0-9]*/,!0,!1),{cat:"<invalid_token>",style:"error",text:r[0],start:e.start})}();if("<invalid_token>"==i.cat)return 1==t.OK&&(t.OK=!1,r()),t.complete=!1,i.style;if("WS"==i.cat||"COMMENT"==i.cat||i.quotePos&&"end"!=i.quotePos)return t.possibleCurrent=t.possibleNext,i.style;var o,u=!1,l=i.cat;if(!i.quotePos||"end"==i.quotePos)for(;t.stack.length>0&&l&&t.OK&&!u;)if(o=t.stack.pop(),a[o]){var c=a[o][l];if(void 0!=c&&function(e){return(t.allowVars||"var"!=e)&&(t.allowBnodes||"blankNode"!=e&&"blankNodePropertyList"!=e&&"blankNodePropertyListPath"!=e)}(o)){for(var p=c.length-1;p>=0;--p)t.stack.push(c[p]);!function(e){switch(t.inPrefixDecl="prefixDecl"===e,e){case"disallowVars":t.allowVars=!1;break;case"allowVars":t.allowVars=!0;break;case"disallowBnodes":t.allowBnodes=!1;break;case"allowBnodes":t.allowBnodes=!0;break;case"storeProperty":t.storeProperty=!0}}(o)}else t.OK=!1,t.complete=!1,r(),t.stack.push(o)}else if(o==l){t.inPrefixDecl&&("PNAME_NS"===o&&i.text.length>0?t.currentPnameNs=i.text.slice(0,-1):void 0!==t.currentPnameNs&&i.text.length>2&&(t.prefixes[t.currentPnameNs]=i.text.slice(1,-1),t.currentPnameNs=void 0)),u=!0,function(e){null==t.queryType&&("SELECT"!=e&&"CONSTRUCT"!=e&&"ASK"!=e&&"DESCRIBE"!=e&&"INSERT"!=e&&"DELETE"!=e&&"LOAD"!=e&&"CLEAR"!=e&&"CREATE"!=e&&"DROP"!=e&&"COPY"!=e&&"MOVE"!=e&&"ADD"!=e||(t.queryType=e))}(o);for(var f=!0,d=t.stack.length;d>0;--d){var h=a[t.stack[d-1]];h&&h.$||(f=!1)}if(t.complete=f,t.storeProperty&&"punc"!=l.cat&&(t.lastProperty=i.text,t.storeProperty=!1),!t.inPrefixDecl&&("PNAME_NS"===l||"PNAME_LN"===l)){var v=i.text.indexOf(":");if(v>=0){var m=i.text.slice(0,v);!t.prefixes[m]&&["bif","xsd","sql"].indexOf(m)<0&&(t.OK=!1,r(),t.errorMsg="Prefix '"+m+"' is not defined")}}}else t.OK=!1,t.complete=!1,r();return!u&&t.OK&&(t.OK=!1,t.complete=!1,r()),t.possibleCurrent.indexOf("a")>=0&&(t.lastPredicateOffset=i.start),t.possibleCurrent=t.possibleNext,t.possibleNext=n(t.stack[t.stack.length-1]),i.style}function o(t,r){if(t.inLiteral)return 0;if(t.stack.length&&"?[or([verbPath,verbSimple]),objectList]"==t.stack[t.stack.length-1])return t.lastPredicateOffset;var n=0,i=t.stack.length-1;if(/^[\}\]\)]/.test(r)){for(var o=r.substr(0,1);i>=0;--i)if(t.stack[i]==o){--i;break}}else{var s=S[t.stack[i]];s&&(n+=s,--i)}for(;i>=0;--i){var s=T[t.stack[i]];s&&(n+=s)}return n*e.indentUnit}var s=(e.indentUnit,r(474)),a=s.table,u="[0-9A-Fa-f]",l="(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD])(((([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]))|\\.)*(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])))?)?:",c="[eE][\\+-]?[0-9]+",p="(([0-9]+\\.[0-9]*)|(\\.[0-9]+))",f="(([0-9]+\\.[0-9]*"+c+")|(\\.[0-9]+"+c+")|([0-9]+"+c+"))",d="\\\\[tbnrf\\\\\"']",h=u+"{4}",v="(\\\\u"+h+"|\\\\U00(10|0"+u+")"+h+")",g={SINGLE:{CAT:"STRING_LITERAL_LONG1",QUOTES:"'''",CONTENTS:"(('|'')?([^'\\\\]|"+d+"|"+v+"))*"},DOUBLE:{CAT:"STRING_LITERAL_LONG2",QUOTES:'"""',CONTENTS:'(("|"")?([^"\\\\]|'+d+"|"+v+"))*"}};for(var m in g)g[m].COMPLETE=g[m].QUOTES+g[m].CONTENTS+g[m].QUOTES;var y={};for(var m in g)y[m]={complete:{name:"STRING_LITERAL_LONG_"+m,regex:new RegExp("^"+g[m].COMPLETE),style:"string"},contents:{name:"STRING_LITERAL_LONG_"+m,regex:new RegExp("^"+g[m].CONTENTS),style:"string"},closing:{name:"STRING_LITERAL_LONG_"+m,regex:new RegExp("^"+g[m].CONTENTS+g[m].QUOTES),style:"string"},quotes:{name:"STRING_LITERAL_LONG_QUOTES_"+m,regex:new RegExp("^"+g[m].QUOTES),style:"string"}};var b="[\\x20\\x09\\x0D\\x0A]",E="#([^\\n\\r]*[\\n\\r]|[^\\n\\r]*$)",x=[{name:"WS",regex:new RegExp("^"+b+"+"),style:"ws"},{name:"COMMENT",regex:new RegExp("^"+E),style:"comment"},{name:"IRI_REF",regex:new RegExp('^<[^<>"`|{}^\\\0- ]*>'),style:"variable-3"},{name:"VAR1",regex:new RegExp("^\\?([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|[0-9])([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])*"),style:"atom"},{name:"VAR2",regex:new RegExp("^\\$([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|[0-9])([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])*"),style:"atom"},{name:"LANGTAG",regex:new RegExp("^@[a-zA-Z]+(-[a-zA-Z0-9]+)*"),style:"meta"},{name:"DOUBLE",regex:new RegExp("^"+f),style:"number"},{name:"DECIMAL",regex:new RegExp("^"+p),style:"number"},{name:"INTEGER",regex:new RegExp("^[0-9]+"),style:"number"},{name:"DOUBLE_POSITIVE",regex:new RegExp("^\\+(([0-9]+\\.[0-9]*[eE][\\+-]?[0-9]+)|(\\.[0-9]+[eE][\\+-]?[0-9]+)|([0-9]+[eE][\\+-]?[0-9]+))"),style:"number"},{name:"DECIMAL_POSITIVE",regex:new RegExp("^\\+(([0-9]+\\.[0-9]*)|(\\.[0-9]+))"),style:"number"},{name:"INTEGER_POSITIVE",regex:new RegExp("^\\+[0-9]+"),style:"number"},{name:"DOUBLE_NEGATIVE",regex:new RegExp("^-(([0-9]+\\.[0-9]*[eE][\\+-]?[0-9]+)|(\\.[0-9]+[eE][\\+-]?[0-9]+)|([0-9]+[eE][\\+-]?[0-9]+))"),style:"number"},{name:"DECIMAL_NEGATIVE",regex:new RegExp("^-(([0-9]+\\.[0-9]*)|(\\.[0-9]+))"),style:"number"},{name:"INTEGER_NEGATIVE",regex:new RegExp("^-[0-9]+"),style:"number"},{name:"STRING_LITERAL1",regex:new RegExp("^'(([^\\x27\\x5C\\x0A\\x0D])|\\\\[tbnrf\\\\\"']|(\\\\u[0-9A-Fa-f]{4}|\\\\U00(10|0[0-9A-Fa-f])[0-9A-Fa-f]{4}))*'"),style:"string"},{name:"STRING_LITERAL2",regex:new RegExp('^"(([^\\x22\\x5C\\x0A\\x0D])|\\\\[tbnrf\\\\"\']|(\\\\u[0-9A-Fa-f]{4}|\\\\U00(10|0[0-9A-Fa-f])[0-9A-Fa-f]{4}))*"'),style:"string"},{name:"NIL",regex:new RegExp("^\\(([\\x20\\x09\\x0D\\x0A]|(#([^\\n\\r]*[\\n\\r]|[^\\n\\r]*$)))*\\)"),style:"punc"},{name:"ANON",regex:new RegExp("^\\[([\\x20\\x09\\x0D\\x0A]|(#([^\\n\\r]*[\\n\\r]|[^\\n\\r]*$)))*\\]"),style:"punc"},{name:"PNAME_LN",regex:new RegExp("^(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD])(((([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]))|\\.)*(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])))?)?:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|:|[0-9]|((%[0-9A-Fa-f][0-9A-Fa-f])|(\\\\[_~\\.\\-!\\$&'\\(\\)\\*\\+,;=/\\?#@%])))((([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])|\\.|:|((%[0-9A-Fa-f][0-9A-Fa-f])|(\\\\[_~\\.\\-!\\$&'\\(\\)\\*\\+,;=/\\?#@%])))*(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])|:|((%[0-9A-Fa-f][0-9A-Fa-f])|(\\\\[_~\\.\\-!\\$&'\\(\\)\\*\\+,;=/\\?#@%]))))?"),style:"string-2"},{name:"PNAME_NS",regex:new RegExp("^"+l),style:"string-2"},{name:"BLANK_NODE_LABEL",regex:new RegExp("^_:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|[0-9])((([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])|\\.)*([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]))?"),style:"string-2"}],S={"*[,, object]":3,"*[(,),object]":3,"*[(,),objectPath]":3,"*[/,pathEltOrInverse]":2,object:2,objectPath:2,objectList:2,objectListPath:2,storeProperty:2,pathMod:2,"?pathMod":2,propertyListNotEmpty:1,propertyList:1,propertyListPath:1,propertyListPathNotEmpty:1,"?[verb,objectList]":1},T={"}":1,"]":1,")":1,"{":-1,"(":-1,"[":-1};return{token:i,startState:function(t){return{tokenize:i,OK:!0,complete:s.acceptEmpty,errorStartPos:null,errorEndPos:null,queryType:null,possibleCurrent:n(s.startSymbol),possibleNext:n(s.startSymbol),allowVars:!0,allowBnodes:!0,storeProperty:!1,lastProperty:"",inLiteral:!1,stack:[s.startSymbol],lastPredicateOffset:e.indentUnit,prefixes:{}}},indent:o,electricChars:"}])"}}),n.defineMIME("application/x-sparql-query","sparql11")},function(e,t){var r=e.exports=function(){this.words=0,this.prefixes=0,this.children=[]};r.prototype={insert:function(e,t){if(0!=e.length){var n,i,o=this;if(void 0===t&&(t=0),t===e.length)return void o.words++;o.prefixes++,n=e[t],void 0===o.children[n]&&(o.children[n]=new r),i=o.children[n],i.insert(e,t+1)}},remove:function(e,t){if(0!=e.length){var r,n,i=this;if(void 0===t&&(t=0),void 0!==i){if(t===e.length)return void i.words--;i.prefixes--,r=e[t],n=i.children[r],n.remove(e,t+1)}}},update:function(e,t){0!=e.length&&0!=t.length&&(this.remove(e),this.insert(t))},countWord:function(e,t){if(0==e.length)return 0;var r,n,i=this,o=0;return void 0===t&&(t=0),t===e.length?i.words:(r=e[t],n=i.children[r],void 0!==n&&(o=n.countWord(e,t+1)),o)},countPrefix:function(e,t){if(0==e.length)return 0;var r,n,i=this,o=0;if(void 0===t&&(t=0),t===e.length)return i.prefixes;var r=e[t];return n=i.children[r],void 0!==n&&(o=n.countPrefix(e,t+1)),o},find:function(e){return 0!=e.length&&this.countWord(e)>0},getAllWords:function(e){var t,r,n=this,i=[];if(void 0===e&&(e=""),void 0===n)return[];n.words>0&&i.push(e);for(t in n.children)n.children.hasOwnProperty(t)&&(r=n.children[t],i=i.concat(r.getAllWords(e+t)));return i},autoComplete:function(e,t){var r,n,i=this;return 0==e.length?void 0===t?i.getAllWords(e):[]:(void 0===t&&(t=0),r=e[t],n=i.children[r],void 0===n?[]:t===e.length-1?n.getAllWords(e):n.autoComplete(e,t+1))}}},function(e,t){e.exports={_args:[["yasgui-yasqe@2.11.14","/Users/esjewett/git_repos/fibra"]],_from:"yasgui-yasqe@2.11.14",_id:"yasgui-yasqe@2.11.14",_inBundle:!1,_integrity:"sha512-qtdtT+RmeQhHP6tTL7mSSKbWWuDZ5m17MTHlGbhZYPKZf2Wx3nieGLqip4Pb5eGXryj11rNywgYMm7KN0wdHmw==",_location:"/yasgui-yasqe",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"yasgui-yasqe@2.11.14",name:"yasgui-yasqe",escapedName:"yasgui-yasqe",rawSpec:"2.11.14",saveSpec:null,fetchSpec:"2.11.14"},_requiredBy:[],_resolved:"https://registry.npmjs.org/yasgui-yasqe/-/yasgui-yasqe-2.11.14.tgz",_spec:"2.11.14",_where:"/Users/esjewett/git_repos/fibra",author:{name:"Laurens Rietveld"},bugs:{url:"https://github.com/YASGUI/YASQE/issues/"},dependencies:{codemirror:"5.17.0",jquery:"^2.2.4","node-sass":"^3.8.0",prettier:"^1.4.4","require-dir":"^0.3.0","run-sequence":"^1.2.2","vinyl-buffer":"^1.0.0","vinyl-source-stream":"~1.1.0","vinyl-transform":"1.0.0","yasgui-utils":"^1.6.7"},description:"Yet Another SPARQL Query Editor",devDependencies:{"bootstrap-sass":"^3.3.7",browserify:"^13.1.0","browserify-shim":"^3.8.12","browserify-transform-tools":"^1.6.0",exorcist:"^0.4.0",gulp:"^3.9.1","gulp-autoprefixer":"^3.1.0","gulp-bump":"^2.2.0","gulp-concat":"^2.6.0","gulp-connect":"^4.2.0","gulp-cssimport":"^3.1.0","gulp-cssnano":"^2.1.2","gulp-embedlr":"^0.5.2","gulp-filter":"^4.0.0","gulp-git":"^1.10.0","gulp-jsvalidate":"^2.1.0","gulp-livereload":"^3.8.1","gulp-notify":"^2.2.0","gulp-rename":"^1.2.2","gulp-sass":"^2.3.2","gulp-sourcemaps":"^1.6.0","gulp-streamify":"1.0.2","gulp-tag-version":"^1.3.0","gulp-uglify":"^1.5.4","node-sass":"^3.8.0","require-dir":"^0.3.0","run-sequence":"^1.2.2","vinyl-buffer":"^1.0.0","vinyl-source-stream":"~1.1.0","vinyl-transform":"1.0.0",watchify:"^3.7.0"},homepage:"http://yasqe.yasgui.org",keywords:["JavaScript","SPARQL","Editor","Semantic Web","Linked Data"],license:"MIT",main:"src/main.js",maintainers:[{name:"Laurens Rietveld",email:"laurens.rietveld@gmail.com",url:"http://laurensrietveld.nl"}],name:"yasgui-yasqe",optionalShim:{codemirror:{require:"codemirror",global:"CodeMirror"},jquery:{require:"jquery",global:"jQuery"},"../../lib/codemirror":{require:"codemirror",global:"CodeMirror"}},repository:{type:"git",url:"git+https://github.com/YASGUI/YASQE.git"},scripts:{build:"gulp",dev:"gulp serve",major:"gulp major",minor:"gulp minor",patch:"gulp patch"},version:"2.11.14"}},function(e,t,r){"use strict";var n=r(14),i=r(86),o=r(130),s=r(476);r(62);e.exports=function(e,t){var r={},u={},l={};t.on("cursorActivity",function(e,t){f(!0)}),t.on("change",function(){var e=[];for(var i in r)r[i].is(":visible")&&e.push(r[i]);if(e.length>0){var o=n(t.getWrapperElement()).find(".CodeMirror-vscrollbar"),s=0;o.is(":visible")&&(s=o.outerWidth()),e.forEach(function(e){e.css("right",s)})}});var c=function(e,r){l[e.name]=new s;for(var n=0;n<r.length;n++)l[e.name].insert(r[n]);var a=i.getPersistencyId(t,e.persistent);a&&o.storage.set(a,r,"month",t.options.onQuotaExceeded)},p=function(e,r){var n=u[e]=new r(t,e);if(n.name=e,n.bulk){var s=function(e){e&&e instanceof Array&&e.length>0&&c(n,e)};if(n.get instanceof Array)s(n.get);else{var a=null,l=i.getPersistencyId(t,n.persistent);l&&(a=o.storage.get(l)),a&&a.length>0?s(a):n.get instanceof Function&&(n.async?n.get(null,s):s(n.get()))}}},f=function(r){if(!t.somethingSelected()){for(var i in u)if(-1!=n.inArray(i,t.options.autocompleters)){var o=u[i];if(o.isValidCompletionPosition)if(o.isValidCompletionPosition()){if(!o.callbacks||!o.callbacks.validPosition||!1!==o.callbacks.validPosition(t,o)){var s=function(n){if(r&&(!n.autoShow||!n.bulk&&n.async))return!1;var i={closeCharacters:/(?=a)b/,completeSingle:!1};!n.bulk&&n.async&&(i.async=!0);var o=function(e,t){return d(n,t)};e.showHint(t,o,i);return!0}(o);if(s)break}}else o.callbacks&&o.callbacks.invalidPosition&&o.callbacks.invalidPosition(t,o)}}},d=function(e,r){var n=t.getCompleteToken();if(e.preProcessToken&&(n=e.preProcessToken(n)),n){if(e.bulk||!e.async)return function(t){var r=t.autocompletionString||t.string,n=[];if(l[e.name])n=l[e.name].autoComplete(r);else if("function"==typeof e.get&&0==e.async)n=e.get(r);else if("object"==typeof e.get)for(var i=r.length,o=0;o<e.get.length;o++){var s=e.get[o];s.slice(0,i)==r&&n.push(s)}return h(n,e,t)}(n);var i=function(t){r(h(t,e,n))};e.get(n,i)}},h=function(r,n,i){for(var o=[],s=0;s<r.length;s++){var u=r[s];n.postProcessToken&&(u=n.postProcessToken(i,u)),o.push({text:u,displayText:u,hint:a})}var l=t.getCursor(),c={completionToken:i.string,list:o,from:{line:l.line,ch:i.start},to:{line:l.line,ch:i.end}};if(n.callbacks)for(var p in n.callbacks)n.callbacks[p]&&e.on(c,p,n.callbacks[p]);return c};return{init:p,completers:u,notifications:{getEl:function(e){return n(r[e.name])},show:function(e,t){t.autoshow||(r[t.name]||(r[t.name]=n("<div class='completionNotification'></div>")),r[t.name].show().text("Press CTRL - <spacebar> to autocomplete").appendTo(n(e.getWrapperElement())))},hide:function(e,t){r[t.name]&&r[t.name].hide()}},autoComplete:f,getTrie:function(e){return"string"==typeof e?l[e]:l[e.name]}}};var a=function(e,t,r){r.text!=e.getTokenAt(e.getCursor()).string&&e.replaceRange(r.text,t.from,t.to)}},function(e,t,r){"use strict";r(14);e.exports=function(t,n){return{isValidCompletionPosition:function(){return e.exports.isValidCompletionPosition(t)},get:function(e,n){return r(39).fetchFromLov(t,this,e,n)},preProcessToken:function(r){return e.exports.preProcessToken(t,r)},postProcessToken:function(r,n){return e.exports.postProcessToken(t,r,n)},async:!0,bulk:!1,autoShow:!1,persistent:n,callbacks:{validPosition:t.autocompleters.notifications.show,invalidPosition:t.autocompleters.notifications.hide}}},e.exports.isValidCompletionPosition=function(e){var t=e.getCompleteToken();if(0==t.string.indexOf("?"))return!1;var r=e.getCursor(),n=e.getPreviousNonWsToken(r.line,t);return"a"==n.string||("rdf:type"==n.string||("rdfs:domain"==n.string||"rdfs:range"==n.string))},e.exports.preProcessToken=function(e,t){return r(39).preprocessResourceTokenForCompletion(e,t)},e.exports.postProcessToken=function(e,t,n){return r(39).postprocessResourceTokenForCompletion(e,t,n)}},function(e,t,r){"use strict";var n=r(14),i={"string-2":"prefixed",atom:"var"};e.exports=function(t,r){return t.on("change",function(){e.exports.appendPrefixIfNeeded(t,r)}),{isValidCompletionPosition:function(){return e.exports.isValidCompletionPosition(t)},get:function(t,r){n.get(e.exports.fetchFrom,function(e){var t=[];for(var n in e)if("bif"!=n){var i=n+": <"+e[n]+">";t.push(i)}t.sort(),r(t)})},preProcessToken:function(r){return e.exports.preprocessPrefixTokenForCompletion(t,r)},async:!0,bulk:!0,autoShow:!0,persistent:r,callbacks:{pick:function(){t.collapsePrefixes(!1)}}}},e.exports.isValidCompletionPosition=function(e){var t=e.getCursor(),r=e.getTokenAt(t);if(e.getLine(t.line).length>t.ch)return!1;if("ws"!=r.type&&(r=e.getCompleteToken()),0==!r.string.indexOf("a")&&-1==n.inArray("PNAME_NS",r.state.possibleCurrent))return!1;var i=e.getPreviousNonWsToken(t.line,r);return!(!i||"PREFIX"!=i.string.toUpperCase())},e.exports.preprocessPrefixTokenForCompletion=function(e,t){var r=e.getPreviousNonWsToken(e.getCursor().line,t);return r&&r.string&&":"==r.string.slice(-1)&&(t={start:r.start,end:t.end,string:r.string+" "+t.string,state:t.state}),t},e.exports.appendPrefixIfNeeded=function(e,t){if(e.autocompleters.getTrie(t)&&e.options.autocompleters&&-1!=e.options.autocompleters.indexOf(t)){var r=e.getCursor(),n=e.getTokenAt(r);if("prefixed"==i[n.type]){var o=n.string.indexOf(":");if(-1!==o){var s=e.getPreviousNonWsToken(r.line,n).string.toUpperCase(),a=e.getTokenAt({line:r.line,ch:n.start});if("PREFIX"!=s&&("ws"==a.type||null==a.type)){var u=n.string.substring(0,o+1);if(null==e.getPrefixesFromQuery()[u.slice(0,-1)]){var l=e.autocompleters.getTrie(t).autoComplete(u);l.length>0&&e.addPrefixes(l[0])}}}}}},e.exports.fetchFrom=(0===window.location.protocol.indexOf("http")?"//":"http://")+"prefix.cc/popular/all.file.json"},function(e,t,r){"use strict";var n=r(14);e.exports=function(t,n){return{isValidCompletionPosition:function(){return e.exports.isValidCompletionPosition(t)},get:function(e,n){return r(39).fetchFromLov(t,this,e,n)},preProcessToken:function(r){return e.exports.preProcessToken(t,r)},postProcessToken:function(r,n){return e.exports.postProcessToken(t,r,n)},async:!0,bulk:!1,autoShow:!1,persistent:n,callbacks:{validPosition:t.autocompleters.notifications.show,invalidPosition:t.autocompleters.notifications.hide}}},e.exports.isValidCompletionPosition=function(e){var t=e.getCompleteToken();if(0==t.string.length)return!1;if(0==t.string.indexOf("?"))return!1;if(n.inArray("a",t.state.possibleCurrent)>=0)return!0;var r=e.getCursor();return"rdfs:subPropertyOf"==e.getPreviousNonWsToken(r.line,t).string},e.exports.preProcessToken=function(e,t){return r(39).preprocessResourceTokenForCompletion(e,t)},e.exports.postProcessToken=function(e,t,n){return r(39).postprocessResourceTokenForCompletion(e,t,n)}},function(e,t,r){"use strict";var n=r(14);e.exports=function(e){return{isValidCompletionPosition:function(){var t=e.getTokenAt(e.getCursor());return!("ws"==t.type||!(t=e.getCompleteToken(t))||0!=t.string.indexOf("?"))},get:function(t){if(0==t.trim().length)return[];var r={};n(e.getWrapperElement()).find(".cm-atom").each(function(){var e=this.innerHTML;if(0==e.indexOf("?")){var i=n(this).next();if(i.attr("class")&&i.attr("class").indexOf("cm-atom")>=0&&(e+=i.text()),e.length<=1)return;if(0!==e.indexOf(t))return;if(e==t)return;r[e]=!0}});var i=[];for(var o in r)i.push(o);return i.sort(),i},async:!1,bulk:!1,autoShow:!0}}},function(e,t,r){var n=r(209),i=r(14),o=function(e){return"'"+e+"'"};e.exports={createCurlString:function(e,t){var r=n.getAjaxConfig(e,t),s=r.url;if(0!==r.url.indexOf("http")){var s=window.location.protocol+"//"+window.location.host;0===r.url.indexOf("/")?s+=r.url:s+=window.location.pathname+r.url}var a=["curl",s,"-X",e.options.sparql.requestMethod];"POST"==e.options.sparql.requestMethod&&a.push("--data "+o(i.param(r.data)));for(var u in r.headers)a.push("-H "+o(u+": "+r.headers[u]));return a.join(" ")}}},function(e,t,r){var n=r(14),i=r(62);i.defaults=n.extend(!0,{},i.defaults,{mode:"sparql11",value:"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nSELECT * WHERE {\n  ?sub ?pred ?obj .\n} \nLIMIT 10",highlightSelectionMatches:{showToken:/\w/},tabMode:"indent",lineNumbers:!0,lineWrapping:!0,backdrop:!1,foldGutter:{rangeFinder:new i.fold.combine(i.fold.brace,i.fold.prefix)},collapsePrefixesOnLoad:!1,gutters:["gutterErrorBar","CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,fixedGutter:!0,syntaxErrorCheck:!0,onQuotaExceeded:function(e){console.warn("Could not store in localstorage. Skipping..",e)},extraKeys:{"Ctrl-Space":i.autoComplete,"Cmd-Space":i.autoComplete,"Ctrl-D":i.deleteLine,"Ctrl-K":i.deleteLine,"Shift-Ctrl-K":i.deleteLine,"Cmd-D":i.deleteLine,"Cmd-K":i.deleteLine,"Ctrl-/":i.commentLines,"Cmd-/":i.commentLines,"Ctrl-Alt-Down":i.copyLineDown,"Ctrl-Alt-Up":i.copyLineUp,"Cmd-Alt-Down":i.copyLineDown,"Cmd-Alt-Up":i.copyLineUp,"Shift-Ctrl-F":i.doAutoFormat,"Shift-Cmd-F":i.doAutoFormat,"Ctrl-]":i.indentMore,"Cmd-]":i.indentMore,"Ctrl-[":i.indentLess,"Cmd-[":i.indentLess,"Ctrl-S":i.storeQuery,"Cmd-S":i.storeQuery,"Ctrl-Enter":i.executeQuery,"Cmd-Enter":i.executeQuery,F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}},cursorHeight:.9,createShareLink:i.createShareLink,createShortLink:null,consumeShareLink:i.consumeShareLink,persistent:function(e){return"yasqe_"+n(e.getWrapperElement()).closest("[id]").attr("id")+"_queryVal"},sparql:{queryName:function(e){return e.getQueryMode()},showQueryButton:!1,endpoint:"http://dbpedia.org/sparql",requestMethod:"POST",acceptHeaderGraph:"text/turtle,*/*;q=0.9",acceptHeaderSelect:"application/sparql-results+json,*/*;q=0.9",acceptHeaderUpdate:"text/plain,*/*;q=0.9",namedGraphs:[],defaultGraphs:[],args:[],headers:{},getQueryForAjax:null,callbacks:{beforeSend:null,complete:null,error:null,success:null},handlers:{}}})},function(e,t){},function(e,t){},function(e,t){}]);