webpackJsonp([0],[function(e,t){e.exports=angular},,,function(e,t,n){"use strict";function i(e){return e}function r(){}function o(e,t,n,i,r){void 0===r&&(r=!1);var o=function(t){return e()[t].bind(n())},a=function(e){return function(){return t[e]=o(e),t[e].apply(null,arguments)}};return i=i||Object.keys(e()),i.reduce(function(e,t){return e[t]=r?a(t):o(t),e},t)}function a(e,t){return-1!==e.indexOf(t)}function s(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),e}function l(e,t){return e.push(t),t}function u(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=n.concat({}).reverse(),o=t.extend.apply(null,r);return t.extend({},o,p(e||{},Object.keys(o)))}function c(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function p(e,t){var n={};for(var i in e)-1!==t.indexOf(i)&&(n[i]=e[i]);return n}function d(e,n){return Object.keys(e).filter(I.not(t.inArray(n))).reduce(function(t,n){return t[n]=e[n],t},{})}function f(e,t){return v(e,I.prop(t))}function h(e,n){var i=L.isArray(e),r=i?[]:{},o=i?function(e){return r.push(e)}:function(e,t){return r[t]=e};return t.forEach(e,function(e,t){n(e,t)&&o(e,t)}),r}function g(e,n){var i;return t.forEach(e,function(e,t){i||n(e,t)&&(i=e)}),i}function v(e,n){var i=L.isArray(e)?[]:{};return t.forEach(e,function(e,t){return i[t]=n(e,t)}),i}function m(e,t){return e.push(t),e}function y(e,t){return void 0===t&&(t="assert failure"),function(n){var i=e(n);if(!i)throw new Error(L.isFunction(t)?t(n):t);return i}}function E(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return[];var n,i=e.reduce(function(e,t){return Math.min(t.length,e)},9007199254740991),r=[];for(n=0;n<i;n++)switch(e.length){case 1:r.push([e[0][n]]);break;case 2:r.push([e[0][n],e[1][n]]);break;case 3:r.push([e[0][n],e[1][n],e[2][n]]);break;case 4:r.push([e[0][n],e[1][n],e[2][n],e[3][n]]);break;default:r.push(e.map(function(e){return e[n]}))}return r}function b(e,t){var n,i;if(L.isArray(t)&&(n=t[0],i=t[1]),!L.isString(n))throw new Error("invalid parameters to applyPairs");return e[n]=i,e}function x(e){return e.length&&e[e.length-1]||void 0}function C(e,n){return n&&Object.keys(n).forEach(function(e){return delete n[e]}),n||(n={}),t.extend(n,e)}function S(e,t,n){if(L.isArray(e))return e.forEach(t,n);Object.keys(e).forEach(function(n){return t(e[n],n)})}function w(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var i=Object.keys(n),r=0;r<i.length;r++)e[i[r]]=n[i[r]]}return e}function T(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n=typeof e;if(n!==typeof t||"object"!==n)return!1;var i=[e,t];if(I.all(L.isArray)(i))return A(e,t);if(I.all(L.isDate)(i))return e.getTime()===t.getTime();if(I.all(L.isRegExp)(i))return e.toString()===t.toString();if(I.all(L.isFunction)(i))return!0;if([L.isFunction,L.isArray,L.isDate,L.isRegExp].map(I.any).reduce(function(e,t){return e||!!t(i)},!1))return!1;var r,o={};for(r in e){if(!T(e[r],t[r]))return!1;o[r]=!0}for(r in t)if(!o[r])return!1;return!0}function A(e,t){return e.length===t.length&&E(e,t).reduce(function(e,t){return e&&T(t[0],t[1])},!0)}Object.defineProperty(t,"__esModule",{value:!0});var L=n(5),I=n(6),N=n(13),R="undefined"==typeof window?{}:window,O=R.angular||{};t.fromJson=O.fromJson||JSON.parse.bind(JSON),t.toJson=O.toJson||JSON.stringify.bind(JSON),t.copy=O.copy||C,t.forEach=O.forEach||S,t.extend=Object.assign||w,t.equals=O.equals||T,t.identity=i,t.noop=r,t.createProxyFunctions=o,t.inherit=function(e,n){return t.extend(Object.create(e),n)};t.inArray=I.curry(a),t._inArray=a,t.removeFrom=I.curry(s),t._removeFrom=s,t.pushTo=I.curry(l),t._pushTo=l,t.deregAll=function(e){return e.slice().forEach(function(n){"function"==typeof n&&n(),t.removeFrom(e,n)})},t.defaults=u,t.mergeR=function(e,n){return t.extend(e,n)},t.ancestors=c,t.pick=p,t.omit=d,t.pluck=f,t.filter=h,t.find=g,t.mapObj=v,t.map=v,t.values=function(e){return Object.keys(e).map(function(t){return e[t]})},t.allTrueR=function(e,t){return e&&t},t.anyTrueR=function(e,t){return e||t},t.unnestR=function(e,t){return e.concat(t)},t.flattenR=function(e,n){return L.isArray(n)?e.concat(n.reduce(t.flattenR,[])):m(e,n)},t.pushR=m,t.uniqR=function(e,n){return t.inArray(e,n)?e:m(e,n)},t.unnest=function(e){return e.reduce(t.unnestR,[])},t.flatten=function(e){return e.reduce(t.flattenR,[])},t.assertPredicate=y,t.assertMap=y,t.assertFn=y,t.pairs=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},t.arrayTuples=E,t.applyPairs=b,t.tail=x,t._extend=w,t.sortBy=function(e,t){return void 0===t&&(t=I.val(!0)),function(n,i){return t(n)&&t(i)?e(n)-e(i):0}},t.composeSort=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n){return e.reduce(function(e,i){return e||i(t,n)},0)}},t.silenceUncaughtInPromise=function(e){return e.catch(function(e){return 0})&&e},t.silentRejection=function(e){return t.silenceUncaughtInPromise(N.services.$q.reject(e))}},function(e,t,n){!function(n,i){e.exports=t=i()}(0,function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),i={},r=i.lib={},o=r.Base=function(){return{extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=r.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=a<<24-(i+o)%4*8}else for(var o=0;o<r;o+=4)t[i+o>>>2]=n[o>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,i=[],r=0;r<t;r+=4){var o=function(t){var t=t,n=987654321,i=4294967295;return function(){n=36969*(65535&n)+(n>>16)&i,t=18e3*(65535&t)+(t>>16)&i;var r=(n<<16)+t&i;return r/=4294967296,(r+=.5)*(e.random()>.5?1:-1)}}(4294967296*(n||e.random()));n=987654071*o(),i.push(4294967296*o()|0)}return new a.init(i,t)}}),s=i.enc={},l=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new a.init(n,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new a.init(n,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},p=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,s=4*o,l=r/s;l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0);var u=l*o,c=e.min(4*u,r);if(u){for(var p=0;p<u;p+=o)this._doProcessBlock(i,p);var d=i.splice(0,u);n.sigBytes-=c}return new a.init(d,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(r.Hasher=p.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),i.algo={});return i}(Math);return e})},function(e,t,n){"use strict";function i(e){if(t.isArray(e)&&e.length){var n=e.slice(0,-1),i=e.slice(-1);return!(n.filter(r.not(t.isString)).length||i.filter(r.not(t.isFunction)).length)}return t.isFunction(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=n(104),a=Object.prototype.toString,s=function(e){return function(t){return typeof t===e}};t.isUndefined=s("undefined"),t.isDefined=r.not(t.isUndefined),t.isNull=function(e){return null===e},t.isNullOrUndefined=r.or(t.isNull,t.isUndefined),t.isFunction=s("function"),t.isNumber=s("number"),t.isString=s("string"),t.isObject=function(e){return null!==e&&"object"==typeof e},t.isArray=Array.isArray,t.isDate=function(e){return"[object Date]"===a.call(e)},t.isRegExp=function(e){return"[object RegExp]"===a.call(e)},t.isState=o.StateObject.isState,t.isInjectable=i,t.isPromise=r.and(t.isObject,r.pipe(r.prop("then"),t.isFunction))},function(e,t,n){"use strict";function i(e){function t(n){return n.length>=i?e.apply(null,n):function(){return t(n.concat([].slice.apply(arguments)))}}var n=[].slice.apply(arguments,[1]),i=e.length;return t(n)}function r(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.apply(null,[].slice.call(arguments).reverse())}function a(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.apply(null,n)&&t.apply(null,n)}}function s(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.apply(null,n)||t.apply(null,n)}}function l(e,t){return function(n){return n[e].apply(n,t)}}function u(e){return function(t){for(var n=0;n<e.length;n++)if(e[n][0](t))return e[n][1](t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.curry=i,t.compose=r,t.pipe=o,t.prop=function(e){return function(t){return t&&t[e]}},t.propEq=i(function(e,t,n){return n&&n[e]===t}),t.parse=function(e){return o.apply(null,e.split(".").map(t.prop))},t.not=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},t.and=a,t.or=s,t.all=function(e){return function(t){return t.reduce(function(t,n){return t&&!!e(n)},!0)}},t.any=function(e){return function(t){return t.reduce(function(t,n){return t||!!e(n)},!1)}},t.is=function(e){return function(t){return null!=t&&t.constructor===e||t instanceof e}},t.eq=function(e){return function(t){return e===t}},t.val=function(e){return function(){return e}},t.invoke=l,t.pattern=u},,,,,function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(44))}(0,function(e){e.lib.Cipher||function(t){var n=e,i=n.lib,r=i.Base,o=i.WordArray,a=i.BufferedBlockAlgorithm,s=n.enc,l=(s.Utf8,s.Base64),u=n.algo,c=u.EvpKDF,p=i.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?S:b}return function(t){return{encrypt:function(n,i,r){return e(i).encrypt(t,n,i,r)},decrypt:function(n,i,r){return e(i).decrypt(t,n,i,r)}}}}()}),d=(i.StreamCipher=p.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),n.mode={}),f=i.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=d.CBC=function(){function e(e,n,i){var r=this._iv;if(r){var o=r;this._iv=t}else var o=this._prevBlock;for(var a=0;a<i;a++)e[n+a]^=o[a]}var n=f.extend();return n.Encryptor=n.extend({processBlock:function(t,n){var i=this._cipher,r=i.blockSize;e.call(this,t,n,r),i.encryptBlock(t,n),this._prevBlock=t.slice(n,n+r)}}),n.Decryptor=n.extend({processBlock:function(t,n){var i=this._cipher,r=i.blockSize,o=t.slice(n,n+r);i.decryptBlock(t,n),e.call(this,t,n,r),this._prevBlock=o}}),n}(),g=n.pad={},v=g.Pkcs7={pad:function(e,t){for(var n=4*t,i=n-e.sigBytes%n,r=i<<24|i<<16|i<<8|i,a=[],s=0;s<i;s+=4)a.push(r);var l=o.create(a,i);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(i.BlockCipher=p.extend({cfg:p.cfg.extend({mode:h,padding:v}),reset:function(){p.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=n.createEncryptor;else{var i=n.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==i?this._mode.init(this,t&&t.words):(this._mode=i.call(n,this,t&&t.words),this._mode.__creator=i)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{var t=this._process(!0);e.unpad(t)}return t},blockSize:4}),i.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),y=n.format={},E=y.OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var i=o.create([1398893684,1701076831]).concat(n).concat(t);else var i=t;return i.toString(l)},parse:function(e){var t=l.parse(e),n=t.words;if(1398893684==n[0]&&1701076831==n[1]){var i=o.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return m.create({ciphertext:t,salt:i})}},b=i.SerializableCipher=r.extend({cfg:r.extend({format:E}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var r=e.createEncryptor(n,i),o=r.finalize(t),a=r.cfg;return m.create({ciphertext:o,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),x=n.kdf={},C=x.OpenSSL={execute:function(e,t,n,i){i||(i=o.random(8));var r=c.create({keySize:t+n}).compute(e,i),a=o.create(r.words.slice(t),4*n);return r.sigBytes=4*t,m.create({key:r,iv:a,salt:i})}},S=i.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:C}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var r=i.kdf.execute(n,e.keySize,e.ivSize);i.iv=r.iv;var o=b.encrypt.call(this,e,t,r.key,i);return o.mixIn(r),o},decrypt:function(e,t,n,i){i=this.cfg.extend(i),t=this._parse(t,i.format);var r=i.kdf.execute(n,e.keySize,e.ivSize,t.salt);return i.iv=r.iv,b.decrypt.call(this,e,t,r.key,i)}})}()})},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notImplemented=function(e){return function(){throw new Error(e+"(): No coreservices implementation for UI-Router is loaded.")}};var i={$q:void 0,$injector:void 0};t.services=i},,,,,function(e,t,n){var i,r;/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,o){function a(e){var t=!!e&&"length"in e&&e.length,n=le.type(e);return"function"!==n&&!le.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function s(e,t,n){if(le.isFunction(t))return le.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return le.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ye.test(t))return le.filter(t,e,n);t=le.filter(t,e)}return le.grep(e,function(e){return ie.call(t,e)>-1!==n})}function l(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var t={};return le.each(e.match(Se)||[],function(e,n){t[n]=!0}),t}function c(){Z.removeEventListener("DOMContentLoaded",c),n.removeEventListener("load",c),le.ready()}function p(){this.expando=le.expando+p.uid++}function d(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Re,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ne.test(n)?le.parseJSON(n):n)}catch(e){}Ie.set(e,t,n)}else n=void 0;return n}function f(e,t,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return le.css(e,t,"")},l=s(),u=n&&n[3]||(le.cssNumber[t]?"":"px"),c=(le.cssNumber[t]||"px"!==u&&+l)&&Pe.exec(le.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{o=o||".5",c/=o,le.style(e,t,c+u)}while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function h(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&le.nodeName(e,t)?le.merge([e],n):n}function g(e,t){for(var n=0,i=e.length;n<i;n++)Le.set(e[n],"globalEval",!t||Le.get(t[n],"globalEval"))}function v(e,t,n,i,r){for(var o,a,s,l,u,c,p=t.createDocumentFragment(),d=[],f=0,v=e.length;f<v;f++)if((o=e[f])||0===o)if("object"===le.type(o))le.merge(d,o.nodeType?[o]:o);else if(je.test(o)){for(a=a||p.appendChild(t.createElement("div")),s=(Me.exec(o)||["",""])[1].toLowerCase(),l=Fe[s]||Fe._default,a.innerHTML=l[1]+le.htmlPrefilter(o)+l[2],c=l[0];c--;)a=a.lastChild;le.merge(d,a.childNodes),a=p.firstChild,a.textContent=""}else d.push(t.createTextNode(o));for(p.textContent="",f=0;o=d[f++];)if(i&&le.inArray(o,i)>-1)r&&r.push(o);else if(u=le.contains(o.ownerDocument,o),a=h(p.appendChild(o),"script"),u&&g(a),n)for(c=0;o=a[c++];)$e.test(o.type||"")&&n.push(o);return p}function m(){return!0}function y(){return!1}function E(){try{return Z.activeElement}catch(e){}}function b(e,t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)b(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=y;else if(!r)return e;return 1===o&&(a=r,r=function(e){return le().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=le.guid++)),e.each(function(){le.event.add(this,t,r,i,n)})}function x(e,t){return le.nodeName(e,"table")&&le.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function C(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function S(e){var t=qe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){var n,i,r,o,a,s,l,u;if(1===t.nodeType){if(Le.hasData(e)&&(o=Le.access(e),a=Le.set(t,o),u=o.events)){delete a.handle,a.events={};for(r in u)for(n=0,i=u[r].length;n<i;n++)le.event.add(t,r,u[r][n])}Ie.hasData(e)&&(s=Ie.access(e),l=le.extend({},s),Ie.set(t,l))}}function T(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ke.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function A(e,t,n,i){t=te.apply([],t);var r,o,a,s,l,u,c=0,p=e.length,d=p-1,f=t[0],g=le.isFunction(f);if(g||p>1&&"string"==typeof f&&!se.checkClone&&ze.test(f))return e.each(function(r){var o=e.eq(r);g&&(t[0]=f.call(this,r,o.html())),A(o,t,n,i)});if(p&&(r=v(t,e[0].ownerDocument,!1,e,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=le.map(h(r,"script"),C),s=a.length;c<p;c++)l=r,c!==d&&(l=le.clone(l,!0,!0),s&&le.merge(a,h(l,"script"))),n.call(e[c],l,c);if(s)for(u=a[a.length-1].ownerDocument,le.map(a,S),c=0;c<s;c++)l=a[c],$e.test(l.type||"")&&!Le.access(l,"globalEval")&&le.contains(u,l)&&(l.src?le._evalUrl&&le._evalUrl(l.src):le.globalEval(l.textContent.replace(We,"")))}return e}function L(e,t,n){for(var i,r=t?le.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||le.cleanData(h(i)),i.parentNode&&(n&&le.contains(i.ownerDocument,i)&&g(h(i,"script")),i.parentNode.removeChild(i));return e}function I(e,t){var n=le(t.createElement(e)).appendTo(t.body),i=le.css(n[0],"display");return n.detach(),i}function N(e){var t=Z,n=Ye[e];return n||(n=I(e,t),"none"!==n&&n||(Ke=(Ke||le("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ke[0].contentDocument,t.write(),t.close(),n=I(e,t),Ke.detach()),Ye[e]=n),n}function R(e,t,n){var i,r,o,a,s=e.style;return n=n||Je(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||le.contains(e.ownerDocument,e)||(a=le.style(e,t)),n&&!se.pixelMarginRight()&&Qe.test(a)&&Xe.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),void 0!==a?a+"":a}function O(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function P(e){if(e in ot)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=rt.length;n--;)if((e=rt[n]+t)in ot)return e}function _(e,t,n){var i=Pe.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function D(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=le.css(e,n+_e[o],!0,r)),i?("content"===n&&(a-=le.css(e,"padding"+_e[o],!0,r)),"margin"!==n&&(a-=le.css(e,"border"+_e[o]+"Width",!0,r))):(a+=le.css(e,"padding"+_e[o],!0,r),"padding"!==n&&(a+=le.css(e,"border"+_e[o]+"Width",!0,r)));return a}function k(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Je(e),a="border-box"===le.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(r=R(e,t,o),(r<0||null==r)&&(r=e.style[t]),Qe.test(r))return r;i=a&&(se.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+D(e,t,n||(a?"border":"content"),i,o)+"px"}function M(e,t){for(var n,i,r,o=[],a=0,s=e.length;a<s;a++)i=e[a],i.style&&(o[a]=Le.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&De(i)&&(o[a]=Le.access(i,"olddisplay",N(i.nodeName)))):(r=De(i),"none"===n&&r||Le.set(i,"olddisplay",r?n:le.css(i,"display"))));for(a=0;a<s;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function $(e,t,n,i,r){return new $.prototype.init(e,t,n,i,r)}function F(){return n.setTimeout(function(){at=void 0}),at=le.now()}function j(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)n=_e[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function V(e,t,n){for(var i,r=(B.tweeners[t]||[]).concat(B.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function G(e,t,n){var i,r,o,a,s,l,u,c=this,p={},d=e.style,f=e.nodeType&&De(e),h=Le.get(e,"fxshow");n.queue||(s=le._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,le.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],u=le.css(e,"display"),"inline"===("none"===u?Le.get(e,"olddisplay")||N(e.nodeName):u)&&"none"===le.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],lt.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!h||void 0===h[i])continue;f=!0}p[i]=h&&h[i]||le.style(e,i)}else u=void 0;if(le.isEmptyObject(p))"inline"===("none"===u?N(e.nodeName):u)&&(d.display=u);else{h?"hidden"in h&&(f=h.hidden):h=Le.access(e,"fxshow",{}),o&&(h.hidden=!f),f?le(e).show():c.done(function(){le(e).hide()}),c.done(function(){var t;Le.remove(e,"fxshow");for(t in p)le.style(e,t,p[t])});for(i in p)a=V(f?h[i]:0,i,c),i in h||(h[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function H(e,t){var n,i,r,o,a;for(n in e)if(i=le.camelCase(n),r=t[i],o=e[n],le.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=le.cssHooks[i])&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function B(e,t,n){var i,r,o=0,a=B.prefilters.length,s=le.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=at||F(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),o<1&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:le.extend({},t),opts:le.extend(!0,{specialEasing:{},easing:le.easing._default},n),originalProperties:t,originalOptions:n,startTime:at||F(),duration:n.duration,tweens:[],createTween:function(t,n){var i=le.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(H(c,u.opts.specialEasing);o<a;o++)if(i=B.prefilters[o].call(u,e,c,u.opts))return le.isFunction(i.stop)&&(le._queueHooks(u.elem,u.opts.queue).stop=le.proxy(i.stop,i)),i;return le.map(c,V,u),le.isFunction(u.opts.start)&&u.opts.start.call(e,u),le.fx.timer(le.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function U(e){return e.getAttribute&&e.getAttribute("class")||""}function z(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(Se)||[];if(le.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function q(e,t,n,i){function r(s){var l;return o[s]=!0,le.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=e===It;return r(t.dataTypes[0])||!o["*"]&&r("*")}function W(e,t){var n,i,r=le.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&le.extend(!0,e,i),e}function K(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}function Y(e,t,n,i){var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function X(e,t,n,i){var r;if(le.isArray(t))le.each(t,function(t,r){n||Pt.test(e)?i(e,r):X(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==le.type(t))i(e,t);else for(r in t)X(e+"["+r+"]",t[r],n,i)}function Q(e){return le.isWindow(e)?e:9===e.nodeType&&e.defaultView}var J=[],Z=n.document,ee=J.slice,te=J.concat,ne=J.push,ie=J.indexOf,re={},oe=re.toString,ae=re.hasOwnProperty,se={},le=function(e,t){return new le.fn.init(e,t)},ue=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ce=/^-ms-/,pe=/-([\da-z])/gi,de=function(e,t){return t.toUpperCase()};le.fn=le.prototype={jquery:"2.2.4",constructor:le,selector:"",length:0,toArray:function(){return ee.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:ee.call(this)},pushStack:function(e){var t=le.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return le.each(this,e)},map:function(e){return this.pushStack(le.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ne,sort:J.sort,splice:J.splice},le.extend=le.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||le.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(u&&i&&(le.isPlainObject(i)||(r=le.isArray(i)))?(r?(r=!1,o=n&&le.isArray(n)?n:[]):o=n&&le.isPlainObject(n)?n:{},a[t]=le.extend(u,o,i)):void 0!==i&&(a[t]=i));return a},le.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===le.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!le.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==le.type(e)||e.nodeType||le.isWindow(e))return!1;if(e.constructor&&!ae.call(e,"constructor")&&!ae.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ae.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?re[oe.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=le.trim(e))&&(1===e.indexOf("use strict")?(t=Z.createElement("script"),t.text=e,Z.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ce,"ms-").replace(pe,de)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(a(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ue,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(a(Object(e))?le.merge(n,"string"==typeof e?[e]:e):ne.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ie.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,s=[];if(a(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return te.apply([],s)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),le.isFunction(e))return i=ee.call(arguments,2),r=function(){return e.apply(t||this,i.concat(ee.call(arguments)))},r.guid=e.guid=e.guid||le.guid++,r},now:Date.now,support:se}),"function"==typeof Symbol&&(le.fn[Symbol.iterator]=J[Symbol.iterator]),le.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){re["[object "+t+"]"]=t.toLowerCase()});var fe=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){function t(e,t,n,i){var r,o,a,s,u,p,d,f,h=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!i&&((t?t.ownerDocument||t:F)!==R&&N(t),t=t||R,P)){if(11!==g&&(p=ge.exec(e)))if(r=p[1]){if(9===g){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(h&&(a=h.getElementById(r))&&M(t,a)&&a.id===r)return n.push(a),n}else{if(p[2])return X.apply(n,t.getElementsByTagName(e)),n;if((r=p[3])&&E.getElementsByClassName&&t.getElementsByClassName)return X.apply(n,t.getElementsByClassName(r)),n}if(E.qsa&&!B[e+" "]&&(!_||!_.test(e))){if(1!==g)h=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(me,"\\$&"):t.setAttribute("id",s=$),d=S(e),o=d.length,u=ce.test(s)?"#"+s:"[id='"+s+"']";o--;)d[o]=u+" "+c(d[o]);f=d.join(","),h=ve.test(e)&&l(t.parentNode)||t}if(f)try{return X.apply(n,h.querySelectorAll(f)),n}catch(e){}finally{s===$&&t.removeAttribute("id")}}}return T(e.replace(oe,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>b.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[$]=!0,e}function r(e){var t=R.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)b.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||z)-(~e.sourceIndex||z);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function u(){}function c(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=V++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,u,c=[j,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(u=t[$]||(t[$]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),(s=l[i])&&s[0]===j&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}function d(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function f(e,n,i){for(var r=0,o=n.length;r<o;r++)t(e,n[r],i);return i}function h(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function g(e,t,n,r,o,a){return r&&!r[$]&&(r=g(r)),o&&!o[$]&&(o=g(o,a)),i(function(i,a,s,l){var u,c,p,d=[],g=[],v=a.length,m=i||f(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?m:h(m,d,e,s,l),E=n?o||(i?e:v||r)?[]:a:y;if(n&&n(y,E,s,l),r)for(u=h(E,g),r(u,[],s,l),c=u.length;c--;)(p=u[c])&&(E[g[c]]=!(y[g[c]]=p));if(i){if(o||e){if(o){for(u=[],c=E.length;c--;)(p=E[c])&&u.push(y[c]=p);o(null,E=[],u,l)}for(c=E.length;c--;)(p=E[c])&&(u=o?J(i,p):d[c])>-1&&(i[u]=!(a[u]=p))}}else E=h(E===a?E.splice(v,E.length):E),o?o(null,a,E,l):X.apply(a,E)})}function v(e){for(var t,n,i,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return J(t,e)>-1},a,!0),f=[function(e,n,i){var r=!o&&(i||n!==A)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,r}];s<r;s++)if(n=b.relative[e[s].type])f=[p(d(f),n)];else{if(n=b.filter[e[s].type].apply(null,e[s].matches),n[$]){for(i=++s;i<r&&!b.relative[e[i].type];i++);return g(s>1&&d(f),s>1&&c(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),n,s<i&&v(e.slice(s,i)),i<r&&v(e=e.slice(i)),i<r&&c(e))}f.push(n)}return d(f)}function m(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,u){var c,p,d,f=0,g="0",v=i&&[],m=[],y=A,E=i||o&&b.find.TAG("*",u),x=j+=null==y?1:Math.random()||.1,C=E.length;for(u&&(A=a===R||a||u);g!==C&&null!=(c=E[g]);g++){if(o&&c){for(p=0,a||c.ownerDocument===R||(N(c),s=!P);d=e[p++];)if(d(c,a||R,s)){l.push(c);break}u&&(j=x)}r&&((c=!d&&c)&&f--,i&&v.push(c))}if(f+=g,r&&g!==f){for(p=0;d=n[p++];)d(v,m,a,s);if(i){if(f>0)for(;g--;)v[g]||m[g]||(m[g]=K.call(l));m=h(m)}X.apply(l,m),u&&!i&&m.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(j=x,A=y),v};return r?i(a):a}var y,E,b,x,C,S,w,T,A,L,I,N,R,O,P,_,D,k,M,$="sizzle"+1*new Date,F=e.document,j=0,V=0,G=n(),H=n(),B=n(),U=function(e,t){return e===t&&(I=!0),0},z=1<<31,q={}.hasOwnProperty,W=[],K=W.pop,Y=W.push,X=W.push,Q=W.slice,J=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ie=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",re=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(ie),ce=new RegExp("^"+te+"$"),pe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,me=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),Ee=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},be=function(){N()};try{X.apply(W=Q.call(F.childNodes),F.childNodes),W[F.childNodes.length].nodeType}catch(e){X={apply:W.length?function(e,t){Y.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}E=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},N=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:F;return i!==R&&9===i.nodeType&&i.documentElement?(R=i,O=R.documentElement,P=!C(R),(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",be,!1):n.attachEvent&&n.attachEvent("onunload",be)),E.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),E.getElementsByTagName=r(function(e){return e.appendChild(R.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=he.test(R.getElementsByClassName),E.getById=r(function(e){return O.appendChild(e).id=$,!R.getElementsByName||!R.getElementsByName($).length}),E.getById?(b.find.ID=function(e,t){if(void 0!==t.getElementById&&P){var n=t.getElementById(e);return n?[n]:[]}},b.filter.ID=function(e){var t=e.replace(ye,Ee);return function(e){return e.getAttribute("id")===t}}):(delete b.find.ID,b.filter.ID=function(e){var t=e.replace(ye,Ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),b.find.TAG=E.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):E.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},b.find.CLASS=E.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&P)return t.getElementsByClassName(e)},D=[],_=[],(E.qsa=he.test(R.querySelectorAll))&&(r(function(e){O.appendChild(e).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||_.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+$+"-]").length||_.push("~="),e.querySelectorAll(":checked").length||_.push(":checked"),e.querySelectorAll("a#"+$+"+*").length||_.push(".#.+[+~]")}),r(function(e){var t=R.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&_.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||_.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),_.push(",.*:")})),(E.matchesSelector=he.test(k=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(e){E.disconnectedMatch=k.call(e,"div"),k.call(e,"[s!='']:x"),D.push("!=",ie)}),_=_.length&&new RegExp(_.join("|")),D=D.length&&new RegExp(D.join("|")),t=he.test(O.compareDocumentPosition),M=t||he.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return I=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!E.sortDetached&&t.compareDocumentPosition(e)===n?e===R||e.ownerDocument===F&&M(F,e)?-1:t===R||t.ownerDocument===F&&M(F,t)?1:L?J(L,e)-J(L,t):0:4&n?-1:1)}:function(e,t){if(e===t)return I=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!r||!o)return e===R?-1:t===R?1:r?-1:o?1:L?J(L,e)-J(L,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===F?-1:l[i]===F?1:0},R):R},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==R&&N(e),n=n.replace(le,"='$1']"),E.matchesSelector&&P&&!B[n+" "]&&(!D||!D.test(n))&&(!_||!_.test(n)))try{var i=k.call(e,n);if(i||E.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&N(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&N(e);var n=b.attrHandle[t.toLowerCase()],i=n&&q.call(b.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==i?i:E.attributes||!P?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(I=!E.detectDuplicates,L=!E.sortStable&&e.slice(0),e.sort(U),I){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return L=null,e},x=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=x(t);return n},b=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,Ee),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,Ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,Ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=G[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&G(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(re," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,d,f,h,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!l&&!s,E=!1;if(v){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&y){for(d=v,p=d[$]||(d[$]={}),c=p[d.uniqueID]||(p[d.uniqueID]={}),u=c[e]||[],f=u[0]===j&&u[1],E=f&&u[2],d=f&&v.childNodes[f];d=++f&&d&&d[g]||(E=f=0)||h.pop();)if(1===d.nodeType&&++E&&d===t){c[e]=[j,f,E];break}}else if(y&&(d=t,p=d[$]||(d[$]={}),c=p[d.uniqueID]||(p[d.uniqueID]={}),u=c[e]||[],f=u[0]===j&&u[1],E=f),!1===E)for(;(d=++f&&d&&d[g]||(E=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++E||(y&&(p=d[$]||(d[$]={}),c=p[d.uniqueID]||(p[d.uniqueID]={}),c[e]=[j,E]),d!==t)););return(E-=r)===i||E%i==0&&E/i>=0}}},PSEUDO:function(e,n){var r,o=b.pseudos[e]||b.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[$]?o(n):o.length>1?(r=[e,e,"",n],b.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=J(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=w(e.replace(oe,"$1"));return r[$]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(ye,Ee),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:i(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,Ee).toLowerCase(),function(t){var n;do{if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:s(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},b.pseudos.nth=b.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})b.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return u.prototype=b.filters=b.pseudos,b.setFilters=new u,S=t.tokenize=function(e,n){var i,r,o,a,s,l,u,c=H[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=b.preFilter;s;){i&&!(r=ae.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=se.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(oe," ")}),s=s.slice(i.length));for(a in b.filter)!(r=pe[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):H(e,l).slice(0)},w=t.compile=function(e,t){var n,i=[],r=[],o=B[e+" "];if(!o){for(t||(t=S(e)),n=t.length;n--;)o=v(t[n]),o[$]?i.push(o):r.push(o);o=B(e,m(r,i)),o.selector=e}return o},T=t.select=function(e,t,n,i){var r,o,a,s,u,p="function"==typeof e&&e,d=!i&&S(e=p.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&E.getById&&9===t.nodeType&&P&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(ye,Ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=pe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!b.relative[s=a.type]);)if((u=b.find[s])&&(i=u(a.matches[0].replace(ye,Ee),ve.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&c(o)))return X.apply(n,i),n;break}}return(p||w(e,d))(i,t,!P,n,!t||ve.test(e)&&l(t.parentNode)||t),n},E.sortStable=$.split("").sort(U).join("")===$,E.detectDuplicates=!!I,N(),E.sortDetached=r(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),E.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(Z,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(n);le.find=fe,le.expr=fe.selectors,le.expr[":"]=le.expr.pseudos,le.uniqueSort=le.unique=fe.uniqueSort,le.text=fe.getText,le.isXMLDoc=fe.isXML,le.contains=fe.contains;var he=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&le(e).is(n))break;i.push(e)}return i},ge=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},ve=le.expr.match.needsContext,me=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ye=/^.[^:#\[\.,]*$/;le.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?le.find.matchesSelector(i,e)?[i]:[]:le.find.matches(e,le.grep(t,function(e){return 1===e.nodeType}))},le.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(le(e).filter(function(){for(t=0;t<n;t++)if(le.contains(r[t],this))return!0}));for(t=0;t<n;t++)le.find(e,r[t],i);return i=this.pushStack(n>1?le.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&ve.test(e)?le(e):e||[],!1).length}});var Ee,be=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(le.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||Ee,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:be.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof le?t[0]:t,le.merge(this,le.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),me.test(i[1])&&le.isPlainObject(t))for(i in t)le.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return r=Z.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):le.isFunction(e)?void 0!==n.ready?n.ready(e):e(le):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),le.makeArray(e,this))}).prototype=le.fn,Ee=le(Z);var xe=/^(?:parents|prev(?:Until|All))/,Ce={children:!0,contents:!0,next:!0,prev:!0};le.fn.extend({has:function(e){var t=le(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(le.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=ve.test(e)||"string"!=typeof e?le(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&le.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?le.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ie.call(le(e),this[0]):ie.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(le.uniqueSort(le.merge(this.get(),le(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),le.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return he(e,"parentNode")},parentsUntil:function(e,t,n){return he(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return he(e,"nextSibling")},prevAll:function(e){return he(e,"previousSibling")},nextUntil:function(e,t,n){return he(e,"nextSibling",n)},prevUntil:function(e,t,n){return he(e,"previousSibling",n)},siblings:function(e){return ge((e.parentNode||{}).firstChild,e)},children:function(e){return ge(e.firstChild)},contents:function(e){return e.contentDocument||le.merge([],e.childNodes)}},function(e,t){le.fn[e]=function(n,i){var r=le.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=le.filter(i,r)),this.length>1&&(Ce[e]||le.uniqueSort(r),xe.test(e)&&r.reverse()),this.pushStack(r)}});var Se=/\S+/g;le.Callbacks=function(e){e="string"==typeof e?u(e):le.extend({},e);var t,n,i,r,o=[],a=[],s=-1,l=function(){for(r=e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){le.each(n,function(n,i){le.isFunction(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==le.type(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return le.each(arguments,function(e,t){for(var n;(n=le.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?le.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},le.extend({Deferred:function(e){var t=[["resolve","done",le.Callbacks("once memory"),"resolved"],["reject","fail",le.Callbacks("once memory"),"rejected"],["notify","progress",le.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return le.Deferred(function(n){le.each(t,function(t,o){var a=le.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&le.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?le.extend(e,i):i}},r={};return i.pipe=i.then,le.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=ee.call(arguments),a=o.length,s=1!==a||e&&le.isFunction(e.promise)?a:0,l=1===s?e:le.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?ee.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);r<a;r++)o[r]&&le.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,t)).done(u(r,i,o)).fail(l.reject):--s;return s||l.resolveWith(i,o),l.promise()}});var we;le.fn.ready=function(e){return le.ready.promise().done(e),this},le.extend({isReady:!1,readyWait:1,holdReady:function(e){e?le.readyWait++:le.ready(!0)},ready:function(e){(!0===e?--le.readyWait:le.isReady)||(le.isReady=!0,!0!==e&&--le.readyWait>0||(we.resolveWith(Z,[le]),le.fn.triggerHandler&&(le(Z).triggerHandler("ready"),le(Z).off("ready"))))}}),le.ready.promise=function(e){return we||(we=le.Deferred(),"complete"===Z.readyState||"loading"!==Z.readyState&&!Z.documentElement.doScroll?n.setTimeout(le.ready):(Z.addEventListener("DOMContentLoaded",c),n.addEventListener("load",c))),we.promise(e)},le.ready.promise();var Te=function(e,t,n,i,r,o,a){var s=0,l=e.length,u=null==n;if("object"===le.type(n)){r=!0;for(s in n)Te(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,le.isFunction(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(le(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):l?t(e[0],n):o},Ae=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};p.uid=1,p.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Ae(e))return{};var t=e[this.expando];return t||(t={},Ae(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[t]=n;else for(i in t)r[i]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,le.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{le.isArray(t)?i=t.concat(t.map(le.camelCase)):(r=le.camelCase(t),t in o?i=[t,r]:(i=r,i=i in o?[i]:i.match(Se)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===t||le.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!le.isEmptyObject(t)}};var Le=new p,Ie=new p,Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Re=/[A-Z]/g;le.extend({hasData:function(e){return Ie.hasData(e)||Le.hasData(e)},data:function(e,t,n){return Ie.access(e,t,n)},removeData:function(e,t){Ie.remove(e,t)},_data:function(e,t,n){return Le.access(e,t,n)},_removeData:function(e,t){Le.remove(e,t)}}),le.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=Ie.get(o),1===o.nodeType&&!Le.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=le.camelCase(i.slice(5)),d(o,i,r[i])));Le.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Ie.set(this,e)}):Te(this,function(t){var n,i;if(o&&void 0===t){if(void 0!==(n=Ie.get(o,e)||Ie.get(o,e.replace(Re,"-$&").toLowerCase())))return n;if(i=le.camelCase(e),void 0!==(n=Ie.get(o,i)))return n;if(void 0!==(n=d(o,i,void 0)))return n}else i=le.camelCase(e),this.each(function(){var n=Ie.get(this,i);Ie.set(this,i,t),e.indexOf("-")>-1&&void 0!==n&&Ie.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ie.remove(this,e)})}}),le.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Le.get(e,t),n&&(!i||le.isArray(n)?i=Le.access(e,t,le.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=le.queue(e,t),i=n.length,r=n.shift(),o=le._queueHooks(e,t),a=function(){le.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Le.get(e,n)||Le.access(e,n,{empty:le.Callbacks("once memory").add(function(){Le.remove(e,[t+"queue",n])})})}}),le.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?le.queue(this[0],e):void 0===t?this:this.each(function(){var n=le.queue(this,e,t);le._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&le.dequeue(this,e)})},dequeue:function(e){return this.each(function(){le.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=le.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Le.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var Oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pe=new RegExp("^(?:([+-])=|)("+Oe+")([a-z%]*)$","i"),_e=["Top","Right","Bottom","Left"],De=function(e,t){return e=t||e,"none"===le.css(e,"display")||!le.contains(e.ownerDocument,e)},ke=/^(?:checkbox|radio)$/i,Me=/<([\w:-]+)/,$e=/^$|\/(?:java|ecma)script/i,Fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td;var je=/<|&#?\w+;/;!function(){var e=Z.createDocumentFragment(),t=e.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),se.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",se.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ve=/^key/,Ge=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,He=/^([^.]*)(?:\.(.+)|)/;le.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,u,c,p,d,f,h,g,v=Le.get(e);if(v)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=le.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==le&&le.event.triggered!==t.type?le.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Se)||[""],u=t.length;u--;)s=He.exec(t[u])||[],f=g=s[1],h=(s[2]||"").split(".").sort(),f&&(p=le.event.special[f]||{},f=(r?p.delegateType:p.bindType)||f,p=le.event.special[f]||{},c=le.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&le.expr.match.needsContext.test(r),namespace:h.join(".")},o),(d=l[f])||(d=l[f]=[],d.delegateCount=0,p.setup&&!1!==p.setup.call(e,i,h,a)||e.addEventListener&&e.addEventListener(f,a)),p.add&&(p.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),le.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,u,c,p,d,f,h,g,v=Le.hasData(e)&&Le.get(e);if(v&&(l=v.events)){for(t=(t||"").match(Se)||[""],u=t.length;u--;)if(s=He.exec(t[u])||[],f=g=s[1],h=(s[2]||"").split(".").sort(),f){for(p=le.event.special[f]||{},f=(i?p.delegateType:p.bindType)||f,d=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,p.remove&&p.remove.call(e,c));a&&!d.length&&(p.teardown&&!1!==p.teardown.call(e,h,v.handle)||le.removeEvent(e,f,v.handle),delete l[f])}else for(f in l)le.event.remove(e,f+t[u],n,i,!0);le.isEmptyObject(l)&&Le.remove(e,"handle events")}},dispatch:function(e){e=le.event.fix(e);var t,n,i,r,o,a=[],s=ee.call(arguments),l=(Le.get(this,"events")||{})[e.type]||[],u=le.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=le.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(i=((le.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],n=0;n<s;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?le(r,this).index(l)>-1:le.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Z,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[le.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ge.test(r)?this.mouseHooks:Ve.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new le.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=Z),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==E()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===E()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&le.nodeName(this,"input"))return this.click(),!1},_default:function(e){return le.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},le.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},le.Event=function(e,t){if(!(this instanceof le.Event))return new le.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?m:y):this.type=e,t&&le.extend(this,t),this.timeStamp=e&&e.timeStamp||le.now(),this[le.expando]=!0},le.Event.prototype={constructor:le.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=m,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=m,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=m,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},le.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){le.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||le.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),le.fn.extend({on:function(e,t,n,i){return b(this,e,t,n,i)},one:function(e,t,n,i){return b(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,le(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=y),this.each(function(){le.event.remove(this,e,n,t)})}});var Be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ue=/<script|<style|<link/i,ze=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^true\/(.*)/,We=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;le.extend({htmlPrefilter:function(e){return e.replace(Be,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=le.contains(e.ownerDocument,e);if(!(se.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||le.isXMLDoc(e)))for(a=h(s),o=h(e),i=0,r=o.length;i<r;i++)T(o[i],a[i]);if(t)if(n)for(o=o||h(e),a=a||h(s),i=0,r=o.length;i<r;i++)w(o[i],a[i]);else w(e,s);return a=h(s,"script"),a.length>0&&g(a,!l&&h(e,"script")),s},cleanData:function(e){for(var t,n,i,r=le.event.special,o=0;void 0!==(n=e[o]);o++)if(Ae(n)){if(t=n[Le.expando]){if(t.events)for(i in t.events)r[i]?le.event.remove(n,i):le.removeEvent(n,i,t.handle);n[Le.expando]=void 0}n[Ie.expando]&&(n[Ie.expando]=void 0)}}}),le.fn.extend({domManip:A,detach:function(e){return L(this,e,!0)},remove:function(e){return L(this,e)},text:function(e){return Te(this,function(e){return void 0===e?le.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return A(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){x(this,e).appendChild(e)}})},prepend:function(){return A(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=x(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(le.cleanData(h(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return le.clone(this,e,t)})},html:function(e){return Te(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ue.test(e)&&!Fe[(Me.exec(e)||["",""])[1].toLowerCase()]){e=le.htmlPrefilter(e);try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(le.cleanData(h(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return A(this,arguments,function(t){var n=this.parentNode;le.inArray(this,e)<0&&(le.cleanData(h(this)),n&&n.replaceChild(t,this))},e)}}),le.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){le.fn[e]=function(e){for(var n,i=[],r=le(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),le(r[a])[t](n),ne.apply(i,n.get());return this.pushStack(i)}});var Ke,Ye={HTML:"block",BODY:"block"},Xe=/^margin/,Qe=new RegExp("^("+Oe+")(?!px)[a-z%]+$","i"),Je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Ze=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},et=Z.documentElement;!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",et.appendChild(a);var e=n.getComputedStyle(s);t="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,s.style.marginRight="50%",r="4px"===e.marginRight,et.removeChild(a)}var t,i,r,o,a=Z.createElement("div"),s=Z.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",se.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),le.extend(se,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==i&&e(),i},pixelMarginRight:function(){return null==i&&e(),r},reliableMarginLeft:function(){return null==i&&e(),o},reliableMarginRight:function(){var e,t=s.appendChild(Z.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",et.appendChild(a),e=!parseFloat(n.getComputedStyle(t).marginRight),et.removeChild(a),s.removeChild(t),e}}))}();var tt=/^(none|table(?!-c[ea]).+)/,nt={position:"absolute",visibility:"hidden",display:"block"},it={letterSpacing:"0",fontWeight:"400"},rt=["Webkit","O","Moz","ms"],ot=Z.createElement("div").style;le.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=R(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=le.camelCase(t),l=e.style;if(t=le.cssProps[s]||(le.cssProps[s]=P(s)||s),a=le.cssHooks[t]||le.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];o=typeof n,"string"===o&&(r=Pe.exec(n))&&r[1]&&(n=f(e,t,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(le.cssNumber[s]?"":"px")),se.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))}},css:function(e,t,n,i){var r,o,a,s=le.camelCase(t);return t=le.cssProps[s]||(le.cssProps[s]=P(s)||s),a=le.cssHooks[t]||le.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=R(e,t,i)),"normal"===r&&t in it&&(r=it[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),le.each(["height","width"],function(e,t){le.cssHooks[t]={get:function(e,n,i){if(n)return tt.test(le.css(e,"display"))&&0===e.offsetWidth?Ze(e,nt,function(){return k(e,t,i)}):k(e,t,i)},set:function(e,n,i){var r,o=i&&Je(e),a=i&&D(e,t,i,"border-box"===le.css(e,"boxSizing",!1,o),o);return a&&(r=Pe.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=le.css(e,t)),_(e,n,a)}}}),le.cssHooks.marginLeft=O(se.reliableMarginLeft,function(e,t){if(t)return(parseFloat(R(e,"marginLeft"))||e.getBoundingClientRect().left-Ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),le.cssHooks.marginRight=O(se.reliableMarginRight,function(e,t){if(t)return Ze(e,{display:"inline-block"},R,[e,"marginRight"])}),le.each({margin:"",padding:"",border:"Width"},function(e,t){le.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+_e[i]+t]=o[i]||o[i-2]||o[0];return r}},Xe.test(e)||(le.cssHooks[e+t].set=_)}),le.fn.extend({css:function(e,t){return Te(this,function(e,t,n){var i,r,o={},a=0;if(le.isArray(t)){for(i=Je(e),r=t.length;a<r;a++)o[t[a]]=le.css(e,t[a],!1,i);return o}return void 0!==n?le.style(e,t,n):le.css(e,t)},e,t,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){De(this)?le(this).show():le(this).hide()})}}),le.Tween=$,$.prototype={constructor:$,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||le.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(le.cssNumber[n]?"":"px")},cur:function(){var e=$.propHooks[this.prop];return e&&e.get?e.get(this):$.propHooks._default.get(this)},run:function(e){var t,n=$.propHooks[this.prop];return this.options.duration?this.pos=t=le.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=le.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){le.fx.step[e.prop]?le.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[le.cssProps[e.prop]]&&!le.cssHooks[e.prop]?e.elem[e.prop]=e.now:le.style(e.elem,e.prop,e.now+e.unit)}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},le.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},le.fx=$.prototype.init,le.fx.step={};var at,st,lt=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;le.Animation=le.extend(B,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return f(n.elem,e,Pe.exec(t),n),n}]},tweener:function(e,t){le.isFunction(e)?(t=e,e=["*"]):e=e.match(Se);for(var n,i=0,r=e.length;i<r;i++)n=e[i],B.tweeners[n]=B.tweeners[n]||[],B.tweeners[n].unshift(t)},prefilters:[G],prefilter:function(e,t){t?B.prefilters.unshift(e):B.prefilters.push(e)}}),le.speed=function(e,t,n){var i=e&&"object"==typeof e?le.extend({},e):{complete:n||!n&&t||le.isFunction(e)&&e,duration:e,easing:n&&t||t&&!le.isFunction(t)&&t};return i.duration=le.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in le.fx.speeds?le.fx.speeds[i.duration]:le.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){le.isFunction(i.old)&&i.old.call(this),i.queue&&le.dequeue(this,i.queue)},i},le.fn.extend({fadeTo:function(e,t,n,i){return this.filter(De).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=le.isEmptyObject(e),o=le.speed(t,n,i),a=function(){var t=B(this,le.extend({},e),o);(r||Le.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=le.timers,a=Le.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ut.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||le.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Le.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=le.timers,a=i?i.length:0;for(n.finish=!0,le.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),le.each(["toggle","show","hide"],function(e,t){var n=le.fn[t];le.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,i,r)}}),le.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){le.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),le.timers=[],le.fx.tick=function(){var e,t=0,n=le.timers;for(at=le.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||le.fx.stop(),at=void 0},le.fx.timer=function(e){le.timers.push(e),e()?le.fx.start():le.timers.pop()},le.fx.interval=13,le.fx.start=function(){st||(st=n.setInterval(le.fx.tick,le.fx.interval))},le.fx.stop=function(){n.clearInterval(st),st=null},le.fx.speeds={slow:600,fast:200,_default:400},le.fn.delay=function(e,t){return e=le.fx?le.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select"),n=t.appendChild(Z.createElement("option"));e.type="checkbox",se.checkOn=""!==e.value,se.optSelected=n.selected,t.disabled=!0,se.optDisabled=!n.disabled,e=Z.createElement("input"),e.value="t",e.type="radio",se.radioValue="t"===e.value}();var ct,pt=le.expr.attrHandle;le.fn.extend({attr:function(e,t){return Te(this,le.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){le.removeAttr(this,e)})}}),le.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?le.prop(e,t,n):(1===o&&le.isXMLDoc(e)||(t=t.toLowerCase(),r=le.attrHooks[t]||(le.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void le.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=le.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!se.radioValue&&"radio"===t&&le.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(Se);if(o&&1===e.nodeType)for(;n=o[r++];)i=le.propFix[n]||n,le.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?le.removeAttr(e,n):e.setAttribute(n,n),n}},le.each(le.expr.match.bool.source.match(/\w+/g),function(e,t){var n=pt[t]||le.find.attr;pt[t]=function(e,t,i){var r,o;return i||(o=pt[t],pt[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,pt[t]=o),r}});var dt=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;le.fn.extend({prop:function(e,t){return Te(this,le.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[le.propFix[e]||e]})}}),le.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&le.isXMLDoc(e)||(t=le.propFix[t]||t,r=le.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=le.find.attr(e,"tabindex");return t?parseInt(t,10):dt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),se.optSelected||(le.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),le.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){le.propFix[this.toLowerCase()]=this});var ht=/[\t\r\n\f]/g;le.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(le.isFunction(e))return this.each(function(t){le(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[l++];)if(r=U(n),i=1===n.nodeType&&(" "+r+" ").replace(ht," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=le.trim(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(le.isFunction(e))return this.each(function(t){le(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[l++];)if(r=U(n),i=1===n.nodeType&&(" "+r+" ").replace(ht," ")){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=le.trim(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):le.isFunction(e)?this.each(function(n){le(this).toggleClass(e.call(this,n,U(this),t),t)}):this.each(function(){var t,i,r,o;if("string"===n)for(i=0,r=le(this),o=e.match(Se)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||(t=U(this),t&&Le.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Le.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+U(n)+" ").replace(ht," ").indexOf(t)>-1)return!0;return!1}});var gt=/\r/g,vt=/[\x20\t\r\n\f]+/g;le.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=le.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,le(this).val()):e,null==r?r="":"number"==typeof r?r+="":le.isArray(r)&&(r=le.map(r,function(e){return null==e?"":e+""})),(t=le.valHooks[this.type]||le.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return(t=le.valHooks[r.type]||le.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(gt,""):null==n?"":n)}}}),le.extend({valHooks:{option:{get:function(e){var t=le.find.attr(e,"value");return null!=t?t:le.trim(le.text(e)).replace(vt," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(n=i[l],(n.selected||l===r)&&(se.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!le.nodeName(n.parentNode,"optgroup"))){if(t=le(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=le.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=le.inArray(le.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),le.each(["radio","checkbox"],function(){le.valHooks[this]={set:function(e,t){if(le.isArray(t))return e.checked=le.inArray(le(e).val(),t)>-1}},se.checkOn||(le.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;le.extend(le.event,{trigger:function(e,t,i,r){var o,a,s,l,u,c,p,d=[i||Z],f=ae.call(e,"type")?e.type:e,h=ae.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||Z,3!==i.nodeType&&8!==i.nodeType&&!mt.test(f+le.event.triggered)&&(f.indexOf(".")>-1&&(h=f.split("."),f=h.shift(),h.sort()),u=f.indexOf(":")<0&&"on"+f,e=e[le.expando]?e:new le.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:le.makeArray(t,[e]),p=le.event.special[f]||{},r||!p.trigger||!1!==p.trigger.apply(i,t))){if(!r&&!p.noBubble&&!le.isWindow(i)){for(l=p.delegateType||f,mt.test(l+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(i.ownerDocument||Z)&&d.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=d[o++])&&!e.isPropagationStopped();)e.type=o>1?l:p.bindType||f,c=(Le.get(a,"events")||{})[e.type]&&Le.get(a,"handle"),c&&c.apply(a,t),(c=u&&a[u])&&c.apply&&Ae(a)&&(e.result=c.apply(a,t),!1===e.result&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(d.pop(),t)||!Ae(i)||u&&le.isFunction(i[f])&&!le.isWindow(i)&&(s=i[u],s&&(i[u]=null),le.event.triggered=f,i[f](),le.event.triggered=void 0,s&&(i[u]=s)),e.result}},simulate:function(e,t,n){var i=le.extend(new le.Event,n,{type:e,isSimulated:!0});le.event.trigger(i,null,t)}}),le.fn.extend({trigger:function(e,t){return this.each(function(){le.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return le.event.trigger(e,t,n,!0)}}),le.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){le.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),le.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),se.focusin="onfocusin"in n,se.focusin||le.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){le.event.simulate(t,e.target,le.event.fix(e))};le.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Le.access(i,t);r||i.addEventListener(e,n,!0),Le.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Le.access(i,t)-1;r?Le.access(i,t,r):(i.removeEventListener(e,n,!0),Le.remove(i,t))}}});var yt=n.location,Et=le.now(),bt=/\?/;le.parseJSON=function(e){return JSON.parse(e+"")},le.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||le.error("Invalid XML: "+e),t};var xt=/#.*$/,Ct=/([?&])_=[^&]*/,St=/^(.*?):[ \t]*([^\r\n]*)$/gm,wt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tt=/^(?:GET|HEAD)$/,At=/^\/\//,Lt={},It={},Nt="*/".concat("*"),Rt=Z.createElement("a");Rt.href=yt.href,le.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yt.href,type:"GET",isLocal:wt.test(yt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":le.parseJSON,"text xml":le.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,le.ajaxSettings),t):W(le.ajaxSettings,e)},ajaxPrefilter:z(Lt),ajaxTransport:z(It),ajax:function(e,t){function i(e,t,i,s){var u,p,y,E,x,S=t;2!==b&&(b=2,l&&n.clearTimeout(l),r=void 0,a=s||"",C.readyState=e>0?4:0,u=e>=200&&e<300||304===e,i&&(E=K(d,C,i)),E=Y(d,E,C,u),u?(d.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(le.lastModified[o]=x),(x=C.getResponseHeader("etag"))&&(le.etag[o]=x)),204===e||"HEAD"===d.type?S="nocontent":304===e?S="notmodified":(S=E.state,p=E.data,y=E.error,u=!y)):(y=S,!e&&S||(S="error",e<0&&(e=0))),C.status=e,C.statusText=(t||S)+"",u?g.resolveWith(f,[p,S,C]):g.rejectWith(f,[C,S,y]),C.statusCode(m),m=void 0,c&&h.trigger(u?"ajaxSuccess":"ajaxError",[C,d,u?p:y]),v.fireWith(f,[C,S]),c&&(h.trigger("ajaxComplete",[C,d]),--le.active||le.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o,a,s,l,u,c,p,d=le.ajaxSetup({},t),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?le(f):le.event,g=le.Deferred(),v=le.Callbacks("once memory"),m=d.statusCode||{},y={},E={},b=0,x="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!s)for(s={};t=St.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=E[n]=E[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||x;return r&&r.abort(t),i(0,t),this}};if(g.promise(C).complete=v.add,C.success=C.done,C.error=C.fail,d.url=((e||d.url||yt.href)+"").replace(xt,"").replace(At,yt.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=le.trim(d.dataType||"*").toLowerCase().match(Se)||[""],null==d.crossDomain){u=Z.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Rt.protocol+"//"+Rt.host!=u.protocol+"//"+u.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=le.param(d.data,d.traditional)),q(Lt,d,t,C),2===b)return C;c=le.event&&d.global,c&&0==le.active++&&le.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Tt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(bt.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Ct.test(o)?o.replace(Ct,"$1_="+Et++):o+(bt.test(o)?"&":"?")+"_="+Et++)),d.ifModified&&(le.lastModified[o]&&C.setRequestHeader("If-Modified-Since",le.lastModified[o]),le.etag[o]&&C.setRequestHeader("If-None-Match",le.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Nt+"; q=0.01":""):d.accepts["*"]);for(p in d.headers)C.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(!1===d.beforeSend.call(f,C,d)||2===b))return C.abort();x="abort";for(p in{success:1,error:1,complete:1})C[p](d[p]);if(r=q(It,d,t,C)){if(C.readyState=1,c&&h.trigger("ajaxSend",[C,d]),2===b)return C;d.async&&d.timeout>0&&(l=n.setTimeout(function(){C.abort("timeout")},d.timeout));try{b=1,r.send(y,i)}catch(e){if(!(b<2))throw e;i(-1,e)}}else i(-1,"No Transport");return C},getJSON:function(e,t,n){return le.get(e,t,n,"json")},getScript:function(e,t){return le.get(e,void 0,t,"script")}}),le.each(["get","post"],function(e,t){le[t]=function(e,n,i,r){return le.isFunction(n)&&(r=r||i,i=n,n=void 0),le.ajax(le.extend({url:e,type:t,dataType:r,data:n,success:i},le.isPlainObject(e)&&e))}}),le._evalUrl=function(e){return le.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},le.fn.extend({wrapAll:function(e){var t;return le.isFunction(e)?this.each(function(t){le(this).wrapAll(e.call(this,t))}):(this[0]&&(t=le(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return le.isFunction(e)?this.each(function(t){le(this).wrapInner(e.call(this,t))}):this.each(function(){var t=le(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=le.isFunction(e);return this.each(function(n){le(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){le.nodeName(this,"body")||le(this).replaceWith(this.childNodes)}).end()}}),le.expr.filters.hidden=function(e){return!le.expr.filters.visible(e)},le.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Ot=/%20/g,Pt=/\[\]$/,_t=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;le.param=function(e,t){var n,i=[],r=function(e,t){t=le.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=le.ajaxSettings&&le.ajaxSettings.traditional),le.isArray(e)||e.jquery&&!le.isPlainObject(e))le.each(e,function(){r(this.name,this.value)});else for(n in e)X(n,e[n],t,r);return i.join("&").replace(Ot,"+")},le.fn.extend({serialize:function(){return le.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=le.prop(this,"elements");return e?le.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!le(this).is(":disabled")&&kt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!ke.test(e))}).map(function(e,t){var n=le(this).val();return null==n?null:le.isArray(n)?le.map(n,function(e){return{name:t.name,value:e.replace(_t,"\r\n")}}):{name:t.name,value:n.replace(_t,"\r\n")}}).get()}}),le.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Mt={0:200,1223:204},$t=le.ajaxSettings.xhr();se.cors=!!$t&&"withCredentials"in $t,se.ajax=$t=!!$t,le.ajaxTransport(function(e){var t,i;if(se.cors||$t&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Mt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),i=s.onerror=t("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&i()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),le.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return le.globalEval(e),e}}}),le.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),le.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=le("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Ft=[],jt=/(=)\?(?=&|$)|\?\?/;le.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ft.pop()||le.expando+"_"+Et++;return this[e]=!0,e}}),le.ajaxPrefilter("json jsonp",function(e,t,i){var r,o,a,s=!1!==e.jsonp&&(jt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&jt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=le.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(jt,"$1"+r):!1!==e.jsonp&&(e.url+=(bt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||le.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always(function(){void 0===o?le(n).removeProp(r):n[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Ft.push(r)),a&&le.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),le.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Z;var i=me.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=v([e],t,r),r&&r.length&&le(r).remove(),le.merge([],i.childNodes))};var Vt=le.fn.load;le.fn.load=function(e,t,n){if("string"!=typeof e&&Vt)return Vt.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=le.trim(e.slice(s)),e=e.slice(0,s)),le.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&le.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?le("<div>").append(le.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},le.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){le.fn[t]=function(e){return this.on(t,e)}}),le.expr.filters.animated=function(e){return le.grep(le.timers,function(t){return e===t.elem}).length},le.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,u,c=le.css(e,"position"),p=le(e),d={};"static"===c&&(e.style.position="relative"),s=p.offset(),o=le.css(e,"top"),l=le.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=p.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),le.isFunction(t)&&(t=t.call(e,n,le.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):p.css(d)}},le.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){le.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return t=o.documentElement,le.contains(t,i)?(r=i.getBoundingClientRect(),n=Q(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===le.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),le.nodeName(e[0],"html")||(i=e.offset()),i.top+=le.css(e[0],"borderTopWidth",!0),i.left+=le.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-le.css(n,"marginTop",!0),left:t.left-i.left-le.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===le.css(e,"position");)e=e.offsetParent;return e||et})}}),le.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;le.fn[e]=function(i){return Te(this,function(e,i,r){var o=Q(e);if(void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),le.each(["top","left"],function(e,t){le.cssHooks[t]=O(se.pixelPosition,function(e,n){if(n)return n=R(e,t),Qe.test(n)?le(e).position()[t]+"px":n})}),le.each({Height:"height",Width:"width"},function(e,t){le.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){le.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===r?"margin":"border");return Te(this,function(t,n,i){var r;return le.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?le.css(t,n,a):le.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),le.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),le.fn.andSelf=le.fn.addBack,i=[],void 0!==(r=function(){return le}.apply(t,i))&&(e.exports=r);var Gt=n.jQuery,Ht=n.$;return le.noConflict=function(e){return n.$===le&&(n.$=Ht),e&&n.jQuery===le&&(n.jQuery=Gt),le},o||(n.jQuery=n.$=le),le})},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(75)),i(n(244)),i(n(245)),i(n(246)),i(n(247)),i(n(257)),i(n(258)),i(n(259)),i(n(165)),i(n(160)),i(n(260)),i(n(263))},,,function(e,t,n){!function(t){e.exports=t()}(function(){"use strict";function e(n,i){if(!(this instanceof e))return new e(n,i);this.options=i=i?Fr(i):{},Fr(ta,i,!1),f(i);var r=i.value;"string"==typeof r&&(r=new Ta(r,i.mode,null,i.lineSeparator)),this.doc=r;var o=new e.inputStyles[i.inputStyle](this),a=this.display=new t(n,r,o);a.wrapper.CodeMirror=this,u(this),s(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),i.autofocus&&!Ro&&a.input.focus(),m(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Or,keySeq:null,specialChars:null};var l=this;bo&&xo<11&&setTimeout(function(){l.display.input.reset(!0)},20),Bt(this),Xr(),xt(this),this.curOp.forceUpdate=!0,Qi(this,r),i.autofocus&&!Ro||l.hasFocus()?setTimeout(jr(yn,this),20):En(this);for(var c in na)na.hasOwnProperty(c)&&na[c](this,i[c],ia);C(this),i.finishInit&&i.finishInit(this);for(var p=0;p<sa.length;++p)sa[p](this);St(this),Co&&i.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function t(e,t,n){var i=this;this.input=n,i.scrollbarFiller=Br("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Br("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Br("div",null,"CodeMirror-code"),i.selectionDiv=Br("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Br("div",null,"CodeMirror-cursors"),i.measure=Br("div",null,"CodeMirror-measure"),i.lineMeasure=Br("div",null,"CodeMirror-measure"),i.lineSpace=Br("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=Br("div",[Br("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Br("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Br("div",null,null,"position: absolute; height: "+Ma+"px; width: 1px;"),i.gutters=Br("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Br("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Br("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),bo&&xo<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),Co||mo&&Ro||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),i(t)}function i(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,je(e,100),e.state.modeGen++,e.curOp&&Mt(e)}function r(e){e.options.lineWrapping?(Za(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Ja(e.display.wrapper,"CodeMirror-wrap"),d(e)),a(e),Mt(e),lt(e),setTimeout(function(){y(e)},100)}function o(e){var t=Et(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/bt(e.display)-3);return function(r){if(Si(e.doc,r))return 0;var o=0;if(r.widgets)for(var a=0;a<r.widgets.length;a++)r.widgets[a].height&&(o+=r.widgets[a].height);return n?o+(Math.ceil(r.text.length/i)||1)*t:o+t}}function a(e){var t=e.doc,n=o(e);t.iter(function(e){var t=n(e);t!=e.height&&tr(e,t)})}function s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),lt(e)}function l(e){u(e),Mt(e),setTimeout(function(){x(e)},20)}function u(e){var t=e.display.gutters,n=e.options.gutters;Ur(t);for(var i=0;i<n.length;++i){var r=n[i],o=t.appendChild(Br("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none",c(e)}function c(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function p(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=vi(i);){var r=t.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=e;t=mi(i);){var r=t.find(0,!0);n-=i.text.length-r.from.ch,i=r.to.line,n+=i.text.length-r.to.ch}return n}function d(e){var t=e.display,n=e.doc;t.maxLine=Ji(n,n.first),t.maxLineLength=p(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=p(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function f(e){var t=Dr(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function h(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Ue(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+qe(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function g(e,t,n){this.cm=n;var i=this.vert=Br("div",[Br("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=Br("div",[Br("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(r),Oa(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),Oa(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,bo&&xo<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function v(){}function m(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Ja(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Oa(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?an(t,e):on(t,e)},t),t.display.scrollbars.addClass&&Za(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=h(e));var n=e.display.barWidth,i=e.display.barHeight;E(e,t);for(var r=0;r<4&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&O(e),E(e,h(e)),n=e.display.barWidth,i=e.display.barHeight}function E(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function b(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-Be(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=ir(t,i),a=ir(t,r);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=ir(t,rr(Ji(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=ir(t,rr(Ji(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function x(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=w(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=i+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&n[a].gutter&&(n[a].gutter.style.left=o);var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function C(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=S(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(Br("div",[Br("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,a=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-a)+1,i.lineNumWidth=i.lineNumInnerWidth+a,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",c(e),!0}return!1}function S(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function w(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function T(e,t,n){var i=e.display;this.viewport=t,this.visible=b(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=We(e),this.force=n,this.dims=_(e),this.events=[]}function A(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=qe(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=qe(e)+"px",t.scrollbarsClipped=!0)}function L(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden)return Ft(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Ht(e))return!1;C(e)&&(Ft(e),t.dims=_(e));var r=i.first+i.size,o=Math.max(t.visible.from-e.options.viewportMargin,i.first),a=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(r,n.viewTo)),Fo&&(o=xi(e.doc,o),a=Ci(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Gt(e,o,a),n.viewOffset=rr(Ji(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Ht(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=qr();return l>4&&(n.lineDiv.style.display="none"),D(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,u&&qr()!=u&&u.offsetHeight&&u.focus(),Ur(n.cursorDiv),Ur(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,je(e,400)),n.updateLineNumbers=null,!0}function I(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=We(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Ue(e.display)-Ke(e),n.top)}),t.visible=b(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&L(e,t);i=!1){O(e);var r=h(e);De(e),y(e,r),R(e,r)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function N(e,t){var n=new T(e,t);if(L(e,n)){O(e),I(e,n);var i=h(e);De(e),y(e,i),R(e,i),n.finish()}}function R(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+qe(e)+"px"}function O(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r,o=t.view[i];if(!o.hidden){if(bo&&xo<8){var a=o.node.offsetTop+o.node.offsetHeight;r=a-n,n=a}else{var s=o.node.getBoundingClientRect();r=s.bottom-s.top}var l=o.line.height-r;if(r<2&&(r=Et(t)),(l>.001||l<-.001)&&(tr(o.line,r),P(o.line),o.rest))for(var u=0;u<o.rest.length;u++)P(o.rest[u])}}}function P(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function _(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+r,i[e.options.gutters[a]]=o.clientWidth;return{fixedPos:w(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function D(e,t,n){function i(t){var n=t.nextSibling;return Co&&Oo&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var r=e.display,o=e.options.lineNumbers,a=r.lineDiv,s=a.firstChild,l=r.view,u=r.viewFrom,c=0;c<l.length;c++){var p=l[c];if(p.hidden);else if(p.node&&p.node.parentNode==a){for(;s!=p.node;)s=i(s);var d=o&&null!=t&&t<=u&&p.lineNumber;p.changes&&(Dr(p.changes,"gutter")>-1&&(d=!1),k(e,p,u,n)),d&&(Ur(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(S(e.options,u)))),s=p.node.nextSibling}else{var f=B(e,p,u,n);a.insertBefore(f,s)}u+=p.size}for(;s;)s=i(s)}function k(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?j(e,t):"gutter"==o?G(e,t,n,i):"class"==o?V(t):"widget"==o&&H(e,t,i)}t.changes=null}function M(e){return e.node==e.text&&(e.node=Br("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),bo&&xo<8&&(e.node.style.zIndex=2)),e.node}function $(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=M(e);e.background=n.insertBefore(Br("div",null,t),n.firstChild)}}function F(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):ji(e,t)}function j(e,t){var n=t.text.className,i=F(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,V(t)):n&&(t.text.className=n)}function V(e){$(e),e.line.wrapClass?M(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function G(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=M(t);t.gutterBackground=Br("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var r=M(t),a=t.gutter=Br("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),r.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(Br("div",S(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],u=o.hasOwnProperty(l)&&o[l];u&&a.appendChild(Br("div",[u],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function H(e,t,n){t.alignable&&(t.alignable=null);for(var i,r=t.node.firstChild;r;r=i){var i=r.nextSibling;"CodeMirror-linewidget"==r.className&&t.node.removeChild(r)}U(e,t,n)}function B(e,t,n,i){var r=F(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),V(t),G(e,t,n,i),U(e,t,i),t.node}function U(e,t,n){if(z(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)z(e,t.rest[i],t,n,!1)}function z(e,t,n,i,r){if(t.widgets)for(var o=M(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],u=Br("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),q(l,u,n,i),e.display.input.setUneditable(u),r&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),Tr(l,"redraw")}}function q(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function W(e){return jo(e.line,e.ch)}function K(e,t){return Vo(e,t)<0?t:e}function Y(e,t){return Vo(e,t)<0?e:t}function X(e){e.state.focused||(e.display.input.focus(),yn(e))}function Q(e,t,n,i,r){var o=e.doc;e.display.shift=!1,i||(i=o.sel);var a=e.state.pasteIncoming||"paste"==r,s=o.splitLines(t),l=null;if(a&&i.ranges.length>1)if(Go&&Go.text.join("\n")==t){if(i.ranges.length%Go.text.length==0){l=[];for(var u=0;u<Go.text.length;u++)l.push(o.splitLines(Go.text[u]))}}else s.length==i.ranges.length&&(l=kr(s,function(e){return[e]}));for(var u=i.ranges.length-1;u>=0;u--){var c=i.ranges[u],p=c.from(),d=c.to();c.empty()&&(n&&n>0?p=jo(p.line,p.ch-n):e.state.overwrite&&!a?d=jo(d.line,Math.min(Ji(o,d.line).text.length,d.ch+_r(s).length)):Go&&Go.lineWise&&Go.text.join("\n")==t&&(p=d=jo(p.line,0)));var f=e.curOp.updateInput,h={from:p,to:d,text:l?l[u%l.length]:s,origin:r||(a?"paste":e.state.cutIncoming?"cut":"+input")};Ln(e.doc,h),Tr(e,"inputRead",e,h)}t&&!a&&Z(e,t),jn(e),e.curOp.updateInput=f,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function J(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Rt(t,function(){Q(t,n,0,null,"paste")}),!0}function Z(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=e.getModeAt(r.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Gn(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ji(e.doc,r.head.line).text.slice(0,r.head.ch))&&(a=Gn(e,r.head.line,"smart"));a&&Tr(e,"electricInput",e,r.head.line)}}}function ee(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,o={anchor:jo(r,0),head:jo(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function te(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function ne(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Or,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function ie(){var e=Br("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=Br("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Co?e.style.width="1000px":e.setAttribute("wrap","off"),No&&(e.style.border="1px solid black"),te(e),t}function re(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Or,this.gracePeriod=!1}function oe(e,t){var n=Ze(e,t.line);if(!n||n.hidden)return null;var i=Ji(e.doc,t.line),r=Xe(n,i,t.line),o=or(i),a="left";if(o){a=co(o,t.ch)%2?"right":"left"}var s=nt(r.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function ae(e,t){return t&&(e.bad=!0),e}function se(e,t,n){var i;if(t==e.display.lineDiv){if(!(i=e.display.lineDiv.childNodes[n]))return ae(e.clipPos(jo(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==i)return le(o,t,n)}}function le(e,t,n){function i(t,n,i){for(var r=-1;r<(c?c.length:0);r++)for(var o=r<0?u.map:c[r],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var l=nr(r<0?e.line:e.rest[r]),p=o[a]+i;return(i<0||s!=t)&&(p=o[a+(i?1:0)]),jo(l,p)}}}var r=e.text.firstChild,o=!1;if(!t||!Ya(r,t))return ae(jo(nr(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var a=e.rest?_r(e.rest):e.line;return ae(jo(nr(a),a.text.length),o)}var s=3==t.nodeType?t:null,l=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var u=e.measure,c=u.maps,p=i(s,l,n);if(p)return ae(p,o);for(var d=l.nextSibling,f=s?s.nodeValue.length-n:0;d;d=d.nextSibling){if(p=i(d,d.firstChild,0))return ae(jo(p.line,p.ch-f),o);f+=d.textContent.length}for(var h=l.previousSibling,f=n;h;h=h.previousSibling){if(p=i(h,h.firstChild,-1))return ae(jo(p.line,p.ch+f),o);f+=d.textContent.length}}function ue(e,t,n,i,r){function o(e){return function(t){return t.id==e}}function a(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(s+=n);var c,p=t.getAttribute("cm-marker");if(p){var d=e.findMarks(jo(i,0),jo(r+1,0),o(+p));return void(d.length&&(c=d[0].find())&&(s+=Zi(e.doc,c.from,c.to).join(u)))}if("false"==t.getAttribute("contenteditable"))return;for(var f=0;f<t.childNodes.length;f++)a(t.childNodes[f]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var h=t.nodeValue;if(!h)return;l&&(s+=u,l=!1),s+=h}}for(var s="",l=!1,u=e.doc.lineSeparator();a(t),t!=n;)t=t.nextSibling;return s}function ce(e,t){this.ranges=e,this.primIndex=t}function pe(e,t){this.anchor=e,this.head=t}function de(e,t){var n=e[t];e.sort(function(e,t){return Vo(e.from(),t.from())}),t=Dr(e,n);for(var i=1;i<e.length;i++){var r=e[i],o=e[i-1];if(Vo(o.to(),r.from())>=0){var a=Y(o.from(),r.from()),s=K(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;i<=t&&--t,e.splice(--i,2,new pe(l?s:a,l?a:s))}}return new ce(e,t)}function fe(e,t){return new ce([new pe(e,t||e)],0)}function he(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ge(e,t){if(t.line<e.first)return jo(e.first,0);var n=e.first+e.size-1;return t.line>n?jo(n,Ji(e,n).text.length):ve(t,Ji(e,t.line).text.length)}function ve(e,t){var n=e.ch;return null==n||n>t?jo(e.line,t):n<0?jo(e.line,0):e}function me(e,t){return t>=e.first&&t<e.first+e.size}function ye(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=ge(e,t[i]);return n}function Ee(e,t,n,i){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(i){var o=Vo(n,r)<0;o!=Vo(i,r)<0?(r=n,n=i):o!=Vo(n,i)<0&&(n=i)}return new pe(r,n)}return new pe(i||n,n)}function be(e,t,n,i){Ae(e,new ce([Ee(e,e.sel.primary(),t,n)],0),i)}function xe(e,t,n){for(var i=[],r=0;r<e.sel.ranges.length;r++)i[r]=Ee(e,e.sel.ranges[r],t[r],null);Ae(e,de(i,e.sel.primIndex),n)}function Ce(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,Ae(e,de(r,e.sel.primIndex),i)}function Se(e,t,n,i){Ae(e,fe(t,n),i)}function we(e,t,n){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new pe(ge(e,t[n].anchor),ge(e,t[n].head))},origin:n&&n.origin};return Da(e,"beforeSelectionChange",e,i),e.cm&&Da(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?de(i.ranges,i.ranges.length-1):t}function Te(e,t,n){var i=e.history.done,r=_r(i);r&&r.ranges?(i[i.length-1]=t,Le(e,t,n)):Ae(e,t,n)}function Ae(e,t,n){Le(e,t,n),dr(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Le(e,t,n){(Nr(e,"beforeSelectionChange")||e.cm&&Nr(e.cm,"beforeSelectionChange"))&&(t=we(e,t,n)),Ie(e,Re(e,t,n&&n.bias||(Vo(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||jn(e.cm)}function Ie(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ir(e.cm)),Tr(e,"cursorActivity",e))}function Ne(e){Ie(e,Re(e,e.sel,null,!1),Fa)}function Re(e,t,n,i){for(var r,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Pe(e,a.anchor,s&&s.anchor,n,i),u=Pe(e,a.head,s&&s.head,n,i);(r||l!=a.anchor||u!=a.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new pe(l,u))}return r?de(r,t.primIndex):t}function Oe(e,t,n,i,r){var o=Ji(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(r&&(Da(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var u,c=l.find(i<0?1:-1);if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(c=_e(e,c,-i,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=Vo(c,n))&&(i<0?u<0:u>0))return Oe(e,c,t,i,r)}var p=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(p=_e(e,p,i,p.line==t.line?o:null)),p?Oe(e,p,t,i,r):null}}return t}function Pe(e,t,n,i,r){var o=i||1,a=Oe(e,t,n,o,r)||!r&&Oe(e,t,n,o,!0)||Oe(e,t,n,-o,r)||!r&&Oe(e,t,n,-o,!0);return a||(e.cantEdit=!0,jo(e.first,0))}function _e(e,t,n,i){return n<0&&0==t.ch?t.line>e.first?ge(e,jo(t.line-1)):null:n>0&&t.ch==(i||Ji(e,t.line)).text.length?t.line<e.first+e.size-1?jo(t.line+1,0):null:new jo(t.line,t.ch+n)}function De(e){e.display.input.showSelection(e.display.input.prepareSelection())}function ke(e,t){for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(!1!==t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Me(e,s.head,r),l||$e(e,s,o)}}return i}function Me(e,t,n){var i=ht(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(Br("div"," ","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var o=n.appendChild(Br("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function $e(e,t,n){function i(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),s.appendChild(Br("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?c-e:n)+"px; height: "+(i-t)+"px"))}function r(t,n,r){function o(n,i){return ft(e,jo(t,n),"div",p,i)}var s,l,p=Ji(a,t),d=p.text.length;return to(or(p),n||0,null==r?d:r,function(e,t,a){var p,f,h,g=o(e,"left");if(e==t)p=g,f=h=g.left;else{if(p=o(t-1,"right"),"rtl"==a){var v=g;g=p,p=v}f=g.left,h=p.right}null==n&&0==e&&(f=u),p.top-g.top>3&&(i(f,g.top,null,g.bottom),f=u,g.bottom<p.top&&i(f,g.bottom,null,p.top)),null==r&&t==d&&(h=c),(!s||g.top<s.top||g.top==s.top&&g.left<s.left)&&(s=g),(!l||p.bottom>l.bottom||p.bottom==l.bottom&&p.right>l.right)&&(l=p),f<u+1&&(f=u),i(f,p.top,h-f,p.bottom)}),{start:s,end:l}}var o=e.display,a=e.doc,s=document.createDocumentFragment(),l=ze(e.display),u=l.left,c=Math.max(o.sizerWidth,We(e)-o.sizer.offsetLeft)-l.right,p=t.from(),d=t.to();if(p.line==d.line)r(p.line,p.ch,d.ch);else{var f=Ji(a,p.line),h=Ji(a,d.line),g=Ei(f)==Ei(h),v=r(p.line,p.ch,g?f.text.length+1:null).end,m=r(d.line,g?0:null,d.ch).start;g&&(v.top<m.top-2?(i(v.right,v.top,null,v.bottom),i(u,m.top,m.left,m.bottom)):i(v.right,v.top,m.left-v.right,v.bottom)),v.bottom<m.top&&i(u,v.bottom,null,m.top)}n.appendChild(s)}function Fe(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function je(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,jr(Ve,e))}function Ve(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=ua(t.mode,He(e,t.frontier)),r=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength,l=ki(e,o,s?ua(t.mode,i):i,!0);o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var p=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),d=0;!p&&d<a.length;++d)p=a[d]!=o.styles[d];p&&r.push(t.frontier),o.stateAfter=s?i:ua(t.mode,i)}else o.text.length<=e.options.maxHighlightLength&&$i(e,o.text,i),o.stateAfter=t.frontier%5==0?ua(t.mode,i):null;if(++t.frontier,+new Date>n)return je(e,e.options.workDelay),!0}),r.length&&Rt(e,function(){for(var t=0;t<r.length;t++)$t(e,r[t],"text")})}}function Ge(e,t,n){for(var i,r,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=Ji(o,s-1);if(l.stateAfter&&(!n||s<=o.frontier))return s;var u=Ga(l.text,null,e.options.tabSize);(null==r||i>u)&&(r=s-1,i=u)}return r}function He(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return!0;var o=Ge(e,t,n),a=o>i.first&&Ji(i,o-1).stateAfter;return a=a?ua(i.mode,a):ca(i.mode),i.iter(o,t,function(n){$i(e,n.text,a);var s=o==t-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;n.stateAfter=s?ua(i.mode,a):null,++o}),n&&(i.frontier=o),a}function Be(e){return e.lineSpace.offsetTop}function Ue(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function ze(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=zr(e.measure,Br("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function qe(e){return Ma-e.display.nativeBarWidth}function We(e){return e.display.scroller.clientWidth-qe(e)-e.display.barWidth}function Ke(e){return e.display.scroller.clientHeight-qe(e)-e.display.barHeight}function Ye(e,t,n){var i=e.options.lineWrapping,r=i&&We(e);if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Xe(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var i=0;i<e.rest.length;i++)if(nr(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Qe(e,t){t=Ei(t);var n=nr(t),i=e.display.externalMeasured=new Dt(e.doc,t,n);i.lineN=n;var r=i.built=ji(e,i);return i.text=r.pre,zr(e.display.lineMeasure,r.pre),i}function Je(e,t,n,i){return tt(e,et(e,t),n,i)}function Ze(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[jt(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function et(e,t){var n=nr(t),i=Ze(e,n);i&&!i.text?i=null:i&&i.changes&&(k(e,i,n,_(e)),e.curOp.forceUpdate=!0),i||(i=Qe(e,t));var r=Xe(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function tt(e,t,n,i,r){t.before&&(n=-1);var o,a=n+(i||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ye(e,t.view,t.rect),t.hasHeights=!0),o=rt(e,t,n,i),o.bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function nt(e,t,n){for(var i,r,o,a,s=0;s<e.length;s+=3){var l=e[s],u=e[s+1];if(t<l?(r=0,o=1,a="left"):t<u?(r=t-l,o=r+1):(s==e.length-3||t==u&&e[s+3]>t)&&(o=u-l,r=o-1,t>=u&&(a="right")),null!=r){if(i=e[s+2],l==u&&n==(i.insertLeft?"left":"right")&&(a=n),"left"==n&&0==r)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)i=e[2+(s-=3)],a="left";if("right"==n&&r==u-l)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)i=e[(s+=3)+2],a="right";break}}return{node:i,start:r,end:o,collapse:a,coverStart:l,coverEnd:u}}function it(e,t){var n=zo;if("left"==t)for(var i=0;i<e.length&&(n=e[i]).left==n.right;i++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function rt(e,t,n,i){var r,o=nt(t.map,n,i),a=o.node,s=o.start,l=o.end,u=o.collapse;if(3==a.nodeType){for(var c=0;c<4;c++){for(;s&&Hr(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&Hr(t.line.text.charAt(o.coverStart+l));)++l;if(r=bo&&xo<9&&0==s&&l==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():it(za(a,s,l).getClientRects(),i),r.left||r.right||0==s)break;l=s,s-=1,u="right"}bo&&xo<11&&(r=ot(e.display.measure,r))}else{s>0&&(u=i="right");var p;r=e.options.lineWrapping&&(p=a.getClientRects()).length>1?p["right"==i?p.length-1:0]:a.getBoundingClientRect()}if(bo&&xo<9&&!s&&(!r||!r.left&&!r.right)){var d=a.parentNode.getClientRects()[0];r=d?{left:d.left,right:d.left+bt(e.display),top:d.top,bottom:d.bottom}:zo}for(var f=r.top-t.rect.top,h=r.bottom-t.rect.top,g=(f+h)/2,v=t.view.measure.heights,c=0;c<v.length-1&&!(g<v[c]);c++);var m=c?v[c-1]:0,y=v[c],E={left:("right"==u?r.right:r.left)-t.rect.left,right:("left"==u?r.left:r.right)-t.rect.left,top:m,bottom:y};return r.left||r.right||(E.bogus=!0),e.options.singleCursorHeightPerLine||(E.rtop=f,E.rbottom=h),E}function ot(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!eo(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}function at(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function st(e){e.display.externalMeasure=null,Ur(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)at(e.display.view[t])}function lt(e){st(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function ut(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ct(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function pt(e,t,n,i){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var o=Ai(t.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var a=rr(t);if("local"==i?a+=Be(e.display):a-=e.display.viewOffset,"page"==i||"window"==i){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==i?0:ct());var l=s.left+("window"==i?0:ut());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function dt(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=ut(),r-=ct();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:i-a.left,top:r-a.top}}function ft(e,t,n,i,r){return i||(i=Ji(e.doc,t.line)),pt(e,i,Je(e,i,t.ch,r),n)}function ht(e,t,n,i,r,o){function a(t,a){var s=tt(e,r,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,pt(e,i,s,n)}function s(e,t){var n=l[t],i=n.level%2;return e==no(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=io(n)-(n.level%2?0:1),i=!0):e==io(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=no(n)-n.level%2,i=!1),i&&e==n.to&&e>n.from?a(e-1):a(e,i)}i=i||Ji(e.doc,t.line),r||(r=et(e,i));var l=or(i),u=t.ch;if(!l)return a(u);var c=co(l,u),p=s(u,c);return null!=ss&&(p.other=s(u,ss)),p}function gt(e,t){var n=0,t=ge(e.doc,t);e.options.lineWrapping||(n=bt(e.display)*t.ch);var i=Ji(e.doc,t.line),r=rr(i)+Be(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function vt(e,t,n,i){var r=jo(e,t);return r.xRel=i,n&&(r.outside=!0),r}function mt(e,t,n){var i=e.doc;if((n+=e.display.viewOffset)<0)return vt(i.first,0,!0,-1);var r=ir(i,n),o=i.first+i.size-1;if(r>o)return vt(i.first+i.size-1,Ji(i,o).text.length,!0,1);t<0&&(t=0);for(var a=Ji(i,r);;){var s=yt(e,a,r,t,n),l=mi(a),u=l&&l.find(0,!0);if(!l||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;r=nr(a=u.to.line)}}function yt(e,t,n,i,r){function o(i){var r=ht(e,jo(n,i),"line",t,u);return s=!0,a>r.bottom?r.left-l:a<r.top?r.left+l:(s=!1,r.left)}var a=r-rr(t),s=!1,l=2*e.display.wrapper.clientWidth,u=et(e,t),c=or(t),p=t.text.length,d=ro(t),f=oo(t),h=o(d),g=s,v=o(f),m=s;if(i>v)return vt(n,f,m,1);for(;;){if(c?f==d||f==fo(t,d,1):f-d<=1){var y=i<h||i-h<=v-i?d:f,E=y==d?g:m,b=i-(y==d?h:v);if(m&&!c&&!/\s/.test(t.text.charAt(y))&&b>0&&y<t.text.length&&u.view.measure.heights.length>1){var x=tt(e,u,y,"right");a<=x.bottom&&a>=x.top&&Math.abs(i-x.right)<b&&(E=!1,y++,b=i-x.right)}for(;Hr(t.text.charAt(y));)++y;return vt(n,y,E,b<-1?-1:b>1?1:0)}var C=Math.ceil(p/2),S=d+C;if(c){S=d;for(var w=0;w<C;++w)S=fo(t,S,1)}var T=o(S);T>i?(f=S,v=T,(m=s)&&(v+=1e3),p=C):(d=S,h=T,g=s,p-=C)}}function Et(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ho){Ho=Br("pre");for(var t=0;t<49;++t)Ho.appendChild(document.createTextNode("x")),Ho.appendChild(Br("br"));Ho.appendChild(document.createTextNode("x"))}zr(e.measure,Ho);var n=Ho.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Ur(e.measure),n||1}function bt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Br("span","xxxxxxxxxx"),n=Br("pre",[t]);zr(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function xt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Wo},qo?qo.ops.push(e.curOp):e.curOp.ownsGroup=qo={ops:[e.curOp],delayedCallbacks:[]}}function Ct(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}function St(e){var t=e.curOp,n=t.ownsGroup;if(n)try{Ct(n)}finally{qo=null;for(var i=0;i<n.ops.length;i++)n.ops[i].cm.curOp=null;wt(n)}}function wt(e){for(var t=e.ops,n=0;n<t.length;n++)Tt(t[n]);for(var n=0;n<t.length;n++)At(t[n]);for(var n=0;n<t.length;n++)Lt(t[n]);for(var n=0;n<t.length;n++)It(t[n]);for(var n=0;n<t.length;n++)Nt(t[n])}function Tt(e){var t=e.cm,n=t.display;A(t),e.updateMaxLine&&d(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new T(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function At(e){e.updatedDisplay=e.mustUpdate&&L(e.cm,e.update)}function Lt(e){var t=e.cm,n=t.display;e.updatedDisplay&&O(t),e.barMeasure=h(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Je(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+qe(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-We(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function It(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&an(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==qr()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.updatedDisplay&&R(t,e.barMeasure),e.selectionChanged&&Fe(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&X(e.cm)}function Nt(e){var t=e.cm,n=t.display,i=t.doc;if(e.updatedDisplay&&I(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,x(t)),e.scrollToPos){var r=kn(t,ge(i,e.scrollToPos.from),ge(i,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Dn(t,r)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Da(o[s],"hide");if(a)for(var s=0;s<a.length;++s)a[s].lines.length&&Da(a[s],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Da(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Rt(e,t){if(e.curOp)return t();xt(e);try{return t()}finally{St(e)}}function Ot(e,t){return function(){if(e.curOp)return t.apply(e,arguments);xt(e);try{return t.apply(e,arguments)}finally{St(e)}}}function Pt(e){return function(){if(this.curOp)return e.apply(this,arguments);xt(this);try{return e.apply(this,arguments)}finally{St(this)}}}function _t(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);xt(t);try{return e.apply(this,arguments)}finally{St(t)}}}function Dt(e,t,n){this.line=t,this.rest=bi(t),this.size=this.rest?nr(_r(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Si(e,t)}function kt(e,t,n){for(var i,r=[],o=t;o<n;o=i){var a=new Dt(e.doc,Ji(e.doc,o),o);i=o+a.size,r.push(a)}return r}function Mt(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Fo&&xi(e.doc,t)<r.viewTo&&Ft(e);else if(n<=r.viewFrom)Fo&&Ci(e.doc,n+i)>r.viewFrom?Ft(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)Ft(e);else if(t<=r.viewFrom){var o=Vt(e,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):Ft(e)}else if(n>=r.viewTo){var o=Vt(e,t,t,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):Ft(e)}else{var a=Vt(e,t,t,-1),s=Vt(e,n,n+i,1);a&&s?(r.view=r.view.slice(0,a.index).concat(kt(e,a.lineN,s.lineN)).concat(r.view.slice(s.index)),r.viewTo+=i):Ft(e)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:t<l.lineN+l.size&&(r.externalMeasured=null))}function $t(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[jt(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==Dr(a,n)&&a.push(n)}}}function Ft(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function jt(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,i=0;i<n.length;i++)if((t-=n[i].size)<0)return i}function Vt(e,t,n,i){var r,o=jt(e,t),a=e.display.view;if(!Fo||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=0,l=e.display.viewFrom;s<o;s++)l+=a[s].size;if(l!=t){if(i>0){if(o==a.length-1)return null;r=l+a[o].size-t,o++}else r=l-t;t+=r,n+=r}for(;xi(e.doc,n)!=n;){if(o==(i<0?0:a.length-1))return null;n+=i*a[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function Gt(e,t,n){var i=e.display;0==i.view.length||t>=i.viewTo||n<=i.viewFrom?(i.view=kt(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=kt(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(jt(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(kt(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,jt(e,n)))),i.viewTo=n}function Ht(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function Bt(e){function t(){r.activeTouch&&(o=setTimeout(function(){r.activeTouch=null},1e3),a=r.activeTouch,a.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function i(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}var r=e.display;Oa(r.scroller,"mousedown",Ot(e,Kt)),bo&&xo<11?Oa(r.scroller,"dblclick",Ot(e,function(t){if(!Lr(e,t)){var n=Wt(e,t);if(n&&!Zt(e,t)&&!qt(e.display,t)){Ia(t);var i=e.findWordAt(n);be(e.doc,i.anchor,i.head)}}})):Oa(r.scroller,"dblclick",function(t){Lr(e,t)||Ia(t)}),Mo||Oa(r.scroller,"contextmenu",function(t){bn(e,t)});var o,a={end:0};Oa(r.scroller,"touchstart",function(t){if(!Lr(e,t)&&!n(t)){clearTimeout(o);var i=+new Date;r.activeTouch={start:i,moved:!1,prev:i-a.end<=300?a:null},1==t.touches.length&&(r.activeTouch.left=t.touches[0].pageX,r.activeTouch.top=t.touches[0].pageY)}}),Oa(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),Oa(r.scroller,"touchend",function(n){var o=r.activeTouch;if(o&&!qt(r,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=e.coordsChar(r.activeTouch,"page");a=!o.prev||i(o,o.prev)?new pe(s,s):!o.prev.prev||i(o,o.prev.prev)?e.findWordAt(s):new pe(jo(s.line,0),ge(e.doc,jo(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),Ia(n)}t()}),Oa(r.scroller,"touchcancel",t),Oa(r.scroller,"scroll",function(){r.scroller.clientHeight&&(on(e,r.scroller.scrollTop),an(e,r.scroller.scrollLeft,!0),Da(e,"scroll",e))}),Oa(r.scroller,"mousewheel",function(t){sn(e,t)}),Oa(r.scroller,"DOMMouseScroll",function(t){sn(e,t)}),Oa(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(t){Lr(e,t)||Ra(t)},over:function(t){Lr(e,t)||(nn(e,t),Ra(t))},start:function(t){tn(e,t)},drop:Ot(e,en),leave:function(t){Lr(e,t)||rn(e)}};var s=r.input.getField();Oa(s,"keyup",function(t){gn.call(e,t)}),Oa(s,"keydown",Ot(e,fn)),Oa(s,"keypress",Ot(e,vn)),Oa(s,"focus",jr(yn,e)),Oa(s,"blur",jr(En,e))}function Ut(t,n,i){if(!n!=!(i&&i!=e.Init)){var r=t.display.dragFunctions,o=n?Oa:_a;o(t.display.scroller,"dragstart",r.start),o(t.display.scroller,"dragenter",r.enter),o(t.display.scroller,"dragover",r.over),o(t.display.scroller,"dragleave",r.leave),o(t.display.scroller,"drop",r.drop)}}function zt(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function qt(e,t){for(var n=Cr(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Wt(e,t,n,i){var r=e.display;if(!n&&"true"==Cr(t).getAttribute("cm-not-content"))return null;var o,a,s=r.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,u=mt(e,o,a);if(i&&1==u.xRel&&(l=Ji(e.doc,u.line).text).length==u.ch){var c=Ga(l,l.length,e.options.tabSize)-l.length;u=jo(u.line,Math.max(0,Math.round((o-ze(e.display).left)/bt(e.display))-c))}return u}function Kt(e){var t=this,n=t.display;if(!(Lr(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.shift=e.shiftKey,qt(n,e))return void(Co||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Zt(t,e)){var i=Wt(t,e);switch(window.focus(),Sr(e)){case 1:t.state.selectingText?t.state.selectingText(e):i?Yt(t,e,i):Cr(e)==n.scroller&&Ia(e);break;case 2:Co&&(t.state.lastMiddleDown=+new Date),i&&be(t.doc,i),setTimeout(function(){n.input.focus()},20),Ia(e);break;case 3:Mo?bn(t,e):mn(t)}}}}function Yt(e,t,n){bo?setTimeout(jr(X,e),0):e.curOp.focus=qr();var i,r=+new Date;Uo&&Uo.time>r-400&&0==Vo(Uo.pos,n)?i="triple":Bo&&Bo.time>r-400&&0==Vo(Bo.pos,n)?(i="double",Uo={time:r,pos:n}):(i="single",Bo={time:r,pos:n});var o,a=e.doc.sel,s=Oo?t.metaKey:t.ctrlKey;e.options.dragDrop&&ts&&!e.isReadOnly()&&"single"==i&&(o=a.contains(n))>-1&&(Vo((o=a.ranges[o]).from(),n)<0||n.xRel>0)&&(Vo(o.to(),n)>0||n.xRel<0)?Xt(e,t,n,s):Qt(e,t,n,i,s)}function Xt(e,t,n,i){var r=e.display,o=+new Date,a=Ot(e,function(s){Co&&(r.scroller.draggable=!1),e.state.draggingText=!1,_a(document,"mouseup",a),_a(r.scroller,"drop",a),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(Ia(s),!i&&+new Date-200<o&&be(e.doc,n),Co||bo&&9==xo?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())});Co&&(r.scroller.draggable=!0),e.state.draggingText=a,a.copy=Oo?t.altKey:t.ctrlKey,r.scroller.dragDrop&&r.scroller.dragDrop(),Oa(document,"mouseup",a),Oa(r.scroller,"drop",a)}function Qt(e,t,n,i,r){function o(t){if(0!=Vo(v,t))if(v=t,"rect"==i){for(var r=[],o=e.options.tabSize,a=Ga(Ji(u,n.line).text,n.ch,o),s=Ga(Ji(u,t.line).text,t.ch,o),l=Math.min(a,s),f=Math.max(a,s),h=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));h<=g;h++){var m=Ji(u,h).text,y=Ha(m,l,o);l==f?r.push(new pe(jo(h,y),jo(h,y))):m.length>y&&r.push(new pe(jo(h,y),jo(h,Ha(m,f,o))))}r.length||r.push(new pe(n,n)),Ae(u,de(d.ranges.slice(0,p).concat(r),p),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var E=c,b=E.anchor,x=t;if("single"!=i){if("double"==i)var C=e.findWordAt(t);else var C=new pe(jo(t.line,0),ge(u,jo(t.line+1,0)));Vo(C.anchor,b)>0?(x=C.head,b=Y(E.from(),C.anchor)):(x=C.anchor,b=K(E.to(),C.head))}var r=d.ranges.slice(0);r[p]=new pe(ge(u,b),x),Ae(u,de(r,p),ja)}}function a(t){var n=++y,r=Wt(e,t,!0,"rect"==i);if(r)if(0!=Vo(r,v)){e.curOp.focus=qr(),o(r);var s=b(l,u);(r.line>=s.to||r.line<s.from)&&setTimeout(Ot(e,function(){y==n&&a(t)}),150)}else{var c=t.clientY<m.top?-20:t.clientY>m.bottom?20:0;c&&setTimeout(Ot(e,function(){y==n&&(l.scroller.scrollTop+=c,a(t))}),50)}}function s(t){e.state.selectingText=!1,y=1/0,Ia(t),l.input.focus(),_a(document,"mousemove",E),_a(document,"mouseup",x),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;Ia(t);var c,p,d=u.sel,f=d.ranges;if(r&&!t.shiftKey?(p=u.sel.contains(n),c=p>-1?f[p]:new pe(n,n)):(c=u.sel.primary(),p=u.sel.primIndex),Po?t.shiftKey&&t.metaKey:t.altKey)i="rect",r||(c=new pe(n,n)),n=Wt(e,t,!0,!0),p=-1;else if("double"==i){var h=e.findWordAt(n);c=e.display.shift||u.extend?Ee(u,c,h.anchor,h.head):h}else if("triple"==i){var g=new pe(jo(n.line,0),ge(u,jo(n.line+1,0)));c=e.display.shift||u.extend?Ee(u,c,g.anchor,g.head):g}else c=Ee(u,c,n);r?-1==p?(p=f.length,Ae(u,de(f.concat([c]),p),{scroll:!1,origin:"*mouse"})):f.length>1&&f[p].empty()&&"single"==i&&!t.shiftKey?(Ae(u,de(f.slice(0,p).concat(f.slice(p+1)),0),{scroll:!1,origin:"*mouse"}),d=u.sel):Ce(u,p,c,ja):(p=0,Ae(u,new ce([c],0),ja),d=u.sel);var v=n,m=l.wrapper.getBoundingClientRect(),y=0,E=Ot(e,function(e){Sr(e)?a(e):s(e)}),x=Ot(e,s);e.state.selectingText=x,Oa(document,"mousemove",E),Oa(document,"mouseup",x)}function Jt(e,t,n,i){try{var r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&Ia(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!Nr(e,n))return xr(t);o-=s.top-a.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=r){var c=ir(e.doc,o),p=e.options.gutters[l];return Da(e,n,e,c,p,t),xr(t)}}}function Zt(e,t){return Jt(e,t,"gutterClick",!0)}function en(e){var t=this;if(rn(t),!Lr(t,e)&&!qt(t.display,e)){Ia(e),bo&&(Ko=+new Date);var n=Wt(t,e,!0),i=e.dataTransfer.files;if(n&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),a=0,s=0;s<r;++s)!function(e,i){if(!t.options.allowDropFileTypes||-1!=Dr(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=Ot(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[i]=e,++a==r){n=ge(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Ln(t.doc,l),Te(t.doc,fe(n,ea(l)))}}),s.readAsText(e)}}(i[s],s);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!t.state.draggingText.copy)var l=t.listSelections();if(Le(t.doc,fe(n,n)),l)for(var s=0;s<l.length;++s)_n(t.doc,"",l[s].anchor,l[s].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(e){}}}}function tn(e,t){if(bo&&(!e.state.draggingText||+new Date-Ko<100))return void Ra(t);if(!Lr(e,t)&&!qt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Ao)){var n=Br("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",To&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),To&&n.parentNode.removeChild(n)}}function nn(e,t){var n=Wt(e,t);if(n){var i=document.createDocumentFragment();Me(e,n,i),e.display.dragCursor||(e.display.dragCursor=Br("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),zr(e.display.dragCursor,i)}}function rn(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function on(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,mo||N(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),mo&&N(e),je(e,100))}function an(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,x(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function sn(e,t){var n=Qo(t),i=n.x,r=n.y,o=e.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(i&&s||r&&l){if(r&&Oo&&Co)e:for(var u=t.target,c=o.view;u!=a;u=u.parentNode)for(var p=0;p<c.length;p++)if(c[p].node==u){e.display.currentWheelTarget=u;break e}if(i&&!mo&&!To&&null!=Xo)return r&&l&&on(e,Math.max(0,Math.min(a.scrollTop+r*Xo,a.scrollHeight-a.clientHeight))),an(e,Math.max(0,Math.min(a.scrollLeft+i*Xo,a.scrollWidth-a.clientWidth))),(!r||r&&l)&&Ia(t),void(o.wheelStartX=null);if(r&&null!=Xo){var d=r*Xo,f=e.doc.scrollTop,h=f+o.wrapper.clientHeight;d<0?f=Math.max(0,f+d-50):h=Math.min(e.doc.height,h+d+50),N(e,{top:f,bottom:h})}Yo<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Xo=(Xo*Yo+n)/(Yo+1),++Yo)}},200)):(o.wheelDX+=i,o.wheelDY+=r))}}function ln(e,t,n){if("string"==typeof t&&!(t=pa[t]))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=$a}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}function un(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=fa(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&fa(t,e.options.extraKeys,n,e)||fa(t,e.options.keyMap,n,e)}function cn(e,t,n,i){var r=e.state.keySeq;if(r){if(ha(t))return"handled";Jo.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),t=r+" "+t}var o=un(e,t,i);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Tr(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(Ia(n),Fe(e)),r&&!o&&/\'$/.test(t)?(Ia(n),!0):!!o}function pn(e,t){var n=ga(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?cn(e,"Shift-"+n,t,function(t){return ln(e,t,!0)})||cn(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ln(e,t)}):cn(e,n,t,function(t){return ln(e,t)}))}function dn(e,t,n){return cn(e,"'"+n+"'",t,function(t){return ln(e,t,!0)})}function fn(e){var t=this;if(t.curOp.focus=qr(),!Lr(t,e)){bo&&xo<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=pn(t,e);To&&(Zo=i?n:null,!i&&88==n&&!rs&&(Oo?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||hn(t)}}function hn(e){function t(e){18!=e.keyCode&&e.altKey||(Ja(n,"CodeMirror-crosshair"),_a(document,"keyup",t),_a(document,"mouseover",t))}var n=e.display.lineDiv;Za(n,"CodeMirror-crosshair"),Oa(document,"keyup",t),Oa(document,"mouseover",t)}function gn(e){16==e.keyCode&&(this.doc.sel.shift=!1),Lr(this,e)}function vn(e){var t=this;if(!(qt(t.display,e)||Lr(t,e)||e.ctrlKey&&!e.altKey||Oo&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(To&&n==Zo)return Zo=null,void Ia(e);if(!To||e.which&&!(e.which<10)||!pn(t,e)){dn(t,e,String.fromCharCode(null==i?n:i))||t.display.input.onKeyPress(e)}}}function mn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,En(e))},100)}function yn(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Da(e,"focus",e),e.state.focused=!0,Za(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),Co&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Fe(e))}function En(e){e.state.delayingBlurEvent||(e.state.focused&&(Da(e,"blur",e),e.state.focused=!1,Ja(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function bn(e,t){qt(e.display,t)||xn(e,t)||Lr(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function xn(e,t){return!!Nr(e,"gutterContextMenu")&&Jt(e,t,"gutterContextMenu",!1)}function Cn(e,t){if(Vo(e,t.from)<0)return e;if(Vo(e,t.to)<=0)return ea(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=ea(t).ch-t.to.ch),jo(n,i)}function Sn(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new pe(Cn(r.anchor,t),Cn(r.head,t)))}return de(n,e.sel.primIndex)}function wn(e,t,n){return e.line==t.line?jo(n.line,e.ch-t.ch+n.ch):jo(n.line+(e.line-t.line),e.ch)}function Tn(e,t,n){for(var i=[],r=jo(e.first,0),o=r,a=0;a<t.length;a++){var s=t[a],l=wn(s.from,r,o),u=wn(ea(s),r,o);if(r=s.to,o=u,"around"==n){var c=e.sel.ranges[a],p=Vo(c.head,c.anchor)<0;i[a]=new pe(p?u:l,p?l:u)}else i[a]=new pe(l,l)}return new ce(i,e.sel.primIndex)}function An(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(t,n,i,r){t&&(this.from=ge(e,t)),n&&(this.to=ge(e,n)),i&&(this.text=i),void 0!==r&&(this.origin=r)}),Da(e,"beforeChange",e,i),e.cm&&Da(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Ln(e,t,n){if(e.cm){if(!e.cm.curOp)return Ot(e.cm,Ln)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Nr(e,"beforeChange")||e.cm&&Nr(e.cm,"beforeChange"))||(t=An(e,t,!0))){var i=$o&&!n&&ui(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)In(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text});else In(e,t)}}function In(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Vo(t.from,t.to)){var n=Sn(e,t);cr(e,t,n,e.cm?e.cm.curOp.id:NaN),On(e,t,n,ai(e,t));var i=[];Xi(e,function(e,n){n||-1!=Dr(i,e.history)||(br(e.history,t),i.push(e.history)),On(e,t,null,ai(e,t))})}}function Nn(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var i,r=e.history,o=e.sel,a="undo"==t?r.done:r.undone,s="undo"==t?r.undone:r.done,l=0;l<a.length&&(i=a[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=a.length){for(r.lastOrigin=r.lastSelOrigin=null;i=a.pop(),i.ranges;){if(fr(i,s),n&&!i.equals(e.sel))return void Ae(e,i,{clearRedo:!1});o=i}var u=[];fr(o,s),s.push({changes:u,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var c=Nr(e,"beforeChange")||e.cm&&Nr(e.cm,"beforeChange"),l=i.changes.length-1;l>=0;--l){var p=i.changes[l];if(p.origin=t,c&&!An(e,p,!1))return void(a.length=0);u.push(sr(e,p));var d=l?Sn(e,p):_r(a);On(e,p,d,li(e,p)),!l&&e.cm&&e.cm.scrollIntoView({from:p.from,to:ea(p)});var f=[];Xi(e,function(e,t){t||-1!=Dr(f,e.history)||(br(e.history,p),f.push(e.history)),On(e,p,null,li(e,p))})}}}}function Rn(e,t){if(0!=t&&(e.first+=t,e.sel=new ce(kr(e.sel.ranges,function(e){return new pe(jo(e.anchor.line+t,e.anchor.ch),jo(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Mt(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)$t(e.cm,i,"gutter")}}function On(e,t,n,i){if(e.cm&&!e.cm.curOp)return Ot(e.cm,On)(e,t,n,i);if(t.to.line<e.first)return void Rn(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);Rn(e,r),t={from:jo(e.first,0),to:jo(t.to.line+r,t.to.ch),text:[_r(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:jo(o,Ji(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Zi(e,t.from,t.to),n||(n=Sn(e,t)),e.cm?Pn(e.cm,t,i):Wi(e,t,i),Le(e,n,Fa)}}function Pn(e,t,n){var i=e.doc,r=e.display,a=t.from,s=t.to,l=!1,u=a.line;e.options.lineWrapping||(u=nr(Ei(Ji(i,a.line))),i.iter(u,s.line+1,function(e){if(e==r.maxLine)return l=!0,!0})),i.sel.contains(t.from,t.to)>-1&&Ir(e),Wi(i,t,n,o(e)),e.options.lineWrapping||(i.iter(u,a.line+t.text.length,function(e){var t=p(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,a.line),je(e,400);var c=t.text.length-(s.line-a.line)-1;t.full?Mt(e):a.line!=s.line||1!=t.text.length||qi(e.doc,t)?Mt(e,a.line,s.line+1,c):$t(e,a.line,"text");var d=Nr(e,"changes"),f=Nr(e,"change");if(f||d){var h={from:a,to:s,text:t.text,removed:t.removed,origin:t.origin};f&&Tr(e,"change",e,h),d&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function _n(e,t,n,i,r){if(i||(i=n),Vo(i,n)<0){var o=i;i=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),Ln(e,{from:n,to:i,text:t,origin:r})}function Dn(e,t){if(!Lr(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;if(t.top+i.top<0?r=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Io){var o=Br("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-Be(e.display))+"px; height: "+(t.bottom-t.top+qe(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}function kn(e,t,n,i){null==i&&(i=0);for(var r=0;r<5;r++){var o=!1,a=ht(e,t),s=n&&n!=t?ht(e,n):a,l=$n(e,Math.min(a.left,s.left),Math.min(a.top,s.top)-i,Math.max(a.left,s.left),Math.max(a.bottom,s.bottom)+i),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=l.scrollTop&&(on(e,l.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(o=!0)),null!=l.scrollLeft&&(an(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return a}function Mn(e,t,n,i,r){var o=$n(e,t,n,i,r);null!=o.scrollTop&&on(e,o.scrollTop),null!=o.scrollLeft&&an(e,o.scrollLeft)}function $n(e,t,n,i,r){var o=e.display,a=Et(e.display);n<0&&(n=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=Ke(e),u={};r-n>l&&(r=n+l);var c=e.doc.height+Ue(o),p=n<a,d=r>c-a;if(n<s)u.scrollTop=p?0:n;else if(r>s+l){var f=Math.min(n,(d?c:r)-l);f!=s&&(u.scrollTop=f)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,g=We(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),v=i-t>g;return v&&(i=t+g),t<10?u.scrollLeft=0:t<h?u.scrollLeft=Math.max(0,t-(v?0:10)):i>g+h-3&&(u.scrollLeft=i+(v?0:10)-g),u}function Fn(e,t,n){null==t&&null==n||Vn(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function jn(e){Vn(e);var t=e.getCursor(),n=t,i=t;e.options.lineWrapping||(n=t.ch?jo(t.line,t.ch-1):t,i=jo(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:i,margin:e.options.cursorScrollMargin,isCursor:!0}}function Vn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=gt(e,t.from),i=gt(e,t.to),r=$n(e,Math.min(n.left,i.left),Math.min(n.top,i.top)-t.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function Gn(e,t,n,i){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=He(e,t):n="prev");var a=e.options.tabSize,s=Ji(o,t),l=Ga(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(i||/\S/.test(s.text)){if("smart"==n&&((u=o.mode.indent(r,s.text.slice(c.length),s.text))==$a||u>150)){if(!i)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?Ga(Ji(o,t-1).text,null,a):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var p="",d=0;if(e.options.indentWithTabs)for(var f=Math.floor(u/a);f;--f)d+=a,p+="\t";if(d<u&&(p+=Pr(u-d)),p!=c)return _n(o,p,jo(t,0),jo(t,c.length),"+input"),s.stateAfter=null,!0;for(var f=0;f<o.sel.ranges.length;f++){var h=o.sel.ranges[f];if(h.head.line==t&&h.head.ch<c.length){var d=jo(t,c.length);Ce(o,f,new pe(d,d));break}}}function Hn(e,t,n,i){var r=t,o=t;return"number"==typeof t?o=Ji(e,he(e,t)):r=nr(t),null==r?null:(i(o,r)&&e.cm&&$t(e.cm,r,n),o)}function Bn(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&Vo(o.from,_r(i).to)<=0;){var a=i.pop();if(Vo(a.from,o.from)<0){o.from=a.from;break}}i.push(o)}Rt(e,function(){for(var t=i.length-1;t>=0;t--)_n(e.doc,"",i[t].from,i[t].to,"+delete");jn(e)})}function Un(e,t,n,i,r){function o(){var t=s+n;return!(t<e.first||t>=e.first+e.size)&&(s=t,c=Ji(e,t))}function a(e){var t=(r?fo:ho)(c,l,n,!0);if(null==t){if(e||!o())return!1;l=r?(n<0?oo:ro)(c):n<0?c.text.length:0}else l=t;return!0}var s=t.line,l=t.ch,u=n,c=Ji(e,s);if("char"==i)a();else if("column"==i)a(!0);else if("word"==i||"group"==i)for(var p=null,d="group"==i,f=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(n<0)||a(!h);h=!1){var g=c.text.charAt(l)||"\n",v=Vr(g,f)?"w":d&&"\n"==g?"n":!d||/\s/.test(g)?null:"p";if(!d||h||v||(v="s"),p&&p!=v){n<0&&(n=1,a());break}if(v&&(p=v),n>0&&!a(!h))break}var m=Pe(e,jo(s,l),t,u,!0);return Vo(t,m)||(m.hitSide=!0),m}function zn(e,t,n,i){var r,o=e.doc,a=t.left;if("page"==i){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=t.top+n*(s-(n<0?1.5:.5)*Et(e.display))}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(;;){var l=mt(e,a,r);if(!l.outside)break;if(n<0?r<=0:r>=o.height){l.hitSide=!0;break}r+=5*n}return l}function qn(t,n,i,r){e.defaults[t]=n,i&&(na[t]=r?function(e,t,n){n!=ia&&i(e,t,n)}:i)}function Wn(e){for(var t,n,i,r,o=e.split(/-(?!$)/),e=o[o.length-1],a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))r=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Kn(e){return"string"==typeof e?da[e]:e}function Yn(e,t,n,i,r){if(i&&i.shared)return Xn(e,t,n,i,r);if(e.cm&&!e.cm.curOp)return Ot(e.cm,Yn)(e,t,n,i,r);var o=new ya(e,r),a=Vo(t,n);if(i&&Fr(i,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Br("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(yi(e,t.line,t,n,o)||t.line!=n.line&&yi(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Fo=!0}o.addToHistory&&cr(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,u=e.cm;if(e.iter(l,n.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&Ei(e)==u.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&tr(e,0),ii(e,new ei(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){Si(e,t)&&tr(t,0)}),o.clearOnEnter&&Oa(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&($o=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++ma,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)Mt(u,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=n.line;c++)$t(u,c,"text");o.atomic&&Ne(u.doc),Tr(u,"markerAdded",u,o)}return o}function Xn(e,t,n,i,r){i=Fr(i),i.shared=!1;var o=[Yn(e,t,n,i,r)],a=o[0],s=i.widgetNode;return Xi(e,function(e){s&&(i.widgetNode=s.cloneNode(!0)),o.push(Yn(e,ge(e,t),ge(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=_r(o)}),new Ea(o,a)}function Qn(e){return e.findMarks(jo(e.first,0),e.clipPos(jo(e.lastLine())),function(e){return e.parent})}function Jn(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),o=e.clipPos(r.from),a=e.clipPos(r.to);if(Vo(o,a)){var s=Yn(e,o,a,i.primary,i.primary.type);i.markers.push(s),s.parent=i}}}function Zn(e){for(var t=0;t<e.length;t++){var n=e[t],i=[n.primary.doc];Xi(n.primary.doc,function(e){i.push(e)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==Dr(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}}}function ei(e,t,n){this.marker=e,this.from=t,this.to=n}function ti(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function ni(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function ii(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function ri(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new ei(a,o.from,l?null:o.to))}}return i}function oi(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new ei(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return i}function ai(e,t){if(t.full)return null;var n=me(e,t.from.line)&&Ji(e,t.from.line).markedSpans,i=me(e,t.to.line)&&Ji(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,o=t.to.ch,a=0==Vo(t.from,t.to),s=ri(n,r,a),l=oi(i,o,a),u=1==t.text.length,c=_r(t.text).length+(u?r:0);if(s)for(var p=0;p<s.length;++p){var d=s[p];if(null==d.to){var f=ti(l,d.marker);f?u&&(d.to=null==f.to?null:f.to+c):d.to=r}}if(l)for(var p=0;p<l.length;++p){var d=l[p];if(null!=d.to&&(d.to+=c),null==d.from){var f=ti(s,d.marker);f||(d.from=c,u&&(s||(s=[])).push(d))}else d.from+=c,u&&(s||(s=[])).push(d)}s&&(s=si(s)),l&&l!=s&&(l=si(l));var h=[s];if(!u){var g,v=t.text.length-2;if(v>0&&s)for(var p=0;p<s.length;++p)null==s[p].to&&(g||(g=[])).push(new ei(s[p].marker,null,null));for(var p=0;p<v;++p)h.push(g);h.push(l)}return h}function si(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function li(e,t){var n=vr(e,t),i=ai(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],a=i[r];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else a&&(n[r]=a)}return n}function ui(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=Dr(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var a=i[o],s=a.find(0),l=0;l<r.length;++l){var u=r[l];if(!(Vo(u.to,s.from)<0||Vo(u.from,s.to)>0)){var c=[l,1],p=Vo(u.from,s.from),d=Vo(u.to,s.to);(p<0||!a.inclusiveLeft&&!p)&&c.push({from:u.from,to:s.from}),(d>0||!a.inclusiveRight&&!d)&&c.push({from:s.to,to:u.to}),r.splice.apply(r,c),l+=c.length-1}}return r}function ci(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function pi(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function di(e){return e.inclusiveLeft?-1:0}function fi(e){return e.inclusiveRight?1:0}function hi(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),o=Vo(i.from,r.from)||di(e)-di(t);if(o)return-o;var a=Vo(i.to,r.to)||fi(e)-fi(t);return a||t.id-e.id}function gi(e,t){var n,i=Fo&&e.markedSpans;if(i)for(var r,o=0;o<i.length;++o)r=i[o],r.marker.collapsed&&null==(t?r.from:r.to)&&(!n||hi(n,r.marker)<0)&&(n=r.marker);return n}function vi(e){return gi(e,!0)}function mi(e){return gi(e,!1)}function yi(e,t,n,i,r){var o=Ji(e,t),a=Fo&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=Vo(u.from,n)||di(l.marker)-di(r),p=Vo(u.to,i)||fi(l.marker)-fi(r);if(!(c>=0&&p<=0||c<=0&&p>=0)&&(c<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?Vo(u.to,n)>=0:Vo(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?Vo(u.from,i)<=0:Vo(u.from,i)<0)))return!0}}}function Ei(e){for(var t;t=vi(e);)e=t.find(-1,!0).line;return e}function bi(e){for(var t,n;t=mi(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function xi(e,t){var n=Ji(e,t),i=Ei(n);return n==i?t:nr(i)}function Ci(e,t){if(t>e.lastLine())return t;var n,i=Ji(e,t);if(!Si(e,i))return t;for(;n=mi(i);)i=n.find(1,!0).line;return nr(i)+1}function Si(e,t){var n=Fo&&t.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&wi(e,t,i))return!0}}function wi(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return wi(e,i.line,ti(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r,o=0;o<t.markedSpans.length;++o)if(r=t.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&wi(e,t,r))return!0}function Ti(e,t,n){rr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Fn(e,null,n)}function Ai(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ya(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),zr(t.display.measure,Br("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Li(e,t,n,i){var r=new ba(e,n,i),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),Hn(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!Si(e,t)){var i=rr(t)<e.scrollTop;tr(t,t.height+Ai(r)),i&&Fn(o,null,r.height),o.curOp.forceUpdate=!0}return!0}),r}function Ii(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ci(e),pi(e,n);var r=i?i(e):1;r!=e.height&&tr(e,r)}function Ni(e){e.parent=null,ci(e)}function Ri(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Oi(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var i=e.innerMode(t,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Pi(t,n,i,r){for(var o=0;o<10;o++){r&&(r[0]=e.innerMode(t,i).mode);var a=t.token(n,i);if(n.pos>n.start)return a}throw new Error("Mode "+t.name+" failed to advance stream.")}function _i(e,t,n,i){function r(e){return{start:p.start,end:p.pos,string:p.current(),type:o||null,state:e?ua(a.mode,c):c}}var o,a=e.doc,s=a.mode;t=ge(a,t);var l,u=Ji(a,t.line),c=He(e,t.line,n),p=new va(u.text,e.options.tabSize);for(i&&(l=[]);(i||p.pos<t.ch)&&!p.eol();)p.start=p.pos,o=Pi(s,p,c),i&&l.push(r(!0));return i?l:r()}function Di(e,t,n,i,r,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,p=new va(t,e.options.tabSize),d=e.options.addModeClass&&[null];for(""==t&&Ri(Oi(n,i),o);!p.eol();){if(p.pos>e.options.maxHighlightLength?(s=!1,a&&$i(e,t,i,p.pos),p.pos=t.length,l=null):l=Ri(Pi(n,p,i,d),o),d){var f=d[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||c!=l){for(;u<p.start;)u=Math.min(p.start,u+5e4),r(u,c);c=l}p.start=p.pos}for(;u<p.pos;){var h=Math.min(p.pos,u+5e4);r(h,c),u=h}}function ki(e,t,n,i){var r=[e.state.modeGen],o={};Di(e,t.text,e.doc.mode,n,function(e,t){r.push(e,t)},o,i);for(var a=0;a<e.state.overlays.length;++a){var s=e.state.overlays[a],l=1,u=0;Di(e,t.text,s.mode,!0,function(e,t){for(var n=l;u<e;){var i=r[l];i>e&&r.splice(l,1,e,r[l+1],i),l+=2,u=Math.min(e,i)}if(t)if(s.opaque)r.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Mi(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=He(e,nr(t)),r=ki(e,t,t.text.length>e.options.maxHighlightLength?ua(e.doc.mode,i):i);t.stateAfter=i,t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function $i(e,t,n,i){var r=e.doc.mode,o=new va(t,e.options.tabSize);for(o.start=o.pos=i||0,""==t&&Oi(r,n);!o.eol();)Pi(r,o,n),o.start=o.pos}function Fi(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Sa:Ca;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function ji(e,t){var n=Br("span",null,null,Co?"padding-right: .1px":null),i={pre:Br("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(bo||Co)&&e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o,a=r?t.rest[r-1]:t.line;i.pos=0,i.addToken=Gi,Zr(e.display.measure)&&(o=or(a))&&(i.addToken=Bi(i.addToken,o)),i.map=[];zi(a,i,Mi(e,a,t!=e.display.externalMeasured&&nr(a))),a.styleClasses&&(a.styleClasses.bgClass&&(i.bgClass=Kr(a.styleClasses.bgClass,i.bgClass||"")),a.styleClasses.textClass&&(i.textClass=Kr(a.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Jr(e.display.measure))),0==r?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(Co){var s=i.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return Da(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=Kr(i.pre.className,i.textClass||"")),i}function Vi(e){var t=Br("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Gi(e,t,n,i,r,o,a){if(t){var s=e.splitSpaces?Hi(t,e.trailingSpace):t,l=e.cm.state.specialChars,u=!1;if(l.test(t))for(var c=document.createDocumentFragment(),p=0;;){l.lastIndex=p;var d=l.exec(t),f=d?d.index-p:t.length-p;if(f){var h=document.createTextNode(s.slice(p,p+f));bo&&xo<9?c.appendChild(Br("span",[h])):c.appendChild(h),e.map.push(e.pos,e.pos+f,h),e.col+=f,e.pos+=f}if(!d)break;if(p+=f+1,"\t"==d[0]){var g=e.cm.options.tabSize,v=g-e.col%g,h=c.appendChild(Br("span",Pr(v),"cm-tab"));h.setAttribute("role","presentation"),h.setAttribute("cm-text","\t"),e.col+=v}else if("\r"==d[0]||"\n"==d[0]){var h=c.appendChild(Br("span","\r"==d[0]?"␍":"␤","cm-invalidchar"));h.setAttribute("cm-text",d[0]),e.col+=1}else{var h=e.cm.options.specialCharPlaceholder(d[0]);h.setAttribute("cm-text",d[0]),bo&&xo<9?c.appendChild(Br("span",[h])):c.appendChild(h),e.col+=1}e.map.push(e.pos,e.pos+1,h),e.pos++}else{e.col+=t.length;var c=document.createTextNode(s);e.map.push(e.pos,e.pos+t.length,c),bo&&xo<9&&(u=!0),e.pos+=t.length}if(e.trailingSpace=32==s.charCodeAt(t.length-1),n||i||r||u||a){var m=n||"";i&&(m+=i),r&&(m+=r);var y=Br("span",[c],m,a);return o&&(y.title=o),e.content.appendChild(y)}e.content.appendChild(c)}}function Hi(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,i="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!n||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=" "),i+=o,n=" "==o}return i}function Bi(e,t){return function(n,i,r,o,a,s,l){r=r?r+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+i.length;;){for(var p=0;p<t.length;p++){var d=t[p];if(d.to>u&&d.from<=u)break}if(d.to>=c)return e(n,i,r,o,a,s,l);e(n,i.slice(0,d.to-u),r,o,null,s,l),o=null,i=i.slice(d.to-u),u=d.to}}}function Ui(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function zi(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(i)for(var a,s,l,u,c,p,d,f=r.length,h=0,g=1,v="",m=0;;){if(m==h){l=u=c=p=s="",d=null,m=1/0;for(var y,E=[],b=0;b<i.length;++b){var x=i[b],C=x.marker;"bookmark"==C.type&&x.from==h&&C.widgetNode?E.push(C):x.from<=h&&(null==x.to||x.to>h||C.collapsed&&x.to==h&&x.from==h)?(null!=x.to&&x.to!=h&&m>x.to&&(m=x.to,u=""),C.className&&(l+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&x.from==h&&(c+=" "+C.startStyle),C.endStyle&&x.to==m&&(y||(y=[])).push(C.endStyle,x.to),C.title&&!p&&(p=C.title),C.collapsed&&(!d||hi(d.marker,C)<0)&&(d=x)):x.from>h&&m>x.from&&(m=x.from)}if(y)for(var b=0;b<y.length;b+=2)y[b+1]==m&&(u+=" "+y[b]);if(!d||d.from==h)for(var b=0;b<E.length;++b)Ui(t,0,E[b]);if(d&&(d.from||0)==h){if(Ui(t,(null==d.to?f+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=f)break;for(var S=Math.min(f,m);;){if(v){var w=h+v.length;if(!d){var T=w>S?v.slice(0,S-h):v;t.addToken(t,T,a?a+l:l,c,h+T.length==m?u:"",p,s)}if(w>=S){v=v.slice(S-h),h=S;break}h=w,c=""}v=r.slice(o,o=n[g++]),a=Fi(n[g++],t.cm.options)}}else for(var g=1;g<n.length;g+=2)t.addToken(t,r.slice(o,o=n[g]),Fi(n[g+1],t.cm.options))}function qi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==_r(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Wi(e,t,n,i){function r(e){return n?n[e]:null}function o(e,n,r){Ii(e,n,r,i),Tr(e,"change",e,t)}function a(e,t){for(var n=e,o=[];n<t;++n)o.push(new xa(u[n],r(n),i));return o}var s=t.from,l=t.to,u=t.text,c=Ji(e,s.line),p=Ji(e,l.line),d=_r(u),f=r(u.length-1),h=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(qi(e,t)){var g=a(0,u.length-1);o(p,p.text,f),h&&e.remove(s.line,h),g.length&&e.insert(s.line,g)}else if(c==p)if(1==u.length)o(c,c.text.slice(0,s.ch)+d+c.text.slice(l.ch),f);else{var g=a(1,u.length-1);g.push(new xa(d+c.text.slice(l.ch),f,i)),o(c,c.text.slice(0,s.ch)+u[0],r(0)),e.insert(s.line+1,g)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+p.text.slice(l.ch),r(0)),e.remove(s.line+1,h);else{o(c,c.text.slice(0,s.ch)+u[0],r(0)),o(p,d+p.text.slice(l.ch),f);var g=a(1,u.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,g)}Tr(e,"change",e,t)}function Ki(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Yi(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}function Xi(e,t,n){function i(e,r,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=r){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),i(s.doc,e,l))}}}i(e,null,!0)}function Qi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,a(e),n(e),e.options.lineWrapping||d(e),e.options.mode=t.modeOption,Mt(e)}function Ji(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(t<o){n=r;break}t-=o}return n.lines[t]}function Zi(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),i.push(o),++r}),i}function er(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function tr(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function nr(e){if(null==e.parent)return null;for(var t=e.parent,n=Dr(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function ir(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],o=r.height;if(t<o){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(var i=0;i<e.lines.length;++i){var a=e.lines[i],s=a.height;if(t<s)break;t-=s}return n+i}function rr(e){e=Ei(e);for(var t=0,n=e.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var o=n.parent;o;n=o,o=n.parent)for(var i=0;i<o.children.length;++i){var a=o.children[i];if(a==n)break;t+=a.height}return t}function or(e){var t=e.order;return null==t&&(t=e.order=ls(e.text)),t}function ar(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function sr(e,t){var n={from:W(t.from),to:ea(t),text:Zi(e,t.from,t.to)};return hr(e,n,t.from.line,t.to.line+1),Xi(e,function(e){hr(e,n,t.from.line,t.to.line+1)},!0),n}function lr(e){for(;e.length;){if(!_r(e).ranges)break;e.pop()}}function ur(e,t){return t?(lr(e.done),_r(e.done)):e.done.length&&!_r(e.done).ranges?_r(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),_r(e.done)):void 0}function cr(e,t,n,i){var r=e.history;r.undone.length=0;var o,a=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ur(r,r.lastOp==i))){var s=_r(o.changes);0==Vo(t.from,t.to)&&0==Vo(t.from,s.to)?s.to=ea(t):o.changes.push(sr(e,t))}else{var l=_r(r.done);for(l&&l.ranges||fr(e.sel,r.done),o={changes:[sr(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,s||Da(e,"historyAdded")}function pr(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function dr(e,t,n,i){var r=e.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||pr(e,o,_r(r.done),t))?r.done[r.done.length-1]=t:fr(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&lr(r.undone)}function fr(e,t){var n=_r(t);n&&n.ranges&&n.equals(e)||t.push(e)}function hr(e,t,n,i){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function gr(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function vr(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=0,r=[];i<t.text.length;++i)r.push(gr(n[i]));return r}function mr(e,t,n){for(var i=0,r=[];i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?ce.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var u,c=a[l];if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var p in c)(u=p.match(/^spans_(\d+)$/))&&Dr(t,Number(u[1]))>-1&&(_r(s)[p]=c[p],delete c[p])}}}return r}function yr(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function Er(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],a=!0;if(o.ranges){o.copied||(o=e[r]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)yr(o.ranges[s].anchor,t,n,i),yr(o.ranges[s].head,t,n,i)}else{for(var s=0;s<o.changes.length;++s){var l=o.changes[s];if(n<l.from.line)l.from=jo(l.from.line+i,l.from.ch),l.to=jo(l.to.line+i,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,r+1),r=0)}}}function br(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;Er(e.done,n,i,r),Er(e.undone,n,i,r)}function xr(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Cr(e){return e.target||e.srcElement}function Sr(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Oo&&e.ctrlKey&&1==t&&(t=3),t}function wr(e,t,n){var i=e._handlers&&e._handlers[t];return n?i&&i.length>0?i.slice():Pa:i||Pa}function Tr(e,t){var n=wr(e,t,!1);if(n.length){var i,r=Array.prototype.slice.call(arguments,2);qo?i=qo.delayedCallbacks:ka?i=ka:(i=ka=[],setTimeout(Ar,0));for(var o=0;o<n.length;++o)i.push(function(e){return function(){e.apply(null,r)}}(n[o]))}}function Ar(){var e=ka;ka=null;for(var t=0;t<e.length;++t)e[t]()}function Lr(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Da(e,n||t.type,e,t),xr(t)||t.codemirrorIgnore}function Ir(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==Dr(n,t[i])&&n.push(t[i])}function Nr(e,t){return wr(e,t).length>0}function Rr(e){e.prototype.on=function(e,t){Oa(this,e,t)},e.prototype.off=function(e,t){_a(this,e,t)}}function Or(){this.id=null}function Pr(e){for(;Ba.length<=e;)Ba.push(_r(Ba)+" ");return Ba[e]}function _r(e){return e[e.length-1]}function Dr(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function kr(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function Mr(){}function $r(e,t){var n;return Object.create?n=Object.create(e):(Mr.prototype=e,n=new Mr),t&&Fr(t,n),n}function Fr(e,t,n){t||(t={});for(var i in e)!e.hasOwnProperty(i)||!1===n&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function jr(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Vr(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Wa(e))||t.test(e):Wa(e)}function Gr(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Hr(e){return e.charCodeAt(0)>=768&&Ka.test(e)}function Br(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function Ur(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function zr(e,t){return Ur(e).appendChild(t)}function qr(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Wr(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Kr(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!Wr(n[i]).test(t)&&(t+=" "+n[i]);return t}function Yr(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function Xr(){es||(Qr(),es=!0)}function Qr(){var e;Oa(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Yr(zt)},100))}),Oa(window,"blur",function(){Yr(En)})}function Jr(e){if(null==Xa){var t=Br("span","​");zr(e,Br("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Xa=t.offsetWidth<=1&&t.offsetHeight>2&&!(bo&&xo<8))}var n=Xa?Br("span","​"):Br("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Zr(e){if(null!=Qa)return Qa;var t=zr(e,document.createTextNode("AخA")),n=za(t,0,1).getBoundingClientRect(),i=za(t,1,2).getBoundingClientRect();return Ur(e),!(!n||n.left==n.right)&&(Qa=i.right-n.right<3)}function eo(e){if(null!=os)return os;var t=zr(e,Br("span","x")),n=t.getBoundingClientRect(),i=za(t,0,1).getBoundingClientRect();return os=Math.abs(n.left-i.left)>1}function to(e,t,n,i){if(!e)return i(t,n,"ltr");for(var r=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(i(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr"),r=!0)}r||i(t,n,"ltr")}function no(e){return e.level%2?e.to:e.from}function io(e){return e.level%2?e.from:e.to}function ro(e){var t=or(e);return t?no(t[0]):0}function oo(e){var t=or(e);return t?io(_r(t)):e.text.length}function ao(e,t){var n=Ji(e.doc,t),i=Ei(n);i!=n&&(t=nr(i));var r=or(i),o=r?r[0].level%2?oo(i):ro(i):0;return jo(t,o)}function so(e,t){for(var n,i=Ji(e.doc,t);n=mi(i);)i=n.find(1,!0).line,t=null;var r=or(i),o=r?r[0].level%2?ro(i):oo(i):i.text.length;return jo(null==t?nr(i):t,o)}function lo(e,t){var n=ao(e,t.line),i=Ji(e.doc,n.line),r=or(i);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return jo(n.line,a?0:o)}return n}function uo(e,t,n){var i=e[0].level;return t==i||n!=i&&t<n}function co(e,t){ss=null;for(var n,i=0;i<e.length;++i){var r=e[i];if(r.from<t&&r.to>t)return i;if(r.from==t||r.to==t){if(null!=n)return uo(e,r.level,e[n].level)?(r.from!=r.to&&(ss=n),i):(r.from!=r.to&&(ss=i),n);n=i}}return n}function po(e,t,n,i){if(!i)return t+n;do{t+=n}while(t>0&&Hr(e.text.charAt(t)));return t}function fo(e,t,n,i){var r=or(e);if(!r)return ho(e,t,n,i);for(var o=co(r,t),a=r[o],s=po(e,t,a.level%2?-n:n,i);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return co(r,s)==o?s:(a=r[o+=n],n>0==a.level%2?a.to:a.from);if(!(a=r[o+=n]))return null;s=n>0==a.level%2?po(e,a.to,-1,i):po(e,a.from,1,i)}}function ho(e,t,n,i){var r=t+n;if(i)for(;r>0&&Hr(e.text.charAt(r));)r+=n;return r<0||r>e.text.length?null:r}var go=navigator.userAgent,vo=navigator.platform,mo=/gecko\/\d/i.test(go),yo=/MSIE \d/.test(go),Eo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(go),bo=yo||Eo,xo=bo&&(yo?document.documentMode||6:Eo[1]),Co=/WebKit\//.test(go),So=Co&&/Qt\/\d+\.\d+/.test(go),wo=/Chrome\//.test(go),To=/Opera\//.test(go),Ao=/Apple Computer/.test(navigator.vendor),Lo=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(go),Io=/PhantomJS/.test(go),No=/AppleWebKit/.test(go)&&/Mobile\/\w+/.test(go),Ro=No||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(go),Oo=No||/Mac/.test(vo),Po=/\bCrOS\b/.test(go),_o=/win/i.test(vo),Do=To&&go.match(/Version\/(\d*\.\d*)/);Do&&(Do=Number(Do[1])),Do&&Do>=15&&(To=!1,Co=!0);var ko=Oo&&(So||To&&(null==Do||Do<12.11)),Mo=mo||bo&&xo>=9,$o=!1,Fo=!1;g.prototype=Fr({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:t?i:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=Oo&&!Lo?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Or,this.disableVert=new Or},enableZeroWidthBar:function(e,t){function n(){var i=e.getBoundingClientRect();document.elementFromPoint(i.left+1,i.bottom-1)!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},g.prototype),v.prototype=Fr({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},v.prototype),e.scrollbarModel={native:g,null:v},T.prototype.signal=function(e,t){Nr(e,t)&&this.events.push(arguments)},T.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Da.apply(null,this.events[e])};var jo=e.Pos=function(e,t){if(!(this instanceof jo))return new jo(e,t);this.line=e,this.ch=t},Vo=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Go=null;ne.prototype=Fr({init:function(e){function t(e){if(!Lr(i,e)){if(i.somethingSelected())Go={lineWise:!1,text:i.getSelections()},n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=Go.text.join("\n"),Ua(o));else{if(!i.options.lineWiseCopyCut)return;var t=ee(i);Go={lineWise:!0,text:t.text},"cut"==e.type?i.setSelections(t.ranges,null,Fa):(n.prevInput="",o.value=t.text.join("\n"),Ua(o))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var n=this,i=this.cm,r=this.wrapper=ie(),o=this.textarea=r.firstChild;e.wrapper.insertBefore(r,e.wrapper.firstChild),No&&(o.style.width="0px"),Oa(o,"input",function(){bo&&xo>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Oa(o,"paste",function(e){Lr(i,e)||J(e,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),Oa(o,"cut",t),Oa(o,"copy",t),Oa(e.scroller,"paste",function(t){qt(e,t)||Lr(i,t)||(i.state.pasteIncoming=!0,n.focus())}),Oa(e.lineSpace,"selectstart",function(t){qt(e,t)||Ia(t)}),Oa(o,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Oa(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,i=ke(e);if(e.options.moveInputWithCursor){var r=ht(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+a.top-o.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+a.left-o.left))}return i},showSelection:function(e){var t=this.cm,n=t.display;zr(n.cursorDiv,e.cursors),zr(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var o=r.sel.primary();t=rs&&(o.to().line-o.from().line>100||(n=i.getSelection()).length>1e3);var a=t?"-":n||i.getSelection();this.textarea.value=a,i.state.focused&&Ua(this.textarea),bo&&xo>=9&&(this.hasSelection=a)}else e||(this.prevInput=this.textarea.value="",bo&&xo>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Ro||qr()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||is(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(bo&&xo>=9&&this.hasSelection===i||Oo&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var r=i.charCodeAt(0);if(8203!=r||n||(n="​"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var o=0,a=Math.min(n.length,i.length);o<a&&n.charCodeAt(o)==i.charCodeAt(o);)++o;var s=this;return Rt(e,function(){Q(e,i.slice(o),n.length-o,null,s.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?t.value=s.prevInput="":s.prevInput=i,s.composing&&(s.composing.range.clear(),s.composing.range=e.markText(s.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){bo&&xo>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=a.selectionStart){var e=r.somethingSelected(),t="​"+(e?a.value:"");a.value="⇚",a.value=t,i.prevInput=e?"":"​",a.selectionStart=1,a.selectionEnd=t.length,o.selForContextMenu=r.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.cssText=c,a.style.cssText=u,bo&&xo<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=a.selectionStart){(!bo||bo&&xo<9)&&t();var e=0,n=function(){o.selForContextMenu==r.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"​"==i.prevInput?Ot(r,pa.selectAll)(r):e++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var i=this,r=i.cm,o=r.display,a=i.textarea,s=Wt(r,e),l=o.scroller.scrollTop;if(s&&!To){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(s)&&Ot(r,Ae)(r.doc,fe(s),Fa);var u=a.style.cssText,c=i.wrapper.style.cssText;i.wrapper.style.cssText="position: absolute";var p=i.wrapper.getBoundingClientRect();if(a.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px; z-index: 1000; background: "+(bo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Co)var d=window.scrollY;if(o.input.focus(),Co&&window.scrollTo(null,d),o.input.reset(),r.somethingSelected()||(a.value=i.prevInput=" "),i.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),bo&&xo>=9&&t(),Mo){Ra(e);var f=function(){_a(window,"mouseup",f),setTimeout(n,20)};Oa(window,"mouseup",f)}else setTimeout(n,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Mr,needsContentAttribute:!1},ne.prototype),re.prototype=Fr({init:function(e){function t(e){if(!Lr(i,e)){if(i.somethingSelected())Go={lineWise:!1,text:i.getSelections()},"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=ee(i);Go={lineWise:!0,text:t.text},"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Fa),i.replaceSelection("",null,"cut")})}if(e.clipboardData&&!No)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Go.text.join("\n"));else{var n=ie(),r=n.firstChild;i.display.lineSpace.insertBefore(n,i.display.lineSpace.firstChild),r.value=Go.text.join("\n");var o=document.activeElement;Ua(r),setTimeout(function(){i.display.lineSpace.removeChild(n),o.focus()},50)}}}var n=this,i=n.cm,r=n.div=e.lineDiv;te(r),Oa(r,"paste",function(e){Lr(i,e)||J(e,i)}),Oa(r,"compositionstart",function(e){var t=e.data;if(n.composing={sel:i.doc.sel,data:t,startData:t},t){var r=i.doc.sel.primary(),o=i.getLine(r.head.line),a=o.indexOf(t,Math.max(0,r.head.ch-t.length));a>-1&&a<=r.head.ch&&(n.composing.sel=fe(jo(r.head.line,a),jo(r.head.line,a+t.length)))}}),Oa(r,"compositionupdate",function(e){n.composing.data=e.data}),Oa(r,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),Oa(r,"touchstart",function(){n.forceCompositionEnd()}),Oa(r,"input",function(){n.composing||!i.isReadOnly()&&n.pollContent()||Rt(n.cm,function(){Mt(i)})}),Oa(r,"copy",t),Oa(r,"cut",t)},prepareSelection:function(){var e=ke(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=se(this.cm,e.anchorNode,e.anchorOffset),i=se(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!i||i.bad||0!=Vo(Y(n,i),t.from())||0!=Vo(K(n,i),t.to())){var r=oe(this.cm,t.from()),o=oe(this.cm,t.to());if(r||o){var a=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(r){if(!o){var l=a[a.length-1].measure,u=l.maps?l.maps[l.maps.length-1]:l.map;o={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else r={node:a[0].measure.map[2],offset:0};try{var c=za(r.node,r.offset,o.offset,o.node)}catch(e){}c&&(!mo&&this.cm.state.focused?(e.collapse(r.node,r.offset),c.collapsed||e.addRange(c)):(e.removeAllRanges(),e.addRange(c)),s&&null==e.anchorNode?e.addRange(s):mo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){zr(this.cm.display.cursorDiv,e.cursors),zr(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ya(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Rt(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=se(t,e.anchorNode,e.anchorOffset),i=se(t,e.focusNode,e.focusOffset);n&&i&&Rt(t,function(){Ae(t.doc,fe(n,i),Fa),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),i=n.from(),r=n.to();if(i.line<t.viewFrom||r.line>t.viewTo-1)return!1;var o;if(i.line==t.viewFrom||0==(o=jt(e,i.line)))var a=nr(t.view[0].line),s=t.view[0].node;else var a=nr(t.view[o].line),s=t.view[o-1].node.nextSibling;var l=jt(e,r.line);if(l==t.view.length-1)var u=t.viewTo-1,c=t.lineDiv.lastChild;else var u=nr(t.view[l+1].line)-1,c=t.view[l+1].node.previousSibling;for(var p=e.doc.splitLines(ue(e,s,c,a,u)),d=Zi(e.doc,jo(a,0),jo(u,Ji(e.doc,u).text.length));p.length>1&&d.length>1;)if(_r(p)==_r(d))p.pop(),d.pop(),u--;else{if(p[0]!=d[0])break;p.shift(),d.shift(),a++}for(var f=0,h=0,g=p[0],v=d[0],m=Math.min(g.length,v.length);f<m&&g.charCodeAt(f)==v.charCodeAt(f);)++f;for(var y=_r(p),E=_r(d),b=Math.min(y.length-(1==p.length?f:0),E.length-(1==d.length?f:0));h<b&&y.charCodeAt(y.length-h-1)==E.charCodeAt(E.length-h-1);)++h;p[p.length-1]=y.slice(0,y.length-h),p[0]=p[0].slice(f);var x=jo(a,f),C=jo(u,d.length?_r(d).length-h:0);return p.length>1||p[0]||Vo(x,C)?(_n(e.doc,p,x,C,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?Ot(this.cm,Mt)(this.cm):e.data&&e.data!=e.startData&&Ot(this.cm,Q)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||Ot(this.cm,Q)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Mr,resetPosition:Mr,needsContentAttribute:!0},re.prototype),e.inputStyles={textarea:ne,contenteditable:re},ce.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(0!=Vo(n.anchor,i.anchor)||0!=Vo(n.head,i.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new pe(W(this.ranges[t].anchor),W(this.ranges[t].head));return new ce(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(Vo(t,i.from())>=0&&Vo(e,i.to())<=0)return n}return-1}},pe.prototype={from:function(){return Y(this.anchor,this.head)},to:function(){return K(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Ho,Bo,Uo,zo={left:0,right:0,top:0,bottom:0},qo=null,Wo=0,Ko=0,Yo=0,Xo=null;bo?Xo=-.53:mo?Xo=15:wo?Xo=-.7:Ao&&(Xo=-1/3);var Qo=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Qo(e);return t.x*=Xo,t.y*=Xo,t};var Jo=new Or,Zo=null,ea=e.changeEnd=function(e){return e.text?jo(e.from.line+e.text.length-1,_r(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,i=n[e];n[e]==t&&"mode"!=e||(n[e]=t,na.hasOwnProperty(e)&&Ot(this,na[e])(this,t,i))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Kn(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Pt(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,Mt(this)}),removeOverlay:Pt(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void Mt(this)}}),indentLine:Pt(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),me(this.doc,e)&&Gn(this,e,t,n)}),indentSelection:Pt(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty())r.head.line>n&&(Gn(this,r.head.line,e,!0),n=r.head.line,i==this.doc.sel.primIndex&&jn(this));else{var o=r.from(),a=r.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)Gn(this,l,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[i].from().ch>0&&Ce(this.doc,i,new pe(o,u[i].to()),Fa)}}}),getTokenAt:function(e,t){return _i(this,e,t)},getLineTokens:function(e,t){return _i(this,jo(e),t,!0)},getTokenTypeAt:function(e){e=ge(this.doc,e);var t,n=Mi(this,Ji(this.doc,e.line)),i=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=i+r>>1;if((a?n[2*a-1]:0)>=o)r=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}i=a+1}}var s=t?t.indexOf("cm-overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!la.hasOwnProperty(t))return n;var i=la[t],r=this.getModeAt(e);if("string"==typeof r[t])i[r[t]]&&n.push(i[r[t]]);else if(r[t])for(var o=0;o<r[t].length;o++){var a=i[r[t][o]];a&&n.push(a)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(var o=0;o<i._global.length;o++){var s=i._global[o];s.pred(r,this)&&-1==Dr(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=he(n,null==e?n.first+n.size-1:e),He(this,e+1,t)},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();return n=null==e?i.head:"object"==typeof e?ge(this.doc,e):e?i.from():i.to(),ht(this,n,t||"page")},charCoords:function(e,t){return ft(this,ge(this.doc,e),t||"page")},coordsChar:function(e,t){return e=dt(this,e,t||"page"),mt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=dt(this,{top:e,left:0},t||"page").top,ir(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,i=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,i=!0),n=Ji(this.doc,e)}else n=e;return pt(this,n,{top:0,left:0},t||"page").top+(i?this.doc.height-rr(n):0)},defaultTextHeight:function(){return Et(this.display)},defaultCharWidth:function(){return bt(this.display)},setGutterMarker:Pt(function(e,t,n){return Hn(this.doc,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&Gr(i)&&(e.gutterMarkers=null),!0})}),clearGutter:Pt(function(e){var t=this,n=t.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,$t(t,i,"gutter"),Gr(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),lineInfo:function(e){if("number"==typeof e){if(!me(this.doc,e))return null;var t=e;if(!(e=Ji(this.doc,e)))return null}else{var t=nr(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o=this.display;e=ht(this,ge(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==i)a=e.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==r?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?s=0:"middle"==r&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&Mn(this,s,a,s+t.offsetWidth,a+t.offsetHeight)},triggerOnKeyDown:Pt(fn),triggerOnKeyPress:Pt(vn),triggerOnKeyUp:gn,execCommand:function(e){if(pa.hasOwnProperty(e))return pa[e].call(null,this)},triggerElectric:Pt(function(e){Z(this,e)}),findPosH:function(e,t,n,i){var r=1;t<0&&(r=-1,t=-t);for(var o=0,a=ge(this.doc,e);o<t&&(a=Un(this.doc,a,r,n,i),!a.hitSide);++o);return a},moveH:Pt(function(e,t){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?Un(n.doc,i.head,e,t,n.options.rtlMoveVisually):e<0?i.from():i.to()},Va)}),deleteH:Pt(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):Bn(this,function(n){var r=Un(i,n.head,e,t,!1);return e<0?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=1,o=i;t<0&&(r=-1,t=-t);for(var a=0,s=ge(this.doc,e);a<t;++a){var l=ht(this,s,"div");if(null==o?o=l.left:l.left=o,s=zn(this,l,r,n),s.hitSide)break}return s},moveV:Pt(function(e,t){var n=this,i=this.doc,r=[],o=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=ht(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),r.push(s.left);var l=zn(n,s,e,t);return"page"==t&&a==i.sel.primary()&&Fn(n,null,ft(n,l,"div").top-s.top),l},Va),r.length)for(var a=0;a<i.sel.ranges.length;a++)i.sel.ranges[a].goalColumn=r[a]}),findWordAt:function(e){var t=this.doc,n=Ji(t,e.line).text,i=e.ch,r=e.ch;if(n){var o=this.getHelper(e,"wordChars");(e.xRel<0||r==n.length)&&i?--i:++r;for(var a=n.charAt(i),s=Vr(a,o)?function(e){return Vr(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Vr(e)};i>0&&s(n.charAt(i-1));)--i;for(;r<n.length&&s(n.charAt(r));)++r}return new pe(jo(e.line,i),jo(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Za(this.display.cursorDiv,"CodeMirror-overwrite"):Ja(this.display.cursorDiv,"CodeMirror-overwrite"),Da(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==qr()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Pt(function(e,t){null==e&&null==t||Vn(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-qe(this)-this.display.barHeight,width:e.scrollWidth-qe(this)-this.display.barWidth,clientHeight:Ke(this),clientWidth:We(this)}},scrollIntoView:Pt(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:jo(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Vn(this),this.curOp.scrollToPos=e;else{var n=$n(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Pt(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var i=this;null!=e&&(i.display.wrapper.style.width=n(e)),null!=t&&(i.display.wrapper.style.height=n(t)),i.options.lineWrapping&&st(this);var r=i.display.viewFrom;i.doc.iter(r,i.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){$t(i,r,"widget");break}++r}),i.curOp.forceUpdate=!0,Da(i,"refresh",this)}),operation:function(e){return Rt(this,e)},refresh:Pt(function(){var e=this.display.cachedTextHeight;Mt(this),this.curOp.forceUpdate=!0,lt(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==e||Math.abs(e-Et(this.display))>.5)&&a(this),Da(this,"refresh",this)}),swapDoc:Pt(function(e){var t=this.doc;return t.cm=null,Qi(this,e),lt(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Tr(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Rr(e);var ta=e.defaults={},na=e.optionHandlers={},ia=e.Init={toString:function(){return"CodeMirror.Init"}};qn("value","",function(e,t){e.setValue(t)},!0),qn("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),qn("indentUnit",2,n,!0),qn("indentWithTabs",!1),qn("smartIndent",!0),qn("tabSize",4,function(e){i(e),lt(e),Mt(e)},!0),qn("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(-1==o)break;r=o+t.length,n.push(jo(i,o))}i++});for(var r=n.length-1;r>=0;r--)_n(e.doc,t,n[r],jo(n[r].line,n[r].ch+t.length))}}),qn("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,i){t.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),i!=e.Init&&t.refresh()}),qn("specialCharPlaceholder",Vi,function(e){e.refresh()},!0),qn("electricChars",!0),qn("inputStyle",Ro?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),qn("rtlMoveVisually",!_o),qn("wholeLineUpdateBefore",!0),qn("theme","default",function(e){s(e),l(e)},!0),qn("keyMap","default",function(t,n,i){var r=Kn(n),o=i!=e.Init&&Kn(i);o&&o.detach&&o.detach(t,r),r.attach&&r.attach(t,o||null)}),qn("extraKeys",null),qn("lineWrapping",!1,r,!0),qn("gutters",[],function(e){f(e.options),l(e)},!0),qn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?w(e.display)+"px":"0",e.refresh()},!0),qn("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),qn("scrollbarStyle","native",function(e){m(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),qn("lineNumbers",!1,function(e){f(e.options),l(e)},!0),qn("firstLineNumber",1,l,!0),qn("lineNumberFormatter",function(e){return e},l,!0),qn("showCursorWhenSelecting",!1,De,!0),qn("resetSelectionOnContextMenu",!0),qn("lineWiseCopyCut",!0),qn("readOnly",!1,function(e,t){"nocursor"==t?(En(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),qn("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),qn("dragDrop",!0,Ut),qn("allowDropFileTypes",null),qn("cursorBlinkRate",530),qn("cursorScrollMargin",0),qn("cursorHeight",1,De,!0),qn("singleCursorHeightPerLine",!0,De,!0),qn("workTime",100),qn("workDelay",100),qn("flattenSpans",!0,i,!0),qn("addModeClass",!1,i,!0),qn("pollInterval",100),qn("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),qn("historyEventDelay",1250),qn("viewportMargin",10,function(e){e.refresh()},!0),qn("maxHighlightLength",1e4,i,!0),qn("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),qn("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),qn("autofocus",null);var ra=e.modes={},oa=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),ra[t]=n},e.defineMIME=function(e,t){oa[e]=t},e.resolveMode=function(t){if("string"==typeof t&&oa.hasOwnProperty(t))t=oa[t];else if(t&&"string"==typeof t.name&&oa.hasOwnProperty(t.name)){var n=oa[t.name];"string"==typeof n&&(n={name:n}),t=$r(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),i=ra[n.name];if(!i)return e.getMode(t,"text/plain");var r=i(t,n);if(aa.hasOwnProperty(n.name)){var o=aa[n.name];for(var a in o)o.hasOwnProperty(a)&&(r.hasOwnProperty(a)&&(r["_"+a]=r[a]),r[a]=o[a])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var a in n.modeProps)r[a]=n.modeProps[a];return r},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var aa=e.modeExtensions={};e.extendMode=function(e,t){Fr(t,aa.hasOwnProperty(e)?aa[e]:aa[e]={})},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){Ta.prototype[e]=t},e.defineOption=qn;var sa=[];e.defineInitHook=function(e){sa.push(e)};var la=e.helpers={};e.registerHelper=function(t,n,i){la.hasOwnProperty(t)||(la[t]=e[t]={_global:[]}),la[t][n]=i},e.registerGlobalHelper=function(t,n,i,r){e.registerHelper(t,n,r),la[t]._global.push({pred:i,val:r})};var ua=e.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},ca=e.startState=function(e,t,n){return!e.startState||e.startState(t,n)};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var pa=e.commands={selectAll:function(e){e.setSelection(jo(e.firstLine(),0),jo(e.lastLine()),Fa)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Fa)},killLine:function(e){Bn(e,function(t){if(t.empty()){var n=Ji(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:jo(t.head.line+1,0)}:{from:t.head,to:jo(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Bn(e,function(t){return{from:jo(t.from().line,0),to:ge(e.doc,jo(t.to().line+1,0))}})},delLineLeft:function(e){Bn(e,function(e){return{from:jo(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Bn(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){Bn(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(jo(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(jo(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return ao(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return lo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return so(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Va)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Va)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?lo(e,t.head):i},Va)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),a=Ga(e.getLine(o.line),o.ch,i);t.push(Pr(i-a%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Rt(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var r=t[i].head,o=Ji(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new jo(r.line,r.ch-1)),r.ch>0)r=new jo(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),jo(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var a=Ji(e.doc,r.line-1).text;a&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),jo(r.line-1,a.length-1),jo(r.line,1),"+transpose")}n.push(new pe(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){Rt(e,function(){for(var t=e.listSelections().length,n=0;n<t;n++){var i=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),i.anchor,i.head,"+input"),e.indentLine(i.from().line+1,null,!0)}jn(e)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},da=e.keyMap={};da.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},da.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},da.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},da.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},da.default=Oo?da.macDefault:da.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=kr(n.split(" "),Wn),o=0;o<r.length;o++){var a,s;o==r.length-1?(s=r.join(" "),a=i):(s=r.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e};var fa=e.lookupKey=function(e,t,n,i){t=Kn(t);var r=t.call?t.call(e,i):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return fa(e,t.fallthrough,n,i);for(var o=0;o<t.fallthrough.length;o++){var a=fa(e,t.fallthrough[o],n,i);if(a)return a}}},ha=e.isModifierKey=function(e){var t="string"==typeof e?e:as[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},ga=e.keyName=function(e,t){if(To&&34==e.keyCode&&e.char)return!1;var n=as[e.keyCode],i=n;return null!=i&&!e.altGraphKey&&(e.altKey&&"Alt"!=n&&(i="Alt-"+i),(ko?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(ko?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!t&&e.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};e.fromTextArea=function(t,n){function i(){t.value=l.getValue()}if(n=n?Fr(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var r=qr();n.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form&&(Oa(t.form,"submit",i),!n.leaveSubmitMethodAlone)){var o=t.form,a=o.submit;try{var s=o.submit=function(){i(),o.submit=a,o.submit(),o.submit=s}}catch(e){}}n.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(_a(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=a))}},t.style.display="none";var l=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return l};var va=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};va.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ga(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ga(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Ga(this.string,null,this.tabSize)-(this.lineStart?Ga(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var ma=0,ya=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ma};Rr(ya),ya.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&xt(e),Nr(this,"clear")){var n=this.find();n&&Tr(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=ti(a.markedSpans,this);e&&!this.collapsed?$t(e,nr(a),"text"):e&&(null!=s.to&&(r=nr(a)),null!=s.from&&(i=nr(a))),a.markedSpans=ni(a.markedSpans,s),null==s.from&&this.collapsed&&!Si(this.doc,a)&&e&&tr(a,Et(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=Ei(this.lines[o]),u=p(l);u>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&Mt(e,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ne(e.doc)),e&&Tr(e,"markerCleared",e,this),t&&St(e),this.parent&&this.parent.clear()}},ya.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,i,r=0;r<this.lines.length;++r){var o=this.lines[r],a=ti(o.markedSpans,this);if(null!=a.from&&(n=jo(t?o:nr(o),a.from),-1==e))return n;if(null!=a.to&&(i=jo(t?o:nr(o),a.to),1==e))return i}return n&&{from:n,to:i}},ya.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&Rt(n,function(){var i=e.line,r=nr(e.line),o=Ze(n,r);if(o&&(at(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Si(t.doc,i)&&null!=t.height){var a=t.height;t.height=null;var s=Ai(t)-a;s&&tr(i,i.height+s)}})},ya.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Dr(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ya.prototype.detachLine=function(e){if(this.lines.splice(Dr(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var ma=0,Ea=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Rr(Ea),Ea.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Tr(this,"clear")}},Ea.prototype.find=function(e,t){return this.primary.find(e,t)};var ba=e.LineWidget=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e,this.node=t};Rr(ba),ba.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=nr(n);if(null!=i&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var o=Ai(this);tr(n,Math.max(0,n.height-o)),e&&Rt(e,function(){Ti(e,n,-o),$t(e,i,"widget")})}},ba.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var i=Ai(this)-e;i&&(tr(n,n.height+i),t&&Rt(t,function(){t.curOp.forceUpdate=!0,Ti(t,n,i)}))};var xa=e.Line=function(e,t,n){this.text=e,pi(this,t),this.height=n?n(this):1};Rr(xa),xa.prototype.lineNo=function(){return nr(this)};var Ca={},Sa={};Ki.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;n<i;++n){var r=this.lines[n];this.height-=r.height,Ni(r),Tr(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;e<i;++e)if(n(this.lines[e]))return!0}},Yi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(e<r){var o=Math.min(t,r-e),a=i.height;if(i.removeInner(e,o),this.height-=a-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Ki))){var s=[];this.collapse(s),this.children=[new Ki(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(var a=r.lines.length%25+25,s=a;s<r.lines.length;){var l=new Ki(r.lines.slice(s,s+=25));r.height-=l.height,this.children.splice(++i,0,l),l.parent=this}r.lines=r.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Yi(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=Dr(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new Yi(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<o){var a=Math.min(t,o-e);if(r.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var wa=0,Ta=e.Doc=function(e,t,n,i){if(!(this instanceof Ta))return new Ta(e,t,n,i);null==n&&(n=0),Yi.call(this,[new Ki([new xa("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=jo(n,0);this.sel=fe(r),this.history=new ar(null),this.id=++wa,this.modeOption=t,this.lineSep=i,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Wi(this,{from:r,to:r,text:e}),Ae(this,fe(r),Fa)};Ta.prototype=$r(Yi.prototype,{constructor:Ta,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=er(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:_t(function(e){var t=jo(this.first,0),n=this.first+this.size-1;Ln(this,{from:t,to:jo(n,Ji(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),Ae(this,fe(t))}),replaceRange:function(e,t,n,i){t=ge(this,t),n=n?ge(this,n):t,_n(this,e,t,n,i)},getRange:function(e,t,n){var i=Zi(this,ge(this,e),ge(this,t));return!1===n?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(me(this,e))return Ji(this,e)},getLineNumber:function(e){return nr(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ji(this,e)),Ei(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ge(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:_t(function(e,t,n){Se(this,ge(this,"number"==typeof e?jo(e,t||0):e),null,n)}),setSelection:_t(function(e,t,n){Se(this,ge(this,e),ge(this,t||e),n)}),extendSelection:_t(function(e,t,n){be(this,ge(this,e),t&&ge(this,t),n)}),extendSelections:_t(function(e,t){xe(this,ye(this,e),t)}),extendSelectionsBy:_t(function(e,t){xe(this,ye(this,kr(this.sel.ranges,e)),t)}),setSelections:_t(function(e,t,n){if(e.length){for(var i=0,r=[];i<e.length;i++)r[i]=new pe(ge(this,e[i].anchor),ge(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Ae(this,de(r,t),n)}}),addSelection:_t(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new pe(ge(this,e),ge(this,t||e))),Ae(this,de(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=Zi(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Zi(this,n[i].from(),n[i].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[i]=r}return t},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:_t(function(e,t,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var a=r.ranges[o];i[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&Tn(this,i,t),o=i.length-1;o>=0;o--)Ln(this,i[o]);s?Te(this,s):this.cm&&jn(this.cm)}),undo:_t(function(){Nn(this,"undo")}),redo:_t(function(){Nn(this,"redo")}),undoSelection:_t(function(){Nn(this,"undo",!0)}),redoSelection:_t(function(){Nn(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new ar(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:mr(this.history.done),undone:mr(this.history.undone)}},setHistory:function(e){var t=this.history=new ar(this.history.maxGeneration);t.done=mr(e.done.slice(0),null,!0),t.undone=mr(e.undone.slice(0),null,!0)},addLineClass:_t(function(e,t,n){return Hn(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if(Wr(n).test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:_t(function(e,t,n){return Hn(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[i];if(!r)return!1;if(null==n)e[i]=null;else{var o=r.match(Wr(n));if(!o)return!1;var a=o.index+o[0].length;e[i]=r.slice(0,o.index)+(o.index&&a!=r.length?" ":"")+r.slice(a)||null}return!0})}),addLineWidget:_t(function(e,t,n){return Li(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Yn(this,ge(this,e),ge(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=ge(this,e),Yn(this,e,e,n,"bookmark")},findMarksAt:function(e){e=ge(this,e);var t=[],n=Ji(this,e.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=ge(this,e),t=ge(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first,i=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+i;if(o>e)return t=e,!0;e-=o,++n}),ge(this,jo(n,t))},indexFromPos:function(e){e=ge(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Ta(er(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new Ta(er(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Jn(i,Qn(this)),i},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=this.linked[n];if(i.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Zn(Qn(this));break}}if(t.history==this.history){var r=[t.id];Xi(t,function(e){r.push(e.id)},!0),t.history=new ar(null),t.history.done=mr(this.history.done,r),t.history.undone=mr(this.history.undone,r)}},iterLinkedDocs:function(e){Xi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ns(e)},lineSeparator:function(){return this.lineSep||"\n"}}),Ta.prototype.eachLine=Ta.prototype.iter;var Aa="iter insert remove copy getEditor constructor".split(" ");for(var La in Ta.prototype)Ta.prototype.hasOwnProperty(La)&&Dr(Aa,La)<0&&(e.prototype[La]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ta.prototype[La]));Rr(Ta);var Ia=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Na=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Ra=e.e_stop=function(e){Ia(e),Na(e)},Oa=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={}),r=i[t]||(i[t]=[]);r.push(n)}},Pa=[],_a=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var i=wr(e,t,!1),r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}},Da=e.signal=function(e,t){var n=wr(e,t,!0);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},ka=null,Ma=30,$a=e.Pass={toString:function(){return"CodeMirror.Pass"}},Fa={scroll:!1},ja={origin:"*mouse"},Va={origin:"+move"};Or.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Ga=e.countColumn=function(e,t,n,i,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=i||0,a=r||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}},Ha=e.findColumn=function(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("\t",i);-1==o&&(o=e.length);var a=o-i;if(o==e.length||r+a>=t)return i+Math.min(a,t-r);if(r+=o-i,r+=n-r%n,i=o+1,r>=t)return i}},Ba=[""],Ua=function(e){e.select()};No?Ua=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:bo&&(Ua=function(e){try{e.select()}catch(e){}});var za,qa=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Wa=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||qa.test(e))},Ka=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;za=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(e){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var Ya=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)};bo&&xo<11&&(qr=function(){try{return document.activeElement}catch(e){return document.body}});var Xa,Qa,Ja=e.rmClass=function(e,t){var n=e.className,i=Wr(t).exec(n);if(i){var r=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(r?i[1]+r:"")}},Za=e.addClass=function(e,t){var n=e.className;Wr(t).test(n)||(e.className+=(n?" ":"")+t)},es=!1,ts=function(){if(bo&&xo<9)return!1;var e=Br("div");return"draggable"in e||"dragDrop"in e}(),ns=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;t<=i;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},is=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},rs=function(){var e=Br("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),os=null,as=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;e<10;e++)as[e+48]=as[e+96]=String(e);for(var e=65;e<=90;e++)as[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)as[e+111]=as[e+63235]="F"+e}();var ss,ls=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1773?i.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/;return function(n){if(!r.test(n))return!1;for(var i,u=n.length,c=[],p=0;p<u;++p)c.push(i=e(n.charCodeAt(p)));for(var p=0,d="L";p<u;++p){var i=c[p];"m"==i?c[p]=d:d=i}for(var p=0,f="L";p<u;++p){var i=c[p];"1"==i&&"r"==f?c[p]="n":a.test(i)&&(f=i,"r"==i&&(c[p]="R"))}for(var p=1,d=c[0];p<u-1;++p){var i=c[p];"+"==i&&"1"==d&&"1"==c[p+1]?c[p]="1":","!=i||d!=c[p+1]||"1"!=d&&"n"!=d||(c[p]=d),d=i}for(var p=0;p<u;++p){var i=c[p];if(","==i)c[p]="N";else if("%"==i){for(var h=p+1;h<u&&"%"==c[h];++h);for(var g=p&&"!"==c[p-1]||h<u&&"1"==c[h]?"1":"N",v=p;v<h;++v)c[v]=g;p=h-1}}for(var p=0,f="L";p<u;++p){var i=c[p];"L"==f&&"1"==i?c[p]="L":a.test(i)&&(f=i)}for(var p=0;p<u;++p)if(o.test(c[p])){for(var h=p+1;h<u&&o.test(c[h]);++h);for(var m="L"==(p?c[p-1]:"L"),y="L"==(h<u?c[h]:"L"),g=m||y?"L":"R",v=p;v<h;++v)c[v]=g;p=h-1}for(var E,b=[],p=0;p<u;)if(s.test(c[p])){var x=p;for(++p;p<u&&s.test(c[p]);++p);b.push(new t(0,x,p))}else{var C=p,S=b.length;for(++p;p<u&&"L"!=c[p];++p);for(var v=C;v<p;)if(l.test(c[v])){C<v&&b.splice(S,0,new t(1,C,v));var w=v;for(++v;v<p&&l.test(c[v]);++v);b.splice(S,0,new t(2,w,v)),C=v}else++v;C<p&&b.splice(S,0,new t(1,C,p))}return 1==b[0].level&&(E=n.match(/^\s+/))&&(b[0].from=E[0].length,b.unshift(new t(0,0,E[0].length))),1==_r(b).level&&(E=n.match(/\s+$/))&&(_r(b).to-=E[0].length,b.push(new t(0,u-E[0].length,u))),2==b[0].level&&b.unshift(new t(1,b[0].to,b[0].to)),b[0].level!=_r(b).level&&b.push(new t(b[0].level,u,u)),b}}();return e.version="5.17.0",e})},,,,,,,,function(e,t,n){"use strict";function i(e,t){return t.length<=e?t:t.substr(0,e-3)+"..."}function r(e,t){for(;t.length<e;)t+=" ";return t}function o(e){return e.replace(/^([A-Z])/,function(e){return e.toLowerCase()}).replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function a(e){var t=s(e),n=t.match(/^(function [^ ]+\([^)]*\))/),i=n?n[1]:t,r=e.name||"";return r&&i.match(/function \(/)?"function "+r+i.substr(9):i}function s(e){var t=p.isArray(e)?e.slice(-1)[0]:e;return t&&t.toString()||"undefined"}function l(e){function t(e){if(p.isObject(e)){if(-1!==n.indexOf(e))return"[circular ref]";n.push(e)}return y(e)}var n=[];return JSON.stringify(e,function(e,n){return t(n)}).replace(/\\"/g,'"')}function u(e){var t=new RegExp("("+e+")","g");return function(e){return e.split(t).filter(f.identity)}}function c(e,t){return p.isString(f.tail(e))&&p.isString(t)?e.slice(0,-1).concat(f.tail(e)+t):f.pushR(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var p=n(5),d=n(58),f=n(3),h=n(6),g=n(77),v=n(60);t.maxLength=i,t.padString=r,t.kebobString=o,t.functionToString=a,t.fnToString=s;var m=null,y=function(e){var t=d.Rejection.isRejectionPromise;return(m=m||h.pattern([[h.not(p.isDefined),h.val("undefined")],[p.isNull,h.val("null")],[p.isPromise,h.val("[Promise]")],[t,function(e){return e._transitionRejection.toString()}],[h.is(d.Rejection),h.invoke("toString")],[h.is(g.Transition),h.invoke("toString")],[h.is(v.Resolvable),h.invoke("toString")],[p.isInjectable,a],[h.val(!0),f.identity]]))(e)};t.stringify=l,t.beforeAfterSubstr=function(e){return function(t){if(!t)return["",""];var n=t.indexOf(e);return-1===n?[t,""]:[t.substr(0,n),t.substr(n+1)]}},t.splitOnDelim=u,t.joinNeighborsR=c},function(e,t,n){"use strict";function i(e){return e?"[ui-view#"+e.id+" tag in template from '"+(e.creationContext&&e.creationContext.name||"(root)")+"' state]: fqn: '"+e.fqn+"', name: '"+e.name+"@"+e.creationContext+"')":"ui-view (defunct)"}function r(e){return s.isNumber(e)?o[e]:o[o[e]]}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(6),s=n(5),l=n(30),u=function(e){return"[ViewConfig#"+e.$id+" from '"+(e.viewDecl.$context.name||"(root)")+"' state]: target ui-view: '"+e.viewDecl.$uiViewName+"@"+e.viewDecl.$uiViewContextAnchor+"'"};!function(e){e[e.RESOLVE=0]="RESOLVE",e[e.TRANSITION=1]="TRANSITION",e[e.HOOK=2]="HOOK",e[e.UIVIEW=3]="UIVIEW",e[e.VIEWCONFIG=4]="VIEWCONFIG"}(o=t.Category||(t.Category={}));var c=a.parse("$id"),p=a.parse("router.$id"),d=function(e){return"Transition #"+c(e)+"-"+p(e)},f=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,t){var n=this;t.length||(t=Object.keys(o).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)}).map(function(e){return o[e]})),t.map(r).forEach(function(t){return n._enabled[t]=e})},e.prototype.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!0,e)},e.prototype.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!1,e)},e.prototype.enabled=function(e){return!!this._enabled[r(e)]},e.prototype.traceTransitionStart=function(e){this.enabled(o.TRANSITION)&&console.log(d(e)+": Started  -> "+l.stringify(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(o.TRANSITION)&&console.log(d(e)+": Ignored  <> "+l.stringify(e))},e.prototype.traceHookInvocation=function(e,t,n){if(this.enabled(o.HOOK)){var i=a.parse("traceData.hookType")(n)||"internal",r=a.parse("traceData.context.state.name")(n)||a.parse("traceData.context")(n)||"unknown",s=l.functionToString(e.registeredHook.callback);console.log(d(t)+":   Hook -> "+i+" context: "+r+", "+l.maxLength(200,s))}},e.prototype.traceHookResult=function(e,t,n){this.enabled(o.HOOK)&&console.log(d(t)+":   <- Hook returned: "+l.maxLength(200,l.stringify(e)))},e.prototype.traceResolvePath=function(e,t,n){this.enabled(o.RESOLVE)&&console.log(d(n)+":         Resolving "+e+" ("+t+")")},e.prototype.traceResolvableResolved=function(e,t){this.enabled(o.RESOLVE)&&console.log(d(t)+":               <- Resolved  "+e+" to: "+l.maxLength(200,l.stringify(e.data)))},e.prototype.traceError=function(e,t){this.enabled(o.TRANSITION)&&console.log(d(t)+": <- Rejected "+l.stringify(t)+", reason: "+e)},e.prototype.traceSuccess=function(e,t){this.enabled(o.TRANSITION)&&console.log(d(t)+": <- Success  "+l.stringify(t)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,t,n){void 0===n&&(n=""),this.enabled(o.UIVIEW)&&console.log("ui-view: "+l.padString(30,e)+" "+i(t)+n)},e.prototype.traceUIViewConfigUpdated=function(e,t){this.enabled(o.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+t+"'")},e.prototype.traceUIViewFill=function(e,t){this.enabled(o.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+l.maxLength(200,t))},e.prototype.traceViewServiceEvent=function(e,t){this.enabled(o.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+u(t))},e.prototype.traceViewServiceUIViewEvent=function(e,t){this.enabled(o.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+i(t))},e}();t.Trace=f;var h=new f;t.trace=h},,,,,,function(e,t,n){"use strict";function i(e){this.style.removeProperty(e)}function r(e,t,n){this.style.setProperty(e,t,n)}function o(e,t,n){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}var a=n(462);t.a=function(e,t,n,s){var l;return arguments.length>1?(null==n?i:"function"==typeof n?o:r).call(e,t,n,null==s?"":s):Object(a.a)(l=e).getComputedStyle(l,null).getPropertyValue(t)}},function(e,t,n){"use strict";function i(e){return e.trim().split(/^|\s+/)}function r(e){return e.classList||new o(e)}function o(e){this._node=e,this._names=i(e.getAttribute("class")||"")}function a(e,t){for(var n=r(e),i=-1,o=t.length;++i<o;)n.add(t[i])}function s(e,t){for(var n=r(e),i=-1,o=t.length;++i<o;)n.remove(t[i])}function l(e){a(this,e)}function u(e){s(this,e)}function c(e,t){(t.apply(this,arguments)?a:s)(this,e)}o.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}},t.a=function(e,t,n){var o=i(t+"");if(arguments.length<2){for(var a=r(this),s=-1,p=o.length;++s<p;)if(!a.contains(o[s]))return!1;return!0}("function"==typeof n?c:n?l:u).call(e,o,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(5),o=function(){function e(e,t,n,i){void 0===i&&(i={}),this._identifier=e,this._definition=t,this._options=i,this._params=n||{}}return e.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},e.prototype.identifier=function(){return this._identifier},e.prototype.params=function(){return this._params},e.prototype.$state=function(){return this._definition},e.prototype.state=function(){return this._definition&&this._definition.self},e.prototype.options=function(){return this._options},e.prototype.exists=function(){return!(!this._definition||!this._definition.self)},e.prototype.valid=function(){return!this.error()},e.prototype.error=function(){var e=this.options().relative;if(!this._definition&&e){var t=e.name?e.name:e;return"Could not resolve '"+this.name()+"' from state '"+t+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},e.prototype.toString=function(){return"'"+this.name()+"'"+i.toJson(this.params())},e}();o.isDef=function(e){return e&&e.state&&(r.isString(e.state)||r.isString(e.state.name))},t.TargetState=o},,,,,function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(133),n(134))}(0,function(e){return function(){var t=e,n=t.lib,i=n.Base,r=n.WordArray,o=t.algo,a=o.MD5,s=o.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=n.hasher.create(),o=r.create(),a=o.words,s=n.keySize,l=n.iterations;a.length<s;){u&&i.update(u);var u=i.update(e).finalize(t);i.reset();for(var c=1;c<l;c++)u=i.finalize(u),i.reset();o.concat(u)}return o.sigBytes=4*s,o}});t.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)}}(),e.EvpKDF})},,,function(e,t,n){"use strict";var i=n(18),r=(n(47),n(148)),o=function(e,t){var n=e.getPrefixesFromQuery();if(0==!t.string.indexOf("<")&&(t.tokenPrefix=t.string.substring(0,t.string.indexOf(":")+1),null!=n[t.tokenPrefix.slice(0,-1)]&&(t.tokenPrefixUri=n[t.tokenPrefix.slice(0,-1)])),t.autocompletionString=t.string.trim(),0==!t.string.indexOf("<")&&t.string.indexOf(":")>-1)for(var i in n)if(t.tokenPrefix===i+":"){t.autocompletionString=n[i],t.autocompletionString+=t.string.substring(i.length+1);break}return 0==t.autocompletionString.indexOf("<")&&(t.autocompletionString=t.autocompletionString.substring(1)),-1!==t.autocompletionString.indexOf(">",t.length-1)&&(t.autocompletionString=t.autocompletionString.substring(0,t.autocompletionString.length-1)),t},a=function(e,t,n){return n=t.tokenPrefix&&t.autocompletionString&&t.tokenPrefixUri?t.tokenPrefix+n.substring(t.tokenPrefixUri.length):"<"+n+">"},s=0===window.location.protocol.indexOf("http")?"//":"http://",l=function(e,t,o,a){if(!o||!o.string||0==o.string.trim().length)return e.autocompleters.notifications.getEl(t).empty().append("Nothing to autocomplete yet!"),!1;var l={q:o.autocompletionString,page:1};"classes"==t.name?l.type="class":l.type="property";var u=[],c="",p=function(){c=s+"lov.okfn.org/dataset/lov/api/v2/autocomplete/terms?"+i.param(l)};p();var d=function(){l.page++,p()},f=function(){i.get(c,function(n){for(var r=0;r<n.results.length;r++)i.isArray(n.results[r].uri)&&n.results[r].uri.length>0?u.push(n.results[r].uri[0]):u.push(n.results[r].uri);u.length<n.total_results&&u.length<50?(d(),f()):(u.length>0?e.autocompleters.notifications.hide(e,t):e.autocompleters.notifications.getEl(t).text("0 matches found..."),a(u))}).fail(function(n,i,r){e.autocompleters.notifications.getEl(t).empty().append("Failed fetching suggestions..")})};e.autocompleters.notifications.getEl(t).empty().append(i("<span>Fetchting autocompletions &nbsp;</span>")).append(i(r.svg.getElement(n(236).loader)).addClass("notificationLoader")),f()};e.exports={fetchFromLov:l,preprocessResourceTokenForCompletion:o,postprocessResourceTokenForCompletion:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.CREATE=0]="CREATE",e[e.BEFORE=1]="BEFORE",e[e.RUN=2]="RUN",e[e.SUCCESS=3]="SUCCESS",e[e.ERROR=4]="ERROR"}(t.TransitionHookPhase||(t.TransitionHookPhase={}));!function(e){e[e.TRANSITION=0]="TRANSITION",e[e.STATE=1]="STATE"}(t.TransitionHookScope||(t.TransitionHookScope={}))},function(e,t,n){"use strict";function i(e){function t(){return e.value}return e=h(e)&&{value:e}||e,t.__cacheable=!0,l.extend(e,{$$fn:c.isInjectable(e.value)?e.value:t})}function r(e,t,n,i,r){if(e.type&&t&&"string"!==t.name)throw new Error("Param '"+i+"' has two type configurations.");if(e.type&&t&&"string"===t.name&&r.type(e.type))return r.type(e.type);if(t)return t;if(!e.type){var o=n===s.CONFIG?"any":n===s.PATH?"path":n===s.SEARCH?"query":"string";return r.type(o)}return e.type instanceof d.ParamType?e.type:r.type(e.type)}function o(e,t,n){var i=e.squash;if(!t||!1===i)return!1;if(!c.isDefined(i)||null==i)return n;if(!0===i||c.isString(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string")}function a(e,t,n,i){var r,o,a=[{from:"",to:n||t?void 0:""},{from:null,to:n||t?void 0:""}];return r=c.isArray(e.replace)?e.replace:[],c.isString(i)&&r.push({from:i,to:void 0}),o=l.map(r,u.prop("from")),l.filter(a,function(e){return-1===o.indexOf(e.from)}).concat(r)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=n(3),u=n(6),c=n(5),p=n(13),d=n(108),f=Object.prototype.hasOwnProperty,h=function(e){return 0===["value","type","squash","array","dynamic"].filter(f.bind(e||{})).length};!function(e){e[e.PATH=0]="PATH",e[e.SEARCH=1]="SEARCH",e[e.CONFIG=2]="CONFIG"}(s=t.DefType||(t.DefType={}));var g=function(){function e(e,t,n,u,p){n=i(n),t=r(n,t,u,e,p.paramTypes);var d=function(){var t={array:u===s.SEARCH&&"auto"},i=e.match(/\[\]$/)?{array:!0}:{};return l.extend(t,i,n).array}();t=d?t.$asArray(d,u===s.SEARCH):t;var f=void 0!==n.value||u===s.SEARCH,h=c.isDefined(n.dynamic)?!!n.dynamic:!!t.dynamic,g=c.isDefined(n.raw)?!!n.raw:!!t.raw,v=o(n,f,p.defaultSquashPolicy()),m=a(n,d,f,v),y=c.isDefined(n.inherit)?!!n.inherit:!!t.inherit;l.extend(this,{id:e,type:t,location:u,isOptional:f,dynamic:h,raw:g,squash:v,replace:m,inherit:y,array:d,config:n})}return e.prototype.isDefaultValue=function(e){return this.isOptional&&this.type.equals(this.value(),e)},e.prototype.value=function(e){var t=this;return e=function(e){for(var n=0,i=t.replace;n<i.length;n++){var r=i[n];if(r.from===e)return r.to}return e}(e),c.isUndefined(e)?function(){if(t._defaultValueCache)return t._defaultValueCache.defaultValue;if(!p.services.$injector)throw new Error("Injectable functions cannot be called at configuration time");var e=p.services.$injector.invoke(t.config.$$fn);if(null!==e&&void 0!==e&&!t.type.is(e))throw new Error("Default value ("+e+") for parameter '"+t.id+"' is not an instance of ParamType ("+t.type.name+")");return t.config.$$fn.__cacheable&&(t._defaultValueCache={defaultValue:e}),e}():this.type.$normalize(e)},e.prototype.isSearch=function(){return this.location===s.SEARCH},e.prototype.validates=function(e){if((c.isUndefined(e)||null===e)&&this.isOptional)return!0;var t=this.type.$normalize(e);if(!this.type.is(t))return!1;var n=this.type.encode(t);return!(c.isString(n)&&!this.type.pattern.exec(n))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e.values=function(e,t){void 0===t&&(t={});for(var n={},i=0,r=e;i<r.length;i++){var o=r[i];n[o.id]=o.value(t[o.id])}return n},e.changed=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e.filter(function(e){return!e.type.equals(t[e.id],n[e.id])})},e.equals=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),0===e.changed(t,n,i).length},e.validates=function(e,t){return void 0===t&&(t={}),e.map(function(e){return e.validates(t[e.id])}).reduce(l.allTrueR,!0)},e}();t.Param=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=angular;t.ng=i&&i.module?i:r},,function(e,t,n){!function(i,r){e.exports=t=r(n(4))}(0,function(e){return function(){function t(e,t,n){for(var i=[],o=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2,l=n[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=(s|l)<<24-o%4*8,o++}return r.create(i,o)}var n=e,i=n.lib,r=i.WordArray,o=n.enc;o.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var r=[],o=0;o<n;o+=3)for(var a=t[o>>>2]>>>24-o%4*8&255,s=t[o+1>>>2]>>>24-(o+1)%4*8&255,l=t[o+2>>>2]>>>24-(o+2)%4*8&255,u=a<<16|s<<8|l,c=0;c<4&&o+.75*c<n;c++)r.push(i.charAt(u>>>6*(3-c)&63));var p=i.charAt(64);if(p)for(;r.length%4;)r.push(p);return r.join("")},parse:function(e){var n=e.length,i=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<i.length;o++)r[i.charCodeAt(o)]=o}var a=i.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(n=s)}return t(e,n,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64})},function(e,t,n){!function(i,r){e.exports=t=r(n(4))}(0,function(e){return function(t){function n(e,t,n,i,r,o,a){var s=e+(t&n|~t&i)+r+a;return(s<<o|s>>>32-o)+t}function i(e,t,n,i,r,o,a){var s=e+(t&i|n&~i)+r+a;return(s<<o|s>>>32-o)+t}function r(e,t,n,i,r,o,a){var s=e+(t^n^i)+r+a;return(s<<o|s>>>32-o)+t}function o(e,t,n,i,r,o,a){var s=e+(n^(t|~i))+r+a;return(s<<o|s>>>32-o)+t}var a=e,s=a.lib,l=s.WordArray,u=s.Hasher,c=a.algo,p=[];!function(){for(var e=0;e<64;e++)p[e]=4294967296*t.abs(t.sin(e+1))|0}();var d=c.MD5=u.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var a=0;a<16;a++){var s=t+a,l=e[s];e[s]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var u=this._hash.words,c=e[t+0],d=e[t+1],f=e[t+2],h=e[t+3],g=e[t+4],v=e[t+5],m=e[t+6],y=e[t+7],E=e[t+8],b=e[t+9],x=e[t+10],C=e[t+11],S=e[t+12],w=e[t+13],T=e[t+14],A=e[t+15],L=u[0],I=u[1],N=u[2],R=u[3];L=n(L,I,N,R,c,7,p[0]),R=n(R,L,I,N,d,12,p[1]),N=n(N,R,L,I,f,17,p[2]),I=n(I,N,R,L,h,22,p[3]),L=n(L,I,N,R,g,7,p[4]),R=n(R,L,I,N,v,12,p[5]),N=n(N,R,L,I,m,17,p[6]),I=n(I,N,R,L,y,22,p[7]),L=n(L,I,N,R,E,7,p[8]),R=n(R,L,I,N,b,12,p[9]),N=n(N,R,L,I,x,17,p[10]),I=n(I,N,R,L,C,22,p[11]),L=n(L,I,N,R,S,7,p[12]),R=n(R,L,I,N,w,12,p[13]),N=n(N,R,L,I,T,17,p[14]),I=n(I,N,R,L,A,22,p[15]),L=i(L,I,N,R,d,5,p[16]),R=i(R,L,I,N,m,9,p[17]),N=i(N,R,L,I,C,14,p[18]),I=i(I,N,R,L,c,20,p[19]),L=i(L,I,N,R,v,5,p[20]),R=i(R,L,I,N,x,9,p[21]),N=i(N,R,L,I,A,14,p[22]),I=i(I,N,R,L,g,20,p[23]),L=i(L,I,N,R,b,5,p[24]),R=i(R,L,I,N,T,9,p[25]),N=i(N,R,L,I,h,14,p[26]),I=i(I,N,R,L,E,20,p[27]),L=i(L,I,N,R,w,5,p[28]),R=i(R,L,I,N,f,9,p[29]),N=i(N,R,L,I,y,14,p[30]),I=i(I,N,R,L,S,20,p[31]),L=r(L,I,N,R,v,4,p[32]),R=r(R,L,I,N,E,11,p[33]),N=r(N,R,L,I,C,16,p[34]),I=r(I,N,R,L,T,23,p[35]),L=r(L,I,N,R,d,4,p[36]),R=r(R,L,I,N,g,11,p[37]),N=r(N,R,L,I,y,16,p[38]),I=r(I,N,R,L,x,23,p[39]),L=r(L,I,N,R,w,4,p[40]),R=r(R,L,I,N,c,11,p[41]),N=r(N,R,L,I,h,16,p[42]),I=r(I,N,R,L,m,23,p[43]),L=r(L,I,N,R,b,4,p[44]),R=r(R,L,I,N,S,11,p[45]),N=r(N,R,L,I,A,16,p[46]),I=r(I,N,R,L,f,23,p[47]),L=o(L,I,N,R,c,6,p[48]),R=o(R,L,I,N,y,10,p[49]),N=o(N,R,L,I,T,15,p[50]),I=o(I,N,R,L,v,21,p[51]),L=o(L,I,N,R,S,6,p[52]),R=o(R,L,I,N,h,10,p[53]),N=o(N,R,L,I,x,15,p[54]),I=o(I,N,R,L,d,21,p[55]),L=o(L,I,N,R,E,6,p[56]),R=o(R,L,I,N,A,10,p[57]),N=o(N,R,L,I,m,15,p[58]),I=o(I,N,R,L,w,21,p[59]),L=o(L,I,N,R,g,6,p[60]),R=o(R,L,I,N,C,10,p[61]),N=o(N,R,L,I,f,15,p[62]),I=o(I,N,R,L,b,21,p[63]),u[0]=u[0]+L|0,u[1]=u[1]+I|0,u[2]=u[2]+N|0,u[3]=u[3]+R|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;n[r>>>5]|=128<<24-r%32;var o=t.floor(i/4294967296),a=i;n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,u=0;u<4;u++){var c=l[u];l[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return s},clone:function(){var e=u.clone.call(this);return e._hash=this._hash.clone(),e}});a.MD5=u._createHelper(d),a.HmacMD5=u._createHmacHelper(d)}(Math),e.MD5})},function(e,t,n){e.exports={default:n(358),__esModule:!0}},,,function(e,t,n){(function(t){function n(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function i(e,t){return Array.prototype.slice.call(e,t||0)}function r(e,t){a(e,function(e,n){return t(e,n),!1})}function o(e,t){var n=s(e)?[]:{};return a(e,function(e,i){return n[i]=t(e,i),!1}),n}function a(e,t){if(s(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var i in e)if(e.hasOwnProperty(i)&&t(e[i],i))return e[i]}function s(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function l(e){return e&&"[object Function]"==={}.toString.call(e)}function u(e){return e&&"[object Object]"==={}.toString.call(e)}var c=function(){return Object.assign?Object.assign:function(e,t,n,i){for(var o=1;o<arguments.length;o++)r(Object(arguments[o]),function(t,n){e[n]=t});return e}}(),p=function(){function e(){}return Object.create?function(e,t,n,r){var o=i(arguments,1);return c.apply(this,[Object.create(e)].concat(o))}:function(t,n,r,o){var a=i(arguments,1);return e.prototype=t,c.apply(this,[new e].concat(a))}}(),d=function(){return String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}(),f="undefined"!=typeof window?window:t;e.exports={assign:c,create:p,trim:d,bind:n,slice:i,each:r,map:o,pluck:a,isList:s,isFunction:l,isObject:u,Global:f}}).call(t,n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(3),o=n(30),a=n(6);!function(e){e[e.SUPERSEDED=2]="SUPERSEDED",e[e.ABORTED=3]="ABORTED",e[e.INVALID=4]="INVALID",e[e.IGNORED=5]="IGNORED",e[e.ERROR=6]="ERROR"}(i=t.RejectType||(t.RejectType={}));var s=0,l=function(){function e(e,t,n){this.$id=s++,this.type=e,this.message=t,this.detail=n}return e.prototype.toString=function(){var e=function(e){return e&&e.toString!==Object.prototype.toString?e.toString():o.stringify(e)}(this.detail),t=this;return"Transition Rejection($id: "+t.$id+" type: "+t.type+", message: "+t.message+", detail: "+e+")"},e.prototype.toPromise=function(){return r.extend(r.silentRejection(this),{_transitionRejection:this})},e.isRejectionPromise=function(t){return t&&"function"==typeof t.then&&a.is(e)(t._transitionRejection)},e.superseded=function(t,n){var r=new e(i.SUPERSEDED,"The transition has been superseded by a different transition",t);return n&&n.redirected&&(r.redirected=!0),r},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(t){return new e(i.INVALID,"This transition is invalid",t)},e.ignored=function(t){return new e(i.IGNORED,"The transition was ignored",t)},e.aborted=function(t){return new e(i.ABORTED,"The transition has been aborted",t)},e.errored=function(t){return new e(i.ERROR,"The transition errored",t)},e.normalize=function(t){return a.is(e)(t)?t:e.errored(t)},e}();t.Rejection=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(48),r=n(3),o=n(30),a=n(5),s=n(6),l=n(31),u=n(13),c=n(58),p=n(39),d={current:r.noop,transition:null,traceData:{},bind:null},f=function(){function e(e,t,n,o){var a=this;this.transition=e,this.stateContext=t,this.registeredHook=n,this.options=o,this.isSuperseded=function(){return a.type.hookPhase===i.TransitionHookPhase.RUN&&!a.options.transition.isActive()},this.options=r.defaults(o,d),this.type=n.eventType}return e.prototype.logError=function(e){this.transition.router.stateService.defaultErrorHandler()(e)},e.prototype.invokeHook=function(){var e=this,t=this.registeredHook;if(!t._deregistered){var n=this.getNotCurrentRejection();if(n)return n;var i=this.options;l.trace.traceHookInvocation(this,this.transition,i);var r=function(e){return c.Rejection.normalize(e).toPromise()},o=function(n){return t.eventType.getErrorHandler(e)(n)},s=function(n){return t.eventType.getResultHandler(e)(n)};try{var u=function(){return t.callback.call(i.bind,e.transition,e.stateContext)}();return!this.type.synchronous&&a.isPromise(u)?u.catch(r).then(s,o):s(u)}catch(e){return o(c.Rejection.normalize(e))}}},e.prototype.handleHookResult=function(e){var t=this,n=this.getNotCurrentRejection();return n||(a.isPromise(e)?e.then(function(e){return t.handleHookResult(e)}):(l.trace.traceHookResult(e,this.transition,this.options),!1===e?c.Rejection.aborted("Hook aborted transition").toPromise():s.is(p.TargetState)(e)?c.Rejection.redirected(e).toPromise():void 0))},e.prototype.getNotCurrentRejection=function(){var e=this.transition.router;return e._disposed?c.Rejection.aborted("UIRouter instance #"+e.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?c.Rejection.aborted().toPromise():this.isSuperseded()?c.Rejection.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var e=this,t=e.options,n=e.registeredHook,i=s.parse("traceData.hookType")(t)||"internal",r=s.parse("traceData.context.state.name")(t)||s.parse("traceData.context")(t)||"unknown",a=o.fnToString(n.callback);return i+" context: "+r+", "+o.maxLength(200,a)},e.chain=function(e,t){var n=function(e,t){return e.then(function(){return t.invokeHook()})};return e.reduce(n,t||u.services.$q.when())},e.invokeHooks=function(t,n){for(var i=0;i<t.length;i++){var r=t[i].invokeHook();if(a.isPromise(r)){var o=t.slice(i+1);return e.chain(o,r).then(n)}}return n()},e.runAllHooks=function(e){e.forEach(function(e){return e.invokeHook()})},e}();f.HANDLE_RESULT=function(e){return function(t){return e.handleHookResult(t)}},f.LOG_REJECTED_RESULT=function(e){return function(t){a.isPromise(t)&&t.catch(function(t){return e.logError(c.Rejection.normalize(t))})}},f.LOG_ERROR=function(e){return function(t){return e.logError(t)}},f.REJECT_ERROR=function(e){return function(e){return r.silentRejection(e)}},f.THROW_ERROR=function(e){return function(e){throw e}},t.TransitionHook=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(13),o=n(31),a=n(30),s=n(5);t.defaultResolvePolicy={when:"LAZY",async:"WAIT"};var l=function(){function e(t,n,o,a,l){if(this.resolved=!1,this.promise=void 0,t instanceof e)i.extend(this,t);else if(s.isFunction(n)){if(null==t||void 0==t)throw new Error("new Resolvable(): token argument is required");if(!s.isFunction(n))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=t,this.policy=a,this.resolveFn=n,this.deps=o||[],this.data=l,this.resolved=void 0!==l,this.promise=this.resolved?r.services.$q.when(this.data):void 0}else if(s.isObject(t)&&t.token&&s.isFunction(t.resolveFn)){var u=t;return new e(u.token,u.resolveFn,u.deps,u.policy,u.data)}}return e.prototype.getPolicy=function(e){var n=this.policy||{},i=e&&e.resolvePolicy||{};return{when:n.when||i.when||t.defaultResolvePolicy.when,async:n.async||i.async||t.defaultResolvePolicy.async}},e.prototype.resolve=function(e,t){var n=this,a=r.services.$q,s=function(){return a.all(e.getDependencies(n).map(function(n){return n.get(e,t)}))},l=function(e){return n.resolveFn.apply(null,e)},u=function(e){var t=e.cache(1);return t.take(1).toPromise().then(function(){return t})},c=e.findNode(this),p=c&&c.state,d="RXWAIT"===this.getPolicy(p).async?u:i.identity,f=function(e){return n.data=e,n.resolved=!0,o.trace.traceResolvableResolved(n,t),n.data};return this.promise=a.when().then(s).then(l).then(d).then(f)},e.prototype.get=function(e,t){return this.promise||this.resolve(e,t)},e.prototype.toString=function(){return"Resolvable(token: "+a.stringify(this.token)+", requires: ["+this.deps.map(a.stringify)+"])"},e.prototype.clone=function(){return new e(this)},e}();l.fromData=function(e,t){return new l(e,function(){return t},null,null,t)},t.Resolvable=l},function(e,t,n){"use strict";function i(e){var n=function(e){return e||""},i=t.splitHash(e).map(n),r=i[0],o=i[1],a=t.splitQuery(r).map(n);return{path:a[0],search:a[1],hash:o,url:e}}function r(e,t,n,i){return function(r){function o(e){e.dispose(a),e.dispose(s)}var a=r.locationService=new n(r),s=r.locationConfig=new i(r,t);return{name:e,service:a,configuration:s,dispose:o}}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(75),a=n(3),s=function(e){return function(t){if(!t)return["",""];var n=t.indexOf(e);return-1===n?[t,""]:[t.substr(0,n),t.substr(n+1)]}};t.splitHash=s("#"),t.splitQuery=s("?"),t.splitEqual=s("="),t.trimHashVal=function(e){return e?e.replace(/^#/,""):""},t.keyValsToObjectR=function(e,t){var n=t[0],i=t[1];return e.hasOwnProperty(n)?o.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i,e},t.getParams=function(e){return e.split("&").filter(a.identity).map(t.splitEqual).reduce(t.keyValsToObjectR,{})},t.parseUrl=i,t.buildUrl=function(e){var t=e.path(),n=e.search(),i=e.hash(),r=Object.keys(n).map(function(e){var t=n[e];return(o.isArray(t)?t:[t]).map(function(t){return e+"="+t})}).reduce(a.unnestR,[]).join("&");return t+(r?"?"+r:"")+(i?"#"+i:"")},t.locationPluginFactory=r},,,,,,,,,,,,,function(e,t,n){"use strict";window.console=window.console||{log:function(){}};var i=n(18),r=n(22),o=n(102),a=n(148),s=n(236);n(523),n(237),n(524),n(525),n(526),n(238),n(527),n(528),n(529),n(530),n(531),n(532);var l=e.exports=function(e,t){var n=i("<div>",{class:"yasqe"}).appendTo(i(e));t=u(t);var o=c(r(n[0],t));return f(o),o},u=function(e){return i.extend(!0,{},l.defaults,e)},c=function(e){e.autocompleters=n(534)(l,e),e.options.autocompleters&&e.options.autocompleters.forEach(function(t){l.Autocompleters[t]&&e.autocompleters.init(t,l.Autocompleters[t])}),e.lastQueryDuration=null,e.getCompleteToken=function(t,i){return n(103).getCompleteToken(e,t,i)},e.getPreviousNonWsToken=function(t,i){return n(103).getPreviousNonWsToken(e,t,i)},e.getNextNonWsToken=function(t,i){return n(103).getNextNonWsToken(e,t,i)},e.collapsePrefixes=function(t){void 0===t&&(t=!0),e.foldCode(n(238).findFirstPrefixLine(e),l.fold.prefix,t?"fold":"unfold")};var t=null,r=null;return e.setBackdrop=function(n){(e.options.backdrop||0===e.options.backdrop||"0"===e.options.backdrop)&&(null===r&&1===(r=+e.options.backdrop)&&(r=400),t||(t=i("<div>",{class:"backdrop"}).click(function(){i(this).hide()}).insertAfter(i(e.getWrapperElement()))),n?t.show(r):t.hide(r))},e.query=function(t){l.executeQuery(e,t)},e.getUrlArguments=function(t){return l.getUrlArguments(e,t)},e.getPrefixesFromQuery=function(){return n(149).getPrefixesFromQuery(e)},e.addPrefixes=function(t){return n(149).addPrefixes(e,t)},e.removePrefixes=function(t){return n(149).removePrefixes(e,t)},e.getValueWithoutComments=function(){var t="";return l.runMode(e.getValue(),"sparql11",function(e,n){"comment"!=n&&(t+=e)}),t},e.getQueryType=function(){return e.queryType},e.getQueryMode=function(){var t=e.getQueryType();return"INSERT"==t||"DELETE"==t||"LOAD"==t||"CLEAR"==t||"CREATE"==t||"DROP"==t||"COPY"==t||"MOVE"==t||"ADD"==t?"update":"query"},e.setCheckSyntaxErrors=function(t){e.options.syntaxErrorCheck=t,v(e)},e.enableCompleter=function(t){p(e.options,t),l.Autocompleters[t]&&e.autocompleters.init(t,l.Autocompleters[t])},e.disableCompleter=function(t){d(e.options,t)},e},p=function(e,t){e.autocompleters||(e.autocompleters=[]),e.autocompleters.push(t)},d=function(e,t){if("object"==typeof e.autocompleters){var n=i.inArray(t,e.autocompleters);n>=0&&(e.autocompleters.splice(n,1),d(e,t))}},f=function(e){var t=o.getPersistencyId(e,e.options.persistent);if(t){var n=a.storage.get(t);n&&e.setValue(n)}l.drawButtons(e),e.on("blur",function(e,t){l.storeQuery(e)}),e.on("change",function(e,t){v(e),l.updateQueryButton(e),l.positionButtons(e)}),e.on("changes",function(){v(e),l.updateQueryButton(e),l.positionButtons(e)}),e.on("cursorActivity",function(e,t){g(e)}),e.prevQueryValid=!1,v(e),l.positionButtons(e),i(e.getWrapperElement()).on("mouseenter",".cm-atom",function(){var t=i(this).text();i(e.getWrapperElement()).find(".cm-atom").filter(function(){return i(this).text()===t}).addClass("matchingVar")}).on("mouseleave",".cm-atom",function(){i(e.getWrapperElement()).find(".matchingVar").removeClass("matchingVar")}),e.options.consumeShareLink&&(e.options.consumeShareLink(e,h()),window.addEventListener("hashchange",function(){e.options.consumeShareLink(e,h())})),e.options.collapsePrefixesOnLoad&&e.collapsePrefixes(!0)},h=function(){var e=null;return window.location.hash.length>1&&(e=i.deparam(location.href.split("#")[1])),e&&"query"in e||!(window.location.search.length>1)||(e=i.deparam(window.location.search.substring(1))),e},g=function(e){e.cursor=i(".CodeMirror-cursor"),e.buttons&&e.buttons.is(":visible")&&e.cursor.length>0&&(o.elementsOverlap(e.cursor,e.buttons)?e.buttons.find("svg").attr("opacity","0.2"):e.buttons.find("svg").attr("opacity","1.0"))},v=function(e,t){e.queryValid=!0,e.clearGutter("gutterErrorBar");for(var r=null,o=0;o<e.lineCount();++o){var l=!1;e.prevQueryValid||(l=!0);var u=e.getTokenAt({line:o,ch:e.getLine(o).length},l),r=u.state;if(e.queryType=r.queryType,0==r.OK){if(!e.options.syntaxErrorCheck)return void i(e.getWrapperElement).find(".sp-error").css("color","black");var c=a.svg.getElement(s.warning);r.errorMsg?n(239)(e,c,function(){return i("<div/>").text(u.state.errorMsg).html()}):r.possibleCurrent&&r.possibleCurrent.length>0&&n(239)(e,c,function(){var e=[];return r.possibleCurrent.forEach(function(t){e.push("<strong style='text-decoration:underline'>"+i("<div/>").text(t).html()+"</strong>")}),"This line is invalid. Expected: "+e.join(", ")}),c.style.marginTop="2px",c.style.marginLeft="2px",c.className="parseErrorIcon",e.setGutterMarker(o,"gutterErrorBar",c),e.queryValid=!1;break}}if(e.prevQueryValid=e.queryValid,t&&null!=r&&void 0!=r.stack){var p=r.stack,d=r.stack.length;d>1?e.queryValid=!1:1==d&&"solutionModifier"!=p[0]&&"?limitOffsetClauses"!=p[0]&&"?offsetClause"!=p[0]&&(e.queryValid=!1)}};i.extend(l,r),l.Autocompleters={},l.registerAutocompleter=function(e,t){l.Autocompleters[e]=t,p(l.defaults,e)},l.autoComplete=function(e){e.autocompleters.autoComplete(!1)},l.registerAutocompleter("prefixes",n(536)),l.registerAutocompleter("properties",n(537)),l.registerAutocompleter("classes",n(538)),l.registerAutocompleter("variables",n(539)),l.positionButtons=function(e){var t=i(e.getWrapperElement()).find(".CodeMirror-vscrollbar"),n=0;t.is(":visible")&&(n=t.outerWidth()),e.buttons.is(":visible")&&e.buttons.css("right",n+4)},l.createShareLink=function(e){var t={};return window.location.hash.length>1&&(t=i.deparam(window.location.hash.substring(1))),t.query=e.getValue(),t},l.getAsCurl=function(e,t){return n(540).createCurlString(e,t)},l.consumeShareLink=function(e,t){t&&t.query&&e.setValue(t.query)},l.drawButtons=function(e){if(e.buttons=i("<div class='yasqe_buttons'></div>").appendTo(i(e.getWrapperElement())),e.options.createShareLink){var t=i(a.svg.getElement(s.share));t.click(function(n){n.stopPropagation();var r=i("<div class='yasqe_sharePopup'></div>").appendTo(e.buttons);i("html").click(function(){r&&r.remove()}),r.click(function(e){e.stopPropagation()});var o=i("<input>").val(location.protocol+"//"+location.host+location.pathname+location.search+"#"+i.param(e.options.createShareLink(e)));o.focus(function(){var e=i(this);e.select(),e.mouseup(function(){return e.unbind("mouseup"),!1})}),r.empty().append(i("<div>",{class:"inputWrapper"}).append(o)),e.options.createShortLink&&(r.addClass("enableShort"),i("<button>Shorten</button>").addClass("yasqe_btn yasqe_btn-sm yasqe_btn-primary").click(function(){i(this).parent().find("button").attr("disabled","disabled"),e.options.createShortLink(o.val(),function(e,t){e?(o.remove(),r.find(".inputWrapper").append(i("<span>",{class:"shortlinkErr"}).text(e))):o.val(t).focus()})}).appendTo(r)),i("<button>CURL</button>").addClass("yasqe_btn yasqe_btn-sm yasqe_btn-primary").click(function(){i(this).parent().find("button").attr("disabled","disabled"),o.val(l.getAsCurl(e)).focus()}).appendTo(r);var a=t.position();r.css("top",a.top+t.outerHeight()+parseInt(r.css("padding-top"))+"px").css("left",a.left+t.outerWidth()-r.outerWidth()+"px"),o.focus()}).addClass("yasqe_share").attr("title","Share your query").appendTo(e.buttons)}var n=i("<div>",{class:"fullscreenToggleBtns"}).append(i(a.svg.getElement(s.fullscreen)).addClass("yasqe_fullscreenBtn").attr("title","Set editor full screen").click(function(){e.setOption("fullScreen",!0)})).append(i(a.svg.getElement(s.smallscreen)).addClass("yasqe_smallscreenBtn").attr("title","Set editor to normal size").click(function(){e.setOption("fullScreen",!1)}));e.buttons.append(n),e.options.sparql.showQueryButton&&(i("<div>",{class:"yasqe_queryButton"}).click(function(){i(this).hasClass("query_busy")?(e.xhr&&e.xhr.abort(),l.updateQueryButton(e)):e.query()}).appendTo(e.buttons),l.updateQueryButton(e))};var m={busy:"loader",valid:"query",error:"queryInvalid"};l.updateQueryButton=function(e,t){var n=i(e.getWrapperElement()).find(".yasqe_queryButton");0!=n.length&&(t||(t="valid",!1===e.queryValid&&(t="error")),t!=e.queryStatus&&(n.empty().removeClass(function(e,t){return t.split(" ").filter(function(e){return 0==e.indexOf("query_")}).join(" ")}),"busy"==t?(n.append(i("<div>",{class:"loader"})),e.queryStatus=t):"valid"!=t&&"error"!=t||(n.addClass("query_"+t),a.svg.draw(n,s[m[t]]),e.queryStatus=t)))},l.fromTextArea=function(e,t){t=u(t);var n=(i("<div>",{class:"yasqe"}).insertBefore(i(e)).append(i(e)),c(r.fromTextArea(e,t)));return f(n),n},l.storeQuery=function(e){var t=o.getPersistencyId(e,e.options.persistent);t&&a.storage.set(t,e.getValue(),"month",e.options.onQuotaExceeded)},l.commentLines=function(e){for(var t=e.getCursor(!0).line,n=e.getCursor(!1).line,i=Math.min(t,n),r=Math.max(t,n),o=!0,a=i;a<=r;a++){var s=e.getLine(a);if(0==s.length||"#"!=s.substring(0,1)){o=!1;break}}for(var a=i;a<=r;a++)o?e.replaceRange("",{line:a,ch:0},{line:a,ch:1}):e.replaceRange("#",{line:a,ch:0})},l.copyLineUp=function(e){var t=e.getCursor(),n=e.lineCount();e.replaceRange("\n",{line:n-1,ch:e.getLine(n-1).length});for(var i=n;i>t.line;i--){var r=e.getLine(i-1);e.replaceRange(r,{line:i,ch:0},{line:i,ch:e.getLine(i).length})}},l.copyLineDown=function(e){l.copyLineUp(e);var t=e.getCursor();t.line++,e.setCursor(t)},l.doAutoFormat=function(e){e.somethingSelected()||e.execCommand("selectAll");var t={line:e.getCursor(!1).line,ch:e.getSelection().length};y(e,e.getCursor(!0),t)};var y=function(e,t,n){var i=e.indexFromPos(t),r=e.indexFromPos(n),o=E(e.getValue(),i,r);e.operation(function(){e.replaceRange(o,t,n);for(var r=e.posFromIndex(i).line,a=e.posFromIndex(i+o.length).line,s=r;s<=a;s++)e.indentLine(s,"smart")})},E=function(e,t,n){e=e.substring(t,n);var o=[["keyword","ws","prefixed","ws","uri"],["keyword","ws","uri"]],a=["{",".",";"],s=["}"],l=function(e,t){for(var n=0;n<o.length;n++)if(p.valueOf().toString()==o[n].valueOf().toString())return 1;for(var n=0;n<a.length;n++)if(e==a[n])return 1;for(var n=0;n<s.length;n++)if(""!=i.trim(c)&&e==s[n])return-1;return 0},u="",c="",p=[];return r.runMode(e,"sparql11",function(e,t){p.push(t);var n=l(e);0!=n?(1==n?(u+=e+"\n",c=""):(u+="\n"+e,c=e),p=[]):(c+=e,u+=e),1==p.length&&"sp-ws"==p[0]&&(p=[])}),i.trim(u.replace(/\n\s*\n/g,"\n"))};n(240),n(541),l.$=i,l.version={CodeMirror:r.version,YASQE:n(542).version,jquery:i.fn.jquery,"yasgui-utils":a.version}},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(3)),i(n(13)),i(n(76)),i(n(6)),i(n(5)),i(n(105)),i(n(30)),i(n(31))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.text=e,this.glob=e.split(".");var t=this.text.split(".").map(function(e){return"**"===e?"(?:|(?:\\.[^.]*)*)":"*"===e?"\\.[^.]*":"\\."+e}).join("");this.regexp=new RegExp("^"+t+"$")}return e.prototype.matches=function(e){return this.regexp.test("."+e)},e.is=function(e){return!!/[!,*]+/.exec(e)},e.fromString=function(t){return e.is(t)?new e(t):null},e}();t.Glob=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),r=n(13),o=n(3),a=n(5),s=n(6),l=n(48),u=n(59),c=n(106),p=n(151),d=n(78),f=n(39),h=n(49),g=n(60),v=n(79),m=s.prop("self"),y=function(){function e(e,t,n){var i=this;if(this._deferred=r.services.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new p.HookBuilder(this),this.isActive=function(){return i.router.globals.transition===i},this.router=n,this._targetState=t,!t.valid())throw new Error(t.error());this._options=o.extend({current:s.val(this)},t.options()),this.$id=n.transitionService._transitionCount++;var a=d.PathUtils.buildToPath(e,t);this._treeChanges=d.PathUtils.treeChanges(e,a,this._options.reloadState),this.createTransitionHookRegFns();var c=this._hookBuilder.buildHooksForPhase(l.TransitionHookPhase.CREATE);u.TransitionHook.invokeHooks(c,function(){return null}),this.applyViewConfigs(n)}return e.prototype.onBefore=function(e,t,n){},e.prototype.onStart=function(e,t,n){},e.prototype.onExit=function(e,t,n){},e.prototype.onRetain=function(e,t,n){},e.prototype.onEnter=function(e,t,n){},e.prototype.onFinish=function(e,t,n){},e.prototype.onSuccess=function(e,t,n){},e.prototype.onError=function(e,t,n){},e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==l.TransitionHookPhase.CREATE}).forEach(function(t){return c.makeEvent(e,e.router.transitionService,t)})},e.prototype.getHooks=function(e){return this._registeredHooks[e]},e.prototype.applyViewConfigs=function(e){var t=this._treeChanges.entering.map(function(e){return e.state});d.PathUtils.applyViewConfigs(e.transitionService.$view,this._treeChanges.to,t)},e.prototype.$from=function(){return o.tail(this._treeChanges.from).state},e.prototype.$to=function(){return o.tail(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!c.matchState(this.$to(),t.to)||t.from&&!c.matchState(this.$from(),t.from))},e.prototype.params=function(e){return void 0===e&&(e="to"),Object.freeze(this._treeChanges[e].map(s.prop("paramValues")).reduce(o.mergeR,{}))},e.prototype.injector=function(e,t){void 0===t&&(t="to");var n=this._treeChanges[t];return e&&(n=d.PathUtils.subPath(n,function(t){return t.state===e||t.state.name===e})),new v.ResolveContext(n).injector()},e.prototype.getResolveTokens=function(e){return void 0===e&&(e="to"),new v.ResolveContext(this._treeChanges[e]).getTokens()},e.prototype.addResolvable=function(e,t){void 0===t&&(t=""),e=s.is(g.Resolvable)(e)?e:new g.Resolvable(e);var n="string"==typeof t?t:t.name,i=this._treeChanges.to,r=o.find(i,function(e){return e.state.name===n});new v.ResolveContext(i).addResolvables([e],r.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var e=this.redirectedFrom();return e&&e.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return o.map(this._treeChanges.entering,s.prop("state")).map(m)},e.prototype.exiting=function(){return o.map(this._treeChanges.exiting,s.prop("state")).map(m).reverse()},e.prototype.retained=function(){return o.map(this._treeChanges.retained,s.prop("state")).map(m)},e.prototype.views=function(e,t){void 0===e&&(e="entering");var n=this._treeChanges[e];return n=t?n.filter(s.propEq("state",t)):n,n.map(s.prop("views")).filter(o.identity).reduce(o.unnestR,[])},e.prototype.treeChanges=function(e){return e?this._treeChanges[e]:this._treeChanges},e.prototype.redirect=function(e){for(var t=1,n=this;null!=(n=n.redirectedFrom());)if(++t>20)throw new Error("Too many consecutive Transition redirects (20+)");var i={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==e.options().location&&(i.location="replace");var r=o.extend({},this.options(),e.options(),i);e=new f.TargetState(e.identifier(),e.$state(),e.params(),r);var a=this.router.transitionService.create(this._treeChanges.from,e),l=this._treeChanges.entering,u=a._treeChanges.entering;return d.PathUtils.matching(u,l,d.PathUtils.nonDynamicParams).filter(s.not(function(e){return function(t){return e&&t.state.includes[e.name]}}(e.options().reloadState))).forEach(function(e,t){e.resolvables=l[t].resolvables}),a},e.prototype._changedParams=function(){var e=this._treeChanges;if(!this._options.reload&&!e.exiting.length&&!e.entering.length&&e.to.length===e.from.length){if(!o.arrayTuples(e.to,e.from).map(function(e){return e[0].state!==e[1].state}).reduce(o.anyTrueR,!1)){var t=e.to.map(function(e){return e.paramSchema}),n=[e.to,e.from].map(function(e){return e.map(function(e){return e.paramValues})}),i=n[0],r=n[1];return o.arrayTuples(t,i,r).map(function(e){var t=e[0],n=e[1],i=e[2];return h.Param.changed(t,n,i)}).reduce(o.unnestR,[])}}},e.prototype.dynamic=function(){var e=this._changedParams();return!!e&&e.map(function(e){return e.dynamic}).reduce(o.anyTrueR,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var e=this.router.globals.transition,t=this._options.reloadState,n=function(e,n){if(e.length!==n.length)return!1;var i=d.PathUtils.matching(e,n);return e.length===i.filter(function(e){return!t||!e.state.includes[t.name]}).length},i=this.treeChanges(),r=e&&e.treeChanges();return r&&n(r.to,i.to)&&n(r.exiting,i.exiting)?"SameAsPending":0===i.exiting.length&&0===i.entering.length&&n(i.from,i.to)?"SameAsCurrent":void 0},e.prototype.run=function(){var e=this,t=u.TransitionHook.runAllHooks,n=function(t){return e._hookBuilder.buildHooksForPhase(t)},o=function(){i.trace.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),t(n(l.TransitionHookPhase.SUCCESS))},a=function(r){i.trace.traceError(r,e),e.success=!1,e._deferred.reject(r),e._error=r,t(n(l.TransitionHookPhase.ERROR))},s=function(){var e=n(l.TransitionHookPhase.RUN),t=function(){return r.services.$q.when(void 0)};return u.TransitionHook.invokeHooks(e,t)},c=function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),i.trace.traceTransitionStart(e),r.services.$q.when(void 0)},p=n(l.TransitionHookPhase.BEFORE);return u.TransitionHook.invokeHooks(p,c).then(s).then(o,a),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){a.isUndefined(this.success)&&(this._aborted=!0)},e.prototype.error=function(){var e=this.$to();return e.self.abstract?"Cannot transition to abstract state '"+e.name+"'":h.Param.validates(e.parameters(),this.params())?!1===this.success?this._error:void 0:"Param values not valid for state '"+e.name+"'"},e.prototype.toString=function(){var e=this.from(),t=this.to(),n=function(e){return null!==e["#"]&&void 0!==e["#"]?e:o.omit(e,["#"])};return"Transition#"+this.$id+"( '"+(a.isObject(e)?e.name:e)+"'"+o.toJson(n(this._treeChanges.from.map(s.prop("paramValues")).reduce(o.mergeR,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(a.isObject(t)?t.name:t)+"'"+o.toJson(n(this.params()))+" )"},e}();y.diToken=y,t.Transition=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(6),o=n(39),a=n(107),s=function(){function e(){}return e.makeTargetState=function(e){var t=i.tail(e).state;return new o.TargetState(t,t,e.map(r.prop("paramValues")).reduce(i.mergeR,{}))},e.buildPath=function(e){var t=e.params();return e.$state().path.map(function(e){return new a.PathNode(e).applyRawParams(t)})},e.buildToPath=function(t,n){var i=e.buildPath(n);return n.options().inherit?e.inheritParams(t,i,Object.keys(n.params())):i},e.applyViewConfigs=function(t,n,r){n.filter(function(e){return i.inArray(r,e.state)}).forEach(function(r){var o=i.values(r.state.views||{}),a=e.subPath(n,function(e){return e===r}),s=o.map(function(e){return t.createViewConfig(a,e)});r.views=s.reduce(i.unnestR,[])})},e.inheritParams=function(e,t,n){function o(e,t){var n=i.find(e,r.propEq("state",t));return i.extend({},n&&n.paramValues)}function s(t){var r=i.extend({},t&&t.paramValues),s=i.pick(r,n);r=i.omit(r,n);var u=i.omit(o(e,t.state)||{},l),c=i.extend(r,u,s);return new a.PathNode(t.state).applyRawParams(c)}void 0===n&&(n=[]);var l=e.map(function(e){return e.paramSchema}).reduce(i.unnestR,[]).filter(function(e){return!e.inherit}).map(r.prop("id"));return t.map(s)},e.treeChanges=function(t,n,i){function r(e,t){var i=a.PathNode.clone(e);return i.paramValues=n[t].paramValues,i}for(var o=0,s=Math.min(t.length,n.length);o<s&&t[o].state!==i&&function(t,n){return t.equals(n,e.nonDynamicParams)}(t[o],n[o]);)o++;var l,u,c,p,d;l=t,u=l.slice(0,o),c=l.slice(o);var f=u.map(r);return p=n.slice(o),d=f.concat(p),{from:l,to:d,retained:u,exiting:c,entering:p}},e.matching=function(e,t,n){var r=!1;return i.arrayTuples(e,t).reduce(function(e,t){var i=t[0],o=t[1];return r=r||!i.equals(o,n),r?e:e.concat(i)},[])},e.equals=function(t,n,i){return t.length===n.length&&e.matching(t,n,i).length===t.length},e.subPath=function(e,t){var n=i.find(e,t),r=e.indexOf(n);return-1===r?void 0:e.slice(0,r+1)},e}();s.nonDynamicParams=function(e){return e.state.parameters({inherit:!1}).filter(function(e){return!e.dynamic})},s.paramValues=function(e){return e.reduce(function(e,t){return i.extend(e,t.paramValues)},{})},t.PathUtils=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(6),o=n(31),a=n(13),s=n(152),l=n(60),u=n(78),c=n(30),p=s.resolvePolicies.when,d=[p.EAGER,p.LAZY],f=[p.EAGER];t.NATIVE_INJECTOR_TOKEN="Native Injector";var h=function(){function e(e){this._path=e}return e.prototype.getTokens=function(){return this._path.reduce(function(e,t){return e.concat(t.resolvables.map(function(e){return e.token}))},[]).reduce(i.uniqR,[])},e.prototype.getResolvable=function(e){var t=this._path.map(function(e){return e.resolvables}).reduce(i.unnestR,[]).filter(function(t){return t.token===e});return i.tail(t)},e.prototype.getPolicy=function(e){var t=this.findNode(e);return e.getPolicy(t.state)},e.prototype.subContext=function(t){return new e(u.PathUtils.subPath(this._path,function(e){return e.state===t}))},e.prototype.addResolvables=function(e,t){var n=i.find(this._path,r.propEq("state",t)),o=e.map(function(e){return e.token});n.resolvables=n.resolvables.filter(function(e){return-1===o.indexOf(e.token)}).concat(e)},e.prototype.resolvePath=function(e,t){var n=this;void 0===e&&(e="LAZY");var l=i.inArray(d,e)?e:"LAZY",u=l===s.resolvePolicies.when.EAGER?f:d;o.trace.traceResolvePath(this._path,e,t);var c=function(e,t){return function(r){return i.inArray(e,n.getPolicy(r)[t])}},p=this._path.reduce(function(e,i){var o=i.resolvables.filter(c(u,"when")),a=o.filter(c(["NOWAIT"],"async")),s=o.filter(r.not(c(["NOWAIT"],"async"))),l=n.subContext(i.state),p=function(e){return e.get(l,t).then(function(t){return{token:e.token,value:t}})};return a.forEach(p),e.concat(s.map(p))},[]);return a.services.$q.all(p)},e.prototype.injector=function(){return this._injector||(this._injector=new g(this))},e.prototype.findNode=function(e){return i.find(this._path,function(t){return i.inArray(t.resolvables,e)})},e.prototype.getDependencies=function(e){var t=this,n=this.findNode(e),r=u.PathUtils.subPath(this._path,function(e){return e===n})||this._path,o=r.reduce(function(e,t){return e.concat(t.resolvables)},[]).filter(function(t){return t!==e}),a=function(e){var n=o.filter(function(t){return t.token===e});if(n.length)return i.tail(n);var r=t.injector().getNative(e);if(!r)throw new Error("Could not find Dependency Injection token: "+c.stringify(e));return new l.Resolvable(e,function(){return r},[],r)};return e.deps.map(a)},e}();t.ResolveContext=h;var g=function(){function e(e){this.context=e,this.native=this.get(t.NATIVE_INJECTOR_TOKEN)||a.services.$injector}return e.prototype.get=function(e){var t=this.context.getResolvable(e);if(t){if("NOWAIT"===this.context.getPolicy(t).async)return t.get(this.context);if(!t.resolved)throw new Error("Resolvable async .get() not complete:"+c.stringify(t.token));return t.data}return this.native&&this.native.get(e)},e.prototype.getAsync=function(e){var t=this.context.getResolvable(e);return t?t.get(this.context):a.services.$q.when(this.native.get(e))},e.prototype.getNative=function(e){return this.native&&this.native.get(e)},e}()},function(e,t,n){"use strict";function i(e,t){var n=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(t.squash){case!1:n=["(",")"+(t.isOptional?"?":"")];break;case!0:i=i.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+t.squash+"|",")?"]}return i+n[0]+t.type.pattern.source+n[1]}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(6),a=n(5),s=n(49),l=n(30),u=function(e,t,n){return e[t]=e[t]||n()},c=l.splitOnDelim("/"),p=function(){function e(t,n,a,s){var l=this;this.config=s,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=t,this.config=r.defaults(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:r.identity});for(var u,c,p,d=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=0,g=[],v=function(n){if(!e.nameValidator.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+t+"'");if(r.find(l._params,o.propEq("id",n)))throw new Error("Duplicate parameter name '"+n+"' in pattern '"+t+"'")},m=function(e,i){var o=e[2]||e[3],a=i?e[4]:e[4]||("*"===e[1]?".*":null);return{id:o,regexp:a,cfg:l.config.params[o],segment:t.substring(h,e.index),type:a?n.type(a)||function(e){return r.inherit(n.type(i?"query":"path"),{pattern:new RegExp(e,l.config.caseInsensitive?"i":void 0)})}(a):null}};(u=d.exec(t))&&(c=m(u,!1),!(c.segment.indexOf("?")>=0));)v(c.id),this._params.push(a.fromPath(c.id,c.type,this.config.paramMap(c.cfg,!1))),this._segments.push(c.segment),g.push([c.segment,r.tail(this._params)]),h=d.lastIndex;p=t.substring(h);var y=p.indexOf("?");if(y>=0){var E=p.substring(y);if(p=p.substring(0,y),E.length>0)for(h=0;u=f.exec(E);)c=m(u,!0),v(c.id),this._params.push(a.fromSearch(c.id,c.type,this.config.paramMap(c.cfg,!0))),h=d.lastIndex}this._segments.push(p),this._compiled=g.map(function(e){return i.apply(null,e)}).concat(i(p))}return e.prototype.append=function(e){return this._children.push(e),e._cache={path:this._cache.path.concat(e),parent:this,pattern:null},e},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype.exec=function(e,t,n,i){var s=this;void 0===t&&(t={}),void 0===i&&(i={});var l=u(this._cache,"pattern",function(){return new RegExp(["^",r.unnest(s._cache.path.map(o.prop("_compiled"))).join(""),!1===s.config.strict?"/?":"","$"].join(""),s.config.caseInsensitive?"i":void 0)}).exec(e);if(!l)return null;var c=this.parameters(),p=c.filter(function(e){return!e.isSearch()}),d=c.filter(function(e){return e.isSearch()}),f=this._cache.path.map(function(e){return e._segments.length-1}).reduce(function(e,t){return e+t}),h={};if(f!==l.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var g=0;g<f;g++){for(var v=p[g],m=l[g+1],y=0;y<v.replace.length;y++)v.replace[y].from===m&&(m=v.replace[y].to);m&&!0===v.array&&(m=function(e){var t=function(e){return e.split("").reverse().join("")},n=function(e){return e.replace(/\\-/g,"-")},i=t(e).split(/-(?!\\)/),o=r.map(i,t);return r.map(o,n).reverse()}(m)),a.isDefined(m)&&(m=v.type.decode(m)),h[v.id]=v.value(m)}return d.forEach(function(e){for(var n=t[e.id],i=0;i<e.replace.length;i++)e.replace[i].from===n&&(n=e.replace[i].to);a.isDefined(n)&&(n=e.type.decode(n)),h[e.id]=e.value(n)}),n&&(h["#"]=n),h},e.prototype.parameters=function(e){return void 0===e&&(e={}),!1===e.inherit?this._params:r.unnest(this._cache.path.map(function(e){return e._params}))},e.prototype.parameter=function(e,t){var n=this;void 0===t&&(t={});var i=this._cache.parent;return function(){for(var t=0,i=n._params;t<i.length;t++){var r=i[t];if(r.id===e)return r}}()||!1!==t.inherit&&i&&i.parameter(e,t)||null},e.prototype.validates=function(e){var t=function(e,t){return!e||e.validates(t)};return e=e||{},this.parameters().filter(function(t){return e.hasOwnProperty(t.id)}).map(function(n){return t(n,e[n.id])}).reduce(r.allTrueR,!0)},e.prototype.format=function(t){function n(e){var n=e.value(t[e.id]),i=e.validates(n),r=e.isDefaultValue(n);return{param:e,value:n,isValid:i,isDefaultValue:r,squash:!!r&&e.squash,encoded:e.type.encode(n)}}void 0===t&&(t={});var i=this._cache.path,o=i.map(e.pathSegmentsAndParams).reduce(r.unnestR,[]).map(function(e){return a.isString(e)?e:n(e)}),s=i.map(e.queryParams).reduce(r.unnestR,[]).map(n),l=function(e){return!1===e.isValid};if(o.concat(s).filter(l).length)return null;var u=o.reduce(function(t,n){if(a.isString(n))return t+n;var i=n.squash,o=n.encoded,s=n.param;return!0===i?t.match(/\/$/)?t.slice(0,-1):t:a.isString(i)?t+i:!1!==i?t:null==o?t:a.isArray(o)?t+r.map(o,e.encodeDashes).join("-"):s.raw?t+o:t+encodeURIComponent(o)},""),c=s.map(function(e){var t=e.param,n=e.squash,i=e.encoded,o=e.isDefaultValue;if(!(null==i||o&&!1!==n)&&(a.isArray(i)||(i=[i]),0!==i.length))return t.raw||(i=r.map(i,encodeURIComponent)),i.map(function(e){return t.id+"="+e})}).filter(r.identity).reduce(r.unnestR,[]).join("&");return u+(c?"?"+c:"")+(t["#"]?"#"+t["#"]:"")},e.encodeDashes=function(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})},e.pathSegmentsAndParams=function(e){var t=e._segments,n=e._params.filter(function(e){return e.location===s.DefType.PATH});return r.arrayTuples(t,n.concat(void 0)).reduce(r.unnestR,[]).filter(function(e){return""!==e&&a.isDefined(e)})},e.queryParams=function(e){return e._params.filter(function(e){return e.location===s.DefType.SEARCH})},e.compare=function(t,n){var i,o,u=function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(r.unnestR,[]).reduce(l.joinNeighborsR,[]).map(function(e){return a.isString(e)?c(e):e}).reduce(r.unnestR,[])},p=function(e){return e._cache.weights=e._cache.weights||u(e).map(function(e){return"/"===e?1:a.isString(e)?2:e instanceof s.Param?3:void 0})},d=r.arrayTuples(p(t),p(n));for(o=0;o<d.length;o++)if(0!==(i=d[o][0]-d[o][1]))return i;return 0},e}();p.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,t.UrlMatcher=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(61),r=n(5),o=n(3),a=function(){function e(e,t){var n=this;this.fireAfterUpdate=t,this._listener=function(e){return n._listeners.forEach(function(t){return t(e)})},this._listeners=[],this.hash=function(){return i.parseUrl(n._get()).hash},this.path=function(){return i.parseUrl(n._get()).path},this.search=function(){return i.getParams(i.parseUrl(n._get()).search)},this._location=window&&window.location,this._history=window&&window.history}return e.prototype.url=function(e,t){if(void 0===t&&(t=!0),r.isDefined(e)&&e!==this._get()&&(this._set(null,null,e,t),this.fireAfterUpdate)){var n=o.extend(new Event("locationchange"),{url:e});this._listeners.forEach(function(e){return e(n)})}return i.buildUrl(this)},e.prototype.onChange=function(e){var t=this;return this._listeners.push(e),function(){return o.removeFrom(t._listeners,e)}},e.prototype.dispose=function(e){o.deregAll(this._listeners)},e}();t.BaseLocationServices=a},,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SourcesActionService=t.UPLOAD_FILE=t.CLEAR_SOURCES_STATE=t.ADD_AUTHORITY_SOURCE=t.ADD_ARCHIVE_SOURCE=t.SET_SOURCE_CLASS_ACTIVE=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=n(29),p=n(7),d=t.SET_SOURCE_CLASS_ACTIVE="SET_SOURCE_CLASS_ACTIVE",f=t.ADD_ARCHIVE_SOURCE="ADD_ARCHIVE_SOURCE",h=t.ADD_AUTHORITY_SOURCE="ADD_AUTHORITY_SOURCE",g=(t.CLEAR_SOURCES_STATE="CLEAR_SOURCES_STATE",t.UPLOAD_FILE="UPLOAD_FILE"),v=t.SourcesActionService=function(){function e(t,n,i){(0,o.default)(this,e),this.$ngRedux=t,this.$q=n,this.projectService=i}return e.$inject=["$ngRedux","$q","projectService"],(0,s.default)(e,[{key:"setSourceClassActive",value:function(e,t,n){var i=this.$ngRedux.dispatch({type:d,payload:{source:e,clss:t,status:n}}),r=this.$ngRedux.getState().project.project;return this.projectService.saveCitable(r.updateEndpoint,r.graphStoreEndpoint,r),i}},{key:"addArchiveSource",value:function(e){return this.$ngRedux.dispatch({type:f,payload:e})}},{key:"addAuthoritySource",value:function(e){return this.$ngRedux.dispatch({type:h,payload:e})}},{key:"uploadFile",value:function(e,t,n,i,r){var o=this,a=t.columns.slice().filter(function(e){return e!==i}),s=a.map(function(e){return p.DataFactory.instance.namedNode(o.$ngRedux.getState().project.project.schemaNS+encodeURI(e))});return r.createNewItems(t.map(function(t){var r=[];return r.push(new c.PropertyAndValue(p.SKOS.prefLabel,p.DataFactory.instance.literal(t[i]))),r.push(new c.PropertyAndValue(p.RDF.type,n)),r.push(new c.PropertyAndValue(p.FIBRA.sourceFile,p.DataFactory.instance.literal(e))),a.forEach(function(e,n){r.push(new c.PropertyAndValue(s[n],p.DataFactory.instance.literal(t[e])))}),r})).then(function(){return o.$ngRedux.dispatch({type:g,payload:null})})}}]),e}();u.module("fibra.actions.sources",[]).config(["$provide",function(e){e.service("sourcesActionService",v)}])},function(e,t,n){!function(i,r){e.exports=t=r(n(4))}(0,function(e){return function(t){var n=e,i=n.lib,r=i.Base,o=i.WordArray,a=n.x64={};a.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],i=0;i<t;i++){var r=e[i];n.push(r.high),n.push(r.low)}return o.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),e})},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CitableEditorComponent=t.CitableEditorComponentController=t.EditCitableComponentController=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(27),u=n(90),c=n(7),p=n(0),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),f=(t.EditCitableComponentController=function(){function e(t,n,i){(0,o.default)(this,e),this.projectService=n,this.toastr=i,this.disabled=!1,this.projectSources=n.getProjectSources(),this.projectSource=this.projectSources.find(function(e){return e.id===t})}return e.$inject=["sourceId","projectService","toastr"],(0,s.default)(e,[{key:"delete",value:function(){var e=this;this.disabled=!0,this.projectService.deleteCitable(this.projectSource.updateEndpoint,this.c).then(function(){e.toastr.success("Resource deleted"),e.disabled=!1},function(t){e.toastr.error("Error deleting resource",t),e.disabled=!1})}},{key:"save",value:function(){var e=this;this.disabled=!0,this.c.source=this.projectSource,this.projectService.saveCitable(this.projectSource.updateEndpoint,this.projectSource.graphStoreEndpoint,this.c).then(function(){e.toastr.success("Resource saved"),e.disabled=!1},function(t){e.toastr.error("Error saving resource",t),e.disabled=!1})}}]),e}(),t.CitableEditorComponentController=function(){function e(t){(0,o.default)(this,e),this.$ngRedux=t}return(0,s.default)(e,[{key:"addRightsHolder",value:function(){var e=new l.Citable("http://ldf.fi/fibra/citable_"+(0,u.UUID)());e.labels.add(c.DataFactory.literal("",this.$ngRedux.getState().general.language)),e.descriptions.add(c.DataFactory.literal("",this.$ngRedux.getState().general.language)),this.citable.rightsHolders.push(e)}},{key:"addLabel",value:function(){this.citable.labels.add(c.DataFactory.literal("",""))}},{key:"addDescription",value:function(){this.citable.descriptions.add(c.DataFactory.literal("",""))}},{key:"removeLabel",value:function(e){this.citable.labels.removei(e)}},{key:"removeDescription",value:function(e){this.citable.descriptions.removei(e)}}]),e}()),h=t.CitableEditorComponent=function e(){(0,o.default)(this,e),this.bindings={citable:"=",noRightsHolders:"@",noId:"@",noRightsHolderIds:"@"},this.controller=f,this.template=n(421)()};d.module("fibra.components.citable-editor",["fibra.services"]).component("citableEditor",new h)},function(e,t,n){var i=n(40),r=n(222),o=n(223),a=n(33),s=n(85),l=n(131),u={},c={},t=e.exports=function(e,t,n,p,d){var f,h,g,v,m=d?function(){return e}:l(e),y=i(n,p,t?2:1),E=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(f=s(e.length);f>E;E++)if((v=t?y(a(h=e[E])[0],h[1]):y(e[E]))===u||v===c)return v}else for(g=m.call(e);!(h=g.next()).done;)if((v=r(g,y,h.value,t))===u||v===c)return v};t.BREAK=u,t.RETURN=c},function(e,t){e.exports=d3},function(e,t,n){"use strict";var i=n(18),r=function(e,t){var n=!1;try{void 0!==e[t]&&(n=!0)}catch(e){}return n},o=function(e,t){var n=null;return t&&(n="string"==typeof t?t:t(e)),n},a=function(){function e(e){var t,n,r;return t=i(e).offset(),n=i(e).width(),r=i(e).height(),[[t.left,t.left+n],[t.top,t.top+r]]}function t(e,t){var n,i;return n=e[0]<t[0]?e:t,i=e[0]<t[0]?t:e,n[1]>i[0]||n[0]===i[0]}return function(n,i){var r=e(n),o=e(i);return t(r[0],o[0])&&t(r[1],o[1])}}(),s=function(e,t){return"function"==typeof t?t(e):t};e.exports={keyExists:r,getPersistencyId:o,elementsOverlap:a,getString:s}},function(e,t,n){"use strict";var i=function(e,t,n){n||(n=e.getCursor()),t||(t=e.getTokenAt(n));var r=e.getTokenAt({line:n.line,ch:t.start});return null!=r.type&&"ws"!=r.type&&null!=t.type&&"ws"!=t.type?(t.start=r.start,t.string=r.string+t.string,i(e,t,{line:n.line,ch:r.start})):null!=t.type&&"ws"==t.type?(t.start=t.start+1,t.string=t.string.substring(1),t):t},r=function(e,t,n){var i=e.getTokenAt({line:t,ch:n.start});return null!=i&&"ws"==i.type&&(i=r(e,t,i)),i},o=function(e,t,n){void 0==n&&(n=1);var i=e.getTokenAt({line:t,ch:n});return null==i||void 0==i||i.end<n?null:"ws"==i.type?o(e,t,i.end+1):i};e.exports={getPreviousNonWsToken:r,getCompleteToken:i,getNextNonWsToken:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(6),o=n(76),a=n(5),s=function(){function e(t){return e.create(t||{})}return e.create=function(t){t=e.isStateClass(t)?new t:t;var n=i.inherit(i.inherit(t,e.prototype));return t.$$state=function(){return n},n.self=t,n.__stateObjectCache={nameGlob:o.Glob.fromString(n.name)},n},e.prototype.is=function(e){return this===e||this.self===e||this.fqn()===e},e.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var e=this.parent.fqn();return e?e+"."+this.name:this.name},e.prototype.root=function(){return this.parent&&this.parent.root()||this},e.prototype.parameters=function(e){return e=i.defaults(e,{inherit:!0,matchingKeys:null}),(e.inherit&&this.parent&&this.parent.parameters()||[]).concat(i.values(this.params)).filter(function(t){return!e.matchingKeys||e.matchingKeys.hasOwnProperty(t.id)})},e.prototype.parameter=function(e,t){return void 0===t&&(t={}),this.url&&this.url.parameter(e,t)||i.find(i.values(this.params),r.propEq("id",e))||t.inherit&&this.parent&&this.parent.parameter(e)},e.prototype.toString=function(){return this.fqn()},e}();s.isStateClass=function(e){return a.isFunction(e)&&!0===e.__uiRouterState},s.isState=function(e){return a.isObject(e.__stateObjectCache)},t.StateObject=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=null),this._items=e,this._limit=t}return e.prototype.enqueue=function(e){var t=this._items;return t.push(e),this._limit&&t.length>this._limit&&t.shift(),e},e.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},e.prototype.clear=function(){var e=this._items;return this._items=[],e},e.prototype.size=function(){return this._items.length},e.prototype.remove=function(e){var t=this._items.indexOf(e);return t>-1&&this._items.splice(t,1)[0]},e.prototype.peekTail=function(){return this._items[this._items.length-1]},e.prototype.peekHead=function(){if(this.size())return this._items[0]},e}();t.Queue=i},function(e,t,n){"use strict";function i(e,t){function n(e){for(var t=i,n=0;n<t.length;n++){var r=new l.Glob(t[n]);if(r&&r.matches(e.name)||!r&&t[n]===e.name)return!0}return!1}var i=a.isString(t)?[t]:t;return!!(a.isFunction(i)?i:n)(e)}function r(e,t,n){function i(e,i,r){void 0===r&&(r={});var s=new u(t,n,i,e,r);return a.push(s),function(){s._deregistered=!0,o.removeFrom(a)(s)}}var r=e._registeredHooks=e._registeredHooks||{},a=r[n.name]=[];return e[n.name]=i,i}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(5),s=n(48),l=n(76);t.matchState=i;var u=function(){function e(e,t,n,i,r){void 0===r&&(r={}),this.tranSvc=e,this.eventType=t,this.callback=n,this.matchCriteria=i,this.priority=r.priority||0,this.bind=r.bind||null,this._deregistered=!1}return e.prototype._matchingNodes=function(e,t){if(!0===t)return e;var n=e.filter(function(e){return i(e.state,t)});return n.length?n:null},e.prototype._getDefaultMatchCriteria=function(){return o.map(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(e){var t=this,n=o.extend(this._getDefaultMatchCriteria(),this.matchCriteria);return o.values(this.tranSvc._pluginapi._getPathTypes()).reduce(function(i,r){var a=r.scope===s.TransitionHookScope.STATE,l=e[r.name]||[],u=a?l:[o.tail(l)];return i[r.name]=t._matchingNodes(u,n[r.name]),i},{})},e.prototype.matches=function(e){var t=this._getMatchingNodes(e);return o.values(t).every(o.identity)?t:null},e}();t.RegisteredHook=u,t.makeEvent=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(6),o=n(49),a=function(){function e(t){if(t instanceof e){var n=t;this.state=n.state,this.paramSchema=n.paramSchema.slice(),this.paramValues=i.extend({},n.paramValues),this.resolvables=n.resolvables.slice(),this.views=n.views&&n.views.slice()}else{var r=t;this.state=r,this.paramSchema=r.parameters({inherit:!1}),this.paramValues={},this.resolvables=r.resolvables.map(function(e){return e.clone()})}}return e.prototype.applyRawParams=function(e){var t=function(t){return[t.id,t.value(e[t.id])]};return this.paramValues=this.paramSchema.reduce(function(e,n){return i.applyPairs(e,t(n))},{}),this},e.prototype.parameter=function(e){return i.find(this.paramSchema,r.propEq("id",e))},e.prototype.equals=function(e,t){var n=this.diff(e,t);return n&&0===n.length},e.prototype.diff=function(e,t){if(this.state!==e.state)return!1;var n=t?t(this):this.paramSchema;return o.Param.changed(n,this.paramValues,e.paramValues)},e.clone=function(t){return new e(t)},e}();t.PathNode=a},function(e,t,n){"use strict";function i(e,t){function n(e){return o.isArray(e)?e:o.isDefined(e)?[e]:[]}function i(e){switch(e.length){case 0:return;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e,t){return function(a){if(o.isArray(a)&&0===a.length)return a;var s=n(a),l=r.map(s,e);return!0===t?0===r.filter(l,function(e){return!e}).length:i(l)}}function s(e){return function(t,i){var r=n(t),o=n(i);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!e(r[a],o[a]))return!1;return!0}}var l=this;["encode","decode","equals","$normalize"].forEach(function(t){var n=e[t].bind(e),i="equals"===t?s:a;l[t]=i(n)}),r.extend(this,{dynamic:e.dynamic,name:e.name,pattern:e.pattern,inherit:e.inherit,is:a(e.is.bind(e),!0),$arrayMode:t})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(5),a=function(){function e(e){this.pattern=/.*/,this.inherit=!0,r.extend(this,e)}return e.prototype.is=function(e,t){return!0},e.prototype.encode=function(e,t){return e},e.prototype.decode=function(e,t){return e},e.prototype.equals=function(e,t){return e==t},e.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},e.prototype.toString=function(){return"{ParamType:"+this.name+"}"},e.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},e.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},e}();t.ParamType=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(48),r=n(77),o=n(106),a=n(248),s=n(249),l=n(250),u=n(251),c=n(252),p=n(253),d=n(254),f=n(167),h=n(168),g=n(59),v=n(5),m=n(3),y=n(6),E=n(255),b=n(256);t.defaultTransOpts={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"};var x=function(){function e(e){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=e,this.$view=e.viewService,this._deregisterHookFns={},this._pluginapi=m.createProxyFunctions(y.val(this),{},y.val(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks()}return e.prototype.onCreate=function(e,t,n){},e.prototype.onBefore=function(e,t,n){},e.prototype.onStart=function(e,t,n){},e.prototype.onExit=function(e,t,n){},e.prototype.onRetain=function(e,t,n){},e.prototype.onEnter=function(e,t,n){},e.prototype.onFinish=function(e,t,n){},e.prototype.onSuccess=function(e,t,n){},e.prototype.onError=function(e,t,n){},e.prototype.dispose=function(e){m.values(this._registeredHooks).forEach(function(e){return e.forEach(function(t){t._deregistered=!0,m.removeFrom(e,t)})})},e.prototype.create=function(e,t){return new r.Transition(e,t,this._router)},e.prototype._defineCoreEvents=function(){var e=i.TransitionHookPhase,t=g.TransitionHook,n=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,n.to,!1,t.LOG_REJECTED_RESULT,t.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,n.to),this._defineEvent("onStart",e.RUN,0,n.to),this._defineEvent("onExit",e.RUN,100,n.exiting,!0),this._defineEvent("onRetain",e.RUN,200,n.retained),this._defineEvent("onEnter",e.RUN,300,n.entering),this._defineEvent("onFinish",e.RUN,400,n.to),this._defineEvent("onSuccess",e.SUCCESS,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=i.TransitionHookScope.STATE,t=i.TransitionHookScope.TRANSITION;this._definePathType("to",t),this._definePathType("from",t),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(e,t,n,i,r,a,s,l){void 0===r&&(r=!1),void 0===a&&(a=g.TransitionHook.HANDLE_RESULT),void 0===s&&(s=g.TransitionHook.REJECT_ERROR),void 0===l&&(l=!1);var u=new h.TransitionEventType(e,t,n,i,r,a,s,l);this._eventTypes.push(u),o.makeEvent(this,this,u)},e.prototype._getEvents=function(e){return(v.isDefined(e)?this._eventTypes.filter(function(t){return t.hookPhase===e}):this._eventTypes.slice()).sort(function(e,t){var n=e.hookPhase-t.hookPhase;return 0===n?e.hookOrder-t.hookOrder:n})},e.prototype._definePathType=function(e,t){this._criteriaPaths[e]={name:e,scope:t}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(e){return this._registeredHooks[e]},e.prototype._registerCoreTransitionHooks=function(){var e=this._deregisterHookFns;e.addCoreResolves=a.registerAddCoreResolvables(this),e.ignored=E.registerIgnoredTransitionHook(this),e.invalid=b.registerInvalidTransitionHook(this),e.redirectTo=s.registerRedirectToHook(this),e.onExit=l.registerOnExitHook(this),e.onRetain=l.registerOnRetainHook(this),e.onEnter=l.registerOnEnterHook(this),e.eagerResolve=u.registerEagerResolvePath(this),e.lazyResolve=u.registerLazyResolveState(this),e.loadViews=c.registerLoadEnteringViews(this),e.activateViews=c.registerActivateViews(this),e.updateGlobals=p.registerUpdateGlobalState(this),e.updateUrl=d.registerUpdateUrl(this),e.lazyLoad=f.registerLazyLoadHook(this)},e}();t.TransitionService=x},function(e,t,n){"use strict";function i(e){function t(e,t,i,r,o,a){return n._runtimeServices(r,e,i,t),delete E.router,delete E.$get,E}E=this.router=new s.UIRouter,E.stateProvider=new c.StateProvider(E.stateRegistry,E.stateService),E.stateRegistry.decorator("views",l.ng1ViewsBuilder),E.stateRegistry.decorator("onExit",p.getStateHookBuilder("onExit")),E.stateRegistry.decorator("onRetain",p.getStateHookBuilder("onRetain")),E.stateRegistry.decorator("onEnter",p.getStateHookBuilder("onEnter")),E.viewService._pluginapi._viewConfigFactory("ng1",l.getNg1ViewConfigFactory());var n=E.locationService=E.locationConfig=new d.Ng1LocationServices(e);return d.Ng1LocationServices.monkeyPatchPathParameterType(E),E.router=E,E.$get=t,t.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],E}function r(e,t,n){s.services.$injector=e,s.services.$q=t,n.stateRegistry.get().map(function(e){return e.$$state().resolvables}).reduce(s.unnestR,[]).filter(function(e){return"deferred"===e.deps}).forEach(function(t){return t.deps=e.annotate(t.resolveFn)})}function o(e){e.$watch(function(){s.trace.approximateDigests++})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(50),s=n(19),l=n(111),u=n(264),c=n(176),p=n(265),d=n(266),f=n(177);a.ng.module("ui.router.angular1",[]);var h=a.ng.module("ui.router.init",[]),g=a.ng.module("ui.router.util",["ng","ui.router.init"]),v=a.ng.module("ui.router.router",["ui.router.util"]),m=a.ng.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),y=a.ng.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),E=(a.ng.module("ui.router.compat",["ui.router"]),null);i.$inject=["$locationProvider"];var b=function(e){return["$uiRouterProvider",function(t){var n=t.router[e];return n.$get=function(){return n},n}]};r.$inject=["$injector","$q","$uiRouter"];var x=function(e){return e.urlRouterProvider=new f.UrlRouterProvider(e)},C=function(){return s.extend(E.stateProvider,{$get:function(){return E.stateService}})};o.$inject=["$rootScope"],t.watchDigests=o,h.provider("$uiRouter",i),v.provider("$urlRouter",["$uiRouterProvider",x]),g.provider("$urlService",b("urlService")),g.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return E.urlMatcherFactory}]),g.provider("$templateFactory",function(){return new u.TemplateFactory}),m.provider("$stateRegistry",b("stateRegistry")),m.provider("$uiRouterGlobals",b("globals")),m.provider("$transitions",b("transitionService")),m.provider("$state",["$uiRouterProvider",C]),m.factory("$stateParams",["$uiRouter",function(e){return e.globals.params}]),y.factory("$view",function(){return E.viewService}),y.service("$trace",function(){return s.trace}),y.run(o),g.run(["$urlMatcherFactory",function(e){}]),m.run(["$state",function(e){}]),v.run(["$urlRouter",function(e){}]),h.run(r),t.getLocals=function(e){return e.getTokens().filter(s.isString).map(function(t){var n=e.getResolvable(t);return[t,"NOWAIT"===e.getPolicy(n).async?n.promise:n.data]}).reduce(s.applyPairs,{})}},function(e,t,n){"use strict";function i(){var e=null;return function(t,n){return e=e||o.services.$injector.get("$templateFactory"),[new l(t,n,e)]}}function r(e){if(!e.parent)return{};var t=["templateProvider","templateUrl","template","notify","async"],n=["controller","controllerProvider","controllerAs","resolveAs"],i=["component","bindings","componentProvider"],r=t.concat(n),s=i.concat(r);if(o.isDefined(e.views)&&a(s,e))throw new Error("State '"+e.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+s.filter(function(t){return o.isDefined(e[t])}).join(", "));var l={},u=e.views||{$default:o.pick(e,s)};return o.forEach(u,function(t,n){if(n=n||"$default",o.isString(t)&&(t={component:t}),t=o.extend({},t),a(i,t)&&a(r,t))throw new Error("Cannot combine: "+i.join("|")+" with: "+r.join("|")+" in stateview: '"+n+"@"+e.name+"'");t.resolveAs=t.resolveAs||"$resolve",t.$type="ng1",t.$context=e,t.$name=n;var s=o.ViewService.normalizeUIViewTarget(t.$context,t.$name);t.$uiViewName=s.uiViewName,t.$uiViewContextAnchor=s.uiViewContextAnchor,l[n]=t}),l}Object.defineProperty(t,"__esModule",{value:!0});var o=n(19);t.getNg1ViewConfigFactory=i;var a=function(e,t){return e.reduce(function(e,n){return e||o.isDefined(t[n])},!1)};t.ng1ViewsBuilder=r;var s=0,l=function(){function e(e,t,n){var i=this;this.path=e,this.viewDecl=t,this.factory=n,this.$id=s++,this.loaded=!1,this.getTemplate=function(e,t){return i.component?i.factory.makeComponentTemplate(e,t,i.component,i.viewDecl.bindings):i.template}}return e.prototype.load=function(){var e=this,t=o.services.$q,n=new o.ResolveContext(this.path),i=this.path.reduce(function(e,t){return o.extend(e,t.paramValues)},{}),r={template:t.when(this.factory.fromConfig(this.viewDecl,i,n)),controller:t.when(this.getController(n))};return t.all(r).then(function(t){return o.trace.traceViewServiceEvent("Loaded",e),e.controller=t.controller,o.extend(e,t.template),e})},e.prototype.getController=function(e){var t=this.viewDecl.controllerProvider;if(!o.isInjectable(t))return this.viewDecl.controller;var n=o.services.$injector.annotate(t),i=o.isArray(t)?o.tail(t):t;return new o.Resolvable("",i,n).get(e)},e}();t.Ng1ViewConfig=l},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FilterActionService=t.UPDATE_PROPERTY_ON_FILTER=t.CLEAR_FILTER_STATE=t.REMOVE_FILTER=t.SET_FILTER_SELECTION=t.SET_FILTER_FOR_CLASS_AND_PROP=t.SET_FILTER_DIVIDER_PERCENTAGE=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=t.SET_FILTER_DIVIDER_PERCENTAGE="SET_FILTER_DIVIDER_PERCENTAGE",p=t.SET_FILTER_FOR_CLASS_AND_PROP="SET_FILTER_FOR_CLASS_AND_PROP",d=t.SET_FILTER_SELECTION="SET_FILTER_SELECTION",f=t.REMOVE_FILTER="REMOVE_FILTER",h=(t.CLEAR_FILTER_STATE="CLEAR_FILTER_STATE",t.UPDATE_PROPERTY_ON_FILTER="UPDATE_PROPERTY_ON_FILTER"),g=t.FilterActionService=function(){function e(t,n){(0,o.default)(this,e),this.$ngRedux=t,this.propertyService=n}return e.$inject=["$ngRedux","propertyService"],(0,s.default)(e,[{key:"setFilterDividerPercentage",value:function(e){return this.$ngRedux.dispatch({type:c,payload:e})}},{key:"setFilter",value:function(e,t,n){var i=this;return this.$ngRedux.dispatch({type:p,payload:{clss:e,property:t}}),this.propertyService.getBasicProperty(t).then(function(t){return i.$ngRedux.dispatch({type:h,payload:{clss:e,property:t}}),n.getDetailedProperty(t).then(function(t){return i.$ngRedux.dispatch({type:h,payload:{clss:e,property:t}})})})}},{key:"removeFilter",value:function(e,t){return this.$ngRedux.dispatch({type:f,payload:{clss:e,property:t}})}},{key:"setFilterSelection",value:function(e,t,n){return this.$ngRedux.dispatch({type:d,payload:{clss:e,property:t,selection:n}})}}]),e}();u.module("fibra.actions.filter",[]).config(["$provide",function(e){e.service("filterActionService",g)}])},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveActionService=t.SET_ACTIVE_LAYOUT=t.UPDATE_ITEM_DESCRIPTION=t.DELETE_ITEM_FROM_LAYOUT=t.ADD_ITEM_TO_ITEM_STATE=t.CLEAR_ACTIVE_STATE=t.SET_ACTIVE_DIVIDER_PERCENTAGE=t.ADD_ITEM_TO_CURRENT_LAYOUT=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=n(7),p=n(29),d=n(26),f=t.ADD_ITEM_TO_CURRENT_LAYOUT="ADD_ITEM_TO_CURRENT_LAYOUT",h=t.SET_ACTIVE_DIVIDER_PERCENTAGE="SET_ACTIVE_DIVIDER_PERCENTAGE",g=(t.CLEAR_ACTIVE_STATE="CLEAR_ACTIVE_STATE",t.ADD_ITEM_TO_ITEM_STATE="ADD_ITEM_TO_ITEM_STATE"),v=t.DELETE_ITEM_FROM_LAYOUT="DELETE_ITEM_FROM_LAYOUT",m=t.UPDATE_ITEM_DESCRIPTION="UPDATE_ITEM_DESCRIPTION",y=t.SET_ACTIVE_LAYOUT="SET_ACTIVE_LAYOUT",E=t.ActiveActionService=function(){function e(t,n,i){(0,o.default)(this,e),this.$ngRedux=t,this.sparqlItemService=n,this.projectService=i}return e.$inject=["$ngRedux","sparqlItemService","projectService"],(0,s.default)(e,[{key:"addLink",value:function(e,t){var n=this;this.sparqlItemService.alterItem(e.ids[0],[new p.PropertyAndValue(new d.Property(new c.NamedNode("DataPenLink")),t.ids[0])]).then(function(){n.sparqlItemService.getItem(e.ids,!0).then(function(t){n.$ngRedux.dispatch({type:g,payload:{itemState:e,fullItem:t}})}),n.sparqlItemService.getItem(t.ids,!0).then(function(e){n.$ngRedux.dispatch({type:g,payload:{itemState:t,fullItem:e}})})})}},{key:"setLayout",value:function(e){var t=this,n={items:[]},i=e.items.map(function(e){return e.ids});return this.sparqlItemService.getItems(i,!0).then(function(i){return n.items=i.map(function(t){var n=e.items.find(function(e){return-1!==e.ids.map(function(e){return e.value}).indexOf(t.value)});return{ids:[new c.NamedNode(t.value)],item:t,description:t.remoteProperties.find(function(e){return e.property.value===c.SKOS.prefLabel.value})?t.remoteProperties.find(function(e){return e.property.value===c.SKOS.prefLabel.value}).values[0].value.value:"?",topOffset:n?n.topOffset:null,leftOffset:n?n.leftOffset:null}}).filter(function(e){return e.topOffset&&e.leftOffset}),t.$ngRedux.dispatch({type:y,payload:n})})}},{key:"addItemToCurrentLayout",value:function(e){var t=this;if(this.$ngRedux.getState().active.activeLayout.items.find(function(t){return t.ids[0].value===e.ids[0].value}))return null;this.sparqlItemService.getItem(e.ids,!0).then(function(n){n?t.$ngRedux.dispatch({type:g,payload:{itemState:e,fullItem:n}}):t.$ngRedux.dispatch({type:m,payload:{itemState:e,newDescription:e.ids[0]}})});var n=this.$ngRedux.dispatch({type:f,payload:e}),i=u.copy(this.$ngRedux.getState().project.project);return i.layouts[0]={items:this.$ngRedux.getState().active.activeLayout.items.map(function(e){return{ids:e.ids,topOffset:e.topOffset,leftOffset:e.leftOffset}}),active:!0},this.projectService.saveCitable(i.updateEndpoint,i.graphStoreEndpoint,i),n}},{key:"setActiveDividerPercentage",value:function(e){return this.$ngRedux.dispatch({type:h,payload:e})}},{key:"createNewItem",value:function(e){var t=this;return this.sparqlItemService.createNewItem([new p.PropertyAndValue(c.SKOS.prefLabel,c.DataFactory.instance.literal(e.description)),new p.PropertyAndValue(c.RDF.type,c.DataFactory.instance.namedNode("http://www.cidoc-crm.org/cidoc-crm/E21_Person")),new p.PropertyAndValue(c.FIBRA.sourceFile,c.DataFactory.instance.literal("Manually entered"))]).then(function(n){return e.ids=[n],t.addItemToCurrentLayout(e)})}},{key:"deleteItemFromCurrentLayout",value:function(e){var t=this.$ngRedux.dispatch({type:v,payload:e}),n=u.copy(this.$ngRedux.getState().project.project);return n.layouts[0]={items:this.$ngRedux.getState().active.activeLayout.items.map(function(e){return{ids:e.ids,topOffset:e.topOffset,leftOffset:e.leftOffset}}),active:!0},this.projectService.saveCitable(n.updateEndpoint,n.graphStoreEndpoint,n),t}},{key:"moveItemOnCurrentLayout",value:function(){var e=u.copy(this.$ngRedux.getState().project.project);return e.layouts[0]={items:this.$ngRedux.getState().active.activeLayout.items.map(function(e){return{ids:e.ids,topOffset:e.topOffset,leftOffset:e.leftOffset}}),active:!0},this.projectService.saveCitable(e.updateEndpoint,e.graphStoreEndpoint,e),null}}]),e}();u.module("fibra.actions.active",[]).config(["$provide",function(e){e.service("activeActionService",E)}])},,,,,,,,,,,,,,,,,,,function(e,t,n){!function(i,r){e.exports=t=r(n(4))}(0,function(e){return function(){var t=e,n=t.lib,i=n.WordArray,r=n.Hasher,o=t.algo,a=[],s=o.SHA1=r.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],l=n[4],u=0;u<80;u++){if(u<16)a[u]=0|e[t+u];else{var c=a[u-3]^a[u-8]^a[u-14]^a[u-16];a[u]=c<<1|c>>>31}var p=(i<<5|i>>>27)+l+a[u];p+=u<20?1518500249+(r&o|~r&s):u<40?1859775393+(r^o^s):u<60?(r&o|r&s|o&s)-1894007588:(r^o^s)-899497514,l=s,s=o,o=r<<30|r>>>2,r=i,i=p}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(i+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=r._createHelper(s),t.HmacSHA1=r._createHmacHelper(s)}(),e.SHA1})},function(e,t,n){!function(i,r){e.exports=t=r(n(4))}(0,function(e){!function(){var t=e,n=t.lib,i=n.Base,r=t.enc,o=r.Utf8,a=t.algo;a.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),a=this._iKey=t.clone(),s=r.words,l=a.words,u=0;u<n;u++)s[u]^=1549556828,l[u]^=909522486;r.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}()})},,function(e,t,n){"use strict";t.__esModule=!0;var i=n(179),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},,,,,,,,,,,function(e,t,n){var i=n(34);e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){window.console=window.console||{log:function(){}},e.exports={storage:n(509),svg:n(521),version:{"yasgui-utils":n(522).version},nestedExists:function(e){for(var t=Array.prototype.slice.call(arguments,1),n=0;n<t.length;n++){if(!e||!e.hasOwnProperty(t[n]))return!1;e=e[t[n]]}return!0}}},function(e,t,n){"use strict";var i=function(e,t){var n=e.getPrefixesFromQuery();if("string"==typeof t)r(e,t);else for(var i in t)i in n||r(e,i+": <"+t[i]+">");e.collapsePrefixes(!1)},r=function(e,t){for(var n=null,i=0,r=e.lineCount(),o=0;o<r;o++){var a=e.getNextNonWsToken(o);null==a||"PREFIX"!=a.string&&"BASE"!=a.string||(n=a,i=o)}if(null==n)e.replaceRange("PREFIX "+t+"\n",{line:0,ch:0});else{var l=s(e,i);e.replaceRange("\n"+l+"PREFIX "+t,{line:i})}e.collapsePrefixes(!1)},o=function(e,t){for(var n in t)e.setValue(e.getValue().replace(new RegExp("PREFIX\\s*"+n+":\\s*"+function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}("<"+t[n]+">")+"\\s*","ig"),""));e.collapsePrefixes(!1)},a=function(e){return e.getTokenAt({line:e.lastLine(),ch:e.getLine(e.lastLine()).length},!0).state.prefixes},s=function(e,t,n){void 0==n&&(n=1);var i=e.getTokenAt({line:t,ch:n});return null==i||void 0==i||"ws"!=i.type?"":i.string+s(e,t,i.end+1)};e.exports={addPrefixes:i,getPrefixesFromQuery:a,removePrefixes:o}},,function(e,t,n){"use strict";function i(e){return void 0===e&&(e=!1),function(t,n){var i=e?-1:1,r=(t.node.state.path.length-n.node.state.path.length)*i;return 0!==r?r:n.hook.priority-t.hook.priority}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(5),a=n(48),s=n(59),l=function(){function e(e){this.transition=e}return e.prototype.buildHooksForPhase=function(e){var t=this;return this.transition.router.transitionService._pluginapi._getEvents(e).map(function(e){return t.buildHooks(e)}).reduce(r.unnestR,[]).filter(r.identity)},e.prototype.buildHooks=function(e){var t=this.transition,n=t.treeChanges(),o=this.getMatchingHooks(e,n);if(!o)return[];var l={transition:t,current:t.options().current},u=function(i){return i.matches(n)[e.criteriaMatchPath.name].map(function(n){var o=r.extend({bind:i.bind,traceData:{hookType:e.name,context:n}},l),u=e.criteriaMatchPath.scope===a.TransitionHookScope.STATE?n.state.self:null,c=new s.TransitionHook(t,u,i,o);return{hook:i,node:n,transitionHook:c}})};return o.map(u).reduce(r.unnestR,[]).sort(i(e.reverseSort)).map(function(e){return e.transitionHook})},e.prototype.getMatchingHooks=function(e,t){var n=e.hookPhase===a.TransitionHookPhase.CREATE,i=this.transition.router.transitionService;return(n?[i]:[this.transition,i]).map(function(t){return t.getHooks(e.name)}).filter(r.assertPredicate(o.isArray,"broken event named: "+e.name)).reduce(r.unnestR,[]).filter(function(e){return e.matches(t)})},e}();t.HookBuilder=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolvePolicies={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(5),o=n(6),a=n(13),s=n(108),l=function(){function e(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=i.pick(e.prototype,["hash","string","query","path","int","bool","date","json","any"]);var t=function(e,t){return new s.ParamType(i.extend({name:t},e))};this.types=i.inherit(i.map(this.defaultTypes,t),{})}return e.prototype.dispose=function(){this.types={}},e.prototype.type=function(e,t,n){if(!r.isDefined(t))return this.types[e];if(this.types.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return this.types[e]=new s.ParamType(i.extend({name:e},t)),n&&(this.typeQueue.push({name:e,def:n}),this.enqueue||this._flushTypeQueue()),this},e.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var e=this.typeQueue.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");i.extend(this.types[e.name],a.services.$injector.invoke(e.def))}},e}();t.ParamTypes=l,function(){var e=function(e){var t=function(e){return null!=e?e.toString():e},n={encode:t,decode:t,is:o.is(String),pattern:/.*/,equals:function(e,t){return e==t}};return i.extend({},n,e)};i.extend(l.prototype,{string:e({}),path:e({pattern:/[^\/]*/}),query:e({}),hash:e({inherit:!1}),int:e({decode:function(e){return parseInt(e,10)},is:function(e){return!r.isNullOrUndefined(e)&&this.decode(e.toString())===e},pattern:/-?\d+/}),bool:e({encode:function(e){return e&&1||0},decode:function(e){return 0!==parseInt(e,10)},is:o.is(Boolean),pattern:/0|1/}),date:e({encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):void 0},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return["getFullYear","getMonth","getDate"].reduce(function(n,i){return n&&e[i]()===t[i]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:e({encode:i.toJson,decode:i.fromJson,is:o.is(Object),equals:i.equals,pattern:/[^\/]*/}),any:e({encode:i.identity,decode:i.identity,is:function(){return!0},equals:i.equals})})}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(){function e(e){void 0===e&&(e={}),i.extend(this,e)}return e.prototype.$inherit=function(e,t,n){var r,o=i.ancestors(t,n),a={},s=[];for(var l in o)if(o[l]&&o[l].params&&(r=Object.keys(o[l].params),r.length))for(var u in r)s.indexOf(r[u])>=0||(s.push(r[u]),a[r[u]]=this[r[u]]);return i.extend({},a,e)},e}();t.StateParams=r},function(e,t,n){"use strict";function i(e){return e.name}function r(e){return e.self.$$state=function(){return e},e.self}function o(e){return e.parent&&e.parent.data&&(e.data=e.self.data=u.inherit(e.parent.data,e.data)),e.data}function a(e){return e.parent?e.parent.path.concat(e):[e]}function s(e){var t=e.parent?u.extend({},e.parent.includes):{};return t[e.name]=!0,t}function l(e){var t=function(e){var t=h.services.$injector;return e.$inject||t&&t.annotate(e,t.strictDi)||"deferred"},n=function(e){return!(!e.token||!e.resolveFn)},i=function(e){return!(!e.provide&&!e.token||!(e.useValue||e.useFactory||e.useExisting||e.useClass))},r=function(e){return!!(e&&e.val&&(c.isString(e.val)||c.isArray(e.val)||c.isFunction(e.val)))},o=function(e){return e.provide||e.token},a=d.pattern([[d.prop("resolveFn"),function(e){return new f.Resolvable(o(e),e.resolveFn,e.deps,e.policy)}],[d.prop("useFactory"),function(e){return new f.Resolvable(o(e),e.useFactory,e.deps||e.dependencies,e.policy)}],[d.prop("useClass"),function(e){return new f.Resolvable(o(e),function(){return new e.useClass},[],e.policy)}],[d.prop("useValue"),function(e){return new f.Resolvable(o(e),function(){return e.useValue},[],e.policy,e.useValue)}],[d.prop("useExisting"),function(e){return new f.Resolvable(o(e),u.identity,[e.useExisting],e.policy)}]]),s=d.pattern([[d.pipe(d.prop("val"),c.isString),function(e){return new f.Resolvable(e.token,u.identity,[e.val],e.policy)}],[d.pipe(d.prop("val"),c.isArray),function(e){return new f.Resolvable(e.token,u.tail(e.val),e.val.slice(0,-1),e.policy)}],[d.pipe(d.prop("val"),c.isFunction),function(e){return new f.Resolvable(e.token,e.val,t(e.val),e.policy)}]]),l=d.pattern([[d.is(f.Resolvable),function(e){return e}],[n,a],[i,a],[r,s],[d.val(!0),function(e){throw new Error("Invalid resolve value: "+p.stringify(e))}]]),g=e.resolve;return(c.isArray(g)?g:function(e,t){return Object.keys(e||{}).map(function(n){return{token:n,val:e[n],deps:void 0,policy:t[n]}})}(g,e.resolvePolicy||{})).map(l)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(3),c=n(5),p=n(30),d=n(6),f=n(60),h=n(13),g=function(e){if(!c.isString(e))return!1;var t="^"===e.charAt(0);return{val:t?e.substring(1):e,root:t}},v=function(e,t){return function(n){var i=n;i&&i.url&&i.name&&i.name.match(/\.\*\*$/)&&(i.url+="{remainder:any}");var r=g(i.url),o=n.parent,a=r?e.compile(r.val,{params:n.params||{},paramMap:function(e,t){return!1===i.reloadOnSearch&&t&&(e=u.extend(e||{},{dynamic:!0})),e}}):i.url;if(!a)return null;if(!e.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+n+"'");return r&&r.root?a:(o&&o.navigable||t()).url.append(a)}},m=function(e){return function(t){return!e(t)&&t.url?t:t.parent?t.parent.navigable:null}},y=function(e){return function(t){var n=function(t,n){return e.fromConfig(n,null,t)},i=t.url&&t.url.parameters({inherit:!1})||[],r=u.values(u.mapObj(u.omit(t.params||{},i.map(d.prop("id"))),n));return i.concat(r).map(function(e){return[e.id,e]}).reduce(u.applyPairs,{})}};t.resolvablesBuilder=l;var E=function(){function e(e,t){function n(t){return p(t)?null:e.find(u.parentName(t))||c()}this.matcher=e;var u=this,c=function(){return e.find("")},p=function(e){return""===e.name};this.builders={name:[i],self:[r],parent:[n],data:[o],url:[v(t,c)],navigable:[m(p)],params:[y(t.paramFactory)],views:[],path:[a],includes:[s],resolvables:[l]}}return e.prototype.builder=function(e,t){var n=this.builders,i=n[e]||[];return c.isString(e)&&!c.isDefined(t)?i.length>1?i:i[0]:c.isString(e)&&c.isFunction(t)?(n[e]=i,n[e].push(t),function(){return n[e].splice(n[e].indexOf(t,1))&&null}):void 0},e.prototype.build=function(e){var t=this,n=t.matcher,i=t.builders,r=this.parentName(e);if(r&&!n.find(r,void 0,!1))return null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o].reduce(function(e,t){return function(n){return t(n,e)}},u.noop);e[o]=a(e)}return e},e.prototype.parentName=function(e){var t=e.name||"",n=t.split(".");if(n.length>1){if(e.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+t+")");return"**"===n.pop()&&n.pop(),n.join(".")}return e.parent?c.isString(e.parent)?e.parent:e.parent.name:""},e.prototype.name=function(e){var t=e.name;if(-1!==t.indexOf(".")||!e.parent)return t;var n=c.isString(e.parent)?e.parent:e.parent.name;return n?n+"."+t:t},e}();t.StateBuilder=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n(3),o=function(){function e(e){this._states=e}return e.prototype.isRelative=function(e){return e=e||"",0===e.indexOf(".")||0===e.indexOf("^")},e.prototype.find=function(e,t,n){if(void 0===n&&(n=!0),e||""===e){var o=i.isString(e),a=o?e:e.name;this.isRelative(a)&&(a=this.resolvePath(a,t));var s=this._states[a];if(s&&(o||!(o||s!==e&&s.self!==e)))return s;if(o&&n){var l=r.values(this._states),u=l.filter(function(e){return e.__stateObjectCache.nameGlob&&e.__stateObjectCache.nameGlob.matches(a)});return u.length>1&&console.log("stateMatcher.find: Found multiple matches for "+a+" using glob: ",u.map(function(e){return e.name})),u[0]}}},e.prototype.resolvePath=function(e,t){if(!t)throw new Error("No reference point given for path '"+e+"'");for(var n=this.find(t),i=e.split("."),r=0,o=i.length,a=n;r<o;r++)if(""!==i[r]||0!==r){if("^"!==i[r])break;if(!a.parent)throw new Error("Path '"+e+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=i.slice(r).join(".");return a.name+(a.name&&s?".":"")+s},e}();t.StateMatcher=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(5),o=n(104),a=n(6),s=function(){function e(e,t,n,i,r){this.$registry=e,this.$urlRouter=t,this.states=n,this.builder=i,this.listeners=r,this.queue=[],this.matcher=e.matcher}return e.prototype.dispose=function(){this.queue=[]},e.prototype.register=function(e){var t=this.queue,n=o.StateObject.create(e),s=n.name;if(!r.isString(s))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(s)||i.inArray(t.map(a.prop("name")),s))throw new Error("State '"+s+"' is already defined");return t.push(n),this.flush(),n},e.prototype.flush=function(){for(var e=this,t=this,n=t.queue,i=t.states,r=t.builder,o=[],a=[],s={},l=function(t){return e.states.hasOwnProperty(t)&&e.states[t]};n.length>0;){var u=n.shift(),c=u.name,p=r.build(u),d=a.indexOf(u);if(p){var f=l(c);if(f&&f.name===c)throw new Error("State '"+c+"' is already defined");var h=l(c+".**");h&&this.$registry.deregister(h),i[c]=u,this.attachRoute(u),d>=0&&a.splice(d,1),o.push(u)}else{var g=s[c];if(s[c]=n.length,d>=0&&g===n.length)return n.push(u),i;d<0&&a.push(u),n.push(u)}}return o.length&&this.listeners.forEach(function(e){return e("registered",o.map(function(e){return e.self}))}),i},e.prototype.attachRoute=function(e){!e.abstract&&e.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(e))},e}();t.StateQueueManager=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(156),r=n(155),o=n(157),a=n(3),s=n(6),l=function(){function e(e){this._router=e,this.states={},this.listeners=[],this.matcher=new i.StateMatcher(this.states),this.builder=new r.StateBuilder(this.matcher,e.urlMatcherFactory),this.stateQueue=new o.StateQueueManager(this,e.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return e.prototype._registerRoot=function(){var e={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0};(this._root=this.stateQueue.register(e)).navigable=null},e.prototype.dispose=function(){var e=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(t){return e.get(t)&&e.deregister(t)})},e.prototype.onStatesChanged=function(e){return this.listeners.push(e),function(){a.removeFrom(this.listeners)(e)}.bind(this)},e.prototype.root=function(){return this._root},e.prototype.register=function(e){return this.stateQueue.register(e)},e.prototype._deregisterTree=function(e){var t=this,n=this.get().map(function(e){return e.$$state()}),i=function(e){var t=n.filter(function(t){return-1!==e.indexOf(t.parent)});return 0===t.length?t:t.concat(i(t))},r=i([e]),o=[e].concat(r).reverse();return o.forEach(function(e){var n=t._router.urlRouter;n.rules().filter(s.propEq("state",e)).forEach(n.removeRule.bind(n)),delete t.states[e.name]}),o},e.prototype.deregister=function(e){var t=this.get(e);if(!t)throw new Error("Can't deregister state; not found: "+e);var n=this._deregisterTree(t.$$state());return this.listeners.forEach(function(e){return e("deregistered",n.map(function(e){return e.self}))}),n},e.prototype.get=function(e,t){var n=this;if(0===arguments.length)return Object.keys(this.states).map(function(e){return n.states[e].self});var i=this.matcher.find(e,t);return i&&i.self||null},e.prototype.decorator=function(e,t){return this.builder.builder(e,t)},e}();t.StateRegistry=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(5),o=n(105),a=n(13),s=n(78),l=n(107),u=n(109),c=n(58),p=n(39),d=n(49),f=n(76),h=n(79),g=n(167),v=n(6),m=function(){function e(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(e){e instanceof Error&&e.stack?(console.error(e),console.error(e.stack)):e instanceof c.Rejection?(console.error(e.toString()),e.detail&&e.detail.stack&&console.error(e.detail.stack)):console.error(e)};var n=["current","$current","params","transition"],r=Object.keys(e.prototype).filter(v.not(i.inArray(n)));i.createProxyFunctions(v.val(e.prototype),this,v.val(this),r)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(i.noop),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(e,t){function n(){var e=f.dequeue();return void 0===e?c.Rejection.invalid(t.error()).toPromise():a.services.$q.when(e(t,r,g)).then(v).then(function(e){return e||n()})}var i=this,r=s.PathUtils.makeTargetState(e),l=this.router.globals,u=function(){return l.transitionHistory.peekTail()},d=u(),f=new o.Queue(this.invalidCallbacks.slice()),g=new h.ResolveContext(e).injector(),v=function(e){if(e instanceof p.TargetState){var t=e;return t=i.target(t.identifier(),t.params(),t.options()),t.valid()?u()!==d?c.Rejection.superseded().toPromise():i.transitionTo(t.identifier(),t.params(),t.options()):c.Rejection.invalid(t.error()).toPromise()}};return n()},e.prototype.onInvalid=function(e){return this.invalidCallbacks.push(e),function(){i.removeFrom(this.invalidCallbacks)(e)}.bind(this)},e.prototype.reload=function(e){return this.transitionTo(this.current,this.params,{reload:!r.isDefined(e)||e,inherit:!1,notify:!1})},e.prototype.go=function(e,t,n){var r={relative:this.$current,inherit:!0},o=i.defaults(n,r,u.defaultTransOpts);return this.transitionTo(e,t,o)},e.prototype.target=function(e,t,n){if(void 0===n&&(n={}),r.isObject(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var i=this.router.stateRegistry;if(n.reloadState=!0===n.reload?i.root():i.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(r.isString(n.reload)?n.reload:n.reload.name)+"'");var o=i.matcher.find(e,n.relative);return new p.TargetState(e,o,t,n)},e.prototype.getCurrentPath=function(){var e=this,t=this.router.globals,n=t.successfulTransitions.peekTail();return n?n.treeChanges().to:function(){return[new l.PathNode(e.router.stateRegistry.root())]}()},e.prototype.transitionTo=function(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n={});var o=this.router,s=o.globals;n=i.defaults(n,u.defaultTransOpts);var l=function(){return s.transition};n=i.extend(n,{current:l});var d=this.target(e,t,n),f=this.getCurrentPath();if(!d.exists())return this._handleInvalidTargetState(f,d);if(!d.valid())return i.silentRejection(d.error());var h=function(e){return function(t){if(t instanceof c.Rejection){var n=o.globals.lastStartedTransitionId===e.$id;if(t.type===c.RejectType.IGNORED)return n&&o.urlRouter.update(),a.services.$q.when(s.current);var i=t.detail;if(t.type===c.RejectType.SUPERSEDED&&t.redirected&&i instanceof p.TargetState){var l=e.redirect(i);return l.run().catch(h(l))}if(t.type===c.RejectType.ABORTED)return n&&o.urlRouter.update(),a.services.$q.reject(t)}return r.defaultErrorHandler()(t),a.services.$q.reject(t)}},g=this.router.transitionService.create(f,d),v=g.run().catch(h(g));return i.silenceUncaughtInPromise(v),i.extend(v,{transition:g})},e.prototype.is=function(e,t,n){n=i.defaults(n,{relative:this.$current});var o=this.router.stateRegistry.matcher.find(e,n.relative);if(r.isDefined(o)){if(this.$current!==o)return!1;if(!t)return!0;var a=o.parameters({inherit:!0,matchingKeys:t});return d.Param.equals(a,d.Param.values(a,t),this.params)}},e.prototype.includes=function(e,t,n){n=i.defaults(n,{relative:this.$current});var o=r.isString(e)&&f.Glob.fromString(e);if(o){if(!o.matches(this.$current.name))return!1;e=this.$current.name}var a=this.router.stateRegistry.matcher.find(e,n.relative),s=this.$current.includes;if(r.isDefined(a)){if(!r.isDefined(s[a.name]))return!1;if(!t)return!0;var l=a.parameters({inherit:!0,matchingKeys:t});return d.Param.equals(l,d.Param.values(l,t),this.params)}},e.prototype.href=function(e,t,n){var o={lossy:!0,inherit:!0,absolute:!1,relative:this.$current};n=i.defaults(n,o),t=t||{};var a=this.router.stateRegistry.matcher.find(e,n.relative);if(!r.isDefined(a))return null;n.inherit&&(t=this.params.$inherit(t,this.$current,a));var s=a&&n.lossy?a.navigable:a;return s&&void 0!==s.url&&null!==s.url?this.router.urlRouter.href(s.url,t,{absolute:n.absolute}):null},e.prototype.defaultErrorHandler=function(e){return this._defaultErrorHandler=e||this._defaultErrorHandler},e.prototype.get=function(e,t){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(e,t||this.$current)},e.prototype.lazyLoad=function(e,t){var n=this.get(e);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+e);var i=this.getCurrentPath(),r=s.PathUtils.makeTargetState(i);return t=t||this.router.transitionService.create(i,r),g.lazyLoadState(t,n)},e}();t.StateService=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(161),r=n(162),o=n(109),a=n(164),s=n(158),l=n(159),u=n(165),c=n(3),p=n(5),d=n(166),f=n(31),h=0,g=function(){function e(e,t){void 0===e&&(e=d.UrlService.locationServiceStub),void 0===t&&(t=d.UrlService.locationConfigStub),this.locationService=e,this.locationConfig=t,this.$id=h++,this._disposed=!1,this._disposables=[],this.trace=f.trace,this.viewService=new a.ViewService,this.transitionService=new o.TransitionService(this),this.globals=new u.UIRouterGlobals,this.urlMatcherFactory=new i.UrlMatcherFactory,this.urlRouter=new r.UrlRouter(this),this.stateRegistry=new s.StateRegistry(this),this.stateService=new l.StateService(this),this.urlService=new d.UrlService(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(e),this.disposable(t)}return e.prototype.disposable=function(e){this._disposables.push(e)},e.prototype.dispose=function(e){var t=this;if(e&&p.isFunction(e.dispose))return void e.dispose(this);this._disposed=!0,this._disposables.slice().forEach(function(e){try{"function"==typeof e.dispose&&e.dispose(t),c.removeFrom(t._disposables,e)}catch(e){}})},e.prototype.plugin=function(e,t){void 0===t&&(t={});var n=new e(this,t);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},e.prototype.getPlugin=function(e){return e?this._plugins[e]:c.values(this._plugins)},e}();t.UIRouter=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(5),o=n(80),a=n(49),s=n(153),l=function(){function e(){var e=this;this.paramTypes=new s.ParamTypes,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(t){return i.extend({strict:e._isStrictMode,caseInsensitive:e._isCaseInsensitive},t)},this.paramFactory={fromConfig:function(t,n,i){return new a.Param(t,n,i,a.DefType.CONFIG,e)},fromPath:function(t,n,i){return new a.Param(t,n,i,a.DefType.PATH,e)},fromSearch:function(t,n,i){return new a.Param(t,n,i,a.DefType.SEARCH,e)}},i.extend(this,{UrlMatcher:o.UrlMatcher,Param:a.Param})}return e.prototype.caseInsensitive=function(e){return this._isCaseInsensitive=r.isDefined(e)?e:this._isCaseInsensitive},e.prototype.strictMode=function(e){return this._isStrictMode=r.isDefined(e)?e:this._isStrictMode},e.prototype.defaultSquashPolicy=function(e){if(r.isDefined(e)&&!0!==e&&!1!==e&&!r.isString(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=r.isDefined(e)?e:this._defaultSquashPolicy},e.prototype.compile=function(e,t){return new o.UrlMatcher(e,this.paramTypes,this.paramFactory,this._getConfig(t))},e.prototype.isMatcher=function(e){if(!r.isObject(e))return!1;var t=!0;return i.forEach(o.UrlMatcher.prototype,function(n,i){r.isFunction(n)&&(t=t&&r.isDefined(e[i])&&r.isFunction(e[i]))}),t},e.prototype.type=function(e,t,n){var i=this.paramTypes.type(e,t,n);return r.isDefined(t)?this:i},e.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},e.prototype.dispose=function(){this.paramTypes.dispose()},e}();t.UrlMatcherFactory=l},function(e,t,n){"use strict";function i(e,t,n,i){return"/"===i?e:t?i.slice(0,-1)+e:n?i.slice(1)+e:e}function r(e){if(!(s.isFunction(e)||s.isString(e)||u.is(p.TargetState)(e)||p.TargetState.isDef(e)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return s.isFunction(e)?e:u.val(e)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(3),s=n(5),l=n(80),u=n(6),c=n(163),p=n(39),d=u.prop("urlMatcher");o=a.composeSort(a.sortBy(u.pipe(u.prop("priority"),function(e){return-e})),a.sortBy(u.pipe(u.prop("type"),function(e){return{STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1}[e]})),function(e,t){return d(e)&&d(t)?l.UrlMatcher.compare(d(e),d(t)):0},a.sortBy(u.prop("$id"),a.inArray(["REGEXP","RAW","OTHER"])));var f=function(){function e(t){this._sortFn=o,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=t,this.urlRuleFactory=new c.UrlRuleFactory(t),a.createProxyFunctions(u.val(e.prototype),this,u.val(this))}return e.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},e.prototype.sort=function(e){this._rules.sort(this._sortFn=e||this._sortFn),this._sorted=!0},e.prototype.ensureSorted=function(){this._sorted||this.sort()},e.prototype.match=function(e){var t=this;this.ensureSorted(),e=a.extend({path:"",search:{},hash:""},e);var n=this.rules();this._otherwiseFn&&n.push(this._otherwiseFn);for(var i,r=0;r<n.length&&(!i||0===this._sortFn(n[r],i.rule));r++){var o=function(n){var i=n.match(e,t._router);return i&&{match:i,rule:n,weight:n.matchPriority(i)}}(n[r]);i=!i||o&&o.weight>i.weight?o:i}return i},e.prototype.sync=function(e){if(!e||!e.defaultPrevented){var t=this._router,n=t.urlService,i=t.stateService,r={path:n.path(),search:n.search(),hash:n.hash()},o=this.match(r);u.pattern([[s.isString,function(e){return n.url(e,!0)}],[p.TargetState.isDef,function(e){return i.go(e.state,e.params,e.options)}],[u.is(p.TargetState),function(e){return i.go(e.state(),e.params(),e.options())}]])(o&&o.rule.handler(o.match,r,t))}},e.prototype.listen=function(e){var t=this;if(!1!==e)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(e){return t.sync(e)});this._stopFn&&this._stopFn(),delete this._stopFn},e.prototype.update=function(e){var t=this._router.locationService;if(e)return void(this.location=t.path());t.path()!==this.location&&t.url(this.location,!0)},e.prototype.push=function(e,t,n){var i=n&&!!n.replace;this._router.urlService.url(e.format(t||{}),i)},e.prototype.href=function(e,t,n){var r=e.format(t);if(null==r)return null;n=n||{absolute:!1};var o=this._router.urlService.config,a=o.html5Mode();if(a||null===r||(r="#"+o.hashPrefix()+r),r=i(r,a,n.absolute,o.baseHref()),!n.absolute||!r)return r;var s=!a&&r?"/":"",l=o.port();return l=80===l||443===l?"":":"+l,[o.protocol(),"://",o.host(),l,s,r].join("")},e.prototype.rule=function(e){var t=this;if(!c.UrlRuleFactory.isUrlRule(e))throw new Error("invalid rule");return e.$id=this._id++,e.priority=e.priority||0,this._rules.push(e),this._sorted=!1,function(){return t.removeRule(e)}},e.prototype.removeRule=function(e){a.removeFrom(this._rules,e)},e.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},e.prototype.otherwise=function(e){var t=r(e);this._otherwiseFn=this.urlRuleFactory.create(u.val(!0),t),this._sorted=!1},e.prototype.initial=function(e){var t=r(e),n=function(e,t){return 0===t.globals.transitionHistory.size()&&!!/^\/?$/.exec(e.path)};this.rule(this.urlRuleFactory.create(n,t))},e.prototype.when=function(e,t,n){var i=this.urlRuleFactory.create(e,t);return s.isDefined(n&&n.priority)&&(i.priority=n.priority),this.rule(i),i},e.prototype.deferIntercept=function(e){void 0===e&&(e=!0),this.interceptDeferred=e},e}();t.UrlRouter=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(80),r=n(5),o=n(3),a=n(6),s=function(){function e(e){this.router=e}return e.prototype.compile=function(e){return this.router.urlMatcherFactory.compile(e)},e.prototype.create=function(e,t){var n=this,o=a.pattern([[r.isString,function(e){return o(n.compile(e))}],[a.is(i.UrlMatcher),function(e){return n.fromUrlMatcher(e,t)}],[r.isState,function(e){return n.fromState(e,n.router)}],[a.is(RegExp),function(e){return n.fromRegExp(e,t)}],[r.isFunction,function(e){return new l(e,t)}]]),s=o(e);if(!s)throw new Error("invalid 'what' in when()");return s},e.prototype.fromUrlMatcher=function(e,t){function n(t){var n=e.exec(t.path,t.search,t.hash);return e.validates(n)&&n}function s(t){var n=e.parameters().filter(function(e){return e.isOptional});return n.length?n.filter(function(e){return t[e.id]}).length/n.length:1e-6}var u=t;r.isString(t)&&(t=this.router.urlMatcherFactory.compile(t)),a.is(i.UrlMatcher)(t)&&(u=function(e){return t.format(e)});var c={urlMatcher:e,matchPriority:s,type:"URLMATCHER"};return o.extend(new l(n,u),c)},e.prototype.fromState=function(e,t){var n=function(n){var i=t.stateService,r=t.globals;i.href(e,n)!==i.href(r.current,r.params)&&i.transitionTo(e,n,{inherit:!0,source:"url"})},i={state:e,type:"STATE"};return o.extend(this.fromUrlMatcher(e.url,n),i)},e.prototype.fromRegExp=function(e,t){if(e.global||e.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=function(e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})},i=r.isString(t)?n:t,a=function(t){return e.exec(t.path)},s={regexp:e,type:"REGEXP"};return o.extend(new l(a,i),s)},e}();s.isUrlRule=function(e){return e&&["type","match","handler"].every(function(t){return r.isDefined(e[t])})},t.UrlRuleFactory=s;var l=function(){function e(e,t){var n=this;this.match=e,this.type="RAW",this.matchPriority=function(e){return 0-n.$id},this.handler=t||o.identity}return e}();t.BaseUrlRule=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(6),o=n(5),a=n(31),s=function(){function e(){var e=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return e._uiViews},_activeViewConfigs:function(){return e._viewConfigs}}}return e.prototype._rootViewContext=function(e){return this._rootContext=e||this._rootContext},e.prototype._viewConfigFactory=function(e,t){this._viewConfigFactories[e]=t},e.prototype.createViewConfig=function(e,t){var n=this._viewConfigFactories[t.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+t.$type);var i=n(e,t);return o.isArray(i)?i:[i]},e.prototype.deactivateViewConfig=function(e){a.trace.traceViewServiceEvent("<- Removing",e),i.removeFrom(this._viewConfigs,e)},e.prototype.activateViewConfig=function(e){a.trace.traceViewServiceEvent("-> Registering",e),this._viewConfigs.push(e)},e.prototype.sync=function(){function t(e){var t=function(e){return e&&e.parent?t(e.parent)+1:1};return 1e4*e.fqn.split(".").length+t(e.creationContext)}function n(e){for(var t=e.viewDecl.$context,n=0;++n&&t.parent;)t=t.parent;return n}var o=this,a=this._uiViews.map(function(e){return[e.fqn,e]}).reduce(i.applyPairs,{}),s=r.curry(function(e,t,n,i){return t*(e(n)-e(i))}),l=function(t){var i=o._viewConfigs.filter(e.matches(a,t));return i.length>1&&i.sort(s(n,-1)),[t,i[0]]},u=function(e){var t=e[0],n=e[1];-1!==o._uiViews.indexOf(t)&&t.configUpdated(n)};this._uiViews.sort(s(t,1)).map(l).forEach(u)},e.prototype.registerUIView=function(e){a.trace.traceViewServiceUIViewEvent("-> Registering",e);var t=this._uiViews,n=function(t){return t.fqn===e.fqn};return t.filter(n).length&&a.trace.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",e),t.push(e),this.sync(),function(){if(-1===t.indexOf(e))return void a.trace.traceViewServiceUIViewEvent("Tried removing non-registered uiView",e);a.trace.traceViewServiceUIViewEvent("<- Deregistering",e),i.removeFrom(t)(e)}},e.prototype.available=function(){return this._uiViews.map(r.prop("fqn"))},e.prototype.active=function(){return this._uiViews.filter(r.prop("$config")).map(r.prop("name"))},e.normalizeUIViewTarget=function(e,t){void 0===t&&(t="");var n=t.split("@"),i=n[0]||"$default",r=o.isString(n[1])?n[1]:"^",a=/^(\^(?:\.\^)*)\.(.*$)/.exec(i);(a&&(r=a[1],i=a[2]),"!"===i.charAt(0)&&(i=i.substr(1),r=""),/^(\^(?:\.\^)*)$/.exec(r))?r=r.split(".").reduce(function(e,t){return e.parent},e).name:"."===r&&(r=e.name);return{uiViewName:i,uiViewContextAnchor:r}},e}();s.matches=function(e,t){return function(n){if(t.$type!==n.viewDecl.$type)return!1;var r=n.viewDecl,o=r.$uiViewName.split("."),a=t.fqn.split(".");if(!i.equals(o,a.slice(0-o.length)))return!1;var s=1-o.length||void 0,l=a.slice(0,s).join("."),u=e[l].creationContext;return r.$uiViewContextAnchor===(u&&u.name)}},t.ViewService=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(154),r=n(105),o=function(){function e(){this.params=new i.StateParams,this.lastStartedTransitionId=-1,this.transitionHistory=new r.Queue([],1),this.successfulTransitions=new r.Queue([],1)}return e.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},e}();t.UIRouterGlobals=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),r=n(3),o=function(e){return e.reduce(function(e,t){return e[t]=i.notImplemented(t),e},{dispose:r.noop})},a=["url","path","search","hash","onChange"],s=["port","protocol","host","baseHref","html5Mode","hashPrefix"],l=["type","caseInsensitive","strictMode","defaultSquashPolicy"],u=["sort","when","initial","otherwise","rules","rule","removeRule"],c=["deferIntercept","listen","sync","match"],p=function(){function e(e,t){void 0===t&&(t=!0),this.router=e,this.rules={},this.config={};var n=function(){return e.locationService};r.createProxyFunctions(n,this,n,a,t);var i=function(){return e.locationConfig};r.createProxyFunctions(i,this.config,i,s,t);var o=function(){return e.urlMatcherFactory};r.createProxyFunctions(o,this.config,o,l);var p=function(){return e.urlRouter};r.createProxyFunctions(p,this.rules,p,u),r.createProxyFunctions(p,this,p,c)}return e.prototype.url=function(e,t,n){},e.prototype.path=function(){},e.prototype.search=function(){},e.prototype.hash=function(){},e.prototype.onChange=function(e){},e.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},e.prototype.dispose=function(){},e.prototype.sync=function(e){},e.prototype.listen=function(e){},e.prototype.deferIntercept=function(e){},e.prototype.match=function(e){},e}();p.locationServiceStub=o(a),p.locationConfigStub=o(s),t.UrlService=p},function(e,t,n){"use strict";function i(e,t){function n(t){return t&&Array.isArray(t.states)&&t.states.forEach(function(t){return e.router.stateRegistry.register(t)}),t}var i=t.$$state().lazyLoad,o=i._promise;if(!o){var a=function(e){return delete t.lazyLoad,delete t.$$state().lazyLoad,delete i._promise,e},s=function(e){return delete i._promise,r.services.$q.reject(e)};o=i._promise=r.services.$q.when(i(e,t)).then(n).then(a,s)}return o}Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),o=function(e){function t(){if("url"!==e.originalTransition().options().source){var t=e.targetState();return n.stateService.target(t.identifier(),t.params(),t.options())}var i=n.urlService,r=i.match(i.parts()),o=r&&r.rule;if(o&&"STATE"===o.type){var a=o.state,s=r.match;return n.stateService.target(a,s,e.options())}n.urlService.sync()}var n=e.router,o=e.entering().filter(function(e){return!!e.$$state().lazyLoad}).map(function(t){return i(e,t)});return r.services.$q.all(o).then(t)};t.registerLazyLoadHook=function(e){return e.onBefore({entering:function(e){return!!e.lazyLoad}},o)},t.lazyLoadState=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(59),r=function(){function e(e,t,n,r,o,a,s,l){void 0===o&&(o=!1),void 0===a&&(a=i.TransitionHook.HANDLE_RESULT),void 0===s&&(s=i.TransitionHook.REJECT_ERROR),void 0===l&&(l=!1),this.name=e,this.hookPhase=t,this.hookOrder=n,this.criteriaMatchPath=r,this.reverseSort=o,this.getResultHandler=a,this.getErrorHandler=s,this.synchronous=l}return e}();t.TransitionEventType=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(75);t.$q={when:function(e){return new Promise(function(t,n){return t(e)})},reject:function(e){return new Promise(function(t,n){n(e)})},defer:function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e},all:function(e){if(i.isArray(e))return Promise.all(e);if(i.isObject(e)){var n=Object.keys(e).map(function(t){return e[t].then(function(e){return{key:t,val:e}})});return t.$q.all(n).then(function(e){return e.reduce(function(e,t){return e[t.key]=t.val,e},{})})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(75),r={},o=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,a=/([^\s,]+)/g;t.$injector={get:function(e){return r[e]},has:function(e){return null!=t.$injector.get(e)},invoke:function(e,n,o){var a=i.extend({},r,o||{}),s=t.$injector.annotate(e),l=i.assertPredicate(function(e){return a.hasOwnProperty(e)},function(e){return"DI can't find injectable: '"+e+"'"}),u=s.filter(l).map(function(e){return a[e]});return i.isFunction(e)?e.apply(n,u):e.slice(-1)[0].apply(n,u)},annotate:function(e){if(!i.isInjectable(e))throw new Error("Not an injectable function: "+e);if(e&&e.$inject)return e.$inject;if(i.isArray(e))return e.slice(0,-1);var t=e.toString().replace(o,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(a)||[]}}},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(61),o=n(81),a=function(e){function t(t){var n=e.call(this,t,!1)||this;return window.addEventListener("hashchange",n._listener,!1),n}return i(t,e),t.prototype._get=function(){return r.trimHashVal(this._location.hash)},t.prototype._set=function(e,t,n,i){this._location.hash=n},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t),window.removeEventListener("hashchange",this._listener)},t}(o.BaseLocationServices);t.HashLocationService=a},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(81),o=function(e){function t(t){return e.call(this,t,!0)||this}return i(t,e),t.prototype._get=function(){return this._url},t.prototype._set=function(e,t,n,i){this._url=n},t}(r.BaseLocationServices);t.MemoryLocationService=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(61),o=n(81),a=function(e){function t(t){var n=e.call(this,t,!0)||this;return n._config=t.urlService.config,window.addEventListener("popstate",n._listener,!1),n}return i(t,e),t.prototype._get=function(){var e=this._location,t=e.pathname,n=e.hash,i=e.search;return i=r.splitQuery(i)[1],n=r.splitHash(n)[1],t+(i?"?"+i:"")+(n?"$"+i:"")},t.prototype._set=function(e,t,n,i){var r=this,o=r._config,a=r._history,s=o.baseHref()+n;i?a.replaceState(e,t,s):a.pushState(e,t,s)},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t),window.removeEventListener("popstate",this._listener)},t}(o.BaseLocationServices);t.PushStateLocationService=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n(3),o=function(){function e(){var e=this;this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return e._port},this.protocol=function(){return e._protocol},this.host=function(){return e._host},this.baseHref=function(){return e._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(t){return i.isDefined(t)?e._hashPrefix=t:e._hashPrefix},this.dispose=r.noop}return e}();t.MemoryLocationConfig=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=function(){function e(e,t){void 0===t&&(t=!1),this._isHtml5=t,this._baseHref=void 0,this._hashPrefix=""}return e.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},e.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},e.prototype.host=function(){return location.host},e.prototype.html5Mode=function(){return this._isHtml5},e.prototype.hashPrefix=function(e){return i.isDefined(e)?this._hashPrefix=e:this._hashPrefix},e.prototype.baseHref=function(e){return i.isDefined(e)?this._baseHref=e:this._baseHref||this.applyDocumentBaseHref()},e.prototype.applyDocumentBaseHref=function(){var e=document.getElementsByTagName("base");return this._baseHref=e.length?e[0].href.substr(location.origin.length):""},e.prototype.dispose=function(){},e}();t.BrowserLocationConfig=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),r=function(){function e(t,n){this.stateRegistry=t,this.stateService=n,i.createProxyFunctions(i.val(e.prototype),this,i.val(this))}return e.prototype.decorator=function(e,t){return this.stateRegistry.decorator(e,t)||this},e.prototype.state=function(e,t){return i.isObject(e)?t=e:t.name=e,this.stateRegistry.register(t),this},e.prototype.onInvalid=function(e){return this.stateService.onInvalid(e)},e}();t.StateProvider=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),r=n(19),o=function(){function e(e){this._router=e,this._urlRouter=e.urlRouter}return e.prototype.$get=function(){var e=this._urlRouter;return e.update(!0),e.interceptDeferred||e.listen(),e},e.prototype.rule=function(e){var t=this;if(!r.isFunction(e))throw new Error("'rule' must be a function");var n=function(){return e(r.services.$injector,t._router.locationService)},o=new i.BaseUrlRule(n,r.identity);return this._urlRouter.rule(o),this},e.prototype.otherwise=function(e){var t=this,n=this._urlRouter;if(r.isString(e))n.otherwise(e);else{if(!r.isFunction(e))throw new Error("'rule' must be a string or function");n.otherwise(function(){return e(r.services.$injector,t._router.locationService)})}return this},e.prototype.when=function(t,n){return(r.isArray(n)||r.isFunction(n))&&(n=e.injectableHandler(this._router,n)),this._urlRouter.when(t,n),this},e.injectableHandler=function(e,t){return function(n){return r.services.$injector.invoke(t,null,{$match:n,$stateParams:e.globals.params})}},e.prototype.deferIntercept=function(e){this._urlRouter.deferIntercept(e)},e}();t.UrlRouterProvider=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectActionService=t.SET_ACTIVE_ITEM_COUNT=t.SET_FILTERED_ITEM_COUNT=t.SET_ALL_ITEM_COUNT=t.SET_PROJECT=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(113),u=n(114),c=n(94),p=n(0),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),f=n(27),h=t.SET_PROJECT="SET_PROJECT",g=t.SET_ALL_ITEM_COUNT="SET_ALL_ITEM_COUNT",v=t.SET_FILTERED_ITEM_COUNT="SET_FILTERED_ITEM_COUNT",m=t.SET_ACTIVE_ITEM_COUNT="SET_ACTIVE_ITEM_COUNT",y=t.ProjectActionService=function(){function e(t,n,i,r){(0,o.default)(this,e),this.$ngRedux=t,this.projectService=n,this.sparqlStatisticsService=i,this.activeActionService=r}return e.$inject=["$ngRedux","projectService","sparqlStatisticsService","activeActionService"],(0,s.default)(e,[{key:"setProject",value:function(e,t,n){var i=this;return this.$ngRedux.dispatch({type:u.CLEAR_ACTIVE_STATE}),this.$ngRedux.dispatch({type:l.CLEAR_FILTER_STATE}),this.$ngRedux.dispatch({type:c.CLEAR_SOURCES_STATE}),this.projectService.loadProject(new f.CitableSource(t,n),e,!0).then(function(e){e.archiveEndpoints.forEach(function(t){i.sparqlStatisticsService.getClassStatistics(t).then(function(n){i.sparqlStatisticsService.getPropertyStatistics(t).then(function(r){i.$ngRedux.dispatch({type:c.ADD_ARCHIVE_SOURCE,payload:{id:t.id,labels:t.labels,classes:e.dataModel.classMap.values().filter(function(e){return n.has(e.value)}),classStats:n,propStats:r}})})})}),e.authorityEndpoints.forEach(function(t){i.sparqlStatisticsService.getClassStatistics(t).then(function(n){i.sparqlStatisticsService.getPropertyStatistics(t).then(function(r){i.$ngRedux.dispatch({type:c.ADD_AUTHORITY_SOURCE,payload:{id:t.id,labels:t.labels,classes:e.dataModel.classMap.values().filter(function(e){return n.has(e.value)}),classStats:n,propStats:r}})})})});var t=i.$ngRedux.dispatch({type:h,payload:e});return e.layouts[0]&&i.activeActionService.setLayout(e.layouts[0]),t})}},{key:"setAllItemCount",value:function(e){return this.$ngRedux.dispatch({type:g,payload:e})}},{key:"setFilteredItemCount",value:function(e){return this.$ngRedux.dispatch({type:v,payload:e})}},{key:"setActiveItemCount",value:function(e){return this.$ngRedux.dispatch({type:m,payload:e})}}]),e}();d.module("fibra.actions.project",[]).config(["$provide",function(e){e.service("projectActionService",y)}])},,,,,,,,,,,,function(e,t,n){!function(i,r){e.exports=t=r(n(4))}(0,function(e){return function(t){var n=e,i=n.lib,r=i.WordArray,o=i.Hasher,a=n.algo,s=[],l=[];!function(){function e(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)(function(e){for(var n=t.sqrt(e),i=2;i<=n;i++)if(!(e%i))return!1;return!0})(n)&&(i<8&&(s[i]=e(t.pow(n,.5))),l[i]=e(t.pow(n,1/3)),i++),n++}();var u=[],c=a.SHA256=o.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],c=n[5],p=n[6],d=n[7],f=0;f<64;f++){if(f<16)u[f]=0|e[t+f];else{var h=u[f-15],g=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,v=u[f-2],m=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[f]=g+u[f-7]+m+u[f-16]}var y=s&c^~s&p,E=i&r^i&o^r&o,b=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),x=(s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25),C=d+x+y+l[f]+u[f],S=b+E;d=p,p=c,c=s,s=a+C|0,a=o,o=r,r=i,i=C+S|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+c|0,n[6]=n[6]+p|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=t.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(c),n.HmacSHA256=o._createHmacHelper(c)}(Math),e.SHA256})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(95))}(0,function(e){return function(){function t(){return a.create.apply(a,arguments)}var n=e,i=n.lib,r=i.Hasher,o=n.x64,a=o.Word,s=o.WordArray,l=n.algo,u=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=t()}();var p=l.SHA512=r.extend({_doReset:function(){this._hash=new s.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],p=n[6],d=n[7],f=i.high,h=i.low,g=r.high,v=r.low,m=o.high,y=o.low,E=a.high,b=a.low,x=s.high,C=s.low,S=l.high,w=l.low,T=p.high,A=p.low,L=d.high,I=d.low,N=f,R=h,O=g,P=v,_=m,D=y,k=E,M=b,$=x,F=C,j=S,V=w,G=T,H=A,B=L,U=I,z=0;z<80;z++){var q=c[z];if(z<16)var W=q.high=0|e[t+2*z],K=q.low=0|e[t+2*z+1];else{var Y=c[z-15],X=Y.high,Q=Y.low,J=(X>>>1|Q<<31)^(X>>>8|Q<<24)^X>>>7,Z=(Q>>>1|X<<31)^(Q>>>8|X<<24)^(Q>>>7|X<<25),ee=c[z-2],te=ee.high,ne=ee.low,ie=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,re=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=c[z-7],ae=oe.high,se=oe.low,le=c[z-16],ue=le.high,ce=le.low,K=Z+se,W=J+ae+(K>>>0<Z>>>0?1:0),K=K+re,W=W+ie+(K>>>0<re>>>0?1:0),K=K+ce,W=W+ue+(K>>>0<ce>>>0?1:0);q.high=W,q.low=K}var pe=$&j^~$&G,de=F&V^~F&H,fe=N&O^N&_^O&_,he=R&P^R&D^P&D,ge=(N>>>28|R<<4)^(N<<30|R>>>2)^(N<<25|R>>>7),ve=(R>>>28|N<<4)^(R<<30|N>>>2)^(R<<25|N>>>7),me=($>>>14|F<<18)^($>>>18|F<<14)^($<<23|F>>>9),ye=(F>>>14|$<<18)^(F>>>18|$<<14)^(F<<23|$>>>9),Ee=u[z],be=Ee.high,xe=Ee.low,Ce=U+ye,Se=B+me+(Ce>>>0<U>>>0?1:0),Ce=Ce+de,Se=Se+pe+(Ce>>>0<de>>>0?1:0),Ce=Ce+xe,Se=Se+be+(Ce>>>0<xe>>>0?1:0),Ce=Ce+K,Se=Se+W+(Ce>>>0<K>>>0?1:0),we=ve+he,Te=ge+fe+(we>>>0<ve>>>0?1:0);B=G,U=H,G=j,H=V,j=$,V=F,F=M+Ce|0,$=k+Se+(F>>>0<M>>>0?1:0)|0,k=_,M=D,_=O,D=P,O=N,P=R,R=Ce+we|0,N=Se+Te+(R>>>0<Ce>>>0?1:0)|0}h=i.low=h+R,i.high=f+N+(h>>>0<R>>>0?1:0),v=r.low=v+P,r.high=g+O+(v>>>0<P>>>0?1:0),y=o.low=y+D,o.high=m+_+(y>>>0<D>>>0?1:0),b=a.low=b+M,a.high=E+k+(b>>>0<M>>>0?1:0),C=s.low=C+F,s.high=x+$+(C>>>0<F>>>0?1:0),w=l.low=w+V,l.high=S+j+(w>>>0<V>>>0?1:0),A=p.low=A+H,p.high=T+G+(A>>>0<H>>>0?1:0),I=d.low=I+U,d.high=L+B+(I>>>0<U>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(i+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});n.SHA512=r._createHelper(p),n.HmacSHA512=r._createHmacHelper(p)}(),e.SHA512})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return t.project===e.project.project?null:new y(e.project.project,e.general.language)}Object.defineProperty(t,"__esModule",{value:!0}),t.BackendRootState=void 0;var o=n(1),a=i(o);t.convertToBackendState=r;var s=n(193),l=n(357),u=i(l),c=n(361),p=i(c),d=n(363),f=i(d),h=n(364),g=i(h),v=n(365),m=i(v),y=t.BackendRootState=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";(0,a.default)(this,e),this.project=t,this.language=n};t.default=(0,s.combineReducers)({general:p.default,project:u.default,filter:f.default,active:g.default,sources:m.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(194),r=n(354),o=n(355),a=n(356),s=n(198);n(197);n.d(t,"createStore",function(){return i.b}),n.d(t,"combineReducers",function(){return r.a}),n.d(t,"bindActionCreators",function(){return o.a}),n.d(t,"applyMiddleware",function(){return a.a}),n.d(t,"compose",function(){return s.a})},function(e,t,n){"use strict";function i(e,t,n){function o(){m===v&&(m=v.slice())}function l(){return g}function u(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return o(),m.push(e),function(){if(t){t=!1,o();var n=m.indexOf(e);m.splice(n,1)}}}function c(e){if(!Object(r.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,g=h(g,e)}finally{y=!1}for(var t=v=m,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,c({type:s.INIT})}function d(){var e,t=u;return e={subscribe:function(e){function n(){e.next&&e.next(l())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[a.a]=function(){return this},e}var f;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,g=t,v=[],m=v,y=!1;return c({type:s.INIT}),f={dispatch:c,subscribe:u,getState:l,replaceReducer:p},f[a.a]=d,f}n.d(t,"a",function(){return s}),t.b=i;var r=n(195),o=n(351),a=n.n(o),s={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";function i(e){if(!Object(a.a)(e)||Object(r.a)(e)!=s)return!1;var t=Object(o.a)(e);if(null===t)return!0;var n=p.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var r=n(343),o=n(348),a=n(350),s="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,p=u.hasOwnProperty,d=c.call(Object);t.a=i},function(e,t,n){"use strict";var i=n(344),r=i.a.Symbol;t.a=r},function(e,t,n){"use strict"},function(e,t,n){"use strict";function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.a=i},,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={default:n(435),__esModule:!0}},function(e,t,n){"use strict";var i=n(23).f,r=n(84),o=n(220),a=n(40),s=n(221),l=n(100),u=n(120),c=n(186),p=n(437),d=n(25),f=n(126).fastKey,h=n(147),g=d?"_s":"size",v=function(e,t){var n,i=f(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var c=e(function(e,i){s(e,c,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[g]=0,void 0!=i&&l(i,n,e[u],e)});return o(c.prototype,{clear:function(){for(var e=h(this,t),n=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var n=h(this,t),i=v(n,e);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[g]--}return!!i},forEach:function(e){h(this,t);for(var n,i=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(h(this,t),e)}}),d&&i(c.prototype,"size",{get:function(){return h(this,t)[g]}}),c},def:function(e,t,n){var i,r,o=v(e,t);return o?o.v=n:(e._l=o={i:r=f(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=o),i&&(i.n=o),e[g]++,"F"!==r&&(e._i[r]=o)),e},getEntry:v,setStrong:function(e,t,n){u(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?c(0,n.k):"values"==t?c(0,n.v):c(0,[n.k,n.v]):(e._t=void 0,c(1))},n?"entries":"values",!n,!0),p(t)}}},function(e,t,n){var i=n(32);e.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:i(e,r,t[r]);return e}},function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var i=n(33);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,n){var i=n(64),r=n(20)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},function(e,t,n){"use strict";var i=n(24),r=n(17),o=n(126),a=n(41),s=n(32),l=n(220),u=n(100),c=n(221),p=n(34),d=n(86),f=n(23).f,h=n(438)(0),g=n(25);e.exports=function(e,t,n,v,m,y){var E=i[e],b=E,x=m?"set":"add",C=b&&b.prototype,S={};return g&&"function"==typeof b&&(y||C.forEach&&!a(function(){(new b).entries().next()}))?(b=t(function(t,n){c(t,b,e,"_c"),t._c=new E,void 0!=n&&u(n,m,t[x],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in C&&(!y||"clear"!=e)&&s(b.prototype,e,function(n,i){if(c(this,b,e),!t&&y&&!p(n))return"get"==e&&void 0;var r=this._c[e](0===n?0:n,i);return t?this:r})}),y||f(b.prototype,"size",{get:function(){return this._c.size}})):(b=v.getConstructor(t,e,m,x),l(b.prototype,n),o.NEED=!0),d(b,e),S[e]=b,r(r.G+r.W+r.F,S),y||v.setStrong(b,e,m),b}},function(e,t,n){var i=n(189),r=n(442);e.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},function(e,t,n){"use strict";var i=n(17);e.exports=function(e){i(i.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var i=n(17),r=n(180),o=n(40),a=n(100);e.exports=function(e){i(i.S,e,{from:function(e){var t,n,i,s,l=arguments[1];return r(this),t=void 0!==l,t&&r(l),void 0==e?new this:(n=[],t?(i=0,s=o(l,arguments[2],2),a(e,!1,function(e){n.push(s(e,i++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){var i=n(0);e.exports="filearts.dragDrop";var r=i.module(e.exports,[]);r.factory("dragContext",[function(){function e(){return i.extend(n,{data:null,reset:e,start:t})}function t(e){return n.data=e,e}var n={};return e()}]),r.run(["$document","$rootElement","$timeout",function(e,t,n){function i(){o()}function r(){o()}function o(){n(function(){t.removeClass("drag-active")})}t[0].addEventListener("dragend",i,!0),t[0].addEventListener("drop",r,!0),function(e,t){t||(t=document);var n=t.head||t.getElementsByTagName("head")[0];if(!n){n=t.createElement("head");var i=t.body||t.getElementsByTagName("body")[0];i?i.parentNode.insertBefore(n,i):t.documentElement.appendChild(n)}var r=t.createElement("style");r.type="text/css",r.styleSheet?r.styleSheet.cssText=e:r.appendChild(t.createTextNode(e)),n.appendChild(r)}('.drag-active .drop-container{position:relative}.drag-active .drop-container *{pointer-events:none}.drag-active .drop-container:before{position:absolute;top:0;right:0;bottom:0;left:0;z-index:9999;content:""}',e[0])}]),r.directive("dragContainer",["$rootElement","$parse","$timeout","dragContext",function(e,t,n,i){return{restrict:"A",link:function(r,o,a){function s(t){if(n(function(){e.addClass("drag-active")},0,!1),i.start(a.dragData?r.$eval(a.dragData):o),o.addClass("drag-container-active"),u){var s={$event:t,$dragData:i.data};r.$apply(function(){u(r,s)})}var l=t.originalEvent||t;l.dataTransfer&&(l.dataTransfer.items&&l.dataTransfer.items.length||l.dataTransfer.files&&l.dataTransfer.files.length||l.dataTransfer.setData("text",""))}function l(t){if(n(function(){e.removeClass("drag-active")},0,!1),i.reset(),o.removeClass("drag-container-active"),c){var a={$event:t,$dragData:i.data};r.$apply(function(){c(r,a)})}i.lastTarget&&i.lastTarget.$attrs.$removeClass("drag-over")}var u=a.onDragStart?t(a.onDragStart):null,c=a.onDragEnd?t(a.onDragEnd):null;a.$addClass("drag-container"),r.$watch(a.dragContainer,function(e){a.$set("draggable",void 0===e||e)}),o.on("dragstart",s),o.on("dragend",l)}}}]),r.directive("dropContainer",["$document","$parse","$window","dragContext",function(e,t,n,r){function o(e){return e[0]||e}function a(t){t=o(t);var r=t.getBoundingClientRect();return{width:Math.round(i.isNumber(r.width)?r.width:t.offsetWidth),height:Math.round(i.isNumber(r.height)?r.height:t.offsetHeight),top:Math.round(r.top+(n.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(r.left+(n.pageXOffset||e[0].documentElement.scrollLeft))}}return{restrict:"A",require:"dropContainer",controller:"DropContainerController",controllerAs:"dropContainer",link:function(e,n,o,s){function l(t){r.lastTarget&&r.lastTarget!==n&&r.lastTarget.$attrs.$removeClass("drag-over"),r.lastTarget={$attrs:o,$element:n};var i={$event:t,$dragData:r.data};d(e,i)&&(t.preventDefault(),o.$addClass("drag-over"),f&&e.$apply(function(){f(e,i)}))}function u(t){var l={$event:t,$dragData:r.data};if(d(e,l)){t.preventDefault();var u=a(n);o.$addClass("drag-over");var c=Number.MAX_VALUE,p=u.width,f=u.height,g=t.pageX-u.left,v=t.pageY-u.top,m=s.lastTarget;i.forEach(s.targets,function(e,t){var n=p/2,i=f/2;t.indexOf("left")>=0&&(n=1*p/4),t.indexOf("top")>=0&&(i=1*f/4),t.indexOf("right")>=0&&(n=3*p/4),t.indexOf("bottom")>=0&&(i=3*f/4);var r=Math.pow(n-g,2)+Math.pow(i-v,2);r<c&&(m=e,c=r)}),e.$apply(function(){h&&h(e,l),m&&(m!==s.lastTarget&&(s.lastTarget&&o.$removeClass("drop-container-"+s.lastTarget.anchor),o.$addClass("drop-container-"+m.anchor),s.lastTarget&&s.lastTarget.handleDragLeave(t,l),m.handleDragEnter(t,l),s.lastTarget=m),m.handleDragOver(t))})}}function c(t){o.$removeClass("drag-over");var n={$event:t,$dragData:r.data};e.$apply(function(){g&&g(e,n),s.lastTarget&&s.lastTarget.handleDragLeave(t,n),s.lastTarget&&(o.$removeClass("drop-container-"+s.lastTarget.anchor),s.lastTarget=null)})}function p(t){r.lastTarget&&r.lastTarget.$attrs.$removeClass("drag-over");var n={$event:t,$dragData:r.data};d(e,n)&&(t.preventDefault(),r.reset(),e.$apply(function(){v&&v(e,n),s.lastTarget&&s.lastTarget.handleDrop(t,n)})),s.lastTarget&&o.$removeClass("drop-container-"+s.lastTarget.anchor),s.lastTarget=null}var d=o.dropAccepts?t(o.dropAccepts):function(e,t){return void 0!==t.$dragData},f=o.onDragEnter?t(o.onDragEnter):null,h=o.onDragOver?t(o.onDragOver):null,g=o.onDragLeave?t(o.onDragLeave):null,v=o.onDrop?t(o.onDrop):null;o.$addClass("drop-container"),n.on("dragover",u),n.on("dragenter",l),n.on("dragleave",c),n.on("drop",p)}}}]),r.controller("DropContainerController",[function(){var e=this,t="center top top-right right bottom-right bottom bottom-left left top-left".split(" ");e.targets={},e.lastTarget=null,e.attach=function(n){var i=n.anchor;if(t.indexOf(i)<0)throw new Error("Invalid drop target anchor `"+i+"`.");return e.targets[i]=n,n},e.detach=function(n){var i=n.anchor;if(t.indexOf(i)<0)throw new Error("Invalid drop target anchor `"+i+"`.");if(!e.targets[i]===n)throw new Error("The indicated drop target is not attached at the anchor `"+i+"`.");return delete e.targets[i],n}}]),r.directive("dropTarget",["$parse","dragContext",function(e,t){return{restrict:"A",require:["^dropContainer","dropTarget"],scope:!0,bindToController:{anchor:"@dropTarget"},controller:i.noop,controllerAs:"dropTarget",link:function(t,n,r,o){var a=o[0],s=o[1];r.$addClass("drop-target"),s.$attrs=r,s.$scope=t,r.$addClass("drop-target drop-target-"+s.anchor),a.attach(s);var l=s.$attrs.onDragEnter?e(s.$attrs.onDragEnter):i.noop,u=s.$attrs.onDragLeave?e(s.$attrs.onDragLeave):i.noop,c=s.$attrs.onDragOver?e(s.$attrs.onDragOver):i.noop,p=s.$attrs.onDrop?e(s.$attrs.onDrop):i.noop;s.handleDragEnter=function(e,t){l(s.$scope,t)},s.handleDragLeave=function(e,t){u(s.$scope,t)},s.handleDragOver=function(e,t){c(s.$scope,t)},s.handleDrop=function(e,t){p(s.$scope,t)},t.$on("$destroy",function(){a.detach(s)})}}}])},function(e,t,n){n(447),e.exports="ui.grid"},function(e,t,n){"use strict";function i(e,t){this._container=e,t&&(this._pMenu=t)}t.a=i;var r=n(450),o=n(468),a=n(469),s=n(470);i.prototype={constructor:i,config:r.a,show:o.a,hide:a.a,styles:s.a}},function(e,t,n){"use strict";t.b=10,t.a=function(e){var t=e.diameter,n=-e.diameter/2;return t+="px",n+="px",{width:t,height:t,marginRight:n,marginBottom:n}}},function(e,t,n){"use strict";var i={_current:0,getNew:function(){return++this._current}};t.a=function(e,t,n,r){var o=e,a=document.head||document.getElementsByTagName("head")[0],s=document.getElementById("sheetStyles")||document.createElement("style");s.id="sheetStyles";var l="s-S"+i.getNew();return o.className+=" "+l,s.innerHTML+=" ."+l+(r?":"+r:"")+"{"+t+":"+n+"}",a.appendChild(s),this}},function(e,t,n){"use strict";function i(e,t,n,i){e.addEventListener(t,function(e){n.call(this,e,i)})}t.a=i},function(e,t,n){"use strict";function i(e){return void 0!==e&&("string"==typeof e?""!==e:e.length&&""!==e[0])}function r(e){return"string"==typeof e?e:e[0]}function o(e){return"string"==typeof e?null:e[1]}t.b=i;var a=n(37),s=n(38);t.a=function(e,t,n){if(i(t.icon)){var l=document.createElement("span"),u=r(t.icon),c=o(t.icon);Object(s.a)(l,u+" cm-icon",!0),Object(a.a)(l,"color",c);var p=.65*this._calc.clickZoneRadius-13+"px",d=.2*this._calc.clickZoneRadius-13+"px";Object(a.a)(l,"width",p),Object(a.a)(l,"height",p),Object(a.a)(l,"font-size",p),Object(a.a)(l,"margin-top",d),e.appendChild(l)}}},function(e,t,n){"use strict";t.a=function(){var e={},t=!1,n=0,i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(;n<i;n++){var r=arguments[n];!function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t&&"[object Object]"===Object.prototype.toString.call(n[i])?e[i]=extend(!0,e[i],n[i]):e[i]=n[i])}(r)}return e}},function(e,t,n){"use strict";e.exports={query:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80"><path d="M64.622 2.41H14.995c-6.627 0-12 5.374-12 12V64.31c0 6.627 5.373 12 12 12h49.627c6.627 0 12-5.373 12-12V14.41c0-6.627-5.373-12-12-12zM24.125 63.907V15.093L61 39.168 24.125 63.906z"/></svg>',queryInvalid:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 73.627 73.897"><path d="M61.627 0H12C5.373 0 0 5.373 0 12v49.897c0 6.627 5.373 12 12 12h49.627c6.627 0 12-5.373 12-12V12c0-6.628-5.373-12-12-12zM21.13 61.495V12.682l36.875 24.075L21.13 61.495z"/><path d="M66.13 65.904H49.77c-1.647 0-2.89-.58-3.5-1.636-.608-1.056-.49-2.422.334-3.848l8.18-14.167c.822-1.427 1.947-2.212 3.165-2.212s2.342.786 3.165 2.213l8.18 14.167c.824 1.426.942 2.792.333 3.848-.61 1.055-1.852 1.636-3.5 1.636zm-6.51-4.986c0-.85-.69-1.54-1.54-1.54-.85 0-1.54.69-1.54 1.54 0 .85.69 1.54 1.54 1.54.85 0 1.54-.69 1.54-1.54zm.04-9.266c0-.873-.708-1.58-1.58-1.58-.874 0-1.582.707-1.582 1.58l.374 5.61h.005c.054.62.568 1.108 1.202 1.108.586 0 1.075-.415 1.188-.968.01-.045.01-.093.014-.14h.01l.368-5.61z" fill="#a80"/></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" baseProfile="tiny" viewBox="0 0 100 100"><path fill-rule="evenodd" d="M88 84v-2c0-2.96-.86-4-4-4H16c-2.96 0-4 .98-4 4v2c0 3.102 1.04 4 4 4h68c3.02 0 4-.96 4-4zM58 12H42c-5 0-6 .94-6 6v22H16l34 34 34-34H64V18c0-5.06-1.06-6-6-6z"/></svg>',share:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M36.764 50c0 .308-.07.598-.088.905l32.247 16.12c2.76-2.34 6.293-3.798 10.195-3.798C87.89 63.227 95 70.337 95 79.11 95 87.89 87.89 95 79.118 95c-8.78 0-15.882-7.11-15.882-15.89 0-.317.07-.6.088-.906l-32.247-16.12c-2.77 2.33-6.293 3.79-10.195 3.79C12.11 65.873 5 58.77 5 50c0-8.78 7.11-15.89 15.882-15.89 3.902 0 7.427 1.467 10.195 3.796l32.247-16.12c-.018-.307-.088-.597-.088-.913C63.236 12.11 70.338 5 79.118 5 87.89 5 95 12.11 95 20.873c0 8.78-7.11 15.89-15.882 15.89-3.91 0-7.436-1.467-10.195-3.805L36.676 49.086c.017.308.088.598.088.914z"/></svg>',warning:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 66.399998 66.399998"><g fill="red"><path d="M33.2 0C14.9 0 0 14.9 0 33.2c0 18.3 14.9 33.2 33.2 33.2 18.3 0 33.2-14.9 33.2-33.2C66.4 14.9 51.5 0 33.2 0zm0 59.4C18.7 59.4 7 47.6 7 33.2 7 18.7 18.8 7 33.2 7c14.4 0 26.2 11.8 26.2 26.2 0 14.4-11.8 26.2-26.2 26.2z"/><path d="M33.1 45.6c-1.4 0-2.5.5-3.5 1.5-.9 1-1.4 2.2-1.4 3.6 0 1.6.5 2.8 1.5 3.8 1 .9 2.1 1.3 3.4 1.3 1.3 0 2.4-.5 3.4-1.4 1-.9 1.5-2.2 1.5-3.7 0-1.4-.5-2.6-1.4-3.6-.9-1-2.1-1.5-3.5-1.5zM33.3 12.4c-1.5 0-2.8.5-3.7 1.6-.9 1-1.4 2.4-1.4 4.2 0 1.1.1 2.9.2 5.6l.8 13.1c.2 1.8.4 3.2.9 4.1.5 1.2 1.5 1.8 2.9 1.8 1.3 0 2.3-.7 2.9-1.9.5-1 .7-2.3.9-4l1.1-13.4c.1-1.3.2-2.5.2-3.8 0-2.2-.3-3.9-.8-5.1-.5-1-1.6-2.2-4-2.2z"/></g></svg>',fullscreen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="5 -10 100 100"><path d="M5-10v38.89L21.667 12.22 38.334 28.89l5.555-5.556L27.22 6.667 43.89-10H5zM105-10v38.89L88.333 12.22 71.667 28.89l-5.556-5.556L82.778 6.667 66.11-10H105zM5 90V51.11l16.667 16.667L38.334 51.11l5.555 5.557L27.22 73.333 43.89 90H5zM105 90V51.11L88.333 67.778 71.667 51.11l-5.556 5.557 16.667 16.666L66.11 90H105z" fill="#010101"/></svg>',smallscreen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="5 -10 100 100"><path d="M43.89 28.89V-10L27.22 6.667 10.555-10 5-4.445l16.667 16.667L5 28.89h38.89zM66.11 28.89V-10L82.78 6.667 99.444-10 105-4.445 88.334 12.222 105 28.89H66.11zM43.89 51.11V90L27.22 73.334 10.555 90 5 84.444l16.667-16.666L5 51.11h38.89zM66.11 51.11V90L82.78 73.334 99.444 90 105 84.444 88.334 67.778 105 51.11H66.11z" fill="#010101"/></svg>'}},function(e,t,n){!function(e){e(n(22))}(function(e){"use strict";function t(t,r,o,a){function s(e){var n=l(t,r);if(!n||n.to.line-n.from.line<u)return null;for(var i=t.findMarksAt(n.from),o=0;o<i.length;++o)if(i[o].__isFold&&"fold"!==a){if(!e)return null;n.cleared=!0,i[o].clear()}return n}if(o&&o.call){var l=o;o=null}else var l=i(t,o,"rangeFinder");"number"==typeof r&&(r=e.Pos(r,0));var u=i(t,o,"minFoldSize"),c=s(!0);if(i(t,o,"scanUp"))for(;!c&&r.line>t.firstLine();)r=e.Pos(r.line-1,0),c=s(!1);if(c&&!c.cleared&&"unfold"!==a){var p=n(t,o);e.on(p,"mousedown",function(t){d.clear(),e.e_preventDefault(t)});var d=t.markText(c.from,c.to,{replacedWith:p,clearOnEnter:i(t,o,"clearOnEnter"),__isFold:!0});d.on("clear",function(n,i){e.signal(t,"unfold",t,n,i)}),e.signal(t,"fold",t,c.from,c.to)}}function n(e,t){var n=i(e,t,"widget");if("string"==typeof n){var r=document.createTextNode(n);n=document.createElement("span"),n.appendChild(r),n.className="CodeMirror-foldmarker"}return n}function i(e,t,n){if(t&&void 0!==t[n])return t[n];var i=e.options.foldOptions;return i&&void 0!==i[n]?i[n]:r[n]}e.newFoldFunction=function(e,n){return function(i,r){t(i,r,{rangeFinder:e,widget:n})}},e.defineExtension("foldCode",function(e,n,i){t(this,e,n,i)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var n=t.firstLine(),i=t.lastLine();n<=i;n++)t.foldCode(e.Pos(n,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var n=t.firstLine(),i=t.lastLine();n<=i;n++)t.foldCode(e.Pos(n,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var i=0;i<e.length;++i){var r=e[i](t,n);if(r)return r}}}),e.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),i=0;i<n.length;i++){var r=n[i](e,t);if(r)return r}});var r={rangeFinder:e.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,t){return i(this,e,t)})})},function(e,t,n){function i(e,t,n,i){n||(n=0),i||(i=e.getLine(t)),i=i.toUpperCase();for(var o=n,s=0;;){var l=i.indexOf(a,o);if(-1!=l){if(1==s&&l<n)break;if(!/^(comment|string)/.test(e.getTokenTypeAt(r.Pos(t,l+1))))return l+1;if((o=l-1)===s)break}else{if(1==s)break;s=1,o=i.length}}}var r=n(22),o=n(103),a="PREFIX";e.exports={findFirstPrefixLine:function(e){for(var t=e.lastLine(),n=0;n<=t;++n)if(i(e,n)>=0)return n}},r.registerHelper("fold","prefix",function(e,t){var n=t.line,s=e.getLine(n),l=function(t,n){var i=e.getTokenAt(r.Pos(t,n+1));if(!i||"keyword"!=i.type)return-1;var a=o.getNextNonWsToken(e,t,i.end+1);if(!a||"string-2"!=a.type)return-1;var s=o.getNextNonWsToken(e,t,a.end+1);return s&&"variable-3"==s.type?s.end:-1};if(!function(){for(var t=!1,i=n-1;i>=0;i--)if(e.getLine(i).toUpperCase().indexOf(a)>=0){t=!0;break}return t}()){var u=i(e,n,t.ch,s);if(null!=u){for(var c,p=!1,d=e.lastLine(),f=l(n,u),h=n,g=n;g<=d&&!p;++g)for(var v=e.getLine(g),m=g==n?u+1:0;;){!p&&v.indexOf("{")>=0&&(p=!0);var y=v.toUpperCase().indexOf(a,m);if(!(y>=0))break;(c=l(g,y))>0&&(f=c,h=g,m=f),m++}return{from:r.Pos(n,u+a.length),to:r.Pos(h,f)}}}})},function(e,t,n){"use strict";var i=n(18);n(102);e.exports=function(e,t,n){var r,t=i(t);t.hover(function(){"function"==typeof n&&(n=n()),r=i("<div>").addClass("yasqe_tooltip").html(n).appendTo(t),o()},function(){i(".yasqe_tooltip").remove()});var o=function(){i(e.getWrapperElement()).offset().top>=r.offset().top&&(r.css("bottom","auto"),r.css("top","26px"))}}},function(e,t,n){"use strict";var i=n(18),r=n(102),o=n(74);o.getAjaxConfig=function(e,t){var r="function"==typeof t?t:null,s="object"==typeof t?t:{};if(e.options.sparql&&(s=i.extend({},e.options.sparql,s)),s.handlers&&i.extend(!0,s.callbacks,s.handlers),s.endpoint&&0!=s.endpoint.length){var l=e.getQueryMode(),u={url:"function"==typeof s.endpoint?s.endpoint(e):s.endpoint,type:"update"==l?"POST":"function"==typeof s.requestMethod?s.requestMethod(e):s.requestMethod,headers:{Accept:a(e,s)}};s.xhrFields&&(u.xhrFields=s.xhrFields);var c=!1;if(s.callbacks)for(var p in s.callbacks)s.callbacks[p]&&(c=!0,u[p]=s.callbacks[p]);if("GET"===u.type){var d=!0;i.each(e.getUrlArguments(s),function(e,t){u.url+=(d?"?":"&")+t.name+"="+encodeURIComponent(t.value),d=!1})}else u.data=e.getUrlArguments(s);if(c||r){r&&(u.complete=r),s.headers&&!i.isEmptyObject(s.headers)&&i.extend(u.headers,s.headers);var f=new Date,h=function(){e.lastQueryDuration=new Date-f,o.updateQueryButton(e),e.setBackdrop(!1)},g=[function(){n(74).signal(e,"queryFinish",arguments)},h];return u.complete&&g.push(u.complete),u.complete=g,u}}},o.executeQuery=function(e,t){o.signal(e,"query",e,t),o.updateQueryButton(e,"busy"),e.setBackdrop(!0),e.xhr=i.ajax(o.getAjaxConfig(e,t))},o.getUrlArguments=function(e,t){var n=e.getQueryMode(),o=[{name:r.getString(e,e.options.sparql.queryName),value:t.getQueryForAjax?t.getQueryForAjax(e):e.getValue()}];if(t.namedGraphs&&t.namedGraphs.length>0)for(var a="query"==n?"named-graph-uri":"using-named-graph-uri ",s=0;s<t.namedGraphs.length;s++)o.push({name:a,value:t.namedGraphs[s]});if(t.defaultGraphs&&t.defaultGraphs.length>0)for(var a="query"==n?"default-graph-uri":"using-graph-uri ",s=0;s<t.defaultGraphs.length;s++)o.push({name:a,value:t.defaultGraphs[s]});return t.args&&t.args.length>0&&i.merge(o,t.args),o};var a=function(e,t){var n=null;if(!t.acceptHeader||t.acceptHeaderGraph||t.acceptHeaderSelect||t.acceptHeaderUpdate)if("update"==e.getQueryMode())n="function"==typeof t.acceptHeader?t.acceptHeaderUpdate(e):t.acceptHeaderUpdate;else{var i=e.getQueryType();n="DESCRIBE"==i||"CONSTRUCT"==i?"function"==typeof t.acceptHeaderGraph?t.acceptHeaderGraph(e):t.acceptHeaderGraph:"function"==typeof t.acceptHeaderSelect?t.acceptHeaderSelect(e):t.acceptHeaderSelect}else n="function"==typeof t.acceptHeader?t.acceptHeader(e):t.acceptHeader;return n};e.exports={getAjaxConfig:o.getAjaxConfig}},function(e,t){function n(e){return r(e)&&h.call(e,"callee")&&(!v.call(e,"callee")||g.call(e)==c)}function i(e){return null!=e&&a(e.length)&&!o(e)}function r(e){return l(e)&&i(e)}function o(e){var t=s(e)?g.call(e):"";return t==p||t==d}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){return!!e&&"object"==typeof e}var u=9007199254740991,c="[object Arguments]",p="[object Function]",d="[object GeneratorFunction]",f=Object.prototype,h=f.hasOwnProperty,g=f.toString,v=f.propertyIsEnumerable;e.exports=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r);n(150),n(243),n(272),n(274),n(276),n(278),n(279),n(280),n(316),n(412),n(489),n(492),n(508),n(543),n(544);var a=n(545),s=n(546),l=i(s),u=n(547),c=i(u),p=n(192),d=i(p),f=o.module("fibra",["fibra.services","fibra.actions","fibra.components","fibra.filters","http-auth-interceptor","ngStorage","ui.router","ui.bootstrap","ui.bootstrap.tpls","ngAnimate","fi.seco.yasqe","toastr","fi.seco.sparql","ui.codemirror","ngFileSaver","ngRedux"]).constant("version","0.5.0");f.value("workerServiceConfiguration",{appName:"fibra",workerThreads:1,importScripts:["https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js","common-bundle.js","worker-bundle.js"]}),f.config(["$ngReduxProvider",function(e){e.createStoreWith(d.default,[l.default,c.default,(0,a.createLogger)()],[])}]),f.config(["toastrConfig",function(e){return o.extend(e,{positionClass:"toast-top-full-width"})}]),f.config(["$localStorageProvider",function(e){return e.setKeyPrefix("fibra-")}]);var h={};f.config(["$httpProvider",function(e){e.interceptors.push(function(){return{request:function(e){return h[e.url]&&(e.headers.Authorization=h[e.url]),e}}})}]),f.config(["$stateProvider","$urlServiceProvider","$locationProvider","$uiRouterProvider",function(e,t,n,i){t.rules.otherwise(function(e,t,n){var r=t.search;window.location.search.replace("?","").split("&").forEach(function(e){var t=e.split("=");r[t[0]]=t[1]}),r.code?i.stateService.go("callback",r):i.stateService.go("projects")}),e.state("projects",{url:"/projects",template:"<projects-view></projects-view>"}),e.state("rdfstoreTest",{url:"/rdfstore-test",template:"<rdfstore-test-view></rdfstore-test-view>"}),e.state("projectSources",{url:"/project-sources?sourceId&sparqlEndpoint&updateEndpoint&graphStoreEndpoint&graph&type",template:"<project-sources-view></project-sources-view>"}),e.state("projectSourceConfigurations",{url:"/project-source-configurations?sourceId",template:"<project-source-configurations-view></project-source-configurations-view>"}),e.state("editPrimaryEndpointConfiguration",{url:"/edit-primary-endpoint-configuration?sourceId&id",template:"<edit-primary-endpoint-configuration-view></edit-primary-endpoint-configuration-view>"}),e.state("editRemoteEndpointConfiguration",{url:"/edit-remote-endpoint-configuration?sourceId&id",template:"<edit-remote-endpoint-configuration-view></edit-remote-endpoint-configuration-view>"}),e.state("editSchema",{url:"/edit-schema?sourceId&id",template:"<edit-schema-view></edit-schema-view>"}),e.state("configure",{url:"/configure?sourceId&id",template:"<configure-view></configure-view>"}),e.state("login",{url:"/login",template:"<login></login>",params:{redirect_hash:{type:"string",value:""}}}),e.state("callback",{url:"/callback",template:"<callback></callback>",params:{code:{type:"string",array:!1,value:""}}}),e.state("project",{url:"/project/:view?id&sparqlEndpoint&graph",params:{id:{type:"string",array:!1,value:""},sparqlEndpoint:{type:"string",array:!1,value:""},graph:{type:"string",array:!1,value:""},view:{type:"string",array:!1,value:"sources"}},template:"<project></project>"})}]),f.run(["$rootScope","$localStorage","$http","$state","authService","$location","workerService","socialAuthService","$window","$transitions",function(e,t,n,i,r,o,a,s,l,u){e.authInfo={authOpen:!1,url:void 0,username:void 0,password:void 0},t.authorization?a.$broadcast("main:auth-loginAuthInfo",t.authorization):t.authorization={},h=t.authorization,e.setAuth=function(){e.authInfo.authOpen=!1,h[e.authInfo.url]="Basic "+btoa(e.authInfo.username+":"+e.authInfo.password),a.$broadcast("main:auth-loginAuthInfo",[h]),r.loginConfirmed()},e.dismissAuth=function(){e.authInfo.authOpen=!1,r.loginCancelled({status:401},"Authentication required")},e.$on("event:auth-loginRequired",function(t,n){e.authInfo.url=n.config.url,e.authInfo.authOpen=!0});var c={to:function(e){return e.data&&e.data.requiresAuth}},p=function(e){if(!s.isAuthenticated())return e.router.stateService.target("login",{redirect_hash:window.location.hash})};e.socialAuthService=s,u.onBefore(c,p,{priority:10})}])},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var r=n(19);t.core=r,i(n(19)),i(n(110)),i(n(111)),i(n(176)),i(n(177)),n(267),n(268),n(269),n(270),n(271),t.default="ui.router"},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(49)),i(n(153)),i(n(154)),i(n(108))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(107)),i(n(78))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(152)),i(n(60)),i(n(79))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(155)),i(n(104)),i(n(156)),i(n(157)),i(n(158)),i(n(159)),i(n(39))},function(e,t,n){"use strict";function i(e){e.addResolvable({token:o.UIRouter,deps:[],resolveFn:function(){return e.router},data:e.router},""),e.addResolvable({token:r.Transition,deps:[],resolveFn:function(){return e},data:e},""),e.addResolvable({token:"$transition$",deps:[],resolveFn:function(){return e},data:e},""),e.addResolvable({token:"$stateParams",deps:[],resolveFn:function(){return e.params()},data:e.params()},""),e.entering().forEach(function(t){e.addResolvable({token:"$state$",deps:[],resolveFn:function(){return t},data:t},t)})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(77),o=n(160);t.registerAddCoreResolvables=function(e){return e.onCreate({},i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n(13),o=n(39),a=function(e){function t(t){if(t)return t instanceof o.TargetState?t:i.isString(t)?a.target(t,e.params(),e.options()):t.state||t.params?a.target(t.state||e.to(),t.params||e.params(),e.options()):void 0}var n=e.to().redirectTo;if(n){var a=e.router.stateService;return i.isFunction(n)?r.services.$q.when(n(e)).then(t):t(n)}};t.registerRedirectToHook=function(e){return e.onStart({to:function(e){return!!e.redirectTo}},a)}},function(e,t,n){"use strict";function i(e){return function(t,n){return(0,n.$$state()[e])(t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var r=i("onExit");t.registerOnExitHook=function(e){return e.onExit({exiting:function(e){return!!e.onExit}},r)};var o=i("onRetain");t.registerOnRetainHook=function(e){return e.onRetain({retained:function(e){return!!e.onRetain}},o)};var a=i("onEnter");t.registerOnEnterHook=function(e){return e.onEnter({entering:function(e){return!!e.onEnter}},a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(79),o=n(6),a=function(e){return new r.ResolveContext(e.treeChanges().to).resolvePath("EAGER",e).then(i.noop)};t.registerEagerResolvePath=function(e){return e.onStart({},a,{priority:1e3})};var s=function(e,t){return new r.ResolveContext(e.treeChanges().to).subContext(t.$$state()).resolvePath("LAZY",e).then(i.noop)};t.registerLazyResolveState=function(e){return e.onEnter({entering:o.val(!0)},s,{priority:1e3})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(13),o=function(e){var t=r.services.$q,n=e.views("entering");if(n.length)return t.all(n.map(function(e){return t.when(e.load())})).then(i.noop)};t.registerLoadEnteringViews=function(e){return e.onFinish({},o)};var a=function(e){var t=e.views("entering"),n=e.views("exiting");if(t.length||n.length){var i=e.router.viewService;n.forEach(function(e){return i.deactivateViewConfig(e)}),t.forEach(function(e){return i.activateViewConfig(e)}),i.sync()}};t.registerActivateViews=function(e){return e.onSuccess({},a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(e){var t=e.router.globals,n=function(){t.successfulTransitions.enqueue(e),t.$current=e.$to(),t.current=t.$current.self,i.copy(e.params(),t.params)},r=function(){t.transition===e&&(t.transition=null)};e.onSuccess({},n,{priority:1e4}),e.promise.then(r,r)};t.registerUpdateGlobalState=function(e){return e.onCreate({},r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){var t=e.options(),n=e.router.stateService,i=e.router.urlRouter;if("url"!==t.source&&t.location&&n.$current.navigable){var r={replace:"replace"===t.location};i.push(n.$current.navigable.url,n.params,r)}i.update(!0)};t.registerUpdateUrl=function(e){return e.onSuccess({},i,{priority:9999})}},function(e,t,n){"use strict";function i(e){var t=e._ignoredReason();if(t){r.trace.traceTransitionIgnored(e);var n=e.router.globals.transition;return"SameAsCurrent"===t&&n&&n.abort(),o.Rejection.ignored().toPromise()}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),o=n(58);t.registerIgnoredTransitionHook=function(e){return e.onBefore({},i,{priority:-9999})}},function(e,t,n){"use strict";function i(e){if(!e.valid())throw new Error(e.error())}Object.defineProperty(t,"__esModule",{value:!0}),t.registerInvalidTransitionHook=function(e){return e.onBefore({},i,{priority:-1e4})}},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(48)),i(n(151)),i(n(106)),i(n(58)),i(n(77)),i(n(59)),i(n(168)),i(n(109))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(80)),i(n(161)),i(n(162)),i(n(163)),i(n(166))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(164))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(261))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(169)),i(n(170)),i(n(81)),i(n(171)),i(n(172)),i(n(173)),i(n(174)),i(n(175)),i(n(61)),i(n(262))},function(e,t,n){"use strict";function i(e){return d.services.$injector=c.$injector,d.services.$q=p.$q,{name:"vanilla.services",$q:p.$q,$injector:c.$injector,dispose:function(){return null}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(175),o=n(171),a=n(61),s=n(173),l=n(172),u=n(174),c=n(170),p=n(169),d=n(13);t.servicesPlugin=i,t.hashLocationPlugin=a.locationPluginFactory("vanilla.hashBangLocation",!1,o.HashLocationService,r.BrowserLocationConfig),t.pushStateLocationPlugin=a.locationPluginFactory("vanilla.pushStateLocation",!0,s.PushStateLocationService,r.BrowserLocationConfig),t.memoryLocationPlugin=a.locationPluginFactory("vanilla.memoryLocation",!1,l.MemoryLocationService,u.MemoryLocationConfig)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.dispose=function(e){},e}();t.UIRouterPluginBase=i},function(e,t,n){"use strict";function i(e){var t=o.services.$injector.get(e+"Directive");if(!t||!t.length)throw new Error("Unable to find component named '"+e+"'");return t.map(s).reduce(o.unnestR,[])}Object.defineProperty(t,"__esModule",{value:!0});var r=n(50),o=n(19),a=function(){function e(){var e=this;this._useHttp=r.ng.version.minor<3,this.$get=["$http","$templateCache","$injector",function(t,n,i){return e.$templateRequest=i.has&&i.has("$templateRequest")&&i.get("$templateRequest"),e.$http=t,e.$templateCache=n,e}]}return e.prototype.useHttpService=function(e){this._useHttp=e},e.prototype.fromConfig=function(e,t,n){var i=function(e){return o.services.$q.when(e).then(function(e){return{template:e}})},r=function(e){return o.services.$q.when(e).then(function(e){return{component:e}})};return o.isDefined(e.template)?i(this.fromString(e.template,t)):o.isDefined(e.templateUrl)?i(this.fromUrl(e.templateUrl,t)):o.isDefined(e.templateProvider)?i(this.fromProvider(e.templateProvider,t,n)):o.isDefined(e.component)?r(e.component):o.isDefined(e.componentProvider)?r(this.fromComponentProvider(e.componentProvider,t,n)):i("<ui-view></ui-view>")},e.prototype.fromString=function(e,t){return o.isFunction(e)?e(t):e},e.prototype.fromUrl=function(e,t){return o.isFunction(e)&&(e=e(t)),null==e?null:this._useHttp?this.$http.get(e,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(e){return e.data}):this.$templateRequest(e)},e.prototype.fromProvider=function(e,t,n){var i=o.services.$injector.annotate(e),r=o.isArray(e)?o.tail(e):e;return new o.Resolvable("",r,i).get(n)},e.prototype.fromComponentProvider=function(e,t,n){var i=o.services.$injector.annotate(e),r=o.isArray(e)?o.tail(e):e;return new o.Resolvable("",r,i).get(n)},e.prototype.makeComponentTemplate=function(e,t,n,a){a=a||{};var s=r.ng.version.minor>=3?"::":"",l=function(e){var t=o.kebobString(e);return/^(x|data)-/.exec(t)?"x-"+t:t},u=function(n){var i=n.name,r=n.type,u=l(i);if(e.attr(u)&&!a[i])return u+"='"+e.attr(u)+"'";var c=a[i]||i;if("@"===r)return u+"='{{"+s+"$resolve."+c+"}}'";if("&"===r){var p=t.getResolvable(c),d=p&&p.data,f=d&&o.services.$injector.annotate(d)||[];return u+"='$resolve."+c+(o.isArray(d)?"["+(d.length-1)+"]":"")+"("+f.join(",")+")'"}return u+"='"+s+"$resolve."+c+"'"},c=i(n).map(u).join(" "),p=l(n);return"<"+p+" "+c+"></"+p+">"},e}();t.TemplateFactory=a;var s=function(e){return l(o.isObject(e.bindToController)?e.bindToController:e.scope)},l=function(e){return Object.keys(e||{}).map(function(t){return[t,/^([=<@&])[?]?(.*)/.exec(e[t])]}).filter(function(e){return o.isDefined(e)&&o.isArray(e[1])}).map(function(e){return{name:e[1][2]||e[0],type:e[1][1]}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),r=n(110);t.getStateHookBuilder=function(e){return function(t,n){function o(e,t){var n=new i.ResolveContext(e.treeChanges(s)),o=i.extend(r.getLocals(n),{$state$:t,$transition$:e});return i.services.$injector.invoke(a,this,o)}var a=t[e],s="onExit"===e?"from":"to";return a?o:void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),r=function(){function e(e){this._urlListeners=[],this.$locationProvider=e;var t=i.val(e);i.createProxyFunctions(t,this,t,["hashPrefix"])}return e.prototype.dispose=function(){},e.prototype.onChange=function(e){var t=this;return this._urlListeners.push(e),function(){return i.removeFrom(t._urlListeners)(e)}},e.prototype.html5Mode=function(){var e=this.$locationProvider.html5Mode();return(e=i.isObject(e)?e.enabled:e)&&this.$sniffer.history},e.prototype.url=function(e,t,n){return void 0===t&&(t=!1),e&&this.$location.url(e),t&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},e.prototype._runtimeServices=function(e,t,n,r){var o=this;this.$location=t,this.$sniffer=n,e.$on("$locationChangeSuccess",function(e){return o._urlListeners.forEach(function(t){return t(e)})});var a=i.val(t),s=i.val(r);i.createProxyFunctions(a,this,a,["replace","path","search","hash"]),i.createProxyFunctions(a,this,a,["port","protocol","host"]),i.createProxyFunctions(s,this,s,["baseHref"])},e.monkeyPatchPathParameterType=function(e){var t=e.urlMatcherFactory.type("path");t.encode=function(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e},t.decode=function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}},e}();t.Ng1LocationServices=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";function i(e){var t,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e="("+n[1]+")"),!(t=e.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1]||null,paramExpr:t[3]||null}}function r(e){var t=e.parent().inheritedData("$uiView"),n=d.parse("$cfg.path")(t);return n?d.tail(n).state.name:void 0}function o(e,t,n){var i=n.uiState||e.current.name,r=d.extend(l(t,e),n.uiStateOpts||{}),o=e.href(i,n.uiStateParams,r);return{uiState:i,uiStateParams:n.uiStateParams,uiStateOpts:r,href:o}}function a(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function s(e,t,n,i,r){return function(o){var a=o.which||o.button,s=r();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var l=n(function(){t.go(s.uiState,s.uiStateParams,s.uiStateOpts)});o.preventDefault();var u=i.isAnchor&&!s.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(l)}}}}function l(e,t){return{relative:r(e)||t.$current,inherit:!0,source:"sref"}}function u(e,t,n,i){var r;i&&(r=i.events),d.isArray(r)||(r=["click"]);for(var o=e.on?"on":"bind",a=0,s=r;a<s.length;a++){var l=s[a];e[o](l,n)}t.$on("$destroy",function(){for(var t=e.off?"off":"unbind",i=0,o=r;i<o.length;i++){var a=o[i];e[t](a,n)}})}Object.defineProperty(t,"__esModule",{value:!0});var c,p=n(50),d=n(19);c=["$uiRouter","$timeout",function(e,t){var n=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,l,c,p){function f(){var e=E();m&&m(),v&&(m=v.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&c.$set(g.attr,e.href)}var h,g=a(l),v=p[1]||p[0],m=null,y={},E=function(){return o(n,l,y)},b=i(c.uiSref);y.uiState=b.state,y.uiStateOpts=c.uiSrefOpts?r.$eval(c.uiSrefOpts):{},b.paramExpr&&(r.$watch(b.paramExpr,function(e){y.uiStateParams=d.extend({},e),f()},!0),y.uiStateParams=d.extend({},r.$eval(b.paramExpr))),f(),r.$on("$destroy",e.stateRegistry.onStatesChanged(f)),r.$on("$destroy",e.transitionService.onSuccess({},f)),g.clickable&&(h=s(l,n,t,g,E),u(l,r,h,y.uiStateOpts))}}}];var f;f=["$uiRouter","$timeout",function(e,t){var n=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,l,c){function p(){var e=y();v&&v(),g&&(v=g.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&l.$set(h.attr,e.href)}var f,h=a(r),g=c[1]||c[0],v=null,m={},y=function(){return o(n,r,m)},E=["uiState","uiStateParams","uiStateOpts"],b=E.reduce(function(e,t){return e[t]=d.noop,e},{});E.forEach(function(e){m[e]=l[e]?i.$eval(l[e]):null,l.$observe(e,function(t){b[e](),b[e]=i.$watch(t,function(t){m[e]=t,p()},!0)})}),p(),i.$on("$destroy",e.stateRegistry.onStatesChanged(p)),i.$on("$destroy",e.transitionService.onSuccess({},p)),h.clickable&&(f=s(r,n,t,h,y),u(r,i,f,m.uiStateOpts))}}}];var h;h=["$state","$stateParams","$interpolate","$uiRouter",function(e,t,n,o){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,a,s){function l(e){e.promise.then(c)}function u(t,n,i){var o=e.get(t,r(a)),s={state:o||{name:t},params:n,activeClass:i};return h.push(s),function(){d.removeFrom(h)(s)}}function c(){var n=function(e){return e.split(/\s/).filter(d.identity)},i=function(e){return e.map(function(e){return e.activeClass}).map(n).reduce(d.unnestR,[])},r=i(h).concat(n(p)).reduce(d.uniqR,[]),o=i(h.filter(function(t){return e.includes(t.state.name,t.params)})),s=!!h.filter(function(t){return e.is(t.state.name,t.params)}).length,l=s?n(p):[],u=o.concat(l).reduce(d.uniqR,[]),c=r.filter(function(e){return!d.inArray(u,e)});t.$evalAsync(function(){u.forEach(function(e){return a.addClass(e)}),c.forEach(function(e){return a.removeClass(e)})})}var p,f,h=[];p=n(s.uiSrefActiveEq||"",!1)(t);try{f=t.$eval(s.uiSrefActive)}catch(e){}f=f||n(s.uiSrefActive||"",!1)(t),d.isObject(f)&&d.forEach(f,function(e,n){if(d.isString(e)){var r=i(e);u(r.state,t.$eval(r.paramExpr),n)}}),this.$$addStateInfo=function(e,t){if(!(d.isObject(f)&&h.length>0)){var n=u(e,t,f);return c(),n}},t.$on("$stateChangeSuccess",c),t.$on("$destroy",o.transitionService.onStart({},l)),o.globals.transition&&l(o.globals.transition),c()}]}}],p.ng.module("ui.router.state").directive("uiSref",c).directive("uiSrefActive",h).directive("uiSrefActiveEq",h).directive("uiState",f)},function(e,t,n){"use strict";function i(e){var t=function(t,n,i){return e.is(t,n,i)};return t.$stateful=!0,t}function r(e){var t=function(t,n,i){return e.includes(t,n,i)};return t.$stateful=!0,t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(50);i.$inject=["$state"],t.$IsStateFilter=i,r.$inject=["$state"],t.$IncludedByStateFilter=r,o.ng.module("ui.router.state").filter("isState",i).filter("includedByState",r)},function(e,t,n){"use strict";function i(e,t,n,i,l,c){var p=s.parse("viewDecl.controllerAs"),d=s.parse("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(i){var c=i.html();return i.empty(),function(i,f){var h=f.data("$uiView");if(!h)return f.html(c),void e(f.contents())(i);var g=h.$cfg||{viewDecl:{},getTemplate:a.noop},v=g.path&&new s.ResolveContext(g.path);f.html(g.getTemplate(f,v)||c),s.trace.traceUIViewFill(h.$uiView,f.html());var m=e(f.contents()),y=g.controller,E=p(g),b=d(g),x=v&&u.getLocals(v);if(i[b]=x,y){var C=t(y,s.extend({},x,{$scope:i,$element:f}));E&&(i[E]=C,i[E][b]=x),f.data("$ngControllerController",C),f.children().data("$ngControllerController",C),r(l,n,C,i,g)}if(s.isString(g.viewDecl.component))var S=g.viewDecl.component,w=s.kebobString(S),T=new RegExp("^(x-|data-)?"+w+"$","i"),A=function(){var e=[].slice.call(f[0].children).filter(function(e){return e&&e.tagName&&T.exec(e.tagName)});return e&&o.ng.element(e).data("$"+S+"Controller")},L=i.$watch(A,function(e){e&&(r(l,n,e,i,g),L())});m(i)}}}}function r(e,t,n,i,r){!s.isFunction(n.$onInit)||r.viewDecl.component&&c||n.$onInit();var o=s.tail(r.path).state.self,a={bind:n};if(s.isFunction(n.uiOnParamsChanged)){var l=new s.ResolveContext(r.path),u=l.getResolvable("$transition$").data,d=function(e){if(e!==u&&-1===e.exiting().indexOf(o)){var t=e.params("to"),i=e.params("from"),r=e.treeChanges().to.map(function(e){return e.paramSchema}).reduce(s.unnestR,[]),a=e.treeChanges().from.map(function(e){return e.paramSchema}).reduce(s.unnestR,[]),l=r.filter(function(e){var n=a.indexOf(e);return-1===n||!a[n].type.equals(t[e.id],i[e.id])});if(l.length){var c=l.map(function(e){return e.id}),p=s.filter(t,function(e,t){return-1!==c.indexOf(t)});n.uiOnParamsChanged(p,e)}}};i.$on("$destroy",t.onSuccess({},d,a))}if(s.isFunction(n.uiCanExit)){var f=p++,h=function(e){return!!e&&(e._uiCanExitIds&&!0===e._uiCanExitIds[f]||h(e.redirectedFrom()))},g=function(t){var i,r=t._uiCanExitIds=t._uiCanExitIds||{};return h(t)||(i=e.when(n.uiCanExit(t)),i.then(function(e){return r[f]=!1!==e})),i},v={exiting:o.name};i.$on("$destroy",t.onBefore(v,g,a))}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),a=n(0),s=n(19),l=n(111),u=n(110);t.uiView=["$view","$animate","$uiViewScroll","$interpolate","$q",function(e,t,n,i,r){function a(e,n){return{enter:function(e,n,i){o.ng.version.minor>2?t.enter(e,null,n).then(i):t.enter(e,null,n,i)},leave:function(e,n){o.ng.version.minor>2?t.leave(e).then(n):t.leave(e,n)}}}function u(e,t){return e===t}var c={$cfg:{viewDecl:{$context:e._pluginapi._rootViewContext()}},$uiView:{}},p={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(t,o,d){return function(t,o,f){function h(e){(!e||e instanceof l.Ng1ViewConfig)&&(u(w,e)||(s.trace.traceUIViewConfigUpdated(L,e&&e.viewDecl&&e.viewDecl.$context),w=e,v(e)))}function g(){if(m&&(s.trace.traceUIViewEvent("Removing (previous) el",m.data("$uiView")),m.remove(),m=null),E&&(s.trace.traceUIViewEvent("Destroying scope",L),E.$destroy(),E=null),y){var e=y.data("$uiViewAnim");s.trace.traceUIViewEvent("Animate out",e),S.leave(y,function(){e.$$animLeave.resolve(),m=null}),m=y,y=null}}function v(e){var i=t.$new(),a=r.defer(),l=r.defer(),u={$cfg:e,$uiView:L},c={$animEnter:a.promise,$animLeave:l.promise,$$animLeave:l};i.$emit("$viewContentLoading",A);var p=d(i,function(e){e.data("$uiViewAnim",c),e.data("$uiView",u),S.enter(e,o,function(){a.resolve(),E&&E.$emit("$viewContentAnimationEnded"),(s.isDefined(C)&&!C||t.$eval(C))&&n(e)}),g()});y=p,E=i,E.$emit("$viewContentLoaded",e||w),E.$eval(x)}var m,y,E,b,x=f.onload||"",C=f.autoscroll,S=a(f,t),w=void 0,T=o.inheritedData("$uiView")||c,A=i(f.uiView||f.name||"")(t)||"$default",L={$type:"ng1",id:p.count++,name:A,fqn:T.$uiView.fqn?T.$uiView.fqn+"."+A:A,config:null,configUpdated:h,get creationContext(){var e=s.parse("$cfg.viewDecl.$context")(T),t=s.parse("$uiView.creationContext")(T);return e||t}};s.trace.traceUIViewEvent("Linking",L),o.data("$uiView",{$uiView:L}),v(),b=e.registerUIView(L),t.$on("$destroy",function(){s.trace.traceUIViewEvent("Destroying/Unregistering",L),b()})}}};return p}],i.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var c="function"==typeof o.ng.module("ui.router").component,p=0;o.ng.module("ui.router.state").directive("uiView",t.uiView),o.ng.module("ui.router.state").directive("uiView",i)},function(e,t,n){"use strict";function i(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}Object.defineProperty(t,"__esModule",{value:!0}),n(50).ng.module("ui.router.state").provider("$uiViewScroll",i)},function(e,t,n){n(273),e.exports="ngAnimate"},function(e,t){/**
 * @license AngularJS v1.6.6
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(e,t){"use strict";function n(e,t,n){if(!e)throw le("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(q(e)&&(e=e.join(" ")),q(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function r(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function o(e,t,n){var i="";return e=q(e)?e:e&&Q(e)&&e.length?e.split(/\s+/):[],z(e,function(e,r){e&&e.length>0&&(i+=r>0?" ":"",i+=n?t+e:e+t)}),i}function a(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function s(e){if(e instanceof Z)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===$)return e;break;default:return Z(l(e))}if(e.nodeType===$)return Z(e)}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===$)return n}}function u(e,t,n){z(t,function(t){e.addClass(t,n)})}function c(e,t,n){z(t,function(t){e.removeClass(t,n)})}function p(e){return function(t,n){n.addClass&&(u(e,t,n.addClass),n.addClass=null),n.removeClass&&(c(e,t,n.removeClass),n.removeClass=null)}}function d(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||ee;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=ee},e.$$prepared=!0}return e}function f(e,t){h(e,t),g(e,t)}function h(e,t){t.from&&(e.css(t.from),t.from=null)}function g(e,t){t.to&&(e.css(t.to),t.to=null)}function v(e,t,n){var i=t.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),a=(i.removeClass||"")+" "+(r.removeClass||""),s=m(e.attr("class"),o,a);r.preparationClasses&&(i.preparationClasses=w(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var l=i.domOperation!==ee?i.domOperation:null;return U(i,r),l&&(i.domOperation=l),s.addClass?i.addClass=s.addClass:i.addClass=null,s.removeClass?i.removeClass=s.removeClass:i.removeClass=null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function m(e,t,n){function i(e){Q(e)&&(e=e.split(" "));var t={};return z(e,function(e){e.length&&(t[e]=!0)}),t}var r={};e=i(e),t=i(t),z(t,function(e,t){r[t]=1}),n=i(n),z(n,function(e,t){r[t]=1===r[t]?null:-1});var o={addClass:"",removeClass:""};return z(r,function(t,n){var i,r;1===t?(i="addClass",r=!e[n]||e[n+j]):-1===t&&(i="removeClass",r=e[n]||e[n+F]),r&&(o[i].length&&(o[i]+=" "),o[i]+=n)}),o}function y(e){return e instanceof Z?e[0]:e}function E(e,t,n){var i="";t&&(i=o(t,V,!0)),n.addClass&&(i=w(i,o(n.addClass,F))),n.removeClass&&(i=w(i,o(n.removeClass,j))),i.length&&(n.preparationClasses=i,e.addClass(i))}function b(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function x(e,t){var n=t?"-"+t+"s":"";return S(e,[ae,n]),[ae,n]}function C(e,t){var n=t?"paused":"",i=k+ie;return S(e,[i,n]),[i,n]}function S(e,t){var n=t[0],i=t[1];e.style[n]=i}function w(e,t){return e?t?e+" "+t:e:t}function T(e){return[oe,e+"s"]}function A(e,t){return[t?re:ae,e+"s"]}function L(e,t,n){var i=Object.create(null),r=e.getComputedStyle(t)||{};return z(n,function(e,t){var n=r[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=I(n)),0===n&&(n=null),i[t]=n}}),i}function I(e){var t=0,n=e.split(/\s*,\s*/);return z(n,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function N(e){return 0===e||null!=e}function R(e,t){var n=_,i=e+"s";return t?n+=te:i+=" linear all",[n,i]}function O(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function P(e,t,n){z(n,function(n){e[n]=W(e[n])?e[n]:t.style.getPropertyValue(n)})}var _,D,k,M,$=1,F="-add",j="-remove",V="ng-",G="ng-animate",H="$$ngAnimateChildren";void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?("-webkit-",_="WebkitTransition",D="webkitTransitionEnd transitionend"):(_="transition",D="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?("-webkit-",k="WebkitAnimation",M="webkitAnimationEnd animationend"):(k="animation",M="animationend");var B,U,z,q,W,K,Y,X,Q,J,Z,ee,te="Duration",ne="TimingFunction",ie="PlayState",re=k+"Delay",oe=k+te,ae=_+"Delay",se=_+te,le=t.$$minErr("ng"),ue=["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),o=0;o<t.length;o++)t[o]();r||e(function(){r||n()})}}var i,r;return i=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=e(function(){r=null,t(),n()})},t}],ce=["$interpolate",function(e){return{link:function(t,n,i){function r(e){e="on"===e||"true"===e,n.data(H,e)}var o=i.ngAnimateChildren;Q(o)&&0===o.length?n.data(H,!0):(r(e(o)(t)),i.$observe("ngAnimateChildren",r))}}}],pe="$$animateCss",de=1e3,fe=3,he=1.5,ge={transitionDuration:se,transitionDelay:ae,transitionProperty:_+"Property",animationDuration:oe,animationDelay:re,animationIterationCount:k+"IterationCount"},ve={transitionDuration:se,transitionDelay:ae,animationDuration:oe,animationDelay:re},me=["$animateProvider",function(e){var t=O(),n=O();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,i,s,l,u,c,v,m){function E(e,t){var n="$$ngAnimateParentKey",i=e.parentNode;return(i[n]||(i[n]=++G))+"-"+e.getAttribute("class")+"-"+t}function b(n,i,r,o){var a=t.get(r);return a||(a=L(e,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(r,a),a}function w(r,a,s,l){var u;if(t.count(s)>0&&!(u=n.get(s))){var c=o(a,"-stagger");i.addClass(r,c),u=L(e,r,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),i.removeClass(r,c),n.put(s,u)}return u||{}}function I(e){H.push(e),v.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=u(),i=0;i<H.length;i++)H[i](e);H.length=0})}function O(e,t,n){var i=b(e,t,n,ge),r=i.animationDelay,o=i.transitionDelay;return i.maxDelay=r&&o?Math.max(r,o):r||o,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var $=p(i),G=0,H=[];return function(e,n){function u(){v()}function p(){v(!0)}function v(t){if(!(Y||Q&&X)){Y=!0,X=!1,U.$$skipPreparationClasses||i.removeClass(e,be),i.removeClass(e,Ce),C(K,!1),x(K,!1),z(se,function(e){K.style[e[0]]=""}),$(e,U),f(e,U),Object.keys(W).length&&z(W,function(e,t){e?K.style.setProperty(t,e):K.style.removeProperty(t)}),U.onDone&&U.onDone(),ce&&ce.length&&e.off(ce.join(" "),G);var n=e.data(pe);n&&(l.cancel(n[0].timer),e.removeData(pe)),J&&J.complete(!t)}}function b(e){ke.blockTransition&&x(K,e),ke.blockKeyframeAnimation&&C(K,!!e)}function L(){return J=new s({end:u,cancel:p}),I(ee),v(),{$$willAnimate:!1,start:function(){return J},end:u}}function G(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(fe));Math.max(n-ae,0)>=ie&&i>=re&&(Q=!0,v())}function H(){function t(){if(!Y){if(b(!1),z(se,function(e){var t=e[0],n=e[1];K.style[t]=n}),$(e,U),i.addClass(e,Ce),ke.recalculateTimingStyles){if(xe=K.getAttribute("class")+" "+be,we=E(K,xe),_e=O(K,xe,we),De=_e.maxDelay,te=Math.max(De,0),0===(re=_e.maxDuration))return void v();ke.hasTransitions=_e.transitionDuration>0,ke.hasAnimations=_e.animationDuration>0}if(ke.applyAnimationDelay&&(De="boolean"!=typeof U.delay&&N(U.delay)?parseFloat(U.delay):De,te=Math.max(De,0),_e.animationDelay=De,Me=A(De,!0),se.push(Me),K.style[Me[0]]=Me[1]),ie=te*de,oe=re*de,U.easing){var t,r=U.easing;ke.hasTransitions&&(t=_+ne,se.push([t,r]),K.style[t]=r),ke.hasAnimations&&(t=k+ne,se.push([t,r]),K.style[t]=r)}_e.transitionDuration&&ce.push(D),_e.animationDuration&&ce.push(M),ae=Date.now();var o=ie+he*oe,a=ae+o,s=e.data(pe)||[],u=!0;if(s.length){var c=s[0];u=a>c.expectedEndTime,u?l.cancel(c.timer):s.push(v)}if(u){var p=l(n,o,!1);s[0]={timer:p,expectedEndTime:a},s.push(v),e.data(pe,s)}ce.length&&e.on(ce.join(" "),G),U.to&&(U.cleanupStyles&&P(W,K,Object.keys(U.to)),g(e,U))}}function n(){var t=e.data(pe);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(pe)}}if(!Y){if(!K.parentNode)return void v();var r=function(e){if(Q)X&&e&&(X=!1,v());else if(X=!e,_e.animationDuration){var t=C(K,X);X?se.push(t):a(se,t)}},o=Oe>0&&(_e.transitionDuration&&0===Te.transitionDuration||_e.animationDuration&&0===Te.animationDuration)&&Math.max(Te.animationDelay,Te.transitionDelay);o?l(t,Math.floor(o*Oe*de),!1):t(),Z.resume=function(){r(!0)},Z.pause=function(){r(!1)}}}var U=n||{};U.$$prepared||(U=d(B(U)));var W={},K=y(e);if(!K||!K.parentNode||!m.enabled())return L();var Y,X,Q,J,Z,te,ie,re,oe,ae,se=[],le=e.attr("class"),ue=r(U),ce=[];if(0===U.duration||!c.animations&&!c.transitions)return L();var ge=U.event&&q(U.event)?U.event.join(" "):U.event,me=ge&&U.structural,ye="",Ee="";me?ye=o(ge,V,!0):ge&&(ye=ge),U.addClass&&(Ee+=o(U.addClass,F)),U.removeClass&&(Ee.length&&(Ee+=" "),Ee+=o(U.removeClass,j)),U.applyClassesEarly&&Ee.length&&$(e,U);var be=[ye,Ee].join(" ").trim(),xe=le+" "+be,Ce=o(be,"-active"),Se=ue.to&&Object.keys(ue.to).length>0;if(!((U.keyframeStyle||"").length>0||Se||be))return L();var we,Te;if(U.stagger>0){var Ae=parseFloat(U.stagger);Te={transitionDelay:Ae,animationDelay:Ae,transitionDuration:0,animationDuration:0}}else we=E(K,xe),Te=w(K,be,we,ve);U.$$skipPreparationClasses||i.addClass(e,be);var Le;if(U.transitionStyle){var Ie=[_,U.transitionStyle];S(K,Ie),se.push(Ie)}if(U.duration>=0){Le=K.style[_].length>0;var Ne=R(U.duration,Le);S(K,Ne),se.push(Ne)}if(U.keyframeStyle){var Re=[k,U.keyframeStyle];S(K,Re),se.push(Re)}var Oe=Te?U.staggerIndex>=0?U.staggerIndex:t.count(we):0,Pe=0===Oe;Pe&&!U.skipBlocking&&x(K,9999);var _e=O(K,xe,we),De=_e.maxDelay;te=Math.max(De,0),re=_e.maxDuration;var ke={};if(ke.hasTransitions=_e.transitionDuration>0,ke.hasAnimations=_e.animationDuration>0,ke.hasTransitionAll=ke.hasTransitions&&"all"===_e.transitionProperty,ke.applyTransitionDuration=Se&&(ke.hasTransitions&&!ke.hasTransitionAll||ke.hasAnimations&&!ke.hasTransitions),ke.applyAnimationDuration=U.duration&&ke.hasAnimations,ke.applyTransitionDelay=N(U.delay)&&(ke.applyTransitionDuration||ke.hasTransitions),ke.applyAnimationDelay=N(U.delay)&&ke.hasAnimations,ke.recalculateTimingStyles=Ee.length>0,(ke.applyTransitionDuration||ke.applyAnimationDuration)&&(re=U.duration?parseFloat(U.duration):re,ke.applyTransitionDuration&&(ke.hasTransitions=!0,_e.transitionDuration=re,Le=K.style[_+"Property"].length>0,se.push(R(re,Le))),ke.applyAnimationDuration&&(ke.hasAnimations=!0,_e.animationDuration=re,se.push(T(re)))),0===re&&!ke.recalculateTimingStyles)return L();if(null!=U.delay){var Me;"boolean"!=typeof U.delay&&(Me=parseFloat(U.delay),te=Math.max(Me,0)),ke.applyTransitionDelay&&se.push(A(Me)),ke.applyAnimationDelay&&se.push(A(Me,!0))}return null==U.duration&&_e.transitionDuration>0&&(ke.recalculateTimingStyles=ke.recalculateTimingStyles||Pe),ie=te*de,oe=re*de,U.skipBlocking||(ke.blockTransition=_e.transitionDuration>0,ke.blockKeyframeAnimation=_e.animationDuration>0&&Te.animationDelay>0&&0===Te.animationDuration),U.from&&(U.cleanupStyles&&P(W,K,Object.keys(U.from)),h(e,U)),ke.blockTransition||ke.blockKeyframeAnimation?b(re):U.skipBlocking||x(K,!1),{$$willAnimate:!0,end:u,start:function(){if(!Y)return Z={end:u,cancel:p,resume:null,pause:null},J=new s(Z),I(H),J}}}}]}],ye=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,r,o,a,s,l,u){function c(e){return e.replace(/\bng-\S+\b/g,"")}function p(e,t){return Q(e)&&(e=e.split(" ")),Q(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function d(t,r,a){function s(e){var t={},n=y(e).getBoundingClientRect();return z(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=g.scrollTop;break;case"left":i+=g.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function l(e){return e.attr("class")||""}function u(){var t=c(l(a)),n=p(t,h),r=p(h,t),o=e(f,{to:s(a),addClass:"ng-anchor-in "+n,removeClass:i+" "+r,delay:!0});return o.$$willAnimate?o:null}function d(){f.remove(),r.removeClass(n),a.removeClass(n)}var f=Z(y(r).cloneNode(!0)),h=c(l(f));r.addClass(n),a.addClass(n),f.addClass("ng-anchor"),m.append(f);var v,E=function(){var t=e(f,{addClass:i,delay:!0,from:s(r)});return t.$$willAnimate?t:null}();if(!E&&!(v=u()))return d();var b=E||v;return{start:function(){function e(){n&&n.end()}var t,n=b.start();return n.done(function(){if(n=null,!v&&(v=u()))return n=v.start(),n.done(function(){n=null,d(),t.complete()}),n;d(),t.complete()}),t=new o({end:e,cancel:e})}}}function f(e,t,n,i){var r=h(e),a=h(t),s=[];if(z(i,function(e){var t=e.out,i=e.in,r=d(n,t,i);r&&s.push(r)}),r||a||0!==s.length)return{start:function(){function e(){z(t,function(e){e.end()})}var t=[];r&&t.push(r.start()),a&&t.push(a.start()),z(s,function(e){t.push(e.start())});var n=new o({end:e,cancel:e});return o.all(t,function(e){n.complete(e)}),n}}}function h(t){var n=t.element,i=t.options||{};t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=w(i.event,i.preparationClasses));var r=e(n,i);return r.$$willAnimate?r:null}if(!s.animations&&!s.transitions)return ee;var g=u[0].body,v=y(a),m=Z(t(v)||g.contains(v)?v:g);return function(e){return e.from&&e.to?f(e.from,e.to,e.classes,e.anchors):h(e)}}]}],Ee=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function r(n){n=q(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!r[a]&&(i.push(t.get(s)),r[a]=!0)}return i}var o=p(i);return function(e,t,i,a){function s(){a.domOperation(),o(e,a)}function l(){h=!0,s(),f(e,a)}function u(e,t,i,r,o){var a;switch(i){case"animate":a=[t,r.from,r.to,o];break;case"setClass":a=[t,m,y,o];break;case"addClass":a=[t,m,o];break;case"removeClass":a=[t,y,o];break;default:a=[t,o]}a.push(r);var s=e.apply(e,a);if(s)if(Y(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(Y(s))return s;return ee}function c(e,t,i,r,o){var a=[];return z(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,l=function(e){a||(a=!0,(o||ee)(e),r.complete(!e))};return r=new n({end:function(){l()},cancel:function(){l(!0)}}),o=u(s,e,t,i,function(e){l(!1===e)}),r})}),a}function p(e,t,i,r,o){var a=c(e,t,i,r,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=c(e,"removeClass",i,r,"beforeRemoveClass"),l=c(e,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=c(e,"removeClass",i,r,"removeClass"),l=c(e,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(e){var t=[];return a.length&&z(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){z(t,function(t){e?t.cancel():t.end()})}}}var h=!1;3===arguments.length&&X(i)&&(a=i,i=null),a=d(a),i||(i=e.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var g,v,m=a.addClass,y=a.removeClass,E=r(i);if(E.length){var b,x;"leave"===t?(x="leave",b="afterLeave"):(x="before"+t.charAt(0).toUpperCase()+t.substr(1),b=t),"enter"!==t&&"move"!==t&&(g=p(e,t,a,E,x)),v=p(e,t,a,E,b)}if(g||v){var C;return{$$willAnimate:!0,end:function(){return C?C.end():(l(),C=new n,C.complete(!0)),C},start:function(){function e(e){l(e),C.complete(e)}function t(t){h||((i||ee)(t),e(t))}if(C)return C;C=new n;var i,r=[];return g&&r.push(function(e){i=g(e)}),r.length?r.push(function(e){s(),e(!0)}):s(),v&&r.push(function(e){i=v(e)}),C.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(r,e),C}}}}}]}],be=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,i=t.event,r=t.options,o=t.classes;return e(n,i,o,r)}return function(e){if(e.from&&e.to){var i=n(e.from),r=n(e.to);if(!i&&!r)return;return{start:function(){function e(){return function(){z(o,function(e){e.end()})}}function n(e){a.complete(e)}var o=[];i&&o.push(i.start()),r&&o.push(r.start()),t.all(o,n);var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],xe="data-ng-animate",Ce="$ngAnimatePin",Se=["$animateProvider",function(t){function i(e){if(!e)return null;var t=e.split(h),n=Object.create(null);return z(t,function(e){n[e]=!0}),n}function r(e,t){if(e&&t){var n=i(t);return e.split(h).some(function(e){return n[e]})}}function o(e,t,n){return g[e].some(function(e){return e(t,n)})}function a(e,t){var n=(e.addClass||"").length>0,i=(e.removeClass||"").length>0;return t?n&&i:n||i}var u=1,c=2,h=" ",g=this.rules={skip:[],cancel:[],join:[]};g.join.push(function(e,t){return!e.structural&&a(e)}),g.skip.push(function(e,t){return!e.structural&&!a(e)}),g.skip.push(function(e,t){return"leave"===t.event&&e.structural}),g.skip.push(function(e,t){return t.structural&&t.state===c&&!e.structural}),g.cancel.push(function(e,t){return t.structural&&e.structural}),g.cancel.push(function(e,t){return t.state===c&&e.structural}),g.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,i=e.removeClass,o=t.addClass,a=t.removeClass;return!(J(n)&&J(i)||J(o)&&J(a))&&(r(n,a)||r(i,o))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(i,r,h,g,m,x,C,S,w,T,A){function L(){var e=!1;return function(t){e?t():r.$$postDigest(function(){e=!0,t()})}}function I(e,t){return v(e,t,{})}function N(e,t,n){var i=[],r=Y[n];return r&&z(r,function(r){ae.call(r.node,t)?i.push(r.callback):"leave"===n&&ae.call(r.node,e)&&i.push(r.callback)}),i}function R(e,t,n){var i=l(t);return e.filter(function(e){return!(e.node===i&&(!n||e.callback===n))})}function O(e,t){"close"!==e||t.parentNode||se.off(t)}function P(e,t,n){function l(e,t,n,r){T(function(){var e=N(S,m,t);e.length?i(function(){z(e,function(e){e(g,n,r)}),O(n,m)}):O(n,m)}),e.progress(t,n,r)}function p(e){b(g,h),oe(g,h),f(g,h),h.domOperation(),w.complete(!e)}var h=B(n),g=s(e),m=y(g),S=m&&m.parentNode;h=d(h);var w=new C,T=L();if(q(h.addClass)&&(h.addClass=h.addClass.join(" ")),h.addClass&&!Q(h.addClass)&&(h.addClass=null),q(h.removeClass)&&(h.removeClass=h.removeClass.join(" ")),h.removeClass&&!Q(h.removeClass)&&(h.removeClass=null),h.from&&!X(h.from)&&(h.from=null),h.to&&!X(h.to)&&(h.to=null),!(V&&m&&ie(m,t,n)&&re(m,h)))return p(),w;var R=["enter","move","leave"].indexOf(t)>=0,P=A(),$=P||j.get(m),G=!$&&F.get(m)||{},H=!!G.state;if($||H&&G.state===u||($=!k(m,S,t)),$)return P&&l(w,t,"start"),p(),P&&l(w,t,"close"),w;R&&_(m);var U={structural:R,element:g,event:t,addClass:h.addClass,removeClass:h.removeClass,close:p,options:h,runner:w};if(H){if(o("skip",U,G))return G.state===c?(p(),w):(v(g,G,U),G.runner);if(o("cancel",U,G))if(G.state===c)G.runner.end();else{if(!G.structural)return v(g,G,U),G.runner;G.close()}else{if(o("join",U,G)){if(G.state!==c)return E(g,R?t:null,h),t=U.event=G.event,h=v(g,G,U),G.runner;I(g,U)}}}else I(g,U);var W=U.structural;if(W||(W="animate"===U.event&&Object.keys(U.options.to||{}).length>0||a(U)),!W)return p(),D(m),w;var K=(G.counter||0)+1;return U.counter=K,M(m,u,U),r.$$postDigest(function(){g=s(e);var n=F.get(m),i=!n;n=n||{};var r=g.parent()||[],o=r.length>0&&("animate"===n.event||n.structural||a(n));if(i||n.counter!==K||!o)return i&&(oe(g,h),f(g,h)),(i||R&&n.event!==t)&&(h.domOperation(),w.end()),void(o||D(m));t=!n.structural&&a(n,!0)?"setClass":n.event,M(m,c);var u=x(g,t,n.options);w.setHost(u),l(w,t,"start",{}),u.done(function(e){p(!e);var n=F.get(m);n&&n.counter===K&&D(m),l(w,t,"close",{})})}),w}function _(e){var t=e.querySelectorAll("["+xe+"]");z(t,function(e){var t=parseInt(e.getAttribute(xe),10),n=F.get(e);if(n)switch(t){case c:n.runner.end();case u:F.delete(e)}})}function D(e){e.removeAttribute(xe),F.delete(e)}function k(e,t,n){var i,r=g[0].body,o=y(h),a=e===r||"HTML"===e.nodeName,s=e===o,l=!1,u=j.get(e),c=Z.data(e,Ce);for(c&&(t=y(c));t&&(s||(s=t===o),t.nodeType===$);){var p=F.get(t)||{};if(!l){var d=j.get(t);if(!0===d&&!1!==u){u=!0;break}!1===d&&(u=!1),l=p.structural}if(J(i)||!0===i){var f=Z.data(t,H);W(f)&&(i=f)}if(l&&!1===i)break;if(a||(a=t===r),a&&s)break;t=s||!(c=Z.data(t,Ce))?t.parentNode:y(c)}return(!l||i)&&!0!==u&&s&&a}function M(e,t,n){n=n||{},n.state=t,e.setAttribute(xe,t);var i=F.get(e),r=i?U(i,n):n;F.set(e,r)}var F=new m,j=new m,V=null,G=r.$watch(function(){return 0===S.totalPendingRequests},function(e){e&&(G(),r.$$postDigest(function(){r.$$postDigest(function(){null===V&&(V=!0)})}))}),Y=Object.create(null),ee=t.customFilter(),te=t.classNameFilter(),ne=function(){return!0},ie=ee||ne,re=te?function(e,t){var n=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return te.test(n)}:ne,oe=p(w),ae=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},se={on:function(e,t,n){var i=l(t);Y[e]=Y[e]||[],Y[e].push({node:i,callback:n}),Z(t).on("$destroy",function(){F.get(i)||se.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||Q(arguments[0])){var i=Y[e];i&&(Y[e]=1===arguments.length?null:R(i,t,n))}else{t=arguments[0];for(var r in Y)Y[r]=R(Y[r],t)}},pin:function(e,t){n(K(e),"element","not an element"),n(K(t),"parentElement","not an element"),e.data(Ce,t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,P(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!V;else{if(K(e)){var i=y(e);1===n?t=!j.get(i):j.set(i,!t)}else t=V=!!e}return t}};return se}]}],we=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function r(e){return e.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(e,s,l,u,c,h){function g(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,o=n.parentNode;r.set(n,e);for(var a;o;){if(a=r.get(o)){a.processed||(a=t(a));break}o=o.parentNode}return(a||i).children.push(e),e}var n,i={children:[]},r=new c;for(n=0;n<e.length;n++){var o=e[n];r.set(o.domNode,e[n]={domNode:o.domNode,fn:o.fn,children:[]})}for(n=0;n<e.length;n++)t(e[n]);return function(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);var r=i.length,o=0,a=[];for(t=0;t<i.length;t++){var s=i[t];r<=0&&(r=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){o++,i.push(e)}),r--}return a.length&&n.push(a),n}(i)}var v=[],m=p(e);return function(c,p,E){function b(e){var t="["+o+"]",n=e.hasAttribute(o)?[e]:e.querySelectorAll(t),i=[];return z(n,function(e){var t=e.getAttribute(o);t&&t.length&&i.push(e)}),i}function x(e){var t=[],n={};z(e,function(e,i){var r=e.element,a=y(r),s=e.event,l=["enter","move"].indexOf(s)>=0,u=e.structural?b(a):[];if(u.length){var c=l?"to":"from";z(u,function(e){var t=e.getAttribute(o);n[t]=n[t]||{},n[t][c]={animationID:i,element:Z(e)}})}else t.push(e)});var i={},r={};return z(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var l=a?a.animationID:s.animationID,u=l.toString();return void(i[u]||(i[u]=!0,t.push(e[l])))}var c=e[a.animationID],p=e[s.animationID],d=a.animationID.toString();if(!r[d]){var f=r[d]={structural:!0,beforeStart:function(){c.beforeStart(),p.beforeStart()},close:function(){c.close(),p.close()},classes:C(c.classes,p.classes),from:c,to:p,anchors:[]};f.classes.length?t.push(f):(t.push(c),t.push(p))}r[d].anchors.push({out:a.element,in:s.element})}),t}function C(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var o=0;o<t.length;o++)if(r===t[o]){n.push(r);break}}return n.join(" ")}function S(e){for(var t=a.length-1;t>=0;t--){var n=a[t],i=l.get(n),r=i(e);if(r)return r}}function w(){c.addClass(G),O&&e.addClass(c,O),P&&(e.removeClass(c,P),P=null)}function T(e,t){function n(e){var n=r(e);n&&n.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function A(){var e=r(c);!e||"leave"===p&&E.$$domOperationFired||e.end()}function L(t){c.off("$destroy",A),n(c),m(c,E),f(c,E),E.domOperation(),O&&e.removeClass(c,O),c.removeClass(G),N.complete(!t)}E=d(E);var I=["enter","move","leave"].indexOf(p)>=0,N=new u({end:function(){L()},cancel:function(){L(!0)}});if(!a.length)return L(),N;t(c,N);var R=i(c.attr("class"),i(E.addClass,E.removeClass)),O=E.tempClasses;O&&(R+=" "+O,E.tempClasses=null);var P;return I&&(P="ng-"+p+"-prepare",e.addClass(c,P)),v.push({element:c,classes:R,event:p,structural:I,options:E,beforeStart:w,close:L}),c.on("$destroy",A),v.length>1?N:(s.$$postDigest(function(){var e=[];z(v,function(t){r(t.element)?e.push(t):t.close()}),v.length=0;var t=x(e),n=[];z(t,function(e){n.push({domNode:y(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close;if(r(e.anchors?e.from.element||e.to.element:e.element)){var i=S(e);i&&(t=i.start)}if(t){var o=t();o.done(function(e){n(!e)}),T(e,o)}else n()}})}),h(g(n))}),N)}}]}],Te=["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,i,r,o){var a,s;t.$watchCollection(i.ngAnimateSwap||i.for,function(i){a&&e.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=t.$new(),o(s,function(t){a=t,e.enter(t,null,n)}))})}}}];t.module("ngAnimate",[],function(){ee=t.noop,B=t.copy,U=t.extend,Z=t.element,z=t.forEach,q=t.isArray,Q=t.isString,X=t.isObject,J=t.isUndefined,W=t.isDefined,Y=t.isFunction,K=t.isElement}).info({angularVersion:"1.6.6"}).directive("ngAnimateSwap",Te).directive("ngAnimateChildren",ce).factory("$$rAFScheduler",ue).provider("$$animateQueue",Se).provider("$$animation",we).provider("$animateCss",me).provider("$$animateCssDriver",ye).provider("$$animateJs",Ee).provider("$$animateJsDriver",be)}(window,window.angular)},function(e,t,n){n(275),e.exports="ui.bootstrap"},function(e,t){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,i){var r=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,o,a){function s(e){return v?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function l(){o.hasClass("collapse")&&o.hasClass("in")||t.resolve(d(i)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(o,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:s(o[0])}).start().finally(u):e.addClass(o,"in",{css:{overflow:"hidden"},to:s(o[0])}).then(u)},angular.noop)}function u(){o.removeClass("collapsing").addClass("collapse").css(m),f(i)}function c(){if(!o.hasClass("collapse")&&!o.hasClass("in"))return p();t.resolve(h(i)).then(function(){o.css(s(o[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),r?r(o,{removeClass:"in",to:y}).start().finally(p):e.removeClass(o,"in",{to:y}).then(p)},angular.noop)}function p(){o.css(y),o.removeClass("collapsing").addClass("collapse"),g(i)}var d=n(a.expanding),f=n(a.expanded),h=n(a.collapsing),g=n(a.collapsed),v=!1,m={},y={};!function(){v=!!("horizontal"in a),v?(m={width:""},y={width:"0"}):(m={height:""},y={height:"0"}),i.$eval(a.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(m)}(),i.$watch(a.uibCollapse,function(e){e?c():l()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers)&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){t.addClass("panel"),i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var r="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=r+"-tab",e.panelId=r+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.uibAccordionTransclude]},function(e){if(e){var n=angular.element(t[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));n.html(""),n.append(e)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,i,r){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var o=angular.isDefined(n.dismissOnTimeout)?i(n.dismissOnTimeout)(e.$parent):null;o&&r(function(){e.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,i,r){var o=r[0],a=r[1],s=e(i.uibUncheckable);n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(o.activeClass,angular.equals(a.$modelValue,t.$eval(i.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!i.disabled){var e=n.hasClass(o.activeClass);e&&!angular.isDefined(i.uncheckable)||t.$apply(function(){a.$setViewValue(e?null:t.$eval(i.uibBtnRadio)),a.$render()})}}),i.uibUncheckable&&t.$watch(s,function(e){i.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,i){function r(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(t,n){return angular.isDefined(t)?e.$eval(t):n}var s=i[0],l=i[1];t.find("input").css({display:"none"}),l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,r()))},t.on(s.toggleEvent,function(){n.disabled||e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?o():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,i,r){function o(e){for(var t=0;t<g.length;t++)g[t].slide.active=t===e}function a(n,i,a){if(!y){if(angular.extend(n,{direction:a}),angular.extend(g[m].slide||{},{direction:a}),r.enabled(t)&&!e.$currentTransition&&g[i].element&&h.slides.length>1){g[i].element.data(v,n.direction);var s=h.getCurrentIndex();angular.isNumber(s)&&g[s].element&&g[s].element.data(v,n.direction),e.$currentTransition=!0,r.on("addClass",g[i].element,function(t,n){"close"===n&&(e.$currentTransition=null,r.off("addClass",t))})}e.active=n.index,m=n.index,o(i),c()}}function s(e){for(var t=0;t<g.length;t++)if(g[t].slide===e)return t}function l(){d&&(n.cancel(d),d=null)}function u(t){t.length||(e.$currentTransition=null)}function c(){l();var t=+e.interval;!isNaN(t)&&t>0&&(d=n(p,t))}function p(){var t=+e.interval;f&&!isNaN(t)&&t>0&&g.length?e.next():e.pause()}var d,f,h=this,g=h.slides=e.slides=[],v="uib-slideDirection",m=e.active,y=!1;t.addClass("carousel"),h.addSlide=function(t,n){g.push({slide:t,element:n}),g.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===g.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),m=t.index,e.active=t.index,o(m),h.select(g[s(t)]),1===g.length&&e.play())},h.getCurrentIndex=function(){for(var e=0;e<g.length;e++)if(g[e].slide.index===m)return e},h.next=e.next=function(){var t=(h.getCurrentIndex()+1)%g.length;return 0===t&&e.noWrap()?void e.pause():h.select(g[t],"next")},h.prev=e.prev=function(){var t=h.getCurrentIndex()-1<0?g.length-1:h.getCurrentIndex()-1;return e.noWrap()&&t===g.length-1?void e.pause():h.select(g[t],"prev")},h.removeSlide=function(t){var n=s(t);g.splice(n,1),g.length>0&&m===n?n>=g.length?(m=g.length-1,e.active=m,o(m),h.select(g[g.length-1])):(m=n,e.active=m,o(m),h.select(g[n])):m>n&&(m--,e.active=m),0===g.length&&(m=null,e.active=null)},h.select=e.select=function(t,n){var i=s(t.slide);void 0===n&&(n=i>h.getCurrentIndex()?"next":"prev"),t.slide.index===m||e.$currentTransition||a(t.slide,i,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===g.length-1&&e.noWrap()},e.pause=function(){e.noPause||(f=!1,l())},e.play=function(){f||(f=!0,c())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",function(){y=!0,l()}),e.$watch("noTransition",function(e){r.enabled(t,!e)}),e.$watch("interval",c),e.$watchCollection("slides",u),e.$watch("active",function(e){if(angular.isNumber(e)&&m!==e){for(var t=0;t<g.length;t++)if(g[t].slide.index===e){e=t;break}g[e]&&(o(e),h.select(g[e]),m=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,n,i,r){n.addClass("item"),r.addSlide(t,n),t.$on("$destroy",function(){r.removeSlide(t)}),t.$watch("active",function(t){e[t?"addClass":"removeClass"](n,"active")})}}}]).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}return{beforeAddClass:function(n,i,r){if("active"===i){var o=!1,a=n.data("uib-slideDirection"),s="next"===a?"left":"right",l=t.bind(this,n,s+" "+a,r);return n.addClass(a),e(n,{addClass:s}).start().done(l),function(){o=!0}}r()},beforeRemoveClass:function(n,i,r){if("active"===i){var o=!1,a=n.data("uib-slideDirection"),s="next"===a?"left":"right",l=t.bind(this,n,s,r);return e(n,{addClass:s}).start().done(l),function(){o=!0}}r()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(e,t,n,i,r){function o(e){return r(y,{key:e},!0)[0]}function a(e){var t=[],n=e.split(""),r=e.indexOf("'");if(r>-1){var o=!1;e=e.split("");for(var a=r;a<e.length;a++)o?("'"===e[a]&&(a+1<e.length&&"'"===e[a+1]?(e[a+1]="$",n[a+1]=""):(n[a]="",o=!1)),e[a]="$"):"'"===e[a]&&(e[a]="$",n[a]="",o=!0);e=e.join("")}return angular.forEach(y,function(i){var r=e.indexOf(i.key);if(r>-1){e=e.split(""),n[r]="("+i.regex+")",e[r]="$";for(var o=r+1,a=r+i.key.length;o<a;o++)n[o]="",e[o]="$";e=e.join(""),t.push({index:r,key:i.key,apply:i.apply,matcher:i.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:i(t,"index")}}function s(e){for(var t,n,i=[],r=0;r<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(r))(r+1>=e.length||"'"!==e.charAt(r+1))&&(i.push(l(e,n,r)),n=null);else if(r===e.length)for(;n<e.length;)t=u(e,n),i.push(t),n=t.endIdx;r++}else"'"!==e.charAt(r)?(t=u(e,r),i.push(t.parser),r=t.endIdx):(n=r,r++);return i}function l(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function u(e,t){for(var n=e.substr(t),i=0;i<y.length;i++)if(new RegExp("^"+y[i].key).test(n)){var r=y[i];return{endIdx:t+r.key.length,parser:r.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function c(e,t,n){return!(n<1)&&(1===t&&n>28?29===n&&(e%4==0&&e%100!=0||e%400==0):3!==t&&5!==t&&8!==t&&10!==t||n<31)}function p(e){return parseInt(e,10)}function d(e,t){return e&&t?v(e,t):e}function f(e,t){return e&&t?v(e,t,!0):e}function h(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function g(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function v(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return g(e,n*(h(t,i)-i))}var m,y,E=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){m=t.id,this.parsers={},this.formatters={},y=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return/^[0-9]$/.test(e.getMonth())?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return/^[1-9]$/.test(e.getDate())?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],i=t[2],r=t[3];this.hours+=p(n+i),this.minutes+=p(n+r)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],angular.version.major>=1&&angular.version.minor>4&&y.push({key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){var t=o(e);return t&&t.apply||null},this.overrideParser=function(e,t){var n=o(e);n&&angular.isFunction(t)&&(this.parsers={},n.apply=t)}.bind(this),this.filter=function(e,n){return angular.isDate(e)&&!isNaN(e)&&n?(n=t.DATETIME_FORMATS[n]||n,t.id!==m&&this.init(),this.formatters[n]||(this.formatters[n]=s(n)),this.formatters[n].reduce(function(t,n){return t+n(e)},"")):""},this.parse=function(n,i,r){if(!angular.isString(n)||!i)return n;i=t.DATETIME_FORMATS[i]||i,i=i.replace(E,"\\$&"),t.id!==m&&this.init(),this.parsers[i]||(this.parsers[i]=a(i));var o=this.parsers[i],s=o.regex,l=o.map,u=n.match(s),p=!1;if(u&&u.length){var d,f;angular.isDate(r)&&!isNaN(r.getTime())?d={year:r.getFullYear(),month:r.getMonth(),date:r.getDate(),hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds(),milliseconds:r.getMilliseconds()}:(r&&e.warn("dateparser:","baseDate is not a valid date"),d={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var h=1,g=u.length;h<g;h++){var v=l[h-1];"Z"===v.matcher&&(p=!0),v.apply&&v.apply.call(d,u[h])}var y=p?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,b=p?Date.prototype.setUTCHours:Date.prototype.setHours;return c(d.year,d.month,d.date)&&(!angular.isDate(r)||isNaN(r.getTime())||p?(f=new Date(0),y.call(f,d.year,d.month,d.date),b.call(f,d.hours||0,d.minutes||0,d.seconds||0,d.milliseconds||0)):(f=new Date(r),y.call(f,d.year,d.month,d.date),b.call(f,d.hours,d.minutes,d.seconds,d.milliseconds))),f}},this.toTimezone=d,this.fromTimezone=f,this.timezoneToOffset=h,this.addDateMinutes=g,this.convertTimezoneToLocal=v}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,r){function o(e,t,n){l.push(e),u.push({scope:e,element:t}),h.forEach(function(t,n){a(t,e)}),e.$on("$destroy",s)}function a(t,i){var r=t.match(n),o=i.$eval(r[1]),a=r[2],s=c[t];if(!s){var l=function(t){var n=null;u.some(function(e){if(e.scope.$eval(d)===t)return n=e,!0}),s.lastActivated!==n&&(s.lastActivated&&e.removeClass(s.lastActivated.element,o),n&&e.addClass(n.element,o),s.lastActivated=n)};c[t]=s={lastActivated:null,scope:i,watchFn:l,compareWithExp:a,watcher:i.$watch(a,l)}}s.watchFn(i.$eval(a))}function s(e){var t=e.targetScope,n=l.indexOf(t);if(l.splice(n,1),u.splice(n,1),l.length){var i=l[0];angular.forEach(c,function(e){e.scope===t&&(e.watcher=i.$watch(e.compareWithExp,e.watchFn),e.scope=i)})}else c={}}var l=[],u=[],c={},p=r.uibIsClass.match(t),d=p[2],f=p[1],h=f.split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,i,r,o,a,s,l,u,c,p){function d(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}function f(t){var n;if(angular.version.minor<6)n=t.$options||e.datepickerOptions.ngModelOptions||l.ngModelOptions||{},n.getOption=function(e){return n[e]};else{var i=t.$options.getOption("timezone")||(e.datepickerOptions.ngModelOptions?e.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);n=t.$options.createChild(l.ngModelOptions).createChild(e.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:i})}return n}var h=this,g={$setViewValue:angular.noop},v={},m=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":h[t]=angular.isDefined(e.datepickerOptions[t])?r(e.datepickerOptions[t])(e.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":h[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:l[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?h.startingDay=e.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?h.startingDay=l.startingDay:h.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?h[t]=p.fromTimezone(new Date(e),v.getOption("timezone")):(u&&a.warn("Literal date support has been deprecated, please switch to date object usage"),h[t]=new Date(s(e,"medium"))):h[t]=l[t]?p.fromTimezone(new Date(l[t]),v.getOption("timezone")):null,h.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){h[t]=e[t]=angular.isDefined(n)?n:e.datepickerOptions[t],("minMode"===t&&h.modes.indexOf(e.datepickerOptions.datepickerMode)<h.modes.indexOf(h[t])||"maxMode"===t&&h.modes.indexOf(e.datepickerOptions.datepickerMode)>h.modes.indexOf(h[t]))&&(e.datepickerMode=h[t],e.datepickerOptions.datepickerMode=h[t])}):h[t]=e[t]=l[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&m.push(e.$parent.$watch(n.ngDisabled,function(t){e.disabled=t,h.refreshView()})),e.isActive=function(t){return 0===h.compare(t.date,h.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){g=t,v=f(g),e.datepickerOptions.initDate?(h.activeDate=p.fromTimezone(e.datepickerOptions.initDate,v.getOption("timezone"))||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(g.$isEmpty(g.$modelValue)||g.$invalid)&&(h.activeDate=p.fromTimezone(e,v.getOption("timezone")),h.refreshView())})):h.activeDate=new Date;var n=g.$modelValue?new Date(g.$modelValue):new Date;this.activeDate=isNaN(n)?p.fromTimezone(new Date,v.getOption("timezone")):p.fromTimezone(n,v.getOption("timezone")),g.$render=function(){h.render()}},this.render=function(){if(g.$viewValue){var e=new Date(g.$viewValue);!isNaN(e)?this.activeDate=p.fromTimezone(e,v.getOption("timezone")):c||a.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=g.$viewValue?new Date(g.$viewValue):null;t=p.fromTimezone(t,v.getOption("timezone")),g.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var i=g.$viewValue?new Date(g.$viewValue):null;i=p.fromTimezone(i,v.getOption("timezone"));var r=new Date;r=p.fromTimezone(r,v.getOption("timezone"));var o=this.compare(t,r),a={date:t,label:p.filter(t,n),selected:i&&0===this.compare(t,i),disabled:this.isDisabled(t),past:o<0,current:0===o,future:o>0,customClass:this.customClass(t)||null};return i&&0===this.compare(t,i)&&(e.selectedDt=a),h.activeDate&&0===this.compare(a.date,h.activeDate)&&(e.activeDt=a),a},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===h.minMode){var n=g.$viewValue?p.fromTimezone(new Date(g.$viewValue),v.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=p.toTimezone(n,v.getOption("timezone")),g.$setViewValue(n),g.$render()}else h.activeDate=t,d(h.modes[h.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=h.activeDate.getFullYear()+e*(h.step.years||0),n=h.activeDate.getMonth()+e*(h.step.months||0);h.activeDate.setFullYear(t,n,1),h.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===h.maxMode&&1===t||e.datepickerMode===h.minMode&&-1===t||(d(h.modes[h.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var y=function(){h.element[0].focus()};e.$on("uib:datepicker.focus",y),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),h.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(h.isDisabled(h.activeDate))return;e.select(h.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(h.handleKeyDown(n,t),h.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",function(t){e.$apply(function(){e.keydown(t)})}),e.$on("$destroy",function(){for(;m.length;)m.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?o[t]:29}function r(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),r=new Date(e),o=0;o<t;)n=new Date(r),i[o++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(t,i,1);var a=this.startingDay-o.getDay(),s=a>0?7-a:-a,l=new Date(o);s>0&&l.setDate(1-s);for(var u=this.getDates(l,42),c=0;c<42;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==i,uid:e.uniqueId+"-"+c});e.labels=new Array(7);for(var p=0;p<7;p++)e.labels[p]={abbr:n(u[p].date,this.formatDayHeader),full:n(u[p].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(u,7),e.showWeeks){e.weekNumbers=[];for(var d=(11-this.startingDay)%7,f=e.rows.length,h=0;h<f;h++)e.weekNumbers.push(r(e.rows[h][d].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(r,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,i=new Array(12),r=this.activeDate.getFullYear(),o=0;o<12;o++)t=new Date(this.activeDate),t.setFullYear(r,o,1),i[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(i,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=this.monthColumns;else if("right"===e)n+=1;else if("down"===e)n+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e){return parseInt((e-1)/o,10)*o+1}var r,o;this.element=t,this.yearpickerInit=function(){r=this.yearColumns,o=this.yearRows*r,this.step={years:o}},this._refreshView=function(){for(var t,n=new Array(o),a=0,s=i(this.activeDate.getFullYear());a<o;a++)t=new Date(this.activeDate),t.setFullYear(s+a,0,1),n[a]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+a});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=this.split(n,r),e.columns=r},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=r:"right"===e?n+=1:"down"===e?n+=r:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*o:"home"===e?n=i(this.activeDate.getFullYear()):"end"===e&&(n=i(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,i){var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,i,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){n=this.getRawNode(n);for(var i=n.offsetParent||e[0].documentElement;i&&i!==e[0].documentElement&&function(e){return"static"===(t.getComputedStyle(e).position||"static")}(i);)i=i.offsetParent;return i||e[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(i)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),i=t.innerWidth-o[0].clientWidth,i=isFinite(i)?i:0,o.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),i=this.parseStyle(n.paddingRight),r=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:i+s,originalRight:i,heightOverflow:o.scrollHeight>o.clientHeight,bottom:r+s,originalBottom:r}},isScrollable:function(e,n){e=this.getRawNode(e);var i=n?r.hidden:r.normal,o=t.getComputedStyle(e);return i.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,i,o){n=this.getRawNode(n);var a=i?r.hidden:r.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(o&&a.test(l.overflow+l.overflowY+l.overflowX))return n;var u="absolute"===l.position,c=n.parentElement||s;if(c===s||"fixed"===l.position)return s;for(;c.parentElement&&c!==s;){var p=t.getComputedStyle(c);if(u&&"static"!==p.position&&(u=!1),!u&&a.test(p.overflow+p.overflowY+p.overflowX))break;c=c.parentElement}return c},position:function(n,i){n=this.getRawNode(n);var r=this.offset(n);if(i){var o=t.getComputedStyle(n);r.top-=this.parseStyle(o.marginTop),r.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==e[0].documentElement&&(s=this.offset(a),s.top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(n){n=this.getRawNode(n);var i=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,r){n=this.getRawNode(n),r=!1!==r;var o=n.getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=i?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(a.top=l.top+s.clientTop,a.left=l.left+s.clientLeft,s===e[0].documentElement&&(a.top+=t.pageYOffset,a.left+=t.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,r){var u=t.getComputedStyle(s);a.top+=this.parseStyle(u.paddingTop),a.bottom-=this.parseStyle(u.paddingBottom),a.left+=this.parseStyle(u.paddingLeft),a.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),e=e.split("-"),e[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,n,i,r){e=this.getRawNode(e),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var l=r?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(i[2]){var c=this.viewportOffset(e,r),p=t.getComputedStyle(n),d={width:a+Math.round(Math.abs(this.parseStyle(p.marginLeft)+this.parseStyle(p.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(p.marginTop)+this.parseStyle(p.marginBottom)))};if(i[0]="top"===i[0]&&d.height>c.top&&d.height<=c.bottom?"bottom":"bottom"===i[0]&&d.height>c.bottom&&d.height<=c.top?"top":"left"===i[0]&&d.width>c.left&&d.width<=c.right?"right":"right"===i[0]&&d.width>c.right&&d.width<=c.left?"left":i[0],i[1]="top"===i[1]&&d.height-l.height>c.bottom&&d.height-l.height<=c.top?"bottom":"bottom"===i[1]&&d.height-l.height>c.top&&d.height-l.height<=c.bottom?"top":"left"===i[1]&&d.width-l.width>c.right&&d.width-l.width<=c.left?"right":"right"===i[1]&&d.width-l.width>c.left&&d.width-l.width<=c.right?"left":i[1],"center"===i[1])if(o.vertical.test(i[0])){var f=l.width/2-a/2;c.left+f<0&&d.width-l.width<=c.right?i[1]="left":c.right+f<0&&d.width-l.width<=c.left&&(i[1]="right")}else{var h=l.height/2-d.height/2;c.top+h<0&&d.height-l.height<=c.bottom?i[1]="top":c.bottom+h<0&&d.height-l.height<=c.top&&(i[1]="bottom")}}switch(i[0]){case"top":u.top=l.top-s;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-a;break;case"right":u.left=l.left+l.width}switch(i[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-s;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-a;break;case"center":o.vertical.test(i[0])?u.left=l.left+l.width/2-a/2:u.top=l.top+l.height/2-s/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],u},adjustTop:function(e,t,n,i){if(-1!==e.indexOf("top")&&n!==i)return{top:t.top-i+"px"}},positionArrow:function(e,n){e=this.getRawNode(e);var i=e.querySelector(".tooltip-inner, .popover-inner");if(i){var r=angular.element(i).hasClass("tooltip-inner"),a=r?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(a).css(s);var l="border-"+n[0]+"-width",u=t.getComputedStyle(a)[l],c="border-";o.vertical.test(n[0])?c+=n[0]+"-"+n[1]:c+=n[1]+"-"+n[0],c+="-radius";var p=t.getComputedStyle(r?i:e)[c];switch(n[0]){case"top":s.bottom=r?"0":"-"+u;break;case"bottom":s.top=r?"0":"-"+u;break;case"left":s.right=r?"0":"-"+u;break;case"right":s.left=r?"0":"-"+u}s[n[1]]=p,angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,i,r,o,a,s,l,u,c,p,d,f,h,g){function v(t){var n=p.parse(t,S,e.date);if(isNaN(n))for(var i=0;i<k.length;i++)if(n=p.parse(t,k[i],e.date),!isNaN(n))return n;return n}function m(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=v(e);if(!isNaN(t))return p.toTimezone(t,_.getOption("timezone"))}return _.getOption("allowInvalid")?e:void 0}function y(e,t){var i=e||t;return!n.ngRequired&&!i||(angular.isNumber(i)&&(i=new Date(i)),!i||(!(!angular.isDate(i)||isNaN(i))||!!angular.isString(i)&&!isNaN(v(i))))}function E(n){if(e.isOpen||!e.disabled){var i=D[0],r=t[0].contains(n.target),o=void 0!==i.contains&&i.contains(n.target);!e.isOpen||r||o||e.$apply(function(){e.isOpen=!1})}}function b(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function x(){if(e.isOpen){var i=angular.element(D[0].querySelector(".uib-datepicker-popup")),r=n.popupPlacement?n.popupPlacement:d.placement,o=u.positionElements(t,i,r,T);i.css({top:o.top+"px",left:o.left+"px"}),i.hasClass("uib-position-measure")&&i.removeClass("uib-position-measure")}}function C(e){var t;return angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null},t.getOption=function(e){return t[e]}):t=e.$options,t}var S,w,T,A,L,I,N,R,O,P,_,D,k,M=!1,$=[];this.init=function(r){if(P=r,_=C(P),w=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):d.closeOnDateSelection,T=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):d.appendToBody,A=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):d.onOpenFocus,L=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:d.datepickerPopupTemplateUrl,I=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:d.datepickerTemplateUrl,k=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):d.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):d.showButtonBar,d.html5Types[n.type]?(S=d.html5Types[n.type],M=!0):(S=n.uibDatepickerPopup||d.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||d.datepickerPopup;if(n!==S&&(S=n,P.$modelValue=null,!S))throw new Error("uibDatepickerPopup must have a date format specified.")})),!S)throw new Error("uibDatepickerPopup must have a date format specified.");if(M&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");N=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),N.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":L}),R=angular.element(N.children()[0]),R.attr("template-url",I),e.datepickerOptions||(e.datepickerOptions={}),M&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),R.attr("datepicker-options","datepickerOptions"),M?P.$formatters.push(function(t){return e.date=p.fromTimezone(t,_.getOption("timezone")),t}):(P.$$parserName="date",P.$validators.date=y,P.$parsers.unshift(m),P.$formatters.push(function(t){return P.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=p.fromTimezone(t,_.getOption("timezone")),p.filter(e.date,S))})),P.$viewChangeListeners.push(function(){e.date=v(P.$viewValue)}),t.on("keydown",b),D=i(N)(e),N.remove(),T?s.find("body").append(D):t.after(D),e.$on("$destroy",function(){for(!0===e.isOpen&&(l.$$phase||e.$apply(function(){e.isOpen=!1})),D.remove(),t.off("keydown",b),s.off("click",E),O&&O.off("scroll",x),angular.element(a).off("resize",x);$.length;)$.shift()()})},e.getText=function(t){return e[t+"Text"]||d[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=p.fromTimezone(new Date,_.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(g&&r.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(c(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var i=e.date?p.filter(e.date,S):null;t.val(i),P.$setViewValue(i),w&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var i=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(i.getFullYear(),i.getMonth(),i.getDate())):(t=p.fromTimezone(i,_.getOption("timezone")),t.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&$.push(e.$parent.$watch(o(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(i){i?e.disabled?e.isOpen=!1:f(function(){x(),A&&e.$broadcast("uib:datepicker.focus"),s.on("click",E);var i=n.popupPlacement?n.popupPlacement:d.placement;T||u.parsePlacement(i)[2]?(O=O||angular.element(u.scrollParent(t)))&&O.on("scroll",x):O=null,angular.element(a).on("resize",x)},0,!1):(s.off("click",E),O&&O.off("scroll",x),angular.element(a).off("resize",x))}),e.$on("uib:datepicker.mode",function(){f(x,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var i;return function(){var r=this,o=Array.prototype.slice.call(arguments);i&&e.cancel(i),i=e(function(){t.apply(r,o)},n)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var r=i.indexOf(n);-1!==r&&i.splice(r,1),i.length||delete e[t]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(e,t,n){var i=null,r=n.createNew();this.isOnlyOpen=function(e,t){var n=r.get(t);if(n){if(n.reduce(function(t,n){return n.scope===e?n:t},{}))return 1===n.length}return!1},this.open=function(t,n,a){if(i||e.on("click",o),i&&i!==t&&(i.isOpen=!1),i=t,a){var s=r.get(a);if(s){-1===s.map(function(e){return e.scope}).indexOf(t)&&r.put(a,{scope:t})}else r.put(a,{scope:t})}},this.close=function(t,n,a){if(i===t&&(e.off("click",o),e.off("keydown",this.keybindFilter),i=null),a){var s=r.get(a);if(s){var l=s.reduce(function(e,n){return n.scope===t?n:e},{});l&&r.remove(a,l)}}};var o=function(e){if(i&&i.isOpen&&!(e&&"disabled"===i.getAutoClose()||e&&3===e.which)){var n=i.getToggleElement();if(!(e&&n&&n[0].contains(e.target))){var r=i.getDropdownElement();e&&"outsideClick"===i.getAutoClose()&&r&&r[0].contains(e.target)||(i.focusToggleElement(),i.isOpen=!1,t.$$phase||i.$apply())}}};this.keybindFilter=function(e){if(i){var t=i.getDropdownElement(),n=i.getToggleElement(),r=t&&t[0].contains(e.target),a=n&&n[0].contains(e.target);27===e.which?(e.stopPropagation(),i.focusToggleElement(),o()):i.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&i.isOpen&&(r||a)&&(e.preventDefault(),e.stopPropagation(),i.focusDropdownEntry(e.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,i,r,o,a,s,l,u,c){function p(){t.append(h.dropdownMenu)}var d,f,h=this,g=e.$new(),v=r.appendToOpenClass,m=r.openClass,y=angular.noop,E=n.onToggle?i(n.onToggle):angular.noop,b=!1,x=l.find("body");t.addClass("dropdown"),this.init=function(){n.isOpen&&(f=i(n.isOpen),y=f.assign,e.$watch(f,function(e){g.isOpen=!!e})),b=angular.isDefined(n.keyboardNav)},this.toggle=function(e){return g.isOpen=arguments.length?!!e:!g.isOpen,angular.isFunction(y)&&y(g,g.isOpen),g.isOpen},this.isOpen=function(){return g.isOpen},g.getToggleElement=function(){return h.toggleElement},g.getAutoClose=function(){return n.autoClose||"always"},g.getElement=function(){return t},g.isKeynavEnabled=function(){return b},g.focusDropdownEntry=function(e){var n=h.dropdownMenu?angular.element(h.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(h.selectedOption)?h.selectedOption=h.selectedOption===n.length-1?h.selectedOption:h.selectedOption+1:h.selectedOption=0;break;case 38:angular.isNumber(h.selectedOption)?h.selectedOption=0===h.selectedOption?0:h.selectedOption-1:h.selectedOption=n.length-1}n[h.selectedOption].focus()},g.getDropdownElement=function(){return h.dropdownMenu},g.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},g.$watch("isOpen",function(r,f){var b=null,C=!1;if(angular.isDefined(n.dropdownAppendTo)){var S=i(n.dropdownAppendTo)(g);S&&(b=angular.element(S))}if(angular.isDefined(n.dropdownAppendToBody)){!1!==i(n.dropdownAppendToBody)(g)&&(C=!0)}if(C&&!b&&(b=x),b&&h.dropdownMenu&&(r?(b.append(h.dropdownMenu),t.on("$destroy",p)):(t.off("$destroy",p),p())),b&&h.dropdownMenu){var w,T,A,L=s.positionElements(t,h.dropdownMenu,"bottom-left",!0),I=0;if(w={top:L.top+"px",display:r?"block":"none"},T=h.dropdownMenu.hasClass("dropdown-menu-right"),T?(w.left="auto",A=s.scrollbarPadding(b),A.heightOverflow&&A.scrollbarWidth&&(I=A.scrollbarWidth),w.right=window.innerWidth-I-(L.left+t.prop("offsetWidth"))+"px"):(w.left=L.left+"px",w.right="auto"),!C){var N=s.offset(b);w.top=L.top-N.top+"px",T?w.right=window.innerWidth-(L.left-N.left+t.prop("offsetWidth"))+"px":w.left=L.left-N.left+"px"}h.dropdownMenu.css(w)}var R=b||t,O=b?v:m,P=R.hasClass(O),_=o.isOnlyOpen(e,b);if(P===!r){var D;D=b?_?"removeClass":"addClass":r?"addClass":"removeClass",a[D](R,O).then(function(){angular.isDefined(r)&&r!==f&&E(e,{open:!!r})})}if(r)h.dropdownMenuTemplateUrl?c(h.dropdownMenuTemplateUrl).then(function(e){d=g.$new(),u(e.trim())(d,function(e){var t=e;h.dropdownMenu.replaceWith(t),h.dropdownMenu=t,l.on("keydown",o.keybindFilter)})}):l.on("keydown",o.keybindFilter),g.focusToggleElement(),o.open(g,t,b);else{if(o.close(g,t,b),h.dropdownMenuTemplateUrl){d&&d.$destroy();var k=angular.element('<ul class="dropdown-menu"></ul>');h.dropdownMenu.replaceWith(k),h.dropdownMenu=k}h.selectedOption=null}angular.isFunction(y)&&y(e,r)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.on("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.off("click",r)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t===e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var i=e.resolver?t.get(e.resolver):null;return{resolve:function(e,r,o,a){if(i)return i.resolve(e,r,o,a);var s=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))}),n.all(s).then(function(t){var n={},i=0;return angular.forEach(e,function(e,r){n[r]=t[i++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function i(t,i,r){r.modalInClass&&(e.addClass(i,r.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,o){var a=o();t.modalOptions.animation?e.removeClass(i,r.modalInClass).then(a):a()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,i){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(r,o,a){o.addClass(a.windowTopClass||""),r.size=a.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",r.close),r.$isRendered=!0;var s=t.defer();r.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();n(o,{removeClass:a.modalInClass}).start().then(i)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!i[0].activeElement||!o[0].contains(i[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,i,r,o){o(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,i,r,o,a,s,l){function u(e){return e.replace(N,function(e,t){return(t?"-":"")+e.toLowerCase()})}function c(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function p(){for(var e=-1,t=S.keys(),n=0;n<t.length;n++)S.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<A&&(e=A),e}function d(e,t){var n=S.get(e).value,i=n.appendTo;S.remove(e),L=S.top(),L&&(A=parseInt(L.value.modalDomEl.attr("index"),10)),g(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||C;w.remove(t,e);var r=w.hasKey(t);i.toggleClass(t,r),!r&&x&&x.heightOverflow&&x.scrollbarWidth&&(x.originalRight?i.css({paddingRight:x.originalRight+"px"}):i.css({paddingRight:""}),x=null),f(!0)},n.closedDeferred),h(),t&&t.focus?t.focus():i.focus&&i.focus()}function f(e){var t;S.length()>0&&(t=S.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function h(){if(E&&-1===p()){var e=b;g(E,b,function(){e=null}),E=void 0,b=void 0}}function g(t,n,i,r){function a(){a.done||(a.done=!0,e.leave(t).then(function(){i&&i(),t.remove(),r&&r.resolve()}),n.$destroy())}var s,l=null,u=function(){return s||(s=o.defer(),l=s.promise),function(){s.resolve()}};return n.$broadcast(T.NOW_CLOSING_EVENT,u),o.when(l).then(a)}function v(e){if(e.isDefaultPrevented())return e;var t=S.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),r.$apply(function(){T.dismiss(t.key,"escape key press")}));break;case 9:var n=T.loadFocusElementList(t),i=!1;e.shiftKey?(T.isFocusInFirstItem(e,n)||T.isModalFocused(e,t))&&(i=T.focusLastFocusableElement(n)):T.isFocusInLastItem(e,n)&&(i=T.focusFirstFocusableElement(n)),i&&(e.preventDefault(),e.stopPropagation())}}function m(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function y(){Array.prototype.forEach.call(document.querySelectorAll("["+I+"]"),function(e){var t=parseInt(e.getAttribute(I),10),n=t-1;e.setAttribute(I,n),n||(e.removeAttribute(I),e.removeAttribute("aria-hidden"))})}var E,b,x,C="modal-open",S=s.createNew(),w=a.createNew(),T={NOW_CLOSING_EVENT:"modal.stack.now-closing"},A=0,L=null,I="data-bootstrap-modal-aria-hidden-count",N=/[A-Z]/g;return r.$watch(p,function(e){b&&(b.index=e)}),n.on("keydown",v),r.$on("$destroy",function(){n.off("keydown",v)}),T.open=function(t,o){function a(e){if(e&&"BODY"!==e[0].tagName)return function(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==e[0]})}(e).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(I),10);n||(n=t?1:0),e.setAttribute(I,n+1),e.setAttribute("aria-hidden","true")}),a(e.parent())}var s=n[0].activeElement,c=o.openedClass||C;f(!1),L=S.top(),S.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),w.put(c,t);var d=o.appendTo,h=p();h>=0&&!E&&(b=r.$new(!0),b.modalOptions=o,b.index=h,E=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),E.attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),o.backdropClass&&E.addClass(o.backdropClass),o.animation&&E.attr("modal-animation","true"),i(E)(b),e.enter(E,d),l.isScrollable(d)&&(x=l.scrollbarPadding(d),x.heightOverflow&&x.scrollbarWidth&&d.css({paddingRight:x.right+"px"})));var g;o.component?(g=document.createElement(u(o.component.name)),g=angular.element(g),g.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):g=o.content,A=L?parseInt(L.value.modalDomEl.attr("index"),10)+1:0;var v=angular.element('<div uib-modal-window="modal-window"></div>');v.attr({class:"modal","template-url":o.windowTemplateUrl,"window-top-class":o.windowTopClass,role:"dialog","aria-labelledby":o.ariaLabelledBy,"aria-describedby":o.ariaDescribedBy,size:o.size,index:A,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(g),o.windowClass&&v.addClass(o.windowClass),o.animation&&v.attr("modal-animation","true"),d.addClass(c),o.scope&&(o.scope.$$topModalIndex=A),e.enter(i(v)(o.scope),d),S.top().value.modalDomEl=v,S.top().value.modalOpener=s,a(v)},T.close=function(e,t){var n=S.get(e);return y(),n&&m(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),d(e,n.value.modalOpener),!0):!n},T.dismiss=function(e,t){var n=S.get(e);return y(),n&&m(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),d(e,n.value.modalOpener),!0):!n},T.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},T.getTop=function(){return S.top()},T.modalRendered=function(e){var t=S.get(e);t&&t.value.renderDeferred.resolve()},T.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},T.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},T.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},T.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},T.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},T.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return n?Array.prototype.filter.call(n,function(e){return c(e)}):n}}},T}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,i,r,o,a,s){function l(e){return e.template?n.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(r){function u(){return v}var p=n.defer(),d=n.defer(),f=n.defer(),h=n.defer(),g={result:p.promise,opened:d.promise,closed:f.promise,rendered:h.promise,close:function(e){return s.close(g,e)},dismiss:function(e){return s.dismiss(g,e)}};if(r=angular.extend({},e.options,r),r.resolve=r.resolve||{},r.appendTo=r.appendTo||i.find("body").eq(0),!r.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!r.component&&!r.template&&!r.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var v;v=r.component?n.when(a.resolve(r.resolve,{},null,null)):n.all([l(r),a.resolve(r.resolve,{},null,null)]);var m;return m=c=n.all([c]).then(u,u).then(function(e){function n(t,n,i,r){t.$scope=a,t.$scope.$resolve={},i?t.$scope.$uibModalInstance=g:t.$uibModalInstance=g;var o=n?e[1]:e;angular.forEach(o,function(e,n){r&&(t[n]=e),t.$scope.$resolve[n]=e})}var i=r.scope||t,a=i.$new();a.$close=g.close,a.$dismiss=g.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var l,u,c={scope:a,deferred:p,renderDeferred:h,closedDeferred:f,animation:r.animation,backdrop:r.backdrop,keyboard:r.keyboard,backdropClass:r.backdropClass,windowTopClass:r.windowTopClass,windowClass:r.windowClass,windowTemplateUrl:r.windowTemplateUrl,ariaLabelledBy:r.ariaLabelledBy,ariaDescribedBy:r.ariaDescribedBy,size:r.size,openedClass:r.openedClass,appendTo:r.appendTo},v={},m={};r.component?(n(v,!1,!0,!1),v.name=r.component,c.component=v):r.controller&&(n(m,!0,!1,!0),u=o(r.controller,m,!0,r.controllerAs),r.controllerAs&&r.bindToController&&(l=u.instance,l.$close=a.$close,l.$dismiss=a.$dismiss,angular.extend(l,{$resolve:m.$scope.$resolve},i)),l=u(),angular.isFunction(l.$onInit)&&l.$onInit()),r.component||(c.content=e[0]),s.open(g,c),d.resolve(!0)},function(e){d.reject(e),p.reject(e)}).finally(function(){c===m&&(c=null)}),g},u}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,i){t.setNumPages=i.numPages?e(i.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,r){t.ngModelCtrl=e,t.config=r,e.$render=function(){t.render()},i.itemsPerPage?t._watchers.push(n.$parent.$watch(i.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=r.itemsPerPage,n.$watch("totalItems",function(e,i){(angular.isDefined(e)||e!==i)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,i){i&&i.preventDefault(),(!n.ngDisabled||!i)&&n.page!==e&&e>0&&e<=n.totalPages&&(i&&i.target&&i.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,i){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):i.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,n,i,r){n.addClass("pager");var o=r[0],a=r[1];a&&o.init(a,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,i,r){function o(e,t,n){return{number:e,text:t,active:n}}function a(e,t){var n=[],i=1,r=t,a=angular.isDefined(l)&&l<t;a&&(u?(i=Math.max(e-Math.floor(l/2),1),(r=i+l-1)>t&&(r=t,i=r-l+1)):(i=(Math.ceil(e/l)-1)*l+1,r=Math.min(i+l-1,t)));for(var s=i;s<=r;s++){var f=o(s,d(s),s===e);n.push(f)}if(a&&l>0&&(!u||c||p)){if(i>1){if(!p||i>3){var h=o(i-1,"...",!1);n.unshift(h)}if(p){if(3===i){var g=o(2,"2",!1);n.unshift(g)}var v=o(1,"1",!1);n.unshift(v)}}if(r<t){if(!p||r<t-2){var m=o(r+1,"...",!1);n.push(m)}if(p){if(r===t-2){var y=o(t-1,t-1,!1);n.push(y)}var E=o(t,t,!1);n.push(E)}}}return n}var s=this,l=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):r.maxSize,u=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):r.rotate,c=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):r.forceEllipses,p=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):r.boundaryLinkNumbers,d=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):r.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):r.directionLinks,t.$set("role","menu"),i.create(this,e,t),t.maxSize&&s._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){l=parseInt(e,10),s.render()}));var f=this.render;this.render=function(){f(),e.page>0&&e.page<=e.totalPages&&(e.pages=a(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,n,i,r){n.addClass("pagination");var o=r[0],a=r[1];a&&o.init(a,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g;return e.replace(t,function(e,t){return(t?"-":"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(r,o,a,s,l,u,c,p,d){function f(e){if(27===e.which){var t=h.top();t&&(t.value.close(),t=null)}}var h=d.createNew();return s.on("keyup",f),c.$on("$destroy",function(){s.off("keyup",f)}),function(r,c,d,f){function g(e){var t=(e||f.trigger||d).split(" ");return{show:t,hide:t.map(function(e){return n[e]||e})}}f=angular.extend({},t,i,f);var v=e(r),m=u.startSymbol(),y=u.endSymbol(),E="<div "+v+'-popup uib-title="'+m+"title"+y+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+m+"content"+y+'" ')+'origin-scope="origScope" class="uib-position-measure '+c+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var n=o(E);return function(e,t,i,o){function u(){V.isOpen?v():d()}function d(){j&&!e.$eval(i[c+"Enable"])||(b(),S(),V.popupDelay?P||(P=a(m,V.popupDelay,!1)):m())}function v(){y(),V.popupCloseDelay?_||(_=a(E,V.popupCloseDelay,!1)):E()}function m(){if(y(),b(),!V.content)return angular.noop;x(),V.$evalAsync(function(){V.isOpen=!0,w(!0),z()})}function y(){P&&(a.cancel(P),P=null),D&&(a.cancel(D),D=null)}function E(){V&&V.$evalAsync(function(){V&&(V.isOpen=!1,w(!1),V.animation?O||(O=a(C,150,!1)):C())})}function b(){_&&(a.cancel(_),_=null),O&&(a.cancel(O),O=null)}function x(){N||(R=V.$new(),N=n(R,function(e){$?s.find("body").append(e):t.after(e)}),h.add(V,{close:E}),T())}function C(){y(),b(),A(),N&&(N.remove(),N=null,k&&a.cancel(k)),h.remove(V),R&&(R.$destroy(),R=null)}function S(){V.title=i[c+"Title"],V.content=B?B(e):i[r],V.popupClass=i[c+"Class"],V.placement=angular.isDefined(i[c+"Placement"])?i[c+"Placement"]:f.placement;var t=l.parsePlacement(V.placement);M=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(i[c+"PopupDelay"],10),o=parseInt(i[c+"PopupCloseDelay"],10);V.popupDelay=isNaN(n)?f.popupDelay:n,V.popupCloseDelay=isNaN(o)?f.popupCloseDelay:o}function w(t){H&&angular.isFunction(H.assign)&&H.assign(e,t)}function T(){U.length=0,B?(U.push(e.$watch(B,function(e){V.content=e,!e&&V.isOpen&&E()})),U.push(R.$watch(function(){G||(G=!0,R.$$postDigest(function(){G=!1,V&&V.isOpen&&z()}))}))):U.push(i.$observe(r,function(e){V.content=e,!e&&V.isOpen?E():z()})),U.push(i.$observe(c+"Title",function(e){V.title=e,V.isOpen&&z()})),U.push(i.$observe(c+"Placement",function(e){V.placement=e||f.placement,V.isOpen&&z()}))}function A(){U.length&&(angular.forEach(U,function(e){e()}),U.length=0)}function L(e){V&&V.isOpen&&N&&(t[0].contains(e.target)||N[0].contains(e.target)||v())}function I(e){27===e.which&&v()}var N,R,O,P,_,D,k,M,$=!!angular.isDefined(f.appendToBody)&&f.appendToBody,F=g(void 0),j=angular.isDefined(i[c+"Enable"]),V=e.$new(!0),G=!1,H=!!angular.isDefined(i[c+"IsOpen"])&&p(i[c+"IsOpen"]),B=!!f.useContentExp&&p(i[r]),U=[],z=function(){N&&N.html()&&(D||(D=a(function(){var e=l.positionElements(t,N,V.placement,$),n=angular.isDefined(N.offsetHeight)?N.offsetHeight:N.prop("offsetHeight"),i=$?l.offset(t):l.position(t);N.css({top:e.top+"px",left:e.left+"px"});var r=e.placement.split("-");N.hasClass(r[0])||(N.removeClass(M.split("-")[0]),N.addClass(r[0])),N.hasClass(f.placementClassPrefix+e.placement)||(N.removeClass(f.placementClassPrefix+M),N.addClass(f.placementClassPrefix+e.placement)),k=a(function(){var e=angular.isDefined(N.offsetHeight)?N.offsetHeight:N.prop("offsetHeight"),t=l.adjustTop(r,i,n,e);t&&N.css(t),k=null},0,!1),N.hasClass("uib-position-measure")?(l.positionArrow(N,e.placement),N.removeClass("uib-position-measure")):M!==e.placement&&l.positionArrow(N,e.placement),M=e.placement,D=null},0,!1)))};V.origScope=e,V.isOpen=!1,V.contentExp=function(){return V.content},i.$observe("disabled",function(e){e&&y(),e&&V.isOpen&&E()}),H&&e.$watch(H,function(e){V&&!e===V.isOpen&&u()});var q=function(){F.show.forEach(function(e){"outsideClick"===e?t.off("click",u):(t.off(e,d),t.off(e,u)),t.off("keypress",I)}),F.hide.forEach(function(e){"outsideClick"===e?s.off("click",L):t.off(e,v)})};!function(){var n=[],r=[],o=e.$eval(i[c+"Trigger"]);q(),angular.isObject(o)?(Object.keys(o).forEach(function(e){n.push(e),r.push(o[e])}),F={show:n,hide:r}):F=g(o),"none"!==F.show&&F.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",u),s.on("click",L)):e===F.hide[n]?t.on(e,u):e&&(t.on(e,d),t.on(F.hide[n],v)),t.on("keypress",I)})}();var W=e.$eval(i[c+"Animation"]);V.animation=angular.isDefined(W)?!!W:f.animation;var K,Y=c+"AppendToBody";K=Y in i&&void 0===i[Y]||e.$eval(i[Y]),$=angular.isDefined(K)?K:$,e.$on("$destroy",function(){q(),C(),V=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(r,o,a){var s,l,u,c=r.$eval(a.tooltipTemplateTranscludeScope),p=0,d=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(e.leave(u).then(function(){l=null}),l=u,u=null)};r.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(t){var a=++p;t?(i(t,!0).then(function(i){if(a===p){var r=c.$new(),l=i,f=n(l)(r,function(t){d(),e.enter(t,o)});s=r,u=f,s.$emit("$includeContentLoaded",t)}},function(){a===p&&(d(),r.$emit("$includeContentError",t))}),r.$emit("$includeContentRequested",t)):d()}),r.$on("$destroy",d)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,i){if(t.placement){var r=e.parsePlacement(t.placement);n.addClass(r[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){function i(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}var r=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=i(),this.addBar=function(e,t,n){o||t.css({transition:"none"}),this.bars.push(e),e.max=i(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=r.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,r.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){r.bars.forEach(function(e){e.max=i(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop},r=this;this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=r.enableReset&&i.$viewValue===t?0:t;i.$setViewValue(n),i.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue,e.title=r.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<i.tabs.length;t++)if(i.tabs[t].index===e)return t}var n,i=this;i.tabs=[],i.select=function(e,o){if(!r){var a=t(n),s=i.tabs[a];if(s){if(s.tab.onDeselect({$event:o,$selectedIndex:e}),o&&o.isDefaultPrevented())return;s.tab.active=!1}var l=i.tabs[e];l?(l.tab.onSelect({$event:o}),l.tab.active=!0,i.active=l.index,n=l.index):!l&&angular.isDefined(n)&&(i.active=null,n=null)}},i.addTab=function(e){if(i.tabs.push({tab:e,index:e.index}),i.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var n=t(e.index);i.select(n)}},i.removeTab=function(e){for(var t,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===e){t=n;break}if(i.tabs[t].index===i.active){var r=t===i.tabs.length-1?t-1:t+1%i.tabs.length;i.select(r)}i.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==n&&i.select(t(e))});var r;e.$on("$destroy",function(){r=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,i,r,o){t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),angular.isUndefined(i.index)&&(r.tabs&&r.tabs.length?t.index=Math.max.apply(null,r.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(i.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,i=0;i<r.tabs.length;i++)if(r.tabs[i].tab===t){n=i;break}r.select(n,e)}},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,i){var r=t.$eval(i.uibTabContentTransclude).tab;r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,i,r,o,a){function s(){var t=+e.hours;if((e.showMeridian?t>0&&t<13:t>=0&&t<24)&&""!==e.hours)return e.showMeridian&&(12===t&&(t=0),e.meridian===w[1]&&(t+=12)),t}function l(){var t=+e.minutes;if(t>=0&&t<60&&""!==e.minutes)return t}function u(){var t=+e.seconds;return t>=0&&t<60?t:void 0}function c(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function p(e){d(),S.$setViewValue(new Date(x)),f(e)}function d(){y&&y.$setValidity("hours",!0),E&&E.$setValidity("minutes",!0),b&&b.$setValidity("seconds",!0),S.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function f(t){if(S.$modelValue){var n=x.getHours(),i=x.getMinutes(),r=x.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:c(n,!T),"m"!==t&&(e.minutes=c(i)),e.meridian=x.getHours()<12?w[0]:w[1],"s"!==t&&(e.seconds=c(r)),e.meridian=x.getHours()<12?w[0]:w[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=w[0]}function h(e){x=v(x,e),p()}function g(e,t){return v(e,60*t)}function v(e,t){var n=new Date(e.getTime()+1e3*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function m(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}var y,E,b,x=new Date,C=[],S={$setViewValue:angular.noop},w=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,T=!angular.isDefined(n.padHours)||e.$parent.$eval(n.padHours);e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,i){S=t,S.$render=this.render,S.$formatters.unshift(function(e){return e?new Date(e):null});var r=i.eq(0),o=i.eq(1),s=i.eq(2);y=r.controller("ngModel"),E=o.controller("ngModel"),b=s.controller("ngModel"),(angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):a.mousewheel)&&this.setupMousewheelEvents(r,o,s),(angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):a.arrowkeys)&&this.setupArrowkeyEvents(r,o,s),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(r,o,s)};var A=a.hourStep;n.hourStep&&C.push(e.$parent.$watch(i(n.hourStep),function(e){A=+e}));var L=a.minuteStep;n.minuteStep&&C.push(e.$parent.$watch(i(n.minuteStep),function(e){L=+e}));var I;C.push(e.$parent.$watch(i(n.min),function(e){var t=new Date(e);I=isNaN(t)?void 0:t}));var N;C.push(e.$parent.$watch(i(n.max),function(e){var t=new Date(e);N=isNaN(t)?void 0:t}));var R=!1;n.ngDisabled&&C.push(e.$parent.$watch(i(n.ngDisabled),function(e){R=e})),e.noIncrementHours=function(){var e=g(x,60*A);return R||e>N||e<x&&e<I},e.noDecrementHours=function(){var e=g(x,60*-A);return R||e<I||e>x&&e>N},e.noIncrementMinutes=function(){var e=g(x,L);return R||e>N||e<x&&e<I},e.noDecrementMinutes=function(){var e=g(x,-L);return R||e<I||e>x&&e>N},e.noIncrementSeconds=function(){var e=v(x,O);return R||e>N||e<x&&e<I},e.noDecrementSeconds=function(){var e=v(x,-O);return R||e<I||e>x&&e>N},e.noToggleMeridian=function(){return x.getHours()<12?R||g(x,720)>N:R||g(x,-720)<I};var O=a.secondStep;n.secondStep&&C.push(e.$parent.$watch(i(n.secondStep),function(e){O=+e})),e.showSeconds=a.showSeconds,n.showSeconds&&C.push(e.$parent.$watch(i(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=a.showMeridian,n.showMeridian&&C.push(e.$parent.$watch(i(n.showMeridian),function(t){if(e.showMeridian=!!t,S.$error.time){var n=s(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(x.setHours(n),p())}else f()})),this.setupMousewheelEvents=function(t,n,i){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.on("mousewheel wheel",function(t){R||e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.on("mousewheel wheel",function(t){R||e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),i.on("mousewheel wheel",function(t){R||e.$apply(r(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,i){t.on("keydown",function(t){R||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.on("keydown",function(t){R||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),i.on("keydown",function(t){R||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,i){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var r=function(t,n,i){S.$setViewValue(null),S.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t,y&&y.$setValidity("hours",!1)),angular.isDefined(n)&&(e.invalidMinutes=n,E&&E.$setValidity("minutes",!1)),angular.isDefined(i)&&(e.invalidSeconds=i,b&&b.$setValidity("seconds",!1))};e.updateHours=function(){var e=s(),t=l();S.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(x.setHours(e),x.setMinutes(t),x<I||x>N?r(!0):p("h")):r(!0)},t.on("blur",function(t){S.$setTouched(),m()?d():null===e.hours||""===e.hours?r(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=c(e.hours,!T)})}),e.updateMinutes=function(){var e=l(),t=s();S.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(x.setHours(t),x.setMinutes(e),x<I||x>N?r(void 0,!0):p("m")):r(void 0,!0)},n.on("blur",function(t){S.$setTouched(),m()?d():null===e.minutes?r(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=c(e.minutes)})}),e.updateSeconds=function(){var e=u();S.$setDirty(),angular.isDefined(e)?(x.setSeconds(e),p("s")):r(void 0,void 0,!0)},i.on("blur",function(t){m()?d():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=c(e.seconds)})})},this.render=function(){var t=S.$viewValue;isNaN(t)?(S.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(x=t),x<I||x>N?(S.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):d(),f())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||h(60*A*60)},e.decrementHours=function(){e.noDecrementHours()||h(60*-A*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||h(60*L)},e.decrementMinutes=function(){e.noDecrementMinutes()||h(60*-L)},e.incrementSeconds=function(){e.noIncrementSeconds()||h(O)},e.decrementSeconds=function(){e.noDecrementSeconds()||h(-O)},e.toggleMeridian=function(){var t=l(),n=s();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?h(720*(x.getHours()<12?60:-60)):e.meridian=e.meridian===w[0]?w[1]:w[0])},e.blur=function(){S.$setTouched()},e.$on("$destroy",function(){for(;C.length;)C.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,i,r,o,a,s,l,u,c,p,d){function f(){V.moveInProgress||(V.moveInProgress=!0,V.$digest()),Q()}function h(){V.position=R?p.offset(t):p.position(t),V.position.top+=t.prop("offsetHeight")}function g(e){var t;return angular.version.minor<6?(t=e.$options||{},t.getOption=function(e){return t[e]}):t=e.$options,t}var v,m,y=[9,13,27,38,40],E=e.$eval(n.typeaheadMinLength);E||0===E||(E=1),e.$watch(n.typeaheadMinLength,function(e){E=e||0===e?e:1});var b=e.$eval(n.typeaheadWaitMs)||0,x=!1!==e.$eval(n.typeaheadEditable);e.$watch(n.typeaheadEditable,function(e){x=!1!==e});var C,S,w=r(n.typeaheadLoading).assign||angular.noop,T=n.typeaheadShouldSelect?r(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},A=r(n.typeaheadOnSelect),L=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),I=r(n.typeaheadNoResults).assign||angular.noop,N=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,R=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),O=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,P=!1!==e.$eval(n.typeaheadFocusFirst),_=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),D=r(n.typeaheadIsOpen).assign||angular.noop,k=e.$eval(n.typeaheadShowHint)||!1,M=r(n.ngModel),$=r(n.ngModel+"($$$p)"),F=function(t,n){return angular.isFunction(M(e))&&m.getOption("getterSetter")?$(t,{$$$p:n}):M.assign(t,n)},j=d.parse(n.uibTypeahead),V=e.$new(),G=e.$on("$destroy",function(){V.$destroy()});V.$on("$destroy",G);var H="typeahead-"+V.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":H});var B,U;k&&(B=angular.element("<div></div>"),B.css("position","relative"),t.after(B),U=t.clone(),U.attr("placeholder",""),U.attr("tabindex","-1"),U.val(""),U.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),U.attr("id")&&U.removeAttr("id"),B.append(U),U.after(t));var z=angular.element("<div uib-typeahead-popup></div>");z.attr({id:H,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&z.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&z.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var q=function(){k&&U.val("")},W=function(){V.matches=[],V.activeIdx=-1,t.attr("aria-expanded",!1),q()},K=function(e){return H+"-option-"+e};V.$watch("activeIdx",function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",K(e))});var Y=function(e,t){return!!(V.matches.length>t&&e)&&e.toUpperCase()===V.matches[t].label.toUpperCase()},X=function(n,i){var r={$viewValue:n};w(e,!0),I(e,!1),o.when(j.source(e,r)).then(function(o){var a=n===v.$viewValue;if(a&&C)if(o&&o.length>0){V.activeIdx=P?0:-1,I(e,!1),V.matches.length=0;for(var s=0;s<o.length;s++)r[j.itemName]=o[s],V.matches.push({id:K(s),label:j.viewMapper(V,r),model:o[s]});if(V.query=n,h(),t.attr("aria-expanded",!0),_&&1===V.matches.length&&Y(n,0)&&(angular.isNumber(V.debounceUpdate)||angular.isObject(V.debounceUpdate)?c(function(){V.select(0,i)},angular.isNumber(V.debounceUpdate)?V.debounceUpdate:V.debounceUpdate.default):V.select(0,i)),k){var l=V.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?U.val(n+l.slice(n.length)):U.val("")}}else W(),I(e,!0);a&&w(e,!1)},function(){W(),w(e,!1),I(e,!0)})};R&&(angular.element(l).on("resize",f),s.find("body").on("scroll",f));var Q=c(function(){V.matches.length&&h(),V.moveInProgress=!1},200);V.moveInProgress=!1,V.query=void 0;var J,Z=function(e){J=a(function(){X(e)},b)},ee=function(){J&&a.cancel(J)};W(),V.assignIsOpen=function(t){D(e,t)},V.select=function(i,r){var o,s,l={};S=!0,l[j.itemName]=s=V.matches[i].model,o=j.modelMapper(e,l),F(e,o),v.$setValidity("editable",!0),v.$setValidity("parse",!0),A(e,{$item:s,$model:o,$label:j.viewMapper(e,l),$event:r}),W(),!1!==V.$eval(n.typeaheadFocusOnSelect)&&a(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==V.matches.length&&-1!==y.indexOf(t.which)){var n=T(e,{$event:t});if(-1===V.activeIdx&&n||9===t.which&&t.shiftKey)return W(),void V.$digest();t.preventDefault();var i;switch(t.which){case 27:t.stopPropagation(),W(),e.$digest();break;case 38:V.activeIdx=(V.activeIdx>0?V.activeIdx:V.matches.length)-1,V.$digest(),i=z[0].querySelectorAll(".uib-typeahead-match")[V.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;case 40:V.activeIdx=(V.activeIdx+1)%V.matches.length,V.$digest(),i=z[0].querySelectorAll(".uib-typeahead-match")[V.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;default:n&&V.$apply(function(){angular.isNumber(V.debounceUpdate)||angular.isObject(V.debounceUpdate)?c(function(){V.select(V.activeIdx,t)},angular.isNumber(V.debounceUpdate)?V.debounceUpdate:V.debounceUpdate.default):V.select(V.activeIdx,t)})}}}),t.on("focus",function(e){C=!0,0!==E||v.$viewValue||a(function(){X(v.$viewValue,e)},0)}),t.on("blur",function(e){L&&V.matches.length&&-1!==V.activeIdx&&!S&&(S=!0,V.$apply(function(){angular.isObject(V.debounceUpdate)&&angular.isNumber(V.debounceUpdate.blur)?c(function(){V.select(V.activeIdx,e)},V.debounceUpdate.blur):V.select(V.activeIdx,e)})),!x&&v.$error.editable&&(v.$setViewValue(),V.$apply(function(){v.$setValidity("editable",!0),v.$setValidity("parse",!0)}),t.val("")),C=!1,S=!1});var te=function(n){t[0]!==n.target&&3!==n.which&&0!==V.matches.length&&(W(),u.$$phase||e.$digest())};s.on("click",te),e.$on("$destroy",function(){s.off("click",te),(R||O)&&ne.remove(),R&&(angular.element(l).off("resize",f),s.find("body").off("scroll",f)),z.remove(),k&&B.remove()});var ne=i(z)(V);R?s.find("body").append(ne):O?angular.element(O).eq(0).append(ne):t.after(ne),this.init=function(t){v=t,m=g(v),V.debounceUpdate=r(m.getOption("debounce"))(e),v.$parsers.unshift(function(t){return C=!0,0===E||t&&t.length>=E?b>0?(ee(),Z(t)):X(t):(w(e,!1),ee(),W()),x?t:t?void v.$setValidity("editable",!1):(v.$setValidity("editable",!0),null)}),v.$formatters.push(function(t){var n,i,r={};return x||v.$setValidity("editable",!0),N?(r.$model=t,N(e,r)):(r[j.itemName]=t,n=j.viewMapper(e,r),r[j.itemName]=void 0,i=j.viewMapper(e,r),n!==i?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(e,t,n,i){i[1].init(i[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,i){t.templateUrl=i.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,i){var r=t.debounce();angular.isNumber(r)||angular.isObject(r)?e(function(){t.select({activeIdx:n,evt:i})},angular.isNumber(r)?r:r.default):t.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var a=n(o.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";e(a).then(function(e){var n=angular.element(e.trim());r.replaceWith(n),t(n)(i)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function r(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,a){return!o&&r(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=a?(""+t).replace(new RegExp(i(a),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0})},function(e,t,n){n(277),e.exports="toastr"},function(e,t){!function(){"use strict";function e(e,t,n,i,r,o,a){function s(){return x.length}function l(e){if(1!==arguments.length||e)if(e)h(e.toastId);else for(var t=0;t<x.length;t++)h(x[t].toastId)}function u(e,t,n){return g(v().iconClasses.error,e,t,n)}function c(e,t,n){return g(v().iconClasses.info,e,t,n)}function p(e,t,n){return g(v().iconClasses.success,e,t,n)}function d(e,t,n){return g(v().iconClasses.warning,e,t,n)}function f(e,t){e&&e.isOpened&&x.indexOf(e)>=0&&e.scope.refreshTimer(t)}function h(t,n){function i(){return!x.length}var r=function(e){for(var t=0;t<x.length;t++)if(x[t].toastId===e)return x[t]}(t);r&&!r.deleting&&(r.deleting=!0,r.isOpened=!1,e.leave(r.el).then(function(){r.scope.options.onHidden&&r.scope.options.onHidden(!!n,r),r.scope.$destroy();var e=x.indexOf(r);delete S[r.scope.message],x.splice(e,1);var t=o.maxOpened;t&&x.length>=t&&x[t-1].open.resolve(),i()&&(E.remove(),E=null,w=a.defer())}))}function g(e,t,n,i){return angular.isObject(n)&&(i=n,n=null),y({iconClass:e,message:t,optionsOverride:i,title:n})}function v(){return angular.extend({},o)}function m(t){if(E)return w.promise;E=angular.element("<div></div>"),E.attr("id",t.containerId),E.addClass(t.positionClass),E.css({"pointer-events":"auto"});var n=angular.element(document.querySelector(t.target));if(!n||!n.length)throw"Target for toasts doesn't exist";return e.enter(E,n).then(function(){w.resolve()}),w.promise}function y(n){function o(e,t,n){function i(t){if(n[t])return function(){n[t](e)}}n.allowHtml?(e.scope.allowHtml=!0,e.scope.title=r.trustAsHtml(t.title),e.scope.message=r.trustAsHtml(t.message)):(e.scope.title=t.title,e.scope.message=t.message),e.scope.toastType=e.iconClass,e.scope.toastId=e.toastId,e.scope.extraData=n.extraData,e.scope.options={extendedTimeOut:n.extendedTimeOut,messageClass:n.messageClass,onHidden:n.onHidden,onShown:i("onShown"),onTap:i("onTap"),progressBar:n.progressBar,tapToDismiss:n.tapToDismiss,timeOut:n.timeOut,titleClass:n.titleClass,toastClass:n.toastClass},n.closeButton&&(e.scope.options.closeHtml=n.closeHtml)}function s(e){var n=angular.element("<div toast></div>");return t.get("$compile")(n)(e)}var l=v();if(!function(){var e=l.preventDuplicates&&n.message===C,t=l.preventOpenDuplicates&&S[n.message];return!(!e&&!t)||(C=n.message,S[n.message]=!0,!1)}()){var u=function(){var e={toastId:b++,isOpened:!1,scope:i.$new(),open:a.defer()};return e.iconClass=n.iconClass,n.optionsOverride&&(angular.extend(l,function(e){for(var t=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],n=0,i=t.length;n<i;n++)delete e[t[n]];return e}(n.optionsOverride)),e.iconClass=n.optionsOverride.iconClass||e.iconClass),o(e,n,l),e.el=s(e.scope),e}();if(x.push(u),function(){return l.autoDismiss&&l.maxOpened&&x.length>l.maxOpened}())for(var c=x.slice(0,x.length-l.maxOpened),p=0,d=c.length;p<d;p++)h(c[p].toastId);return function(){return l.maxOpened&&x.length<=l.maxOpened||!l.maxOpened}()&&u.open.resolve(),u.open.promise.then(function(){m(l).then(function(){if(u.isOpened=!0,l.newestOnTop)e.enter(u.el,E).then(function(){u.scope.init()});else{var t=E[0].lastChild?angular.element(E[0].lastChild):null;e.enter(u.el,E,t).then(function(){u.scope.init()})}})}),u}}var E,b=0,x=[],C="",S={},w=a.defer();return{active:s,clear:l,error:u,info:c,remove:h,success:p,warning:d,refreshTimer:f}}angular.module("toastr",[]).factory("toastr",e),e.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,onTap:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function e(e){function t(e,t,n,i){function r(){var e=(s-(new Date).getTime())/a*100;t.css("width",e+"%")}var o,a,s;i.progressBar=e,e.start=function(e){o&&clearInterval(o),a=parseFloat(e),s=(new Date).getTime()+a,o=setInterval(r,10)},e.stop=function(){o&&clearInterval(o)},e.$on("$destroy",function(){clearInterval(o)})}return{require:"^toast",templateUrl:function(){return e.templates.progressbar},link:t}}angular.module("toastr").directive("progressBar",e),e.$inject=["toastrConfig"]}(),function(){"use strict";function e(){this.progressBar=null,this.startProgressBar=function(e){this.progressBar&&this.progressBar.start(e)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",e)}(),function(){"use strict";function e(e,t,n,i){function r(n,r,o,a){function s(e){return a.startProgressBar(e),t(function(){a.stopProgressBar(),i.remove(n.toastId)},e,1)}function l(){n.progressBar=!1,a.stopProgressBar()}var u;if(n.toastClass=n.options.toastClass,n.titleClass=n.options.titleClass,n.messageClass=n.options.messageClass,n.progressBar=n.options.progressBar,function(){return n.options.closeHtml}()){var c=angular.element(n.options.closeHtml),p=e.get("$compile");c.addClass("toast-close-button"),c.attr("ng-click","close(true, $event)"),p(c)(n),r.children().prepend(c)}n.init=function(){n.options.timeOut&&(u=s(n.options.timeOut)),n.options.onShown&&n.options.onShown()},r.on("mouseenter",function(){l(),u&&t.cancel(u)}),n.tapToast=function(){angular.isFunction(n.options.onTap)&&n.options.onTap(),n.options.tapToDismiss&&n.close(!0)},n.close=function(e,t){t&&angular.isFunction(t.stopPropagation)&&t.stopPropagation(),i.remove(n.toastId,e)},n.refreshTimer=function(e){u&&(t.cancel(u),u=s(e||n.options.timeOut))},r.on("mouseleave",function(){0===n.options.timeOut&&0===n.options.extendedTimeOut||(n.$apply(function(){n.progressBar=n.options.progressBar}),u=s(n.options.extendedTimeOut))})}return{templateUrl:function(){return n.templates.toast},controller:"ToastController",link:r}}angular.module("toastr").directive("toast",e),e.$inject=["$injector","$interval","toastrConfig","toastr"]}(),angular.module("toastr").run(["$templateCache",function(e){e.put("directives/progressbar/progressbar.html",'<div class="toast-progress"></div>\n'),e.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title}}">{{title}}</div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message}}">{{message}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\n  </div>\n  <progress-bar ng-if="progressBar"></progress-bar>\n</div>\n')}])},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";e.exports="ngFileSaver",angular.module("ngFileSaver",[]).factory("FileSaver",["Blob","SaveAs","FileSaverUtils",n(1)]).factory("FileSaverUtils",[n(2)]).factory("Blob",["$window",n(3)]).factory("SaveAs",[n(5)])},function(e,t){"use strict";e.exports=function(e,t,n){function i(e,i,r){try{t(e,i,r)}catch(e){n.handleErrors(e.message)}}return{saveAs:function(e,t,r){return n.isBlobInstance(e)||n.handleErrors("Data argument should be a blob instance"),n.isString(t)||n.handleErrors("Filename argument should be a string"),i(e,t,r)}}}},function(e,t){"use strict";e.exports=function(){return{handleErrors:function(e){throw new Error(e)},isString:function(e){return"string"==typeof e||e instanceof String},isUndefined:function(e){return void 0===e},isBlobInstance:function(e){return e instanceof Blob}}}},function(e,t,n){"use strict";n(4),e.exports=function(e){return e.Blob}},function(e,t){/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
!function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(e){}var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},r=n.prototype,o=i.prototype,a=e.FileReaderSync,s=function(e){this.code=this[this.name=e]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=l.length,c=e.URL||e.webkitURL||e,p=c.createObjectURL,d=c.revokeObjectURL,f=c,h=e.btoa,g=e.atob,v=e.ArrayBuffer,m=e.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(i.fake=o.fake=!0;u--;)s.prototype[l[u]]=u+1;return c.createObjectURL||(f=e.URL=function(e){var t,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=e,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(t=e.match(y),n.origin=t&&t[1])),n}),f.createObjectURL=function(e){var t,n=e.type;return null===n&&(n="application/octet-stream"),e instanceof i?(t="data:"+n,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):h?t+";base64,"+h(e.data):t+","+encodeURIComponent(e.data)):p?p.call(c,e):void 0},f.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&d&&d.call(c,e)},r.append=function(e){var n=this.data;if(m&&(e instanceof v||e instanceof m)){for(var r="",o=new m(e),l=0,u=o.length;l<u;l++)r+=String.fromCharCode(o[l]);n.push(r)}else if("Blob"===t(e)||"File"===t(e)){if(!a)throw new s("NOT_READABLE_ERR");var c=new a;n.push(c.readAsBinaryString(e))}else e instanceof i?"base64"===e.encoding&&g?n.push(g(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},r.getBlob=function(e){return arguments.length||(e=null),new i(this.data.join(""),e,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(e,t,n){var r=arguments.length;return r<3&&(n=null),new i(this.data.slice(e,r>1?t:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(e);e.Blob=function(e,n){var i=n?n.type||"":"",r=new t;if(e)for(var o=0,a=e.length;o<a;o++)Uint8Array&&e[o]instanceof Uint8Array?r.append(e[o].buffer):r.append(e[o]);var s=r.getBlob(i);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var n=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=n(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(e,t,n){"use strict";e.exports=function(){return n(6).saveAs||function(){}}},function(e,t,n){var i,r=r||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,4e4)},c=function(e,t,n){t=[].concat(t);for(var i=t.length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){l(e)}}},p=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},d=function(t,l,d){d||(t=p(t));var f,h=this,g=t.type,v="application/octet-stream"===g,m=function(){c(h,"writestart progress write writeend".split(" "))};if(h.readyState=h.INIT,r)return f=n().createObjectURL(t),void setTimeout(function(){i.href=f,i.download=l,o(i),m(),u(f),h.readyState=h.DONE});!function(){if((s||v&&a)&&e.FileReader){var i=new FileReader;return i.onloadend=function(){var t=s?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,h.readyState=h.DONE,m()},i.readAsDataURL(t),void(h.readyState=h.INIT)}if(f||(f=n().createObjectURL(t)),v)e.location.href=f;else{e.open(f,"_blank")||(e.location.href=f)}h.readyState=h.DONE,m(),u(f)}()},f=d.prototype,h=function(e,t,n){return new d(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=p(e)),navigator.msSaveOrOpenBlob(e,t)}:(f.abort=function(){},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,h)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==e&&e.exports?e.exports.saveAs=r:null!==n(7)&&null!==n(8)&&void 0!==(i=function(){return r}.call(t,n,t,e))&&(e.exports=i)},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})}])})},function(e,t){},function(e,t,n){"use strict";var i=n(0),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i);n(178),n(113),n(114),n(94),r.module("fibra.actions",["fibra.actions.project","fibra.actions.filter","fibra.actions.active","fibra.actions.sources"])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(0),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i);n(317),n(342),n(366),n(199),n(29),n(71),n(69),n(410),n(411),r.module("fibra.services",["fibra.services.social-auth-service","fibra.services.worker-service","fibra.services.project-service","fibra.services.fibra-sparql-service","fibra.services.sparql-item-service","fibra.services.sparql-statistics-service","fibra.services.sparql-autocomplete-service","fibra.services.items-service","fibra.services.property-service"])},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SocialAuthService=void 0;var o=n(1),a=r(o),s=n(2),l=r(s),u=n(0),c=i(u),p=n(318),d=i(p),f=t.SocialAuthService=function(){function e(t,n){(0,a.default)(this,e),this.$localStorage=t,this.$state=n}return e.$inject=["$localStorage","$state"],(0,l.default)(e,[{key:"loginState",value:function(){return this.$localStorage.user_email?this.$localStorage.user_email+" (via "+this.$localStorage.login_provider+")":"Not logged in"}},{key:"isLoggedIn",value:function(){return null!==this.$localStorage.user_email&&void 0!==this.$localStorage.user_email}},{key:"isAuthenticated",value:function(){return!!this.$localStorage.access_token}},{key:"logout",value:function(){this.$localStorage.access_token=null,this.$localStorage.login_provider=null,this.$localStorage.user_email=null,this.$state.go("projects")}},{key:"getSourceID",value:function(){return"http://ldf.fi/fibra/user/"+d.SHA256(this.loginState())+"/projects/"}}]),e}();c.module("fibra.services.social-auth-service",[]).config(["$provide",function(e){e.service("socialAuthService",f)}])},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(95),n(319),n(320),n(52),n(53),n(133),n(190),n(321),n(191),n(322),n(323),n(324),n(134),n(325),n(44),n(11),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341))}(0,function(e){return e})},function(e,t,n){!function(i,r){e.exports=t=r(n(4))}(0,function(e){return function(){if("function"==typeof ArrayBuffer){var t=e,n=t.lib,i=n.WordArray,r=i.init;(i.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],i=0;i<t;i++)n[i>>>2]|=e[i]<<24-i%4*8;r.call(this,n,t)}else r.apply(this,arguments)}).prototype=i}}(),e.lib.WordArray})},function(e,t,n){!function(i,r){e.exports=t=r(n(4))}(0,function(e){return function(){function t(e){return e<<8&4278255360|e>>>8&16711935}var n=e,i=n.lib,r=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r+=2){var o=t[r>>>2]>>>16-r%4*8&65535;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return r.create(n,2*t)}};o.Utf16LE={stringify:function(e){for(var n=e.words,i=e.sigBytes,r=[],o=0;o<i;o+=2){var a=t(n[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var n=e.length,i=[],o=0;o<n;o++)i[o>>>1]|=t(e.charCodeAt(o)<<16-o%2*16);return r.create(i,2*n)}}}(),e.enc.Utf16})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(190))}(0,function(e){return function(){var t=e,n=t.lib,i=n.WordArray,r=t.algo,o=r.SHA256,a=r.SHA224=o.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=o._createHelper(a),t.HmacSHA224=o._createHmacHelper(a)}(),e.SHA224})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(95),n(191))}(0,function(e){return function(){var t=e,n=t.x64,i=n.Word,r=n.WordArray,o=t.algo,a=o.SHA512,s=o.SHA384=a.extend({_doReset:function(){this._hash=new r.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=a._createHelper(s),t.HmacSHA384=a._createHmacHelper(s)}(),e.SHA384})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(95))}(0,function(e){return function(t){var n=e,i=n.lib,r=i.WordArray,o=i.Hasher,a=n.x64,s=a.Word,l=n.algo,u=[],c=[],p=[];!function(){for(var e=1,t=0,n=0;n<24;n++){u[e+5*t]=(n+1)*(n+2)/2%64;var i=t%5,r=(2*e+3*t)%5;e=i,t=r}for(var e=0;e<5;e++)for(var t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,a=0;a<24;a++){for(var l=0,d=0,f=0;f<7;f++){if(1&o){var h=(1<<f)-1;h<32?d^=1<<h:l^=1<<h-32}128&o?o=o<<1^113:o<<=1}p[a]=s.create(l,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=s.create()}();var f=l.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,i=this.blockSize/2,r=0;r<i;r++){var o=e[t+2*r],a=e[t+2*r+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8);var s=n[r];s.high^=a,s.low^=o}for(var l=0;l<24;l++){for(var f=0;f<5;f++){for(var h=0,g=0,v=0;v<5;v++){var s=n[f+5*v];h^=s.high,g^=s.low}var m=d[f];m.high=h,m.low=g}for(var f=0;f<5;f++)for(var y=d[(f+4)%5],E=d[(f+1)%5],b=E.high,x=E.low,h=y.high^(b<<1|x>>>31),g=y.low^(x<<1|b>>>31),v=0;v<5;v++){var s=n[f+5*v];s.high^=h,s.low^=g}for(var C=1;C<25;C++){var s=n[C],S=s.high,w=s.low,T=u[C];if(T<32)var h=S<<T|w>>>32-T,g=w<<T|S>>>32-T;else var h=w<<T-32|S>>>64-T,g=S<<T-32|w>>>64-T;var A=d[c[C]];A.high=h,A.low=g}var L=d[0],I=n[0];L.high=I.high,L.low=I.low;for(var f=0;f<5;f++)for(var v=0;v<5;v++){var C=f+5*v,s=n[C],N=d[C],R=d[(f+1)%5+5*v],O=d[(f+2)%5+5*v];s.high=N.high^~R.high&O.high,s.low=N.low^~R.low&O.low}var s=n[0],P=p[l];s.high^=P.high,s.low^=P.low}},_doFinalize:function(){var e=this._data,n=e.words,i=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(t.ceil((i+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,l=s/8,u=[],c=0;c<l;c++){var p=a[c],d=p.high,f=p.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),u.push(f),u.push(d)}return new r.init(u,s)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=o._createHelper(f),n.HmacSHA3=o._createHmacHelper(f)}(Math),e.SHA3})},function(e,t,n){!function(i,r){e.exports=t=r(n(4))}(0,function(e){/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
return function(t){function n(e,t,n){return e^t^n}function i(e,t,n){return e&t|~e&n}function r(e,t,n){return(e|~t)^n}function o(e,t,n){return e&n|t&~n}function a(e,t,n){return e^(t|~n)}function s(e,t){return e<<t|e>>>32-t}var l=e,u=l.lib,c=u.WordArray,p=u.Hasher,d=l.algo,f=c.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=c.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),g=c.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),v=c.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=c.create([0,1518500249,1859775393,2400959708,2840853838]),y=c.create([1352829926,1548603684,1836072691,2053994217,0]),E=d.RIPEMD160=p.extend({_doReset:function(){this._hash=c.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var l=0;l<16;l++){var u=t+l,c=e[u];e[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var p,d,E,b,x,C,S,w,T,A,L=this._hash.words,I=m.words,N=y.words,R=f.words,O=h.words,P=g.words,_=v.words;C=p=L[0],S=d=L[1],w=E=L[2],T=b=L[3],A=x=L[4];for(var D,l=0;l<80;l+=1)D=p+e[t+R[l]]|0,D+=l<16?n(d,E,b)+I[0]:l<32?i(d,E,b)+I[1]:l<48?r(d,E,b)+I[2]:l<64?o(d,E,b)+I[3]:a(d,E,b)+I[4],D|=0,D=s(D,P[l]),D=D+x|0,p=x,x=b,b=s(E,10),E=d,d=D,D=C+e[t+O[l]]|0,D+=l<16?a(S,w,T)+N[0]:l<32?o(S,w,T)+N[1]:l<48?r(S,w,T)+N[2]:l<64?i(S,w,T)+N[3]:n(S,w,T)+N[4],D|=0,D=s(D,_[l]),D=D+A|0,C=A,A=T,T=s(w,10),w=S,S=D;D=L[1]+E+T|0,L[1]=L[2]+b+A|0,L[2]=L[3]+x+C|0,L[3]=L[4]+p+S|0,L[4]=L[0]+d+w|0,L[0]=D},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=this._hash,o=r.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return r},clone:function(){var e=p.clone.call(this);return e._hash=this._hash.clone(),e}});l.RIPEMD160=p._createHelper(E),l.HmacRIPEMD160=p._createHmacHelper(E)}(Math),e.RIPEMD160})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(133),n(134))}(0,function(e){return function(){var t=e,n=t.lib,i=n.Base,r=n.WordArray,o=t.algo,a=o.SHA1,s=o.HMAC,l=o.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=s.create(n.hasher,e),o=r.create(),a=r.create([1]),l=o.words,u=a.words,c=n.keySize,p=n.iterations;l.length<c;){var d=i.update(t).finalize(a);i.reset();for(var f=d.words,h=f.length,g=d,v=1;v<p;v++){g=i.finalize(g),i.reset();for(var m=g.words,y=0;y<h;y++)f[y]^=m[y]}o.concat(d),u[0]++}return o.sigBytes=4*c,o}});t.PBKDF2=function(e,t,n){return l.create(n).compute(e,t)}}(),e.PBKDF2})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(11))}(0,function(e){return e.mode.CFB=function(){function t(e,t,n,i){var r=this._iv;if(r){var o=r.slice(0);this._iv=void 0}else var o=this._prevBlock;i.encryptBlock(o,0);for(var a=0;a<n;a++)e[t+a]^=o[a]}var n=e.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize;t.call(this,e,n,r,i),this._prevBlock=e.slice(n,n+r)}}),n.Decryptor=n.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize,o=e.slice(n,n+r);t.call(this,e,n,r,i),this._prevBlock=o}}),n}(),e.mode.CFB})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(11))}(0,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=this._iv,o=this._counter;r&&(o=this._counter=r.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[i-1]=o[i-1]+1|0;for(var s=0;s<i;s++)e[t+s]^=a[s]}});return t.Decryptor=n,t}(),e.mode.CTR})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(11))}(0,function(e){/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
return e.mode.CTRGladman=function(){function t(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,i=255&e;255===t?(t=0,255===n?(n=0,255===i?i=0:++i):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=i}else e+=1<<24;return e}function n(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var i=e.lib.BlockCipherMode.extend(),r=i.Encryptor=i.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),n(a);var s=a.slice(0);i.encryptBlock(s,0);for(var l=0;l<r;l++)e[t+l]^=s[l]}});return i.Decryptor=r,i}(),e.mode.CTRGladman})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(11))}(0,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=this._iv,o=this._keystream;r&&(o=this._keystream=r.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<i;a++)e[t+a]^=o[a]}});return t.Decryptor=n,t}(),e.mode.OFB})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(11))}(0,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t}(),e.mode.ECB})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(11))}(0,function(e){return e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,i=4*t,r=i-n%i,o=n+r-1;e.clamp(),e.words[o>>>2]|=r<<24-o%4*8,e.sigBytes+=r},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(11))}(0,function(e){return e.pad.Iso10126={pad:function(t,n){var i=4*n,r=i-t.sigBytes%i;t.concat(e.lib.WordArray.random(r-1)).concat(e.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(11))}(0,function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(11))}(0,function(e){return e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){for(var t=e.words,n=e.sigBytes-1;!(t[n>>>2]>>>24-n%4*8&255);)n--;e.sigBytes=n+1}},e.pad.ZeroPadding})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(11))}(0,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(11))}(0,function(e){return function(t){var n=e,i=n.lib,r=i.CipherParams,o=n.enc,a=o.Hex,s=n.format;s.Hex={stringify:function(e){return e.ciphertext.toString(a)},parse:function(e){var t=a.parse(e);return r.create({ciphertext:t})}}}(),e.format.Hex})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(52),n(53),n(44),n(11))}(0,function(e){return function(){var t=e,n=t.lib,i=n.BlockCipher,r=t.algo,o=[],a=[],s=[],l=[],u=[],c=[],p=[],d=[],f=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=0,i=0,t=0;t<256;t++){var r=i^i<<1^i<<2^i<<3^i<<4;r=r>>>8^255&r^99,o[n]=r,a[r]=n;var g=e[n],v=e[g],m=e[v],y=257*e[r]^16843008*r;s[n]=y<<24|y>>>8,l[n]=y<<16|y>>>16,u[n]=y<<8|y>>>24,c[n]=y;var y=16843009*m^65537*v^257*g^16843008*n;p[r]=y<<24|y>>>8,d[r]=y<<16|y>>>16,f[r]=y<<8|y>>>24,h[r]=y,n?(n=g^e[e[e[m^g]]],i^=e[e[i]]):n=i=1}}();var g=[0,1,2,4,8,16,32,64,128,27,54],v=r.AES=i.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,i=this._nRounds=n+6,r=4*(i+1),a=this._keySchedule=[],s=0;s<r;s++)if(s<n)a[s]=t[s];else{var l=a[s-1];s%n?n>6&&s%n==4&&(l=o[l>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l]):(l=l<<8|l>>>24,l=o[l>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l],l^=g[s/n|0]<<24),a[s]=a[s-n]^l}for(var u=this._invKeySchedule=[],c=0;c<r;c++){var s=r-c;if(c%4)var l=a[s];else var l=a[s-4];u[c]=c<4||s<=4?l:p[o[l>>>24]]^d[o[l>>>16&255]]^f[o[l>>>8&255]]^h[o[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,l,u,c,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,p,d,f,h,a);var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,r,o,a,s){for(var l=this._nRounds,u=e[t]^n[0],c=e[t+1]^n[1],p=e[t+2]^n[2],d=e[t+3]^n[3],f=4,h=1;h<l;h++){var g=i[u>>>24]^r[c>>>16&255]^o[p>>>8&255]^a[255&d]^n[f++],v=i[c>>>24]^r[p>>>16&255]^o[d>>>8&255]^a[255&u]^n[f++],m=i[p>>>24]^r[d>>>16&255]^o[u>>>8&255]^a[255&c]^n[f++],y=i[d>>>24]^r[u>>>16&255]^o[c>>>8&255]^a[255&p]^n[f++];u=g,c=v,p=m,d=y}var g=(s[u>>>24]<<24|s[c>>>16&255]<<16|s[p>>>8&255]<<8|s[255&d])^n[f++],v=(s[c>>>24]<<24|s[p>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[f++],m=(s[p>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&c])^n[f++],y=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[c>>>8&255]<<8|s[255&p])^n[f++];e[t]=g,e[t+1]=v,e[t+2]=m,e[t+3]=y},keySize:8});t.AES=i._createHelper(v)}(),e.AES})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(52),n(53),n(44),n(11))}(0,function(e){return function(){function t(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function n(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}var i=e,r=i.lib,o=r.WordArray,a=r.BlockCipher,s=i.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],p=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=s.DES=a.extend({_doReset:function(){for(var e=this._key,t=e.words,n=[],i=0;i<56;i++){var r=l[i]-1;n[i]=t[r>>>5]>>>31-r%32&1}for(var o=this._subKeys=[],a=0;a<16;a++){for(var s=o[a]=[],p=c[a],i=0;i<24;i++)s[i/6|0]|=n[(u[i]-1+p)%28]<<31-i%6,s[4+(i/6|0)]|=n[28+(u[i+24]-1+p)%28]<<31-i%6;s[0]=s[0]<<1|s[0]>>>31;for(var i=1;i<7;i++)s[i]=s[i]>>>4*(i-1)+3;s[7]=s[7]<<5|s[7]>>>27}for(var d=this._invSubKeys=[],i=0;i<16;i++)d[i]=o[15-i]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,i,r){this._lBlock=e[i],this._rBlock=e[i+1],t.call(this,4,252645135),t.call(this,16,65535),n.call(this,2,858993459),n.call(this,8,16711935),t.call(this,1,1431655765);for(var o=0;o<16;o++){for(var a=r[o],s=this._lBlock,l=this._rBlock,u=0,c=0;c<8;c++)u|=p[c][((l^a[c])&d[c])>>>0];this._lBlock=l,this._rBlock=s^u}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,t.call(this,1,1431655765),n.call(this,8,16711935),n.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),e[i]=this._lBlock,e[i+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});i.DES=a._createHelper(f);var h=s.TripleDES=a.extend({_doReset:function(){var e=this._key,t=e.words;this._des1=f.createEncryptor(o.create(t.slice(0,2))),this._des2=f.createEncryptor(o.create(t.slice(2,4))),this._des3=f.createEncryptor(o.create(t.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});i.TripleDES=a._createHelper(h)}(),e.TripleDES})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(52),n(53),n(44),n(11))}(0,function(e){return function(){function t(){for(var e=this._S,t=this._i,n=this._j,i=0,r=0;r<4;r++){t=(t+1)%256,n=(n+e[t])%256;var o=e[t];e[t]=e[n],e[n]=o,i|=e[(e[t]+e[n])%256]<<24-8*r}return this._i=t,this._j=n,i}var n=e,i=n.lib,r=i.StreamCipher,o=n.algo,a=o.RC4=r.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,i=this._S=[],r=0;r<256;r++)i[r]=r;for(var r=0,o=0;r<256;r++){var a=r%n,s=t[a>>>2]>>>24-a%4*8&255;o=(o+i[r]+s)%256;var l=i[r];i[r]=i[o],i[o]=l}this._i=this._j=0},_doProcessBlock:function(e,n){e[n]^=t.call(this)},keySize:8,ivSize:0});n.RC4=r._createHelper(a);var s=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)t.call(this)}});n.RC4Drop=r._createHelper(s)}(),e.RC4})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(52),n(53),n(44),n(11))}(0,function(e){return function(){function t(){for(var e=this._X,t=this._C,n=0;n<8;n++)s[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<s[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<s[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<s[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<s[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<s[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<s[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<s[6]>>>0?1:0)|0,this._b=t[7]>>>0<s[7]>>>0?1:0;for(var n=0;n<8;n++){var i=e[n]+t[n],r=65535&i,o=i>>>16,a=((r*r>>>17)+r*o>>>15)+o*o,u=((4294901760&i)*i|0)+((65535&i)*i|0);l[n]=a^u}e[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,e[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,e[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,e[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,e[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,e[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,e[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,e[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}var n=e,i=n.lib,r=i.StreamCipher,o=n.algo,a=[],s=[],l=[],u=o.Rabbit=r.extend({_doReset:function(){for(var e=this._key.words,n=this.cfg.iv,i=0;i<4;i++)e[i]=16711935&(e[i]<<8|e[i]>>>24)|4278255360&(e[i]<<24|e[i]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)t.call(this);for(var i=0;i<8;i++)o[i]^=r[i+4&7];if(n){var a=n.words,s=a[0],l=a[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),p=u>>>16|4294901760&c,d=c<<16|65535&u;o[0]^=u,o[1]^=p,o[2]^=c,o[3]^=d,o[4]^=u,o[5]^=p,o[6]^=c,o[7]^=d;for(var i=0;i<4;i++)t.call(this)}},_doProcessBlock:function(e,n){var i=this._X;t.call(this),a[0]=i[0]^i[5]>>>16^i[3]<<16,a[1]=i[2]^i[7]>>>16^i[5]<<16,a[2]=i[4]^i[1]>>>16^i[7]<<16,a[3]=i[6]^i[3]>>>16^i[1]<<16;for(var r=0;r<4;r++)a[r]=16711935&(a[r]<<8|a[r]>>>24)|4278255360&(a[r]<<24|a[r]>>>8),e[n+r]^=a[r]},blockSize:4,ivSize:2});n.Rabbit=r._createHelper(u)}(),e.Rabbit})},function(e,t,n){!function(i,r,o){e.exports=t=r(n(4),n(52),n(53),n(44),n(11))}(0,function(e){return function(){function t(){for(var e=this._X,t=this._C,n=0;n<8;n++)s[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<s[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<s[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<s[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<s[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<s[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<s[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<s[6]>>>0?1:0)|0,this._b=t[7]>>>0<s[7]>>>0?1:0;for(var n=0;n<8;n++){var i=e[n]+t[n],r=65535&i,o=i>>>16,a=((r*r>>>17)+r*o>>>15)+o*o,u=((4294901760&i)*i|0)+((65535&i)*i|0);l[n]=a^u}e[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,e[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,e[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,e[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,e[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,e[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,e[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,e[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}var n=e,i=n.lib,r=i.StreamCipher,o=n.algo,a=[],s=[],l=[],u=o.RabbitLegacy=r.extend({_doReset:function(){var e=this._key.words,n=this.cfg.iv,i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var o=0;o<4;o++)t.call(this);for(var o=0;o<8;o++)r[o]^=i[o+4&7];if(n){var a=n.words,s=a[0],l=a[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),p=u>>>16|4294901760&c,d=c<<16|65535&u;r[0]^=u,r[1]^=p,r[2]^=c,r[3]^=d,r[4]^=u,r[5]^=p,r[6]^=c,r[7]^=d;for(var o=0;o<4;o++)t.call(this)}},_doProcessBlock:function(e,n){var i=this._X;t.call(this),a[0]=i[0]^i[5]>>>16^i[3]<<16,a[1]=i[2]^i[7]>>>16^i[5]<<16,a[2]=i[4]^i[1]>>>16^i[7]<<16,a[3]=i[6]^i[3]>>>16^i[1]<<16;for(var r=0;r<4;r++)a[r]=16711935&(a[r]<<8|a[r]>>>24)|4278255360&(a[r]<<24|a[r]>>>8),e[n+r]^=a[r]},blockSize:4,ivSize:2});n.RabbitLegacy=r._createHelper(u)}(),e.RabbitLegacy})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerService=t.WorkerServiceConfiguration=void 0;var r=n(2),o=i(r),a=n(1),s=i(a),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=n(192),p=(t.WorkerServiceConfiguration=function e(t,n,i){(0,s.default)(this,e),this.appName=t,this.workerThreads=n,this.importScripts=i},t.WorkerService=function(){function e(t,n,i,r,o,a){var l=this;(0,s.default)(this,e),this.$q=o,this.$ngRedux=a,this.currentWorker=0,this.deferreds=[],this.oldState=new c.BackendRootState,a.subscribe(function(){var e=(0,c.convertToBackendState)(l.$ngRedux.getState(),l.oldState);null!==e&&(l.oldState=e,l.callAll("stateWorkerService","setState",[e]))});var u=r.location.protocol+"//"+r.location.host,p=t.importScripts.map(function(e){return 0!==e.indexOf("http")?u+(0!==e.indexOf("/")?r.location.pathname:"")+e:e}),d=r.URL.createObjectURL(new Blob([e.workerTemplate.replace(/<APP_NAME>/g,t.appName).replace(/<IMPORT_SCRIPTS>/g,p.join("','"))],{type:"application/javascript"}));this.workers=[];for(var f=0;f<t.workerThreads;f++)this.workers.push(new Worker(d)),this.workers[f].addEventListener("message",function(e){var t=e.data.event;if("broadcast"===t)i.$broadcast(e.data.name,n.restorePrototypes(e.data.args)),i.$apply();else{var r=l.deferreds[e.data.id];r&&("success"===t?(delete l.deferreds[e.data.id],r.resolve(n.restorePrototypes(e.data.data))):"failure"===t?(delete l.deferreds[e.data.id],r.reject(n.restorePrototypes(e.data.data))):r.notify(n.restorePrototypes(e.data.data)))}})}return e.$inject=["workerServiceConfiguration","serializationService","$rootScope","$window","$q","$ngRedux"],(0,o.default)(e,[{key:"$broadcast",value:function(e,t){this.workers.forEach(function(n){return n.postMessage({name:e,args:t})})}},{key:"callAll",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments[3],o=this.$q.defer();this.deferreds.push(o);var a=this.deferreds.length-1,s={id:a,service:e,method:t,args:i};return r&&r.then(function(){n.workers.forEach(function(e){return e.postMessage({id:a,cancel:!0})}),delete n.deferreds[a]}),this.workers.forEach(function(e){return e.postMessage(s)}),o.promise}},{key:"call",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments[3],o=this.$q.defer();this.deferreds.push(o);var a=this.deferreds.length-1,s=this.workers[this.currentWorker];return this.currentWorker=(this.currentWorker+1)%this.workers.length,r&&r.then(function(){s.postMessage({id:a,cancel:!0}),delete n.deferreds[a]}),s.postMessage({id:a,service:e,method:t,args:i}),o.promise}}]),e}());p.workerTemplate="\n    var window = self\n    window.history = {}\n    window.Node = function () {}\n    //self.setImmediate = function(fn) { return window.setTimeout(fn, 0) }\n    window.document = {\n      readyState: 'complete',\n      cookie: '',\n      querySelector: function (selector) {\n        if (selector=='html') return { innerHTML: '', getAttribute: function() {}} // angular-hot-loader patch\n      },\n      addEventListener: function() {},\n      createElement: function() {\n        return {\n          pathname: '',\n          setAttribute: function(key, value) {}\n        };\n      },\n    };\n    importScripts('<IMPORT_SCRIPTS>')\n    window.angular.module('<APP_NAME>').run(['workerWorkerService', function(workerWorkerService) {\n      self.addEventListener('message', function(e) { workerWorkerService.onMessage(e.data) })\n    }])\n    window.angular.bootstrap(null, ['<APP_NAME>'])\n    window = undefined\n    self.history = undefined\n    self.Node = undefined\n    setTimeout(function() { // angular init needs this\n      self.document = undefined\n    }, 0)\n  ",u.module("fibra.services.worker-service",["fibra.services.serialization-service"]).config(["$provide",function(e){e.service("workerService",p)}])},function(e,t,n){"use strict";function i(e){return null==e?void 0===e?l:s:u&&u in Object(e)?Object(o.a)(e):Object(a.a)(e)}var r=n(196),o=n(346),a=n(347),s="[object Null]",l="[object Undefined]",u=r.a?r.a.toStringTag:void 0;t.a=i},function(e,t,n){"use strict";var i=n(345),r="object"==typeof self&&self&&self.Object===Object&&self,o=i.a||r||Function("return this")();t.a=o},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(12))},function(e,t,n){"use strict";function i(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var i=!0}catch(e){}var r=s.call(e);return i&&(t?e[l]=n:delete e[l]),r}var r=n(196),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=r.a?r.a.toStringTag:void 0;t.a=i},function(e,t,n){"use strict";function i(e){return o.call(e)}var r=Object.prototype,o=r.toString;t.a=i},function(e,t,n){"use strict";var i=n(349),r=Object(i.a)(Object.getPrototypeOf,Object);t.a=r},function(e,t,n){"use strict";function i(e,t){return function(n){return e(t(n))}}t.a=i},function(e,t,n){"use strict";function i(e){return null!=e&&"object"==typeof e}t.a=i},function(e,t,n){e.exports=n(352)},function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(353),a=function(e){return e&&e.__esModule?e:{default:e}}(o);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:i;var s=(0,a.default)(r);t.default=s}).call(t,n(12),n(135)(e))},function(e,t,n){"use strict";function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function i(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function r(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:a.a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function o(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var a=t[o];"function"==typeof e[a]&&(n[a]=e[a])}var s=Object.keys(n),l=void 0;try{r(n)}catch(e){l=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(l)throw l;for(var r=!1,o={},a=0;a<s.length;a++){var u=s[a],c=n[u],p=e[u],d=c(p,t);if(void 0===d){var f=i(u,t);throw new Error(f)}o[u]=d,r=r||d!==p}return r?o:e}}t.a=o;var a=n(194);n(195),n(197)},function(e,t,n){"use strict";function i(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return i(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var a=n[o],s=e[a];"function"==typeof s&&(r[a]=i(s,t))}return r}t.a=r},function(e,t,n){"use strict";function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,i,a){var s=e(n,i,a),l=s.dispatch,u=[],c={getState:s.getState,dispatch:function(e){return l(e)}};return u=t.map(function(e){return e(c)}),l=r.a.apply(void 0,u)(s.dispatch),o({},s,{dispatch:l})}}}t.a=i;var r=n(198),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments[1];switch(t.type){case p.SET_PROJECT:var n=t.payload,i=n.archiveEndpoints.concat(n.authorityEndpoints).map(function(e,t){return{id:e.id,description:e.labels.find(function(e){return"en"===e.language}).value,classList:[{description:"Concept"},{description:"Document"},{description:"Person"},{description:"Organization"},{description:"CorporateBody"},{description:"Place"}]}});return(0,l.default)({},e,{project:n,id:t.payload.id,sources:i,description:t.payload.labels.values()[0].value});case d.SET_SOURCE_CLASS_ACTIVE:var r=h.copy(e.project);return r.sourceClassSettings=(0,l.default)({},e.project.sourceClassSettings,(0,a.default)({},t.payload.source,(0,l.default)({},e.project.sourceClassSettings[t.payload.source],(0,a.default)({},t.payload.clss,t.payload.status)))),(0,l.default)({},e,{project:r});case p.SET_ALL_ITEM_COUNT:return(0,l.default)({},e,{allItemsCount:t.payload});case p.SET_FILTERED_ITEM_COUNT:return(0,l.default)({},e,{filteredItemsCount:t.payload});case p.SET_ACTIVE_ITEM_COUNT:return(0,l.default)({},e,{activeItemsCount:t.payload});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectState=void 0;var o=n(136),a=i(o),s=n(54),l=i(s),u=n(1),c=i(u);t.default=r;var p=n(178),d=n(94),f=n(0),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),g=t.ProjectState=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;(0,c.default)(this,e),this.project=t,this.id=n,this.sources=i,this.description=r,this.allItemsCount=o,this.filteredItemsCount=a,this.activeItemsCount=s},v=new g},function(e,t,n){n(359),e.exports=n(10).Object.assign},function(e,t,n){var i=n(17);i(i.S+i.F,"Object",{assign:n(360)})},function(e,t,n){"use strict";var i=n(65),r=n(128),o=n(88),a=n(51),s=n(122),l=Object.assign;e.exports=!l||n(41)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=i})?function(e,t){for(var n=a(e),l=arguments.length,u=1,c=r.f,p=o.f;l>u;)for(var d,f=s(arguments[u++]),h=c?i(f).concat(c(f)):i(f),g=h.length,v=0;g>v;)p.call(f,d=h[v++])&&(n[d]=f[d]);return n}:l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case u.SET_LANGUAGE:var n=t.language;return(0,a.default)({},e,{language:n});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralState=void 0;var o=n(54),a=i(o),s=n(1),l=i(s);t.default=r;var u=n(362),c=t.GeneralState=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";(0,l.default)(this,e),this.language=t},p=new c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralActionService=t.SET_LANGUAGE=void 0;var r=n(2),o=i(r),a=n(1),s=i(a),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=(t.SET_LANGUAGE="SET_LANGUAGE",function e(t){(0,s.default)(this,e),this.language=t}),p=t.GeneralActionService=function(){function e(t){(0,s.default)(this,e),this.$ngRedux=t}return e.$inject=["$ngRedux"],(0,o.default)(e,[{key:"setLanguage",value:function(e){return this.$ngRedux.dispatch(new c(e))}}]),e}();u.module("fibra.actions.general",[]).config(["$provide",function(e){e.service("generalActionService",p)}])},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case u.CLEAR_FILTER_STATE:return c;case u.SET_FILTER_DIVIDER_PERCENTAGE:return(0,l.default)({},e,{dividerPercent:t.payload});case u.SET_FILTER_FOR_CLASS_AND_PROP:return(0,l.default)({},e,{filtersByClass:(0,l.default)({},e.filtersByClass,(0,a.default)({},t.payload.clss.value,(0,l.default)({},e.filtersByClass[t.payload.clss.value],(0,a.default)({},t.payload.property.value,{type:"TIMELINE",description:"Timeline",domain:[],selection:[100,2400],clss:t.payload.clss,prop:t.payload.property}))))});case u.UPDATE_PROPERTY_ON_FILTER:return(0,l.default)({},e,{filtersByClass:(0,l.default)({},e.filtersByClass,(0,a.default)({},t.payload.clss.value,(0,l.default)({},e.filtersByClass[t.payload.clss.value],(0,a.default)({},t.payload.property.value,(0,l.default)({},e.filtersByClass[t.payload.clss.value][t.payload.property.value],{domain:[t.payload.property.minimumValue?t.payload.property.minimumValue:e.filtersByClass[t.payload.clss.value][t.payload.property.value].domain[0],t.payload.property.maximumValue?t.payload.property.maximumValue:e.filtersByClass[t.payload.clss.value][t.payload.property.value].domain[1]],prop:t.payload.property})))))});case u.SET_FILTER_SELECTION:return(0,l.default)({},e,{filtersByClass:(0,l.default)({},e.filtersByClass,(0,a.default)({},t.payload.clss.value,(0,l.default)({},e.filtersByClass[t.payload.clss.value],(0,a.default)({},t.payload.property.value,(0,l.default)({},e.filtersByClass[t.payload.clss.value][t.payload.property.value],{selection:t.payload.selection})))))});case u.REMOVE_FILTER:var n=(0,l.default)({},e.filtersByClass[t.payload.clss.value],(0,a.default)({},t.payload.property.value,null));return delete n[t.payload.property.value],(0,l.default)({},e,{filtersByClass:(0,l.default)({},e.filtersByClass,(0,a.default)({},t.payload.clss.value,n))});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(136),a=i(o),s=n(54),l=i(s);t.default=r;var u=n(113),c={dividerPercent:0,filtersByClass:{}}},function(e,t,n){"use strict";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.CLEAR_ACTIVE_STATE:return l;case a.ADD_ITEM_TO_CURRENT_LAYOUT:var n=e.activeLayout.items.slice(0);return n.push(t.payload),(0,o.default)({},e,{activeLayout:(0,o.default)({},e.activeLayout,{items:n})});case a.SET_ACTIVE_LAYOUT:return(0,o.default)({},e,{activeLayout:t.payload});case a.DELETE_ITEM_FROM_LAYOUT:var i=e.activeLayout.items.slice(0);return i.splice(i.indexOf(t.payload),1),(0,o.default)({},e,{activeLayout:(0,o.default)({},e.activeLayout,{items:i})});case a.ADD_ITEM_TO_ITEM_STATE:var r=e.activeLayout.items.slice(0),u=t.payload.itemState,c=t.payload.fullItem;return r.splice(r.indexOf(u),1),r.push((0,o.default)({},u,{description:!u.description&&c&&c.remoteProperties.find(function(e){return e.property.value===s.SKOS.prefLabel.value})?c.remoteProperties.find(function(e){return e.property.value===s.SKOS.prefLabel.value}).values[0].value.value:u.description,item:c})),(0,o.default)({},e,{activeLayout:(0,o.default)({},e.activeLayout,{items:r})});case a.UPDATE_ITEM_DESCRIPTION:var p=e.activeLayout.items.slice(0),d=t.payload.itemState;return p.splice(p.indexOf(d),1),p.push((0,o.default)({},d,{description:t.payload.newDescription})),(0,o.default)({},e,{activeLayout:(0,o.default)({},e.activeLayout,{items:p})});case a.SET_ACTIVE_DIVIDER_PERCENTAGE:return(0,o.default)({},e,{dividerPercent:t.payload});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(54),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i;var a=n(114),s=n(7),l={activeLayout:{items:[]},dividerPercent:0}},function(e,t,n){"use strict";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.CLEAR_SOURCES_STATE:return s;case a.ADD_ARCHIVE_SOURCE:var n=e.archiveSources.slice();return n.push(t.payload),(0,o.default)({},e,{archiveSources:n});case a.ADD_AUTHORITY_SOURCE:var i=e.authoritySources.slice();return i.push(t.payload),(0,o.default)({},e,{authoritySources:i});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(54),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i;var a=n(94),s={archiveSources:[],authoritySources:[]}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectService=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=n(55),p=n(90),d=t.ProjectService=function(){function e(t,n,i,r){(0,o.default)(this,e),this.workerService=t,this.fibraSparqlService=n,this.$localStorage=i,this.serializationService=r,i.projectSources||(i.projectSources=[]),this.$localStorage.projectSources=this.$localStorage.projectSources.map(function(e){return new c.ProjectSourceInfo(e.id,e.sparqlEndpoint,e.updateEndpoint,e.graphStoreEndpoint,e.graph,e.type)})}return e.$inject=["workerService","fibraSparqlService","$localStorage","serializationService"],(0,s.default)(e,[{key:"getProjectSources",value:function(){return this.$localStorage.projectSources}},{key:"listPrimaryEndpointConfigurations",value:function(e){return this.workerService.call("projectWorkerService","listPrimaryEndpointConfigurations",[e])}},{key:"loadPrimaryEndpointConfiguration",value:function(e,t){return this.workerService.call("projectWorkerService","loadPrimaryEndpointConfiguration",[e,t])}},{key:"listArchiveEndpointConfigurations",value:function(e){return this.workerService.call("projectWorkerService","listArchiveEndpointConfigurations",[e])}},{key:"listAuthorityEndpointConfigurations",value:function(e){return this.workerService.call("projectWorkerService","listAuthorityEndpointConfigurations",[e])}},{key:"loadRemoteEndpointConfiguration",value:function(e,t){return this.workerService.call("projectWorkerService","loadRemoteEndpointConfiguration",[e,t])}},{key:"listSchemas",value:function(e){return this.workerService.call("projectWorkerService","listSchemas",[e])}},{key:"loadSchema",value:function(e,t){return this.workerService.call("projectWorkerService","loadSchema",[e,t])}},{key:"listProjects",value:function(e){return this.workerService.call("projectWorkerService","listProjects",[e])}},{key:"loadProject",value:function(e,t,n){return this.workerService.call("projectWorkerService","loadProject",[e,t,n])}},{key:"deleteCitable",value:function(e,t){return this.deleteObject(e,t.id,t.source.graph)}},{key:"deleteObjects",value:function(t,n,i){var r=i?e.deleteQuery.replace(/# STARTGRAPH/g,"GRAPH <"+i+"> {").replace(/# ENDGRAPH/g,"}"):e.deleteQuery.replace(/.*# STARTGRAPH\n/g,"").replace(/.*# ENDGRAPH\n/g,"");return r=r.replace(/# PATTERNS/g,n.reduce(function(e,t,n){return e+" <"+t+"> ?p"+n+" ?o"+n+" ."},"")),this.fibraSparqlService.update(t,r)}},{key:"deleteObject",value:function(e,t,n){return this.deleteObjects(e,[t],n)}},{key:"saveCitable",value:function(e,t,n){var i=this,r=new p.TurtleBuilder;return n.toTurtle(r),this.deleteObjects(e,r.fragmentsById.keys(),n.source.graph).then(function(){return i.fibraSparqlService.post(t,(0,p.toTurtle)(r),n.source.graph)})}}]),e}();d.deleteQuery="DELETE {\n# STARTGRAPH\n  # PATTERNS\n# ENDGRAPH\n}\nWHERE {\n# STARTGRAPH\n  # PATTERNS\n# ENDGRAPH\n}",u.module("fibra.services.project-service",["fibra.services.worker-service","fibra.services.fibra-sparql-service"]).config(["$provide",function(e){e.service("projectService",d)}])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItemsService=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=t.ItemsService=function(){function e(t,n){(0,o.default)(this,e),this.testData=[{id:"http://www.w3.org/2002/07/owl#sameAs",description:"same As"},{id:"http://emlo.bodleian.ox.ac.uk/id/cccc8972-7adb-463d-b039-bcee2898b222",description:"cccc8972-7adb-463d-b039-bcee2898b222"},{id:"http://www.w3.org/2004/02/skos/core#prefLabel",description:"pref Label"},{id:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",description:"type"},{id:"http://www.cidoc-crm.org/cidoc-crm/E21_Person",description:"Person"},{id:"http://ldf.fi/sdfb/person_10007541",description:"John Locke"},{id:"http://www.cidoc-crm.org/cidoc-crm/E53_Place",description:"Place"},{id:"http://ldf.fi/sdfb/person_10006012",description:"Hobbes, Thomas, 1588-1679"},{id:"http://ldf.fi/sdfb/person_10009549",description:"Samuel Pepys"},{id:"http://emlo.bodleian.ox.ac.uk/id/7ce5b3fe-1fc7-4c42-80f1-120f91ab0a1c",description:"Edinburgh"},{id:"http://xmlns.com/foaf/0.1/name",description:"name"},{id:"http://www.w3.org/2004/02/skos/core#altLabel",description:"alt Label"},{id:"http://emlo.bodleian.ox.ac.uk/schema#ipersonId",description:"iperson_id"},{id:"http://ldf.fi/sdfb/schema#odbnId",description:"ODBN id"},{id:"http://purl.org/dc/terms/description",description:"description"},{id:"http://xmlns.com/foaf/0.1/family_name",description:"family name"},{id:"http://xmlns.com/foaf/0.1/givenname",description:"givenname"},{id:"http://ldf.fi/sdfb/schema#relationship_39_4",description:"unlikely met"},{id:"http://ldf.fi/sdfb/person_10011671",description:"King Charles II"},{id:"http://ldf.fi/sdfb/person_10011670",description:"King Charles I"},{id:"http://ldf.fi/sdfb/person_10007966",description:"Henrietta Maria, Queen consort of Charles I, 1609-1669"},{id:"http://ldf.fi/sdfb/person_10011474",description:"Thomas Stanley"},{id:"http://ldf.fi/sdfb/person_10010637",description:"Thomas Salmon"},{id:"http://ldf.fi/sdfb/person_10011108",description:"Simpson, Christopher, 1602-1669"},{id:"http://ldf.fi/sdfb/schema#relationship_59_4",description:"possibly met"},{id:"http://ldf.fi/sdfb/person_10011229",description:"Robert Smith"},{id:"http://ldf.fi/sdfb/person_10010863",description:"Sir Charles Sedley"},{id:"http://ldf.fi/sdfb/person_10010009",description:"Henry Purcell"},{id:"http://ldf.fi/sdfb/schema#relationship_79_4",description:"likely met"},{id:"http://ldf.fi/sdfb/person_10010932",description:"Thomas Shadwell"},{id:"http://ldf.fi/sdfb/person_10010906",description:"Elkanah Settle"},{id:"http://ldf.fi/sdfb/person_10011822",description:"Silas Taylor"},{id:"http://ldf.fi/sdfb/schema#relationship_99_4",description:"very likely met"},{id:"http://ldf.fi/sdfb/person_10010636",description:"Salmon, Thomas, 1647-1706"},{id:"http://ldf.fi/sdfb/schema#relationship_100_4",description:"met"},{id:"http://ldf.fi/sdfb/schema#relationship_19_4",description:"very unlikely met"},{id:"http://ldf.fi/sdfb/person_10009069",description:"Titus Oates"},{id:"http://ldf.fi/sdfb/person_10013084",description:"Anthony Wood"},{id:"http://ldf.fi/sdfb/person_10009676",description:"Phillips, John, 1631-1706"},{id:"http://ldf.fi/sdfb/person_10011957",description:"John Tillotson"},{id:"http://ldf.fi/sdfb/person_10010824",description:"Sir William Scroggs"},{id:"http://ldf.fi/sdfb/person_10010730",description:"Sir George Savile"},{id:"http://ldf.fi/sdfb/person_10012251",description:"Sir Henry Vane the younger"},{id:"http://ldf.fi/sdfb/person_10012466",description:"John Wallis"},{id:"http://ldf.fi/sdfb/person_10010252",description:"Rich, Mary, 1624-1678"},{id:"http://ldf.fi/sdfb/person_10012250",description:"Sir Henry Vane"},{id:"http://ldf.fi/sdfb/person_10011006",description:"Sir Fleetwood Sheppard"},{id:"http://ldf.fi/sdfb/person_10012817",description:"Bulstrode Whitelocke"},{id:"http://ldf.fi/sdfb/person_10010549",description:"Edward Russell"},{id:"http://ldf.fi/sdfb/person_10012940",description:"Thomas Willis"},{id:"http://ldf.fi/sdfb/person_10011975",description:"Thomas Tollemache"},{id:"http://ldf.fi/sdfb/person_10010404",description:"John Rogers"},{id:"http://ldf.fi/sdfb/person_10011557",description:"Sir James Stewart of Goodtrees"},{id:"http://ldf.fi/sdfb/person_10010372",description:"Sir William Robinson"},{id:"http://ldf.fi/sdfb/person_10012810",description:"Robert Whitehall"},{id:"http://ldf.fi/sdfb/person_10012503",description:"Izaak Walton"},{id:"http://ldf.fi/sdfb/person_10013158",description:"Sir Robert Wright"},{id:"http://ldf.fi/sdfb/person_10013033",description:"Richard Wiseman"},{id:"http://ldf.fi/sdfb/person_10011246",description:"Thomas Smith"},{id:"http://ldf.fi/sdfb/person_10011522",description:"George Stepney"},{id:"http://ldf.fi/sdfb/person_10011797",description:"Thomas Tanner"},{id:"http://ldf.fi/sdfb/person_10009947",description:"Colonel Thomas Pride"},{id:"http://ldf.fi/sdfb/person_10012521",description:"John Ward"},{id:"http://ldf.fi/sdfb/person_10010920",description:"Elizabeth Seymour"},{id:"http://ldf.fi/sdfb/person_10009872",description:"Thomas Povey"},{id:"http://ldf.fi/sdfb/person_10009619",description:"Peter Pett"},{id:"http://ldf.fi/sdfb/person_10013041",description:"Willem Wissing"},{id:"http://ldf.fi/sdfb/person_10010916",description:"Charles Seymour duke of Somerset"},{id:"http://ldf.fi/sdfb/person_10012305",description:"Aubrey de Vere"},{id:"http://ldf.fi/sdfb/person_10011635",description:"Giles Strangways"},{id:"http://ldf.fi/sdfb/person_10009968",description:"Sir William Pritchard"},{id:"http://ldf.fi/sdfb/person_10012683",description:"Henrietta Maria Wentworth"},{id:"http://ldf.fi/sdfb/person_10012226",description:"James Ussher"},{id:"http://ldf.fi/sdfb/person_10010747",description:"Sir Robert Sawyer"},{id:"http://ldf.fi/sdfb/person_10013300",description:"Prince Rupert of the Rhine"},{id:"http://ldf.fi/sdfb/person_10013082",description:"Laurence Womock"},{id:"http://ldf.fi/sdfb/person_10012908",description:"Abigail Williams"},{id:"http://ldf.fi/sdfb/person_10011666",description:"Queen Anne"},{id:"http://ldf.fi/sdfb/person_10012567",description:"Sir Philip Warwick"},{id:"http://ldf.fi/sdfb/person_10009976",description:"Edward Progers"},{id:"http://ldf.fi/sdfb/person_10012962",description:"John Wilmot"},{id:"http://ldf.fi/sdfb/person_10011976",description:"Elizabeth Tollet"},{id:"http://ldf.fi/sdfb/person_10009698",description:"Edward Pierce"},{id:"http://ldf.fi/sdfb/person_10011896",description:"Ralph Thoresby"},{id:"http://ldf.fi/sdfb/person_10011334",description:"John Spademan"},{id:"http://ldf.fi/sdfb/person_10010793",description:"James Scott Duke of Monmouth"},{id:"http://ldf.fi/sdfb/person_10012876",description:"Sir John Wildman"},{id:"http://ldf.fi/sdfb/person_10009625",description:"Maximilian Petty"},{id:"http://ldf.fi/sdfb/person_10013141",description:"Matthew Wren"},{id:"http://ldf.fi/sdfb/person_10011672",description:"Charles Stuart"},{id:"http://ldf.fi/sdfb/person_10011641",description:"Robert Streater"},{id:"http://ldf.fi/sdfb/person_10009620",description:"Sir Peter Pett"},{id:"http://ldf.fi/sdfb/person_10011827",description:"Sir Thomas Teddeman"},{id:"http://ldf.fi/sdfb/person_10011399",description:"William Spurstowe"},{id:"http://ldf.fi/sdfb/person_10012872",description:"Robert Wild"},{id:"http://ldf.fi/sdfb/person_10012563",description:"Sir William Warren"},{id:"http://ldf.fi/sdfb/person_10010758",description:"Scarborough, Charles"},{id:"http://ldf.fi/sdfb/person_10012136",description:"Turberville, Daubeney, 1612-1696"},{id:"http://ldf.fi/sdfb/person_10010709",description:"Margaret Saunders"},{id:"http://ldf.fi/sdfb/person_10012983",description:"William Winde"}],this.$q=t,this.$ngRedux=n}return e.$inject=["$q","$ngRedux"],(0,s.default)(e,[{key:"getAllItems",value:function(){return this.$q.resolve(this.testData.filter(function(e){return!(e.id.startsWith("http://www.w3.org/")||e.id.startsWith("http://xmlns.com/")||e.id.startsWith("http://www.cidoc-crm.org/")||e.id.startsWith("http://purl.org/"))}))}},{key:"getFilteredItems",value:function(){return this.getAllItems()}},{key:"getAllItemsCount",value:function(){return this.getAllItems().then(function(e){return e.length})}},{key:"getFilteredItemsCount",value:function(){return this.getFilteredItems().then(function(e){return e.length})}}]),e}();u.module("fibra.services.items-service",[]).config(["$provide",function(e){e.service("itemsService",c)}])},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyService=t.DetailedProperty=t.BasicProperty=void 0;var r=n(2),o=i(r),a=n(14),s=i(a),l=n(1),u=i(l),c=n(15),p=i(c),d=n(16),f=i(d),h=n(0),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),v=n(26),m=n(89),y=n(7),E=t.BasicProperty=function(e){function t(e){var n;(0,u.default)(this,t);var i=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return i.domains=e.domains,i.ranges=e.ranges,i.superProperties=e.superProperties,i.subProperties=e.subProperties,i.inverseProperty=e.inverseProperty,i.minimumValue=null,i.maximumValue=null,n=i,(0,p.default)(i,n)}return(0,f.default)(t,e),t}(v.Property),b=t.DetailedProperty=function(e){function t(e){(0,u.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.minimumValue=e.minimumValue,n.maximumValue=e.maximumValue,n.type=e.type,n}return(0,f.default)(t,e),t}(E),x=t.PropertyService=function(){function e(t,n){(0,u.default)(this,e),this.$q=t,this.$ngRedux=n}return e.$inject=["$q","$ngRedux"],(0,o.default)(e,[{key:"getBasicProperty",value:function(e){var t=new E(e);return t.maximumValue=new m.FullRichNodeFromNode(new y.CNode("2500-01-01","NamedNode")),t.minimumValue=new m.FullRichNodeFromNode(new y.CNode("0001-01-01","NamedNode")),t.type="DateTime",this.$q.resolve(t)}},{key:"getDetailedProperty",value:function(e){var t=new b(e);return this.$q.resolve(t)}}]),e}();g.module("fibra.services.property-service",[]).config(["$provide",function(e){e.service("propertyService",x)}])},function(e,t,n){"use strict";var i=n(0),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i);n(413),n(415),n(417),n(418),n(419),n(99),n(422),n(424),n(426),n(428),n(55),n(430),n(432),n(434),n(446),n(472),n(481),n(483),n(485),n(487),r.module("fibra.components",["fibra.components.projects-view","fibra.components.citable","fibra.components.callback","fibra.components.login","fibra.components.configure","fibra.components.citable-editor","fibra.components.edit-primary-endpoint-configuration","fibra.components.edit-remote-endpoint-configuration","fibra.components.edit-schema-view","fibra.components.project-source-configurations-view","fibra.components.project-sources-view","fibra.components.type-select","fibra.components.project","fibra.components.sources","fibra.components.active","fibra.components.filter","fibra.components.add-source","fibra.components.expand-modal","fibra.components.project-delete-modal","fibra.components.bibliography-modal"])},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectsViewComponent=t.ProjectsViewComponentController=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=n(55),p=t.ProjectsViewComponentController=function(){function e(t,n,i,r){var a=this;(0,o.default)(this,e),this.projectService=t,this.$uibModal=r,this.projectSourceState={},this.projects={},this.projectSources={};var s=t.getProjectSources();0===s.length&&s.push(new c.ProjectSourceInfo("Shared projects","http://ldf.fi/fibra/sparql","http://ldf.fi/fibra/update","http://ldf.fi/fibra/data","http://ldf.fi/fibra/shared-projects/","http://ldf.fi/fibra/fusekiEndpointWithTextIndexAndSecoFunctions")),n.isLoggedIn()&&!s.some(function(e){return"Projects"===e.id})&&s.unshift(new c.ProjectSourceInfo("Projects","http://ldf.fi/fibra/sparql","http://ldf.fi/fibra/sparql","http://ldf.fi/fibra/sparql",n.getSourceID(),"http://ldf.fi/fibra/fusekiEndpointWithTextIndexAndSecoFunctions")),s.forEach(function(e){a.projectSources[e.id]=e,a.projects[e.id]=[],a.projectSourceState[e.id]="loading",t.listProjects(e).then(function(t){a.projectSourceState[e.id]="ready",a.projects[e.id]=t},function(t){a.projectSourceState[e.id]="error",a.projects[e.id]=t})}),this.authorities=[],this.archives=[],t.listAuthorityEndpointConfigurations(new c.ProjectSourceInfo("Shared projects","http://ldf.fi/fibra/sparql","http://ldf.fi/fibra/update","http://ldf.fi/fibra/data","http://ldf.fi/fibra/shared-projects/","http://ldf.fi/fibra/fusekiEndpointWithTextIndexAndSecoFunctions")).then(function(e){return a.authorities=a.authorities.concat(e)}),t.listArchiveEndpointConfigurations(new c.ProjectSourceInfo("Shared projects","http://ldf.fi/fibra/sparql","http://ldf.fi/fibra/update","http://ldf.fi/fibra/data","http://ldf.fi/fibra/shared-projects/","http://ldf.fi/fibra/fusekiEndpointWithTextIndexAndSecoFunctions")).then(function(e){return a.archives=a.archives.concat(e)})}return e.$inject=["projectService","socialAuthService","$document","$uibModal"],(0,s.default)(e,[{key:"deleteProject",value:function(e,t,n){this.projects[e].splice(t,1),this.projectService.deleteCitable(this.projectSources[e].updateEndpoint,n)}},{key:"getSources",value:function(e){return this.authorities.concat(this.archives).filter(function(t){return-1!==e.authorityEndpoints.concat(e.archiveEndpoints).map(function(e){return e.id}).indexOf(t.id)})}},{key:"openDeleteProjectModal",value:function(e,t,n){var i=this.deleteProject.bind(this);this.$uibModal.open({animation:!0,component:"confirmDeleteModal",resolve:{project:function(){return e}}}).result.then(function(){i(n,t,e)},function(){})}}]),e}(),d=t.ProjectsViewComponent=function e(){(0,o.default)(this,e),this.controller=p,this.template=n(414)()};u.module("fibra.components.projects-view",["ui.bootstrap"]).component("projectsView",new d).controller("projectsSortController",["$scope",function(e){e.item={id:"0",name:"Date Created"},e.options=[{id:"0",description:"Date created.",name:"Date created"},{id:"1",description:"Alphabetical.",name:"A to Z"},{id:"2",description:"Alphabetical (reversed).",name:"Z to A"}]}])},function(e,t,n){function i(e){var t="";return t+='<div class="container"><h4 class="header-title">Data Pen<span class="header-subtitle">Projects</span></h4><div class="head" ng-repeat="(id,projectSource) in $ctrl.projectSources track by $index" ng-if="id==\'Projects\'"><div class="sort-container" ng-controller="projectsSortController" ng-if="$ctrl.projectSourceState[id]==\'ready\' &amp;&amp; $ctrl.projects.Projects.length !== 0"><select ng-model="item.id" ng-selected="0" ng-options="option.id as option.name for option in options"><option ng-repeat="option in data.availableOptions" value="{{option.id}}">{{option.name}}</option></select></div><div class="spinner" ng-if="$ctrl.projectSourceState[id]==\'loading\'"></div><div class="error-loading col-md-6 col-md-offset-3" ng-if="$ctrl.projectSourceState[id]==\'error\'"><p class="message-text">Something went wrong while loading your projects. Check your internet connection and try a refresh?</p></div><div class="no-projects col-md-8 col-md-offset-2" ng-if="$ctrl.projects.Projects.length === 0 &amp;&amp; $ctrl.projectSourceState[id]==\'ready\'"><p class="message-text">A project contains a set of sources, filters, and active data, as well as tabular and graphical workspaces. Create a project to get started!</p></div><a ui-sref="configure({sourceId:id})" ng-if="$ctrl.projectSourceState[id]==\'ready\'"><button class="new-project-button" type="button" data-toggle="modal" data-target="#newProjectDialog" ng-class="$ctrl.projects.Projects.length === 0 ? \'none-position\' : \'\'">Start new project</button></a><ul class="projects-list"><li class="project-cell" ng-if="$ctrl.projectSourceState[id]==\'ready\'" ng-repeat="project in $ctrl.projects[id] track by $index" ng-init="optionsVisibility=\'\'" ng-mouseenter="optionsVisibility=\'visible\'" ng-mouseleave="optionsVisibility=\'\'"><div class="row"><div class="citable-content"><citable citable="project" no-link></citable></div><div class="project-draw"><a ui-sref="project({id:project.id,sparqlEndpoint:project.source.sparqlEndpoint,graph:project.source.graph, view: \'active\'})"><div class="project-details-list-container transition-100"><label class="project-details-list-title">Draw</label><div class="draw-lists"><ul class="project-details-list draw-item-counts"><li>215</li><li>2</li><li>12</li><li>8</li></ul><ul class="project-details-list draw-item-names"><li>Person</li><li>Place</li><li>Publication</li><li>Persimmon</li></ul></div></div></a></div><div class="project-sources"><a ui-sref="project({id:project.id,sparqlEndpoint:project.source.sparqlEndpoint,graph:project.source.graph, view: \'sources\'})"><div class="project-details-list-container transition-100"><label class="project-details-list-title">Sources</label><ul class="project-details-list"><li ng-repeat="source in $ctrl.getSources(project)">{{ source.labels | prefLang }}</li></ul></div></a></div><ul class="project-options" ng-class="optionsVisibility"><li> <a ui-sref="configure({id:project.id, sourceId: \'Projects\' })">Edit</a></li><li class="delete-project" ng-click="$ctrl.openDeleteProjectModal(project, $index, id)">Delete</li></ul></div></li></ul></div></div>'}n(9);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CitableComponent=t.CitableComponentController=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=t.CitableComponentController=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"parseDate",value:function(e){return new Date(e)}}]),e}(),p=t.CitableComponent=function e(){(0,o.default)(this,e),this.bindings={citable:"<",noLink:"@"},this.template=n(416)(),this.controller=c};u.module("fibra.components.citable",[]).component("citable",new p)},function(e,t,n){function i(e){var t="";return t+='<div class="col-md-4"><h3 class="citable-label" ng-if="!$ctrl.citable.url" title="{{$ctrl.citable.labels | prefLang}}">{{$ctrl.citable.labels | prefLang}}</h3><p class="citable-date">{{ $ctrl.parseDate($ctrl.citable.dateCreated) | date : \'d MMMM, yyyy\' }}</p><p class="citable-description"><span class="citable-proj-date-range">1685&ndash;1815. </span><span ng-if="!$ctrl.citable.url" title="{{$ctrl.citable.descriptions | prefLang}}">{{$ctrl.citable.descriptions | prefLang}}</span></p></div><span ng-repeat="rightsHolder in $ctrl.citable.rightsHolders"><span ng-if="$first">&nbsp;(</span><a ng-if="rightsHolder.url" href="{{rightsHolder.url}}" title="{{rightsHolder.descriptions | prefLang}}">{{rightsHolder.labels | prefLang}}</a><span ng-if="!rightsHolder.url" title="{{rightsHolder.descriptions | prefLang}}">{{rightsHolder.labels | prefLang}}</span><span ng-if="$middle">,&nbsp;</span><span ng-if="$last">)</span></span>'}n(9);e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallbackController=t.CallbackComponent=void 0;var i=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),s=t.CallbackComponent=function e(){(0,r.default)(this,e),this.controller=l,this.template="<div>Please wait...</div>"},l=t.CallbackController=function e(t,n,i,o,a){(0,r.default)(this,e);var s={code:i.code,state:t.redirectState?t.redirectState:"projects"};s.code||window.location.search.replace("?","").split("&").forEach(function(e){var t=e.split("=");s[t[0]]=t[1]}),t.requestTime?$.getJSON("https://fibra-auth-gateway.herokuapp.com/authenticate/"+s.code,function(e){a.$apply(function(n){$.get("https://api.github.com/user/emails?access_token="+e.token,function(n){a.$apply(function(i){var r=n.filter(function(e){return e.primary&&e.verified})[0];r&&r.email?(t.login_provider="Github",t.user_email=r.email,t.access_token=e.token,t.requestTime=null,o.location.href=o.location.origin+o.location.pathname+"#!/"+s.state):alert("Authentication failed")})})})}):o.location.href="http://localhost:3000/#!/?"+o.location.href.split("?")[1]};l.$inject=["$localStorage","$sessionStorage","$stateParams","$window","$scope"],a.module("fibra.components.callback",[]).component("callback",new s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoginController=t.LoginComponent=void 0;var i=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),s=t.LoginComponent=function e(){(0,r.default)(this,e),this.controller=l,this.template='<button ng-click="login()">Login with Github</button>'},l=t.LoginController=function e(t,n,i,o,a){(0,r.default)(this,e),n.login=function(){i.redirectState=a.redirect_hash.replace("#/",""),i.requestTime=Date.now(),o.location.href="https://github.com/login/oauth/authorize?client_id=6a9ff845a1c35f43a0f2&scope=user:email"}};l.$inject=["$urlService","$scope","$localStorage","$window","$stateParams"],a.module("fibra.components.login",[]).component("login",new s)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigureViewComponent=t.ConfigureViewComponentController=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(91),u=n(55),c=n(90),p=n(7),d=n(0),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),h=t.ConfigureViewComponentController=function(){function e(t,n,i,r,a){var s=this;if((0,o.default)(this,e),this.$q=t,this.projectService=n,this.$ngRedux=r,this.$state=a,this.primaryEndpointConfigurations=[],this.selectedAuthorities={"http://ldf.fi/fibra/geonamesCidocLiteEndpointConfiguration":!0,"http://ldf.fi/fibra/viafCidocLiteEndpointConfiguration":!0},this.selectedArchives={"http://ldf.fi/fibra/sdfbCidocLiteEndpointConfiguration":!0,"http://ldf.fi/fibra/eeCidocLiteEndpointConfiguration":!0},this.selectedSchemas={"http://ldf.fi/fibra/cidocCRMSchema":!0},this.schemas=[],this.authorities=[],this.archives=[],this.projectSources=n.getProjectSources(),this.$stateParams=i,this.projectSource=this.projectSources.find(function(e){return e.id===i.sourceId}),n.listProjects(this.projectSource).then(function(e){return s.projects=e}),i.id)n.loadProject(this.projectSource,i.id,!1).then(function(e){s.project=e,s.selectedTemplate=e.asTemplate()});else{var d="http://ldf.fi/fibra/project_"+(0,c.UUID)();this.project=new l.Project(d),this.project.labels.add(p.DataFactory.literal("",r.getState().general.language)),this.project.descriptions.add(p.DataFactory.literal("",r.getState().general.language)),this.project.source=this.projectSource,this.project.endpoint=this.projectSource.sparqlEndpoint,this.project.updateEndpoint=this.projectSource.updateEndpoint,this.project.graphStoreEndpoint=this.projectSource.graphStoreEndpoint,this.project.graph=d}[new u.ProjectSourceInfo("Shared projects","http://ldf.fi/fibra/sparql","http://ldf.fi/fibra/update","http://ldf.fi/fibra/data","http://ldf.fi/fibra/shared-projects/","http://ldf.fi/fibra/fusekiEndpointWithTextIndexAndSecoFunctions")].concat(this.projectSources).forEach(function(e){n.listPrimaryEndpointConfigurations(e).then(function(e){if(!s.selectedTemplate){var t=e.find(function(e){return void 0!==e.compatibleEndpoints.find(function(e){return e===s.projectSource.type})});t&&(s.selectedTemplate=t,s.changeTemplate())}s.primaryEndpointConfigurations=s.primaryEndpointConfigurations.concat(e)}),n.listAuthorityEndpointConfigurations(e).then(function(e){return s.authorities=s.authorities.concat(e)}),n.listArchiveEndpointConfigurations(e).then(function(e){return s.archives=s.archives.concat(e)}),n.listSchemas(e).then(function(e){return s.schemas=s.schemas.concat(e)})})}return e.$inject=["$q","projectService","$stateParams","$ngRedux","$state"],(0,s.default)(e,[{key:"saveAndOpen",value:function(){var e=this;this.project.authorityEndpoints=this.authorities.filter(function(t){return e.selectedAuthorities[t.id]}),this.project.archiveEndpoints=this.archives.filter(function(t){return e.selectedArchives[t.id]}),this.project.schemas=this.schemas.filter(function(t){return e.selectedSchemas[t.id]}),this.projectService.saveCitable(this.projectSource.updateEndpoint,this.projectSource.graphStoreEndpoint,this.project).then(function(){return e.$state.go("project",{id:e.project.id,sparqlEndpoint:e.project.source.sparqlEndpoint,graph:e.project.source.graph,view:"active"})})}},{key:"deleteIfNew",value:function(){var e=this;this.$stateParams.id?this.$state.go("projects"):this.projectService.deleteCitable(this.projectSource.updateEndpoint,this.project).then(function(){return e.$state.go("projects")})}},{key:"changeTemplate",value:function(){this.project&&this.selectedTemplate.copyToProject(this.project)}},{key:"projectTitleFilled",value:function(){return(this.project&&this.project.labels?this.project.labels.first().value.length:0)>0}},{key:"editingMode",value:function(){return!!this.$stateParams.id}},{key:"noProjects",value:function(){return 0==this.projects.length}}]),e}(),g=t.ConfigureViewComponent=function e(){(0,o.default)(this,e),this.controller=h,this.template=n(420)()};f.module("fibra.components.configure",["fibra.services"]).component("configureView",new g)},function(e,t,n){function i(e){var t="";return t+='<div class="container" ng-init="titleWarning=\'\'"><h4 class="header-title">Data Pen<span class="header-subtitle" ng-hide="$ctrl.editingMode()">New project</span><span class="header-subtitle" ng-show="$ctrl.editingMode()">Edit project</span></h4><div class="spinner-container" ng-hide="$ctrl.projects"><div class="spinner"></div></div><div class="project-setup-container" ng-show="$ctrl.projects" ng-class="{\'col-md-10 col-md-offset-1\' : !$ctrl.editingMode() &amp;&amp; !$ctrl.noProjects(), \'col-md-6 col-md-offset-3\' : $ctrl.editingMode() || $ctrl.noProjects()}"><div class="row"><div class="header"><h3 class="col-md-10 col-md-offset-1" ng-hide="$ctrl.editingMode()">Start a new project</h3><h3 class="col-md-10 col-md-offset-1" ng-show="$ctrl.editingMode()">Edit project details</h3></div></div><div class="left-side" ng-class="{\'col-md-4 col-md-offset-1\' : !$ctrl.editingMode() &amp;&amp; !$ctrl.noProjects(), \'col-md-10 col-md-offset-1\' : $ctrl.editingMode() || $ctrl.noProjects()}"><p class="title-warning transition-200" ng-class="titleWarning">Please enter a project title</p><citable-editor citable="$ctrl.project" no-id></citable-editor></div><div class="right-side col-md-5 col-md-offset-1" ng-show="!$ctrl.editingMode() &amp;&amp; !$ctrl.noProjects()"><h5>Pull from an existing project</h5><p>Use another Data Pen project as a template to start from. Pull in a sources configuration or all data.</p><div class="project-selection"><label class="input-label">Project:  </label><div class="project-dropdown-container"><select ng-model="item.id" ng-selected="0" ng-options="option.id as option.name for option in $ctrl.existingProjectOptions"><option ng-repeat="option in data.availableOptions" value="{{option.id}}">{{option.name}}</option></select></div><div class="project-pull-options"><div class="label-checkbox-container"><label>Sources<input type="checkbox" checked></label></div><div class="label-checkbox-container"><label>All data<input type="checkbox" checked></label></div></div></div></div><div class="action-items" ng-class="{\'space-above\' : $ctrl.editingMode()}"><button class="save-project text-button transition-200" ng-hide="$ctrl.editingMode()" ng-class="{\'button-disabled\' : !$ctrl.projectTitleFilled()}" ng-click="$ctrl.projectTitleFilled() ? $ctrl.saveAndOpen() : titleWarning=\'visible\'">Save and open</button><button class="save-project text-button transition-200" ng-show="$ctrl.editingMode()">Save</button><button class="cancel-project text-button push-left transition-200" ng-click="$ctrl.deleteIfNew()">Cancel</button></div></div></div>'}n(9);e.exports=i},function(e,t,n){function i(e){var t="";return t+='<div class="title"><div class="row"><label class="input-label">Title<span class="mandatory-asterisk">*</span></label></div><div class="row"><div class="form-group" ng-repeat="label in $ctrl.citable.labels.values()"><input class="title-input" type="text" ng-model="label.value"></div></div></div><div class="description"><div class="row"><label class="input-label">Description</label></div><div class="row"><div class="form-group" ng-repeat="descr in $ctrl.citable.descriptions.values()"><textarea class="description-input form-control" ng-model="descr.value"></textarea></div></div></div>'}n(9);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.EditPrimaryEndpointConfigurationViewComponent=t.EditPrimaryEndpointConfigurationViewComponentController=void 0;var r=n(14),o=i(r),a=n(1),s=i(a),l=n(15),u=i(l),c=n(2),p=i(c),d=n(16),f=i(d),h=n(99),g=n(70),v=n(7),m=n(0),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(m),E=t.EditPrimaryEndpointConfigurationViewComponentController=function(e){function t(e,n,i,r){(0,s.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e.sourceId,i,r));return e.id?i.loadPrimaryEndpointConfiguration(a.projectSource,e.id).then(function(e){return a.c=e}):(a.c=new g.PrimaryEndpointConfiguration,a.c.id=e.id,a.c.labels.add(v.DataFactory.literal("",n.getState().general.language)),a.c.descriptions.add(v.DataFactory.literal("",n.getState().general.language))),a}return t.$inject=["$stateParams","$ngRedux","projectService","toastr"],(0,f.default)(t,e),(0,p.default)(t,[{key:"addCompatibleEndpoint",value:function(){this.c.compatibleEndpoints.push("")}},{key:"removeCompatibleEndpoint",value:function(e){this.c.compatibleEndpoints.splice(e,1)}}]),t}(h.EditCitableComponentController),b=t.EditPrimaryEndpointConfigurationViewComponent=function e(){(0,s.default)(this,e),this.controller=E,this.template=n(423)()};y.module("fibra.components.edit-primary-endpoint-configuration",["fibra.services"]).component("editPrimaryEndpointConfigurationView",new b)},function(e,t,n){function i(e){var t="";return t+='<div class="container"><h1>Fibra</h1><h2>Edit project template</h2><citable-editor citable="$ctrl.c"></citable-editor><div class="form-group"><label>Project storage</label><select class="form-control" ng-model="$ctrl.projectSource" ng-options="ps as ps.id for ps in $ctrl.projectSources"></select></div><h4>Compatible endpoints</h4><div class="form-group" ng-repeat="ce in $ctrl.c.compatibleEndpoints"><button class="pull-right btn btn-xs" ng-click="$ctrl.removeCompatibleEndpoint($index)"><span class="glyphicon glyphicon-remove"></span></button><label>endpoint IRI</label><input class="form-control" type="text" ng-model="$ctrl.c.compatibleEndpoints[$index]"></div><button class="btn btn-xs" ng-click="$ctrl.addCompatibleEndpoint()"><span class="glyphicon glyphicon-plus"></span></button><div class="form-group"><label>Autocompletion query template</label><yasqe content="$ctrl.c.autocompletionQuery" on-content-changed="$ctrl.c.autocompletionQuery = content"></yasqe></div><div class="form-group"><label>Item query template</label><yasqe content="$ctrl.c.itemQuery" on-content-changed="$ctrl.c.itemQuery = content"></yasqe></div><div class="form-group"><label>Item deletion query template</label><yasqe content="$ctrl.c.deleteItemQuery" on-content-changed="$ctrl.c.deleteItemQuery = content"></yasqe></div><div class="form-group"><label>Tree query template</label><yasqe content="$ctrl.c.treeQuery" on-content-changed="$ctrl.c.treeQuery = content"></yasqe></div><div class="form-group"><label>Class query template</label><yasqe content="$ctrl.c.classQuery" on-content-changed="$ctrl.c.classQuery = content"></yasqe></div><div class="form-group"><label>Property query template</label><yasqe content="$ctrl.c.propertyQuery" on-content-changed="$ctrl.c.propertyQuery = content"></yasqe></div><button class="btn btn-success" ng-click="$ctrl.save()" ng-disabled="$ctrl.disabled">Save to endpoint</button><button class="btn btn-danger" ng-click="$ctrl.delete()" ng-disabled="$ctrl.disabled">Delete</button></div>'}n(9);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.EditRemoteEndpointConfigurationViewComponent=t.EditRemoteEndpointConfigurationViewComponentController=void 0;var r=n(14),o=i(r),a=n(1),s=i(a),l=n(15),u=i(l),c=n(2),p=i(c),d=n(16),f=i(d),h=n(99),g=n(92),v=n(7),m=n(0),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(m),E=n(26),b=t.EditRemoteEndpointConfigurationViewComponentController=function(e){function t(e,n,i,r){(0,s.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e.sourceId,i,r));return e.id?i.loadRemoteEndpointConfiguration(a.projectSource,e.id).then(function(e){return a.c=e}):(a.c=new g.RemoteEndpointConfiguration,a.c.labels.add(v.DataFactory.literal("",n.getState().general.language)),a.c.descriptions.add(v.DataFactory.literal("",n.getState().general.language)),a.c.types.add(new E.Class(v.DataFactory.namedNode("")))),a}return t.$inject=["$stateParams","$ngRedux","projectService","toastr"],(0,f.default)(t,e),(0,p.default)(t,[{key:"addType",value:function(){this.c.types.add(new E.Class(v.DataFactory.namedNode("")))}},{key:"removeType",value:function(e){this.c.types.removei(e)}}]),t}(h.EditCitableComponentController),x=t.EditRemoteEndpointConfigurationViewComponent=function e(){(0,s.default)(this,e),this.controller=b,this.template=n(425)()};y.module("fibra.components.edit-remote-endpoint-configuration",["fibra.services"]).component("editRemoteEndpointConfigurationView",new x)},function(e,t,n){function i(e){var t="";return t+='<div class="container"><h1>Fibra</h1><h2>Edit remote configuration</h2><citable-editor citable="$ctrl.c"></citable-editor><h4>Endpoint types</h4><div class="form-inline"><div class="form-group" ng-repeat="type in $ctrl.c.types.values() track by $index"><button class="pull-right btn btn-xs" ng-click="$ctrl.removeType($index)"><span class="glyphicon glyphicon-remove"></span></button><select ng-model="type.value"><option value="http://hdlab.stanford.edu/fibra/ontology#AuthorityEndpointConfiguration">Authority</option><option value="http://hdlab.stanford.edu/fibra/ontology#ArchiveEndpointConfiguration">Archive</option></select></div><button class="btn btn-xs" ng-click="$ctrl.addType()"><span class="glyphicon glyphicon-plus"></span></button></div><div class="form-group"><label>Project storage</label><select class="form-control" ng-model="$ctrl.projectSource" ng-options="ps as ps.id for ps in $ctrl.projectSources"></select></div><div class="form-group"><label>Autocompletion query template</label><yasqe content="$ctrl.c.autocompletionQuery" on-content-changed="$ctrl.c.autocompletionQuery = content"></yasqe></div><div class="form-group"><label>Item query template</label><yasqe content="$ctrl.c.itemQuery" on-content-changed="$ctrl.c.itemQuery = content"></yasqe></div><div class="form-group"><label>Class statistics query template</label><yasqe content="$ctrl.c.classStatisticsQuery" on-content-changed="$ctrl.c.classStatisticsQuery = content"></yasqe></div><div class="form-group"><label>Property statistics query template</label><yasqe content="$ctrl.c.propertyStatisticsQuery" on-content-changed="$ctrl.c.propertyStatisticsQuery = content"></yasqe></div><div class="form-group"><label>Schema endpoint</label><input class="form-control" type="text" ng-model="$ctrl.c.schemaEndpoint"></div><div class="form-group"><label>Class query template</label><yasqe content="$ctrl.c.classQuery" on-content-changed="$ctrl.c.classQuery = content"></yasqe></div><div class="form-group"><label>Property query template</label><yasqe content="$ctrl.c.propertyQuery" on-content-changed="$ctrl.c.propertyQuery = content"></yasqe></div><button class="btn btn-success" ng-click="$ctrl.save()" ng-disabled="$ctrl.disabled">Save to endpoint</button></div>'}n(9);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.EditSchemaViewComponent=t.EditSchemaViewComponentController=void 0;var r=n(14),o=i(r),a=n(1),s=i(a),l=n(15),u=i(l),c=n(16),p=i(c),d=n(99),f=n(93),h=n(7),g=n(0),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(g),m=t.EditSchemaViewComponentController=function(e){function t(e,n,i,r){(0,s.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e.sourceId,i,r));return e.id?i.loadSchema(a.projectSource,e.id).then(function(e){return a.c=e}):(a.c=new f.Schema,a.c.labels.add(h.DataFactory.literal("",n.getState().general.language)),a.c.descriptions.add(h.DataFactory.literal("",n.getState().general.language)),a.c.endpoint=a.projectSource.sparqlEndpoint),a}return t.$inject=["$stateParams","$ngRedux","projectService","toastr"],(0,p.default)(t,e),t}(d.EditCitableComponentController),y=t.EditSchemaViewComponent=function e(){(0,s.default)(this,e),this.controller=m,this.template=n(427)};v.module("fibra.components.edit-schema-view",["fibra.services"]).component("editSchemaView",new y)},function(e,t,n){function i(e){var t="";return t+='<div class="container"><h1>Fibra</h1><h2>Edit schema</h2><citable-editor citable="$ctrl.c"></citable-editor><div class="form-group"><label>Project storage</label><select class="form-control" ng-model="$ctrl.projectSource" ng-options="ps as ps.id for ps in $ctrl.projectSources"></select></div><div class="form group"><label>schema endpoint</label><input class="form-control" type="text" ng-model="$ctrl.c.endpoint"></div><div class="form-group"><label>Class query template</label><yasqe content="$ctrl.c.classQuery" on-content-changed="$ctrl.c.classQuery = content"></yasqe></div><div class="form-group"><label>Property query template</label><yasqe content="$ctrl.c.propertyQuery" on-content-changed="$ctrl.c.propertyQuery = content"></yasqe></div><button class="btn btn-success" ng-click="$ctrl.save()" ng-disabled="$ctrl.disabled">Save to endpoint</button><button class="btn btn-danger" ng-click="$ctrl.delete()" ng-disabled="$ctrl.disabled">Delete</button></div>'}n(9);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectSourceConfigurationsViewComponent=t.ProjectSourceConfigurationsViewComponentController=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=t.ProjectSourceConfigurationsViewComponentController=function(){function e(t,n,i){var r=this;(0,o.default)(this,e),this.projectService=n,this.toastr=i,this.source=n.getProjectSources().find(function(e){return e.id===t.sourceId}),n.listProjects(this.source).then(function(e){return r.projects=e}),n.listSchemas(this.source).then(function(e){return r.schemas=e}),n.listPrimaryEndpointConfigurations(this.source).then(function(e){return r.primaryEndpointConfigurations=e}),n.listAuthorityEndpointConfigurations(this.source).then(function(e){return r.authorityEndpoints=e}),n.listArchiveEndpointConfigurations(this.source).then(function(e){return r.archiveEndpoints=e})}return e.$inject=["$stateParams","projectService","toastr"],(0,s.default)(e,[{key:"delete",value:function(e,t){var n=this;this.projectService.deleteCitable(this.source.updateEndpoint,e[t]).then(function(){e.splice(t,1)},function(e){n.toastr.error("Error deleting resource",e)})}}]),e}(),p=t.ProjectSourceConfigurationsViewComponent=function e(){(0,o.default)(this,e),this.controller=c,this.template=n(429)()};u.module("fibra.components.project-source-configurations-view",["fibra.services"]).component("projectSourceConfigurationsView",new p)},function(e,t,n){function i(e){var t="";return t+='<div class="container"><h1>Fibra</h1><h2>Projects</h2><ul><li ng-repeat="c in $ctrl.projects"><a ui-sref="configure({sourceId:$ctrl.source.id,id:c.id})">{{c.labels | prefLang}}</a><button class="btn btn-danger" ng-click="$ctrl.delete($ctrl.projects, $index)">X</button></li></ul><h2>Schemas</h2><ul><li ng-repeat="c in $ctrl.schemas"><a ui-sref="editSchema({sourceId:$ctrl.source.id,id:c.id})">{{c.labels | prefLang}}</a><button class="btn btn-danger" ng-click="$ctrl.delete($ctrl.schemas, $index)">X</button></li></ul><h2>Primary endpoint configurations</h2><ul><li ng-repeat="c in $ctrl.primaryEndpointConfigurations"><a ui-sref="editPrimaryEndpointConfiguration({sourceId:$ctrl.source.id,id:c.id})">{{c.labels | prefLang}}</a><button class="btn btn-danger" ng-click="$ctrl.delete($ctrl.primaryEndpointConfigurations, $index)">X</button></li></ul><h2>Archive endpoints</h2><ul><li ng-repeat="c in $ctrl.archiveEndpoints"><a ui-sref="editRemoteEndpointConfiguration({sourceId:$ctrl.source.id,id:c.id})">{{c.labels | prefLang}}</a><button class="btn btn-danger" ng-click="$ctrl.delete($ctrl.archiveEndpoints, $index)">X</button></li></ul><h2>Authority endpoints</h2><ul><li ng-repeat="c in $ctrl.authorityEndpoints"><a ui-sref="editRemoteEndpointConfiguration({sourceId:$ctrl.source.id,id:c.id})">{{c.labels | prefLang}}</a><button class="btn btn-danger" ng-click="$ctrl.delete($ctrl.authorityEndpoints, $index)">X</button></li></ul><a ui-sref="projectSources()">Back to project sources</a></div>'}n(9);e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeSelectComponent=void 0;var i=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),s=t.TypeSelectComponent=function e(){(0,r.default)(this,e),this.bindings={tree:"<",onSelect:"&"},this.template=n(431)};a.module("fibra.components.type-select",[]).component("typeSelect",new s)},function(e,t,n){function i(e){var t="";return t+='<script type="text/ng-template" id="type-pill.html"><div class="checkbox"><label><input type="checkbox" ng-model="node.selected" ng-change="$ctrl.onSelect({treeNode:node})">{{node.label}}</label><span class="pull-left">{{node.matchingInstances != node.matchingInstances ? node.matchingInstances+\'/\'+node.instances : node.instances}}</span></div><ul><li ng-repeat="node in node.children" ng-include="\'tree-pill.html\'" ng-class="{selected:node.selected}"></li></ul><\/script><ul><li ng-repeat="node in $ctrl.tree" ng-include="\'type-pill.html\'" ng-class="{selected:node.selected}"></li></ul>'}n(9);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectComponent=t.ProjectComponentController=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=t.ProjectComponentController=function(){function e(t,n,i,r,a,s,l,u,c,p){var d=this;(0,o.default)(this,e),this.projectActionService=t,this.activeActionService=n,this.filterActionService=i,this.socialAuthService=r,this.itemsService=a,this.$stateParams=s,this.$state=l,this.$ngRedux=u,this.$document=c,this.$uibModal=p,this.state={},this.currentView="sources",this.unsubscribe=u.connect(function(e){return{project:e.project,active:e.active,filter:e.filter}},null)(this.state),s.id&&s.sparqlEndpoint&&s.graph&&this.state.project.id!==s.id&&this.projectActionService.setProject(s.id,s.sparqlEndpoint,s.graph),s.view&&-1!==["sources","filter","active"].indexOf(s.view)&&(this.currentView=s.view),a.getAllItemsCount().then(function(e){return d.projectActionService.setAllItemCount(e)}),a.getFilteredItemsCount().then(function(e){return d.projectActionService.setFilteredItemCount(e)})}return e.$inject=["projectActionService","activeActionService","filterActionService","socialAuthService","itemsService","$stateParams","$state","$ngRedux","$document","$uibModal"],(0,s.default)(e,[{key:"$postLink",value:function(){var e=this.setView.bind(this),t=this.filterActionService.setFilterDividerPercentage.bind(this),n=this.activeActionService.setActiveDividerPercentage.bind(this),i=this;this.$document.bind("keydown",function(r){r.ctrlKey&&84===r.keyCode?"filter"===i.$stateParams.view?t(100):n(100):r.ctrlKey&&71===r.keyCode?"filter"===i.$stateParams.view?t(0):n(0):r.ctrlKey&&72===r.keyCode?"filter"===i.$stateParams.view?t(50):n(50):r.ctrlKey&&49===r.keyCode?e("sources"):r.ctrlKey&&50===r.keyCode?e("filter"):r.ctrlKey&&51===r.keyCode&&e("active")})}},{key:"$onDestroy",value:function(){console.log("DESTROYING"),this.$document.detach("keydown")}},{key:"setView",value:function(e){this.$state.go("project",{view:e})}},{key:"dataUsedProportion",value:function(){return"filter"===this.currentView?this.state.project.filteredItemsCount/this.state.project.allItemsCount*100:"active"===this.currentView?this.state.project.activeItemsCount/this.state.project.filteredItemsCount*100:0}},{key:"openBibliographyModal",value:function(e){console.log(e),this.$uibModal.open({animation:!0,component:"bibliographyModal",resolve:{currentView:function(){return e}}}).result.then(function(){},function(){})}}]),e}(),p=t.ProjectComponent=function e(){(0,o.default)(this,e),this.template=n(433)(),this.controller=c};u.module("fibra.components.project",[]).component("project",new p)},function(e,t,n){function i(e){var t="";return t+='<div class="interstitial" ng-class="{ \'hide-interstitial\' : $ctrl.state.project.description }"><img class="loading-logo" src="./app/images/logo/datapen-logo.svg"></div><div class="main-area" ng-show="$ctrl.currentView===\'active\'"><active></active></div><div class="main-area" ng-show="$ctrl.currentView===\'sources\'"><sources></sources></div><div class="top-nav"><div class="nav-element return-button"><img class="back-icon transition-200" src="./app/images/nav_bar/back.svg" ui-sref="projects" uib-popover="Back to projects" popover-placement="bottom-left" popover-popup-delay="750" popover-trigger="\'mouseenter\'"></div><div class="nav-element project-description push-down"><a ui-sref="configure({id:$ctrl.state.project.id, sourceId: \'Projects\' })">{{ $ctrl.state.project.description.length > 30 ? $ctrl.state.project.description.substr(0, 27) + \'...\' : $ctrl.state.project.description }}</a></div><div class="nav-element vertical-divider muted">•</div><span class="nav-links"><div class="nav-element nav-link push-down" ng-class="{\'nav-link-inactive\': $ctrl.currentView !== \'sources\', \'nav-link-active\': $ctrl.currentView === \'sources\'}" ng-click="$ctrl.setView(\'sources\')">Sources</div><div class="nav-element nav-link push-down" ng-class="{\'nav-link-inactive\': $ctrl.currentView !== \'active\', \'nav-link-active\': $ctrl.currentView === \'active\'}" ng-click="$ctrl.setView(\'active\')">Draw</div></span><div class="nav-element search-container" ng-hide="$ctrl.currentView===\'sources\'"><input class="search-bar" placeholder="Search"><img class="search-image" src="./app/images/nav_bar/search.svg" width="auto" height="100%"></div><div class="nav-element bibliography-link"><img class="bib-icon" src="./app/images/nav_bar/bibliography.svg" ng-click="$ctrl.openBibliographyModal($ctrl.currentView)"></div><span class="usage" ng-hide="$ctrl.currentView===\'sources\'"><div class="nav-element usage-chart"><div class="progress"><div class="progress-bar" ng-style="{ \'width\': $ctrl.dataUsedProportion() +\'%\' }"></div></div></div></span></div>'}n(9);e.exports=i},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SourcesComponent=t.SourcesComponentController=void 0;var o=n(218),a=r(o),s=n(1),l=r(s),u=n(2),c=r(u),p=n(0),d=i(p),f=n(101),h=i(f),g=t.SourcesComponentController=function(){function e(t,n,i,r,o,a){var s=this;(0,l.default)(this,e),this.projectService=t,this.projectActionService=n,this.sourcesActionService=i,this.sparqlStatisticsService=r,this.$ngRedux=o,this.$uibModal=a,this.state={},this.projectsOpen={};o.connect(function(e){return{project:e.project,sources:e.sources}})(this.state);this.state.project.project&&(this.localSourceClassTree=d.copy(this.state.project.project.sourceClassSettings));var u=this.state.project.project?this.state.project.project.sourceClassSettings:{};o.subscribe(function(){s.state.project.project&&s.state.project.project.sourceClassSettings!==u&&(s.localSourceClassTree=d.copy(s.state.project.project.sourceClassSettings),u=s.state.project.project.sourceClassSettings)})}return e.$inject=["projectService","projectActionService","sourcesActionService","sparqlStatisticsService","$ngRedux","$uibModal"],(0,c.default)(e,[{key:"openAddSourcesModal",value:function(){this.$uibModal.open({animation:!0,component:"addSource",size:"lg",resolve:{}})}},{key:"allClasses",value:function(){var e=this;return h.keys(this.localSourceClassTree).reduce(function(t,n){var i=h.keys(e.localSourceClassTree[n]).filter(function(t){return e.localSourceClassTree[n][t]}).filter(function(e){return-1===t.indexOf(e)});return t.concat(i)},[]).map(function(t){return e.state.project.project?e.state.project.project.dataModel.classMap.get(t):null}).filter(function(e){return e})}},{key:"sourcePropsForClass",value:function(e){var t=h.keys(this.localSourceClassTree),n=this.propStatistics();return{sources:t,properties:e.properties.values().filter(function(e){return n.has(e.value)&&n.get(e.value).values>0}).sort(function(e,t){return+n.get(e.value).values<+n.get(t.value).values?1:-1})}}},{key:"propStatistics",value:function(){var e=new a.default;return this.state.sources.archiveSources.concat(this.state.sources.authoritySources).forEach(function(t){t.propStats.entries().forEach(function(t){e.has(t.key)?e.set(t.key,{values:+e.get(t.key).values+t.value.values,min:e.get(t.key).min<t.value.min?e.get(t.key).min:t.value.min,max:e.get(t.key).max>t.value.max?e.get(t.key).max:t.value.max}):e.set(t.key,t.value)})}),e}},{key:"grandTotal",value:function(e){return this.state.sources.archiveSources.concat(this.state.sources.authoritySources).map(function(t){return t.classStats.get(e)}).filter(function(e){return!isNaN(e)}).reduce(function(e,t){return+e+ +t},0)}},{key:"getSourceClassStatus",value:function(e,t){return!(!this.state.project.project.sourceClassSettings[e]||!this.state.project.project.sourceClassSettings[e][t])&&this.state.project.project.sourceClassSettings[e][t]}},{key:"floor",value:function(e){return Math.floor(e)}}]),e}(),v=t.SourcesComponent=function e(){(0,l.default)(this,e),this.template=n(445)(),this.controller=g};d.module("fibra.components.sources",["ui.bootstrap"]).component("sources",new v)},function(e,t,n){n(130),n(63),n(87),n(436),n(441),n(443),n(444),e.exports=n(10).Map},function(e,t,n){"use strict";var i=n(219),r=n(147);e.exports=n(224)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=i.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return i.def(r(this,"Map"),0===e?0:e,t)}},i,!0)},function(e,t,n){"use strict";var i=n(24),r=n(10),o=n(23),a=n(25),s=n(20)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:i[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(40),r=n(122),o=n(51),a=n(85),s=n(439);e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,p=6==e,d=5==e||p,f=t||s;return function(t,s,h){for(var g,v,m=o(t),y=r(m),E=i(s,h,3),b=a(y.length),x=0,C=n?f(t,b):l?f(t,0):void 0;b>x;x++)if((d||x in y)&&(g=y[x],v=E(g,x,m),e))if(n)C[x]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return x;case 2:C.push(g)}else if(c)return!1;return p?-1:u||c?c:C}}},function(e,t,n){var i=n(440);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,n){var i=n(34),r=n(187),o=n(20)("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var i=n(17);i(i.P+i.R,"Map",{toJSON:n(225)("Map")})},function(e,t,n){var i=n(100);e.exports=function(e,t){var n=[];return i(e,!1,n.push,n,t),n}},function(e,t,n){n(226)("Map")},function(e,t,n){n(227)("Map")},function(e,t,n){function i(e){var t="";return t+='<div class="sources-main"><div class="sources-left" ng-init="editSourcesStatus=\'\'"><div class="sources-head"><h5 class="pull-left sources-list-title">Project sources</h5><img class="edit-sources-icon transition-200" src="./app/images/general/plus_dark.svg" ng-click="$ctrl.openAddSourcesModal()"></div><div class="sources-list" ng-show="$ctrl.state.sources.authoritySources.length != 0"><h6 class="sources-category-title">Authorities</h6><span class="source-title-container" ng-repeat="source in $ctrl.state.sources.authoritySources"><label class="source-title" ng-click="$ctrl.projectsOpen[source.id] = !$ctrl.projectsOpen[source.id]"><i class="glyphicon glyphicon-triangle-right transition-200" ng-class="{\'triangle-rotated\' : $ctrl.projectsOpen[source.id]}"></i><span class="source-name">{{source.labels | prefLang}}</span></label><div class="class-list" ng-show="$ctrl.projectsOpen[source.id] ? true : false"><label class="checkbox-container" ng-repeat="clss in source.classes" ng-hide="clss.labels.length === 0"> <input type="checkbox" ng-model="$ctrl.localSourceClassTree[source.id][clss.value]" ng-click="$ctrl.sourcesActionService.setSourceClassActive(source.id, clss.value, !$ctrl.getSourceClassStatus(source.id, clss.value))"><span class="type-name">{{clss.labels | prefLang}}<span class="type-entities calibre-numbers-kern">{{ source.classStats.get(clss.id) | number }} entities</span></span></label></div></span></div><div class="sources-list" ng-show="$ctrl.state.sources.archiveSources.length != 0"><h6 class="sources-category-title">Archives</h6><span class="source-title-container" ng-repeat="source in $ctrl.state.sources.archiveSources"><label class="source-title" ng-click="$ctrl.projectsOpen[source.id] = !$ctrl.projectsOpen[source.id]"><i class="glyphicon glyphicon-triangle-right transition-200" ng-class="{\'triangle-rotated\' : $ctrl.projectsOpen[source.id]}"></i><span class="source-name">{{source.labels | prefLang}}</span></label><div class="class-list" ng-show="$ctrl.projectsOpen[source.id] ? true : false"><label class="checkbox-container" ng-repeat="clss in source.classes" ng-hide="clss.labels.length === 0"> <input type="checkbox" ng-model="$ctrl.localSourceClassTree[source.id][clss.value]" ng-click="$ctrl.sourcesActionService.setSourceClassActive(source.id, clss.value, !$ctrl.getSourceClassStatus(source.id, clss.value))"><span class="type-name">{{clss.labels | prefLang}}<span class="type-entities"><span class="calibre-numbers-kern">{{ source.classStats.get(clss.id) | number }} </span>entities</span></span></label></div></span></div></div><div class="sources-right"><div class="properties-head"><h5>Properties matrix</h5></div><uib-tabset class="matrix-tabs" type="pills" ng-init="ps = $ctrl.propStatistics()"><uib-tab ng-repeat="class in $ctrl.allClasses() track by $index" index="$index" heading="{{ class.labels | prefLang }}"><div class="matrix-right"><div class="matrix-border-box"><div class="matrix-property-container"><div class="matrix-property" ng-repeat="prop in $ctrl.sourcePropsForClass(class).properties"><div class="matrix-property-label-container"><div class="matrix-property-label"> <label><input class="matrix-property-checkbox" type="checkbox"><span class="prop-label-span">{{ prop.labels | prefLang }}</span></label></div></div></div></div><div class="matrix-source-container" ng-repeat="source in $ctrl.state.sources.authoritySources.concat($ctrl.state.sources.archiveSources)" ng-if="source.classStats.has(class.value)"><div class="matrix-source"><div class="matrix-source-label"><span class="block">{{ source.labels | prefLang }}<br><span class="matrix-entities"><span class="calibre-numbers-kern">{{ source.classStats.get(class.value) | number }} </span>entities</span></span></div></div><div class="matrix-cell" ng-repeat="prop in $ctrl.sourcePropsForClass(class).properties" ng-style="{\'background-color\':\'rgba(69, 106, 210, \'+source.propStats.get(prop.value).values/source.classStats.get(class.value)+\')\'}" uib-popover="{{ source.propStats.get(prop.value).values }} / {{ source.classStats.get(class.value) }} ({{ source.propStats.get(prop.value).values / source.classStats.get(class.value) * 100 | number : 2 }}%)" popover-placement="bottom" popover-popup-delay="250" popover-trigger="\'mouseenter\'"><div class="stats stats-available" ng-show="source.propStats.get(prop.value).values || source.propStats.get(prop.value).values === 0"><label ng-class="{\'text-white\' : (source.propStats.get(prop.value).values / source.classStats.get(class.value) * 100 | number : 0) &gt; 50}">{{ $ctrl.floor(source.propStats.get(prop.value).values / source.classStats.get(class.value) * 100) | number : 0 }}%</label></div><div class="stats stats-unavailable" ng-show="!source.propStats.get(prop.value).values"></div></div></div><div class="matrix-total-container"><div class="matrix-total"><div class="matrix-total-label">Total</div></div><div class="matrix-total-cell" ng-repeat="prop in $ctrl.sourcePropsForClass(class).properties">{{ (+ps.get(prop.value).values / $ctrl.grandTotal(class.id)) * 100 | number: 0 }}</div></div></div></div></uib-tab></uib-tabset></div></div>'}n(9);e.exports=i},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveComponent=t.ActiveComponentController=void 0;var o=n(218),a=r(o),s=n(1),l=r(s),u=n(2),c=r(u),p=n(7),d=n(0),f=i(d),h=n(101),g=i(h);n(228),n(229),n(448);var v=n(449),m=r(v),y=t.ActiveComponentController=function(){function e(t,n,i,r,o,a,s,u,c){(0,l.default)(this,e),this.projectActionService=t,this.activeActionService=n,this.$scope=i,this.$q=r,this.$ngRedux=o,this.$uibModal=a,this.$timeout=s,this.sparqlAutocompleteService=u,this.$document=c,this.state={},this.radiusInitial=1,this.radius=8,this.radiusBounce=12,this.nodeSearchTopOffset=39,this.nodeSearchTypeaheadHeight=400,this.circularMenuTopOffset=55,this.currentlyAdding=!1,this.viewOptionsPopoverVisible=!1,this.layerPopoverVisible=!1,this.snapshotsPopoverVisible=!1,this.layoutsPopoverVisible=!1,this.viewOptionsShowLabels=!1,this.viewOptionsShowLinks=!0,this.viewOptionsShowLinkLabels=!1,this.gridOptions={},this.linkMode=!1,this.gridApis={},this.unsubscribe=o.connect(function(e){return{project:e.project,active:e.active}},null)(this.state)}return e.$inject=["projectActionService","activeActionService","$scope","$q","$ngRedux","$uibModal","$timeout","sparqlAutocompleteService","$document"],(0,c.default)(e,[{key:"$onDestroy",value:function(){this.unsubscribe()}},{key:"$postLink",value:function(){var e=this;this.buildCanvas(),this.nodeSearch=g.select(".node-search"),this.menu=(0,m.default)("#circle-menu").config({background:"#ffffff",backgroundHover:"#fafafa",diameter:160,menus:[{icon:"link-icon",click:function(){e.linkNode(e.currentMenuItem)}},{icon:"properties-icon"},{icon:"expand-icon",click:function(){e.buildAndDisplayPropertiesMenu(e.currentMenuItem)}},{icon:"reconcile-icon"},{icon:"remove-icon",click:function(){e.activeActionService.deleteItemFromCurrentLayout(e.currentMenuItem),e.updateCanvas()}}]}),this.$ngRedux.subscribe(function(){e.oldActiveLayoutItemState!==e.state.active.activeLayout.items&&(e.oldActiveLayoutItemState=e.state.active.activeLayout.items,e.updateCanvas(),e.setGridOptions())}),this.updateCanvas()}},{key:"linkNode",value:function(e){var t=this,n=g.select(".main-svg"),i=n.select(".main-g"),r=i.append("g").classed("link",!0).classed("item-link",!0),o=r.append("line").classed("link-line",!0);this.linkMode=!0,this.linkEndFunction=function(n){t.activeActionService.addLink(e,n),r.remove()},g.select(".main-background").on("mousemove",function(t,n,i){o.attr("x1",e.leftOffset),o.attr("y1",e.topOffset),o.attr("x2",g.event.offsetX),o.attr("y2",g.event.offsetY)})}},{key:"buildAndDisplayPropertiesMenu",value:function(e){this.$uibModal.open({animation:!0,component:"expandModal",resolve:{item:function(){return e}}})}},{key:"buildCanvas",value:function(){var e=g.select(".main-svg"),t=e.select(".main-g");t.select("rect").on("click",this.canvasClick.bind(this,t));this.updateCanvasSize()}},{key:"canvasClick",value:function(e){var t=this;this.$scope.$apply(function(){t.menu.hide(),t.currentlyAdding||(t.nodeSearchOffsetTop=g.event.offsetY,t.nodeSearchOffsetLeft=g.event.offsetX,t.appendNode(e,t.nodeSearchOffsetTop,t.nodeSearchOffsetLeft,"addition-node"),t.nodeSearch.style("top",g.event.offsetY+t.nodeSearchTopOffset+"px"),t.getCanvasSize().width-(g.event.offsetX+t.state.active.dividerPercent/100*window.innerWidth)>280?t.nodeSearch.style("left",g.event.offsetX+t.state.active.dividerPercent/100*window.innerWidth+30+"px"):t.nodeSearch.style("left",g.event.offsetX+t.state.active.dividerPercent/100*window.innerWidth-30-250+"px"),t.nodeSearchTypeahead=g.select(".custom-popup-wrapper"),window.innerHeight-g.event.offsetY<t.nodeSearchTypeaheadHeight?t.nodeSearchTypeahead.style("max-height",window.innerHeight-g.event.offsetY-100+"px"):t.nodeSearchTypeahead.style("max-height",t.nodeSearchTypeaheadHeight+"px"),t.$timeout(250).then(function(){t.nodeSearch.select("input").node().focus()})),t.currentlyAdding=!0})}},{key:"nodeSearchRemove",value:function(){g.select(".addition-node").remove(),this.currentlyAdding=!1,this.nodeSearchSelected=""}},{key:"nodeSearchResults",value:function(e){var t=this;return this.sparqlAutocompleteService.autocomplete(e,20,!0).then(function(e){return t.processResults(e)},null,function(e){e.results&&t.processResults(e.results)})}},{key:"processResults",value:function(e){var t=this,n=this.$ngRedux.getState().active.activeLayout.items.map(function(e){return e.ids.map(function(e){return e.value})}).reduce(function(e,t){return e.concat(t)},[]),i=[],r=function(e,r){return e.results.forEach(function(e){-1===n.indexOf(e.ids[0].value)&&e.additionalInformation.type&&e.additionalInformation.type[0]&&(!r||e.datasources.reduce(function(n,i){return t.$ngRedux.getState().project.project.sourceClassSettings[i]&&t.$ngRedux.getState().project.project.sourceClassSettings[i][e.additionalInformation.type[0].value]||n},!1))&&(e.additionalInformation.typeDescriptions=t.state.project.project.dataModel.classMap.get(e.additionalInformation.type[0].value).labels.values(),e.additionalInformation.dataSourceDescriptions=t.state.project.project.authorityEndpoints.concat(t.state.project.project.archiveEndpoints).filter(function(t){return e.datasources.filter(function(e){return t.id===e}).length>0}).map(function(e){return e.labels.find(function(e){return"en"===e.language})}),i.push(e))})};return e.localMatchingResults.forEach(function(e){return r(e,!1)}),e.remoteResults.forEach(function(e){return r(e,!0)}),i}},{key:"nodeSearchLabel",value:function(e){return e?e.matchedLabel.value===e.prefLabel.value?e.matchedLabel.value:e.matchedLabel.value+" ("+e.prefLabel.value+")":""}},{key:"nodeSearchSelect",value:function(e,t,n,i){var r={ids:e.ids,item:null,description:e.prefLabel.value,topOffset:this.nodeSearchOffsetTop,leftOffset:this.nodeSearchOffsetLeft};this.activeActionService.addItemToCurrentLayout(r),this.nodeSearchRemove(),this.projectActionService.setActiveItemCount(this.state.active.activeLayout.items.length)}},{key:"addColdNode",value:function(e){this.nodeSearchRemove();var t={ids:[],item:null,description:e,topOffset:this.nodeSearchOffsetTop,leftOffset:this.nodeSearchOffsetLeft};this.activeActionService.createNewItem(t)}},{key:"sanitizeId",value:function(e){return e.replace(/\/|\:|\.|\(|\)|\%|\#|\+|\_/g,"")}},{key:"nodeClick",value:function(e,t){this.currentMenuItem=e,g.select("#"+this.sanitizeId(e.ids[0].value)).style("opacity","0"),this.menu.hide(),this.menu.show(this.getMenuPosition(e))}},{key:"getMenuPosition",value:function(e){return[e.leftOffset+this.state.active.dividerPercent/100*window.innerWidth,e.topOffset+this.circularMenuTopOffset]}},{key:"showTooltips",value:function(){var e=this;g.selectAll(".tooltips > .active-tooltip").style("top",function(e,t,n){return e.topOffset+43+"px"}).style("left",function(t,n,i){return t.leftOffset+e.state.active.dividerPercent/100*window.innerWidth+17+"px"}).style("opacity","1").text(function(e){return e.description?e.description:"Loading..."})}},{key:"hideTooltips",value:function(){g.selectAll(".tooltips > .active-tooltip").style("opacity","0")}},{key:"getLinkSelNode",value:function(e){return g.select("#link-"+this.sanitizeId(e.source.ids[0].value+e.target.ids[0].value+e.prop.value)).node()}},{key:"showLinkTooltips",value:function(){var e=this;g.selectAll(".link-tooltips > .active-tooltip").style("top",function(t,n,i){return e.getLinkSelNode(t).getBoundingClientRect().top+e.getLinkSelNode(t).getBoundingClientRect().height/2-10+"px"}).style("left",function(t,n,i){return e.getLinkSelNode(t).getBoundingClientRect().left+e.getLinkSelNode(t).getBoundingClientRect().width/2+"px"}).style("opacity","1").text(function(e,t,n){return e.prop.labels.values()[0]?e.prop.labels.values()[0].value:"Loading..."})}},{key:"hideLinkTooltips",value:function(){g.selectAll(".link-tooltips > .active-tooltip").style("opacity","0")}},{key:"appendNode",value:function(e,t,n,i){var r=e.append("g").classed("node",!0).classed(i,!0).attr("transform","translate("+n+","+t+")");return r.append("circle").classed("node-circle",!0).attr("r",this.radiusInitial+"px").transition().attr("r",this.radiusBounce+"px").transition().attr("r",this.radius+"px"),r}},{key:"maintainNode",value:function(e,t,n){return e.attr("transform","translate("+t+","+n+")"),e.select("circle").classed("loading",function(e){return null===e.item}).transition().attr("r",this.radius+"px"),e}},{key:"calculateLinks",value:function(){var e=this,t=this.state.active.activeLayout.items.filter(function(e){return e.item}).map(function(e){return e.item.value}),n=[];return this.state.active.activeLayout.items.filter(function(e){return e.item}).forEach(function(i){i.item.localProperties.concat(i.item.remoteProperties).forEach(function(r){r.values.forEach(function(o){-1!==t.indexOf(o.value.value)&&o.value.value!==i.item.value&&n.push({source:i,target:e.state.active.activeLayout.items[t.indexOf(o.value.value)],prop:r.property})})})}),n}},{key:"updateCanvas",value:function(){var e=this,t=g.select(".main-svg"),n=t.select(".main-g"),i=n.select(".main-g-items"),r=n.select(".main-g-links"),o=this,a=r.selectAll(".item-link").data(this.calculateLinks(),function(e){return e.source.ids[0].value+e.target.ids[0].value+e.prop.value});a.exit().remove();var s=a.enter().append("g").attr("id",function(t){return"link-"+e.sanitizeId(t.source.ids[0].value+t.target.ids[0].value+t.prop.value)}).classed("link",!0).classed("item-link",!0);s.append("line").classed("link-line",!0).on("mouseenter",function(t,n,i){g.select("#"+e.sanitizeId(t.source.ids[0].value+t.target.ids[0].value+t.prop.value)).style("top",i[n].getBoundingClientRect().top+i[n].getBoundingClientRect().height/2-10+"px").style("left",i[n].getBoundingClientRect().left+i[n].getBoundingClientRect().width/2+"px").style("opacity","1").text(t.prop.labels.values()[0]?t.prop.labels.values()[0].value:"Loading...")}).on("mouseout",function(t,n){e.viewOptionsShowLinkLabels||g.select("#"+e.sanitizeId(t.source.ids[0].value+t.target.ids[0].value+t.prop.value)).style("opacity","0")}),a=a.merge(s),a.attr("transform",function(e){return"translate("+e.source.leftOffset+","+e.source.topOffset+")"}).style("opacity",this.viewOptionsShowLinks?"1":"0"),a.select("line").attr("x1",function(e){return"0px"}).attr("y1",function(e){return"0px"}).attr("x2",function(e){return e.target.leftOffset-e.source.leftOffset+"px"}).attr("y2",function(e){return e.target.topOffset-e.source.topOffset+"px"});var l=g.select(".link-tooltips").selectAll(".active-tooltip").data(this.calculateLinks(),function(e){return e.source.ids[0].value+e.target.ids[0].value+e.prop.value});l.exit().remove(),l.enter().append("div").classed("active-tooltip",!0).attr("id",function(t){return e.sanitizeId(t.source.ids[0].value+t.target.ids[0].value+t.prop.value)});var u=i.selectAll(".item-node").data(this.state.active.activeLayout.items,function(e){return e.ids[0].value});u.exit().remove();var c=g.select(".tooltips").selectAll(".active-tooltip").data(this.state.active.activeLayout.items,function(e){return e.ids[0].value});c.exit().remove(),c.enter().append("div").classed("active-tooltip",!0).attr("id",function(t){return e.sanitizeId(t.ids[0].value)});var p=u.enter().append("g").classed("node",!0).classed("item-node",!0).attr("transform",function(e){return"translate("+e.leftOffset+","+e.topOffset+")"});p.append("circle").classed("node-circle",!0).on("click",function(t,n,i){e.linkMode?(e.linkEndFunction(t),e.linkMode=!1):e.nodeClick(t,i)}).on("mouseenter",function(t,n,i){t.item&&!e.dragOrigX?g.select("#"+e.sanitizeId(t.ids[0].value)).style("top",i[n].getBoundingClientRect().top-5+"px").style("left",i[n].getBoundingClientRect().left+25+"px").style("opacity","1").text(t.description):e.dragOrigX||g.select("#"+e.sanitizeId(t.ids[0].value)).style("top",i[n].getBoundingClientRect().top-5+"px").style("left",i[n].getBoundingClientRect().left+25+"px").style("opacity","1").text("Loading...")}).on("mouseout",function(t,n){e.viewOptionsShowLabels||g.select("#"+e.sanitizeId(t.ids[0].value)).style("opacity","0")}).call(g.drag().on("start",function(t,n){g.select("#"+e.sanitizeId(t.ids[0].value)).style("opacity","0"),e.dragOrigX=t.leftOffset,e.dragOrigY=t.topOffset}).on("drag",function(t,n,i){t.leftOffset=g.event.x+e.dragOrigX,t.topOffset=g.event.y+e.dragOrigY,t.topOffset<20&&(t.topOffset=20),t.topOffset>window.innerHeight-75&&(t.topOffset=window.innerHeight-75),t.leftOffset<20&&(t.leftOffset=20),t.leftOffset>window.innerWidth-20&&(t.leftOffset=window.innerWidth-20),e.dragOrigX=t.leftOffset,e.dragOrigY=t.topOffset,e.updateCanvas()}).on("end",function(t,n,i){t.leftOffset=g.event.x+e.dragOrigX,t.topOffset=g.event.y+e.dragOrigY,t.topOffset<20&&(t.topOffset=20),t.topOffset>window.innerHeight-75&&(t.topOffset=window.innerHeight-75),t.leftOffset<20&&(t.leftOffset=20),t.leftOffset>window.innerWidth-20&&(t.leftOffset=window.innerWidth-20),e.dragOrigX=null,e.dragOrigY=null,e.updateCanvas(),e.activeActionService.moveItemOnCurrentLayout()})),u=u.merge(p),u.each(function(e,t){o.maintainNode(g.select(u.nodes()[t]),e.leftOffset,e.topOffset)}),this.viewOptionsShowLabels&&this.showTooltips(),this.viewOptionsShowLinkLabels&&this.showLinkTooltips()}},{key:"updateCanvasSize",value:function(){var e=this.getCanvasSize(),t=e.height,n=e.width,i=g.select(".main-background");i.style("height",t),i.style("width",n)}},{key:"getCanvasSize",value:function(){var e=g.select(".main-svg");return{height:e.node().clientHeight,width:e.node().clientWidth}}},{key:"dragDivider",value:function(e){var t=this;this.menu.hide();var n=100*e.clientX/window.innerWidth;this.activeActionService.setActiveDividerPercentage(n>98?100:n<2?0:n),this.$timeout(0).then(function(){return g.values(t.gridApis).forEach(function(e){return e.core.handleWindowResize()})}),this.viewOptionsShowLabels&&this.showTooltips(),this.viewOptionsShowLinkLabels&&this.$timeout(0).then(function(){return t.showLinkTooltips()})}},{key:"tableWidthStyle",value:function(){return{width:this.state.active.dividerPercent+"%"}}},{key:"canvasWidthStyle",value:function(){return{width:100-this.state.active.dividerPercent+"%",left:this.state.active.dividerPercent+"%"}}},{key:"dragTabLeftStyle",value:function(){return{left:this.state.active.dividerPercent+"%"}}},{key:"allClasses",value:function(){var e=this;return this.$ngRedux.getState().project.project?g.keys(this.$ngRedux.getState().project.project.sourceClassSettings).reduce(function(t,n){var i=g.keys(e.$ngRedux.getState().project.project.sourceClassSettings[n]).filter(function(t){return e.$ngRedux.getState().project.project.sourceClassSettings[n][t]}).filter(function(e){return-1===t.indexOf(e)});return t.concat(i)},[]).map(function(t){return e.state.project.project?e.state.project.project.dataModel.classMap.get(t):null}).filter(function(e){return e}):[]}},{key:"allClassesFiltered",value:function(e){return e?this.state.project.project.dataModel.classMap.values().filter(function(t){return t.labels.find(function(t){return-1!==t.value.toLowerCase().indexOf(e.toLowerCase())})}):null}},{key:"setGridOptions",value:function(){var e=this,t=new a.default,n=new a.default,i=this.state.active.activeLayout.items.map(function(i){var r={},o=i.item?i.item.localProperties.concat(i.item.remoteProperties).filter(function(e){return e.property.value===p.RDF.type.value})[0]:null;return r.id=i.ids[0].value,r.description=i.description,r.types=o?o.values:[],i.item&&i.item.localProperties.concat(i.item.remoteProperties).forEach(function(i){var a=i.values.map(function(e){return e.value.labels.values&&e.value.labels.values()&&e.value.labels.values()[0]?e.value.labels.values()[0].value:e.value.value}).join(",");r[e.sanitizeId(i.property.value)]=a,o&&o.values.forEach(function(e){t.has(e.value.value)||(t.set(e.value.value,[]),n.set(e.value.value,[])),-1===t.get(e.value.value).indexOf(i.property.value)&&i.property.value!==p.RDF.type.value&&i.property.value!==p.SKOS.prefLabel.value&&(t.get(e.value.value).push(i.property.value),n.get(e.value.value).push(i.property.labels))})}),r});this.allClasses().forEach(function(r){var o=[{field:"id",name:"id",cellTemplate:'<div class="ui-grid-cell-contents"><a href="{{row.entity.id}}" target="_blank">{{row.entity.id}}</a></div>',width:200},{field:"description",name:"description",width:200}];t.has(r.value)&&t.get(r.value).forEach(function(t,i){o.push({name:t,field:e.sanitizeId(t),displayName:n.get(r.value)[i].values&&n.get(r.value)[i].values()[0]?n.get(r.value)[i].values()[0].value:"",width:200})}),e.gridOptions[r.value]={data:[{}].concat(i.filter(function(e){return!!e.types&&-1!==e.types.map(function(e){return e.value.value}).indexOf(r.value)})),enableFiltering:!0,columnDefs:o,onRegisterApi:function(t){e.gridApis[r.value]=t,t.edit.on.afterCellEdit(e.$scope,function(t,n,i,r){console.log(t,n,i,r),e.$scope.$apply()})}}}),console.log(this.gridOptions)}}]),e}(),E=t.ActiveComponent=function e(){(0,l.default)(this,e),this.template=n(471)(),this.controller=y};f.module("fibra.components.active",["ui.bootstrap","fibra.actions.project","filearts.dragDrop","ui.grid","ui.grid.emptyBaseLayer","ui.grid.resizeColumns","ui.grid.edit","ui.toggle"]).component("active",new E)},function(e,t){/*!
 * ui-grid - v4.0.7 - 2017-09-27
 * Copyright (c) 2017 ; License: MIT 
 */
!function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",ENTITY_BINDING:"$$this",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["¤","؋","Ar","Ƀ","฿","B/.","Br","Bs.","Bs.F.","GH₵","¢","c","Ch.","₡","C$","D","ден","دج",".د.ب","د.ع","JD","د.ك","ل.د","дин","د.ت","د.م.","د.إ","Db","$","₫","Esc","€","ƒ","Ft","FBu","FCFA","CFA","Fr","FRw","G","gr","₲","h","₴","₭","Kč","kr","kn","MK","ZK","Kz","K","L","Le","лв","E","lp","M","KM","MT","₥","Nfk","₦","Nu.","UM","T$","MOP$","₱","Pt.","£","ج.م.","LL","LS","P","Q","q","R","R$","ر.ع.","ر.ق","ر.س","៛","RM","p","Rf.","₹","₨","SRe","Rp","₪","Ksh","Sh.So.","USh","S/","SDR","сом","৳\t","WS$","₮","VT","₩","¥","zł"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,t,n,i){return{priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,r,o,a){if(a&&t.col.compiledElementFn)!function(){(0,t.col.compiledElementFn)(t,function(e,t){r.append(e)})}();else if(a&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e,t){r.append(e)})}).catch(angular.noop);else{var s=t.col.cellTemplate.replace(i.MODEL_COL_FIELD,"row.entity."+n.preEval(t.col.field)).replace(i.COL_FIELD,"grid.getCellValue(row, col)"),l=e(s)(t);r.append(l)}},post:function(e,t,n,r){var o=e.col.getColClass(!1);t.addClass(o);var a,s=function(n){var i=t;a&&(i.removeClass(a),a=null),a=angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass,i.addClass(a)};e.col.cellClass&&s();var l=e.grid.registerDataChangeCallback(s,[i.dataChange.COLUMN,i.dataChange.EDIT]),u=function(n,i){if(n!==i){(a||e.col.cellClass)&&s();var r=e.col.getColClass(!1);r!==o&&(t.removeClass(o),t.addClass(r),o=r)}},c=e.$watch("row",u),p=function(){l(),c()};e.$on("$destroy",p),t.on("$destroy",p)}}}}}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,t,n){var i={initialize:function(e,t){e.grid=t.grid,t.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var t=e.$watch("col.menuItems",function(t){void 0!==t&&t&&angular.isArray(t)?(t.forEach(function(t){void 0!==t.context&&t.context||(t.context={}),t.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(t)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",t)},sortable:function(e){return!!(e.grid.options.enableSorting&&void 0!==e.col&&e.col&&e.col.enableSorting)},isActiveSort:function(e,t){return void 0!==e.col&&void 0!==e.col.sort&&void 0!==e.col.sort.direction&&e.col.sort.direction===t},suppressRemoveSort:function(e){return!(!e.col||!e.col.suppressRemoveSort)},hideable:function(e){return void 0===e.col||!e.col||!e.col.colDef||!1!==e.col.colDef.enableHiding},getDefaultMenuItems:function(n){return[{title:function(){return e.getSafeText("sort.ascending")},icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),n.sortColumn(e,t.ASC)},shown:function(){return i.sortable(n)},active:function(){return i.isActiveSort(n,t.ASC)}},{title:function(){return e.getSafeText("sort.descending")},icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),n.sortColumn(e,t.DESC)},shown:function(){return i.sortable(n)},active:function(){return i.isActiveSort(n,t.DESC)}},{title:function(){return e.getSafeText("sort.remove")},icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.unsortColumn()},shown:function(){return i.sortable(n)&&void 0!==n.col&&void 0!==n.col.sort&&void 0!==n.col.sort.direction&&null!==n.col.sort.direction&&!i.suppressRemoveSort(n)}},{title:function(){return e.getSafeText("column.hide")},icon:"ui-grid-icon-cancel",shown:function(){return i.hideable(n)},action:function(e){e.stopPropagation(),n.hideColumn()}}]},getColumnElementPosition:function(e,t,i){var r={};return r.left=i[0].offsetLeft,r.top=i[0].offsetTop,r.parentLeft=i[0].offsetParent.offsetLeft,r.offset=0,t.grid.options.offsetLeft&&(r.offset=t.grid.options.offsetLeft),r.height=n.elementHeight(i,!0),r.width=n.elementWidth(i,!0),r},repositionMenu:function(e,t,i,r,o){var a=r[0].querySelectorAll(".ui-grid-menu"),s=n.closestElm(o,".ui-grid-render-container"),l=s.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,u=s.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,c=t.lastMenuWidth?t.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,p=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==a.length){var d=a[0].querySelectorAll(".ui-grid-menu-mid");0===d.length||angular.element(d).hasClass("ng-hide")||(c=n.elementWidth(a,!0),e.lastMenuWidth=c,t.lastMenuWidth=c,p=parseInt(n.getStyles(angular.element(a)[0]).paddingRight,10),e.lastMenuPaddingRight=p,t.lastMenuPaddingRight=p)}var f=i.left+l-u+i.parentLeft+i.width-c+p;f<i.offset&&(f=i.offset),r.css("left",f+"px"),r.css("top",i.top+i.height+"px")}};return i}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService","$document",function(e,t,n,i,r){return{priority:0,scope:!0,require:"^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(o,a,s,l){i.initialize(o,l),o.defaultMenuItems=i.getDefaultMenuItems(o),o.menuItems=o.defaultMenuItems,i.setColMenuItemWatch(o),o.showMenu=function(e,t,n){o.col=e;var r=i.getColumnElementPosition(o,e,t);o.menuShown?(o.colElement=t,o.colElementPosition=r,o.hideThenShow=!0,o.$broadcast("hide-menu",{originalEvent:n})):(o.menuShown=!0,i.repositionMenu(o,e,r,a,t),o.colElement=t,o.colElementPosition=r,o.$broadcast("show-menu",{originalEvent:n}))},o.hideMenu=function(e){o.menuShown=!1,e||o.$broadcast("hide-menu")},o.$on("menu-hidden",function(){o.hideThenShow?(delete o.hideThenShow,i.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),o.$broadcast("show-menu"),o.menuShown=!0):(o.hideMenu(!0),o.col&&t.focus.bySelector(r,".ui-grid-header-cell."+o.col.getColClass()+" .ui-grid-column-menu-button",o.col.grid,!1))}),o.$on("menu-shown",function(){e(function(){i.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),t.focus.bySelector(r,".ui-grid-menu-items .ui-grid-menu-item",!0),delete o.colElementPosition,delete o.columnElement},200)}),o.sortColumn=function(e,t){e.stopPropagation(),o.grid.sortColumn(o.col,t,!0).then(function(){o.grid.refresh(),o.hideMenu()}).catch(angular.noop)},o.unsortColumn=function(){o.col.unsort(),o.grid.refresh(),o.hideMenu()};var u=function(){e(function(){var e,n=function(){return t.focus.byId("grid-menu",o.grid)};o.grid.columns.some(function(t,n){if(angular.equals(t,o.col))return e=n,!0});var i;if(o.grid.columns.some(function(t,n){if(!t.visible)return!1;if(n<e)i=t;else{if(n>e&&!i)return i=t,!0;if(n>e&&i)return!0}}),i){var a=i.getColClass();t.focus.bySelector(r,".ui-grid-header-cell."+a+" .ui-grid-header-cell-primary-focus",!0).then(angular.noop,function(e){if("canceled"!==e)return n()}).catch(angular.noop)}else n()})};o.hideColumn=function(){o.col.colDef.visible=!1,o.col.visible=!1,o.grid.queueGridRefresh(),o.hideMenu(),o.grid.api.core.notifyDataChange(n.dataChange.COLUMN),o.grid.api.core.raise.columnVisibilityChanged(o.col),u()}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e){t.menuItems=e})}]}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache","i18nService","gridUtil",function(e,t,n,i){return{compile:function(){return{pre:function(t,n,i,r){t.col.updateFilters=function(i){if(n.children().remove(),i){var r=t.col.filterHeaderTemplate;n.append(e(r)(t))}},t.$on("$destroy",function(){delete t.col.updateFilters})},post:function(e,t,r,o){e.aria=n.getSafeText("headerCell.aria"),e.removeFilter=function(e,n){e.term=null,i.focus.bySelector(t,".ui-grid-filter-input-"+n)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,t,n,i){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(e,t,r){return{pre:function(e,t,n,r){var o=i(e.col.footerCellTemplate)(e);t.append(o)},post:function(e,t,i,r){e.grid=r.grid;var o=e.col.getColClass(!1);t.addClass(o);var a,s=function(n){var i=t;a&&(i.removeClass(a),a=null),a=angular.isFunction(e.col.footerCellClass)?e.col.footerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.footerCellClass,i.addClass(a)};e.col.footerCellClass&&s(),e.col.updateAggregationValue();var l=e.grid.registerDataChangeCallback(s,[n.dataChange.COLUMN]);e.grid.api.core.on.rowsRendered(e,e.col.updateAggregationValue),e.grid.api.core.on.rowsRendered(e,s),e.$on("$destroy",l)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,i,r){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,n){return{pre:function(e,n,r,o){var a=o[0],s=o[1];e.grid=a.grid,e.colContainer=s.colContainer,s.footer=n;var l=e.grid.options.footerTemplate;i.getTemplate(l).then(function(i){var r=angular.element(i),o=t(r)(e);if(n.append(o),s){var a=n[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(s.footerViewport=a)}}).catch(angular.noop)},post:function(e,t,n,r){var o=r[0],a=r[1];o.grid;i.disableAnimations(t),a.footer=t;var s=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];s&&(a.footerViewport=s)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,i,r){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(e,n){return{pre:function(e,n,r,o){e.grid=o.grid;var a=e.grid.options.gridFooterTemplate;i.getTemplate(a).then(function(i){var r=angular.element(i),o=t(r)(e);n.append(o)}).catch(angular.noop)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,t,n){return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(t,i){return{pre:function(t,i,r,o){var a=t.grid.options.groupPanelTemplate||"ui-grid/ui-grid-group-panel";n.getTemplate(a).then(function(n){var r=angular.element(n),o=e(r)(t);i.append(o)}).catch(angular.noop)},post:function(e,t,n,i){t.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent","i18nService",function(e,t,n,i,r,o,a,s){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,n,i){var r=e(t.col.headerCellTemplate)(t);n.append(r)},post:function(e,n,r,a){var l=a[0],u=a[1];e.i18n={headerCell:s.getSafeText("headerCell"),sort:s.getSafeText("sort")},e.isSortPriorityVisible=function(){return angular.isNumber(e.col.sort.priority)&&e.grid.columns.some(function(t,n){return angular.isNumber(t.sort.priority)&&t!==e.col})},e.getSortDirectionAriaLabel=function(){var t=e.col,n=t.sort.direction===o.ASC?e.i18n.sort.ascending:t.sort.direction===o.DESC?e.i18n.sort.descending:e.i18n.sort.none,i=n;return e.isSortPriorityVisible()&&(i=i+". "+e.i18n.headerCell.priority+" "+(t.sort.priority+1)),i},e.grid=l.grid,e.renderContainer=l.grid.renderContainers[u.containerId];var c=e.col.getColClass(!1);n.addClass(c),e.menuShown=!1,e.asc=o.ASC,e.desc=o.DESC;var p,d,f=(angular.element(n[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element(n[0].querySelectorAll(".ui-grid-cell-contents"))),h=[];e.downFn=function(r){r.stopPropagation(),void 0!==r.originalEvent&&void 0!==r.originalEvent&&(r=r.originalEvent),r.button&&0!==r.button||(d=r.pageX,e.mousedownStartTime=(new Date).getTime(),e.mousedownTimeout=t(function(){},500),e.mousedownTimeout.then(function(){e.colMenu&&l.columnMenuScope.showMenu(e.col,n,r)}).catch(angular.noop),l.fireEvent(o.events.COLUMN_HEADER_CLICK,{event:r,columnName:e.col.colDef.name}),e.offAllEvents(),"touchstart"===r.type?(i.on("touchend",e.upFn),i.on("touchmove",e.moveFn)):"mousedown"===r.type&&(i.on("mouseup",e.upFn),i.on("mousemove",e.moveFn)))},e.upFn=function(n){n.stopPropagation(),t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type),(new Date).getTime()-e.mousedownStartTime>500||e.sortable&&e.handleClick(n)},e.moveFn=function(n){0!=n.pageX-d&&(t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type))},e.clickFn=function(t){t.stopPropagation(),f.off("click",e.clickFn)},e.offAllEvents=function(){f.off("touchstart",e.downFn),f.off("mousedown",e.downFn),i.off("touchend",e.upFn),i.off("mouseup",e.upFn),i.off("touchmove",e.moveFn),i.off("mousemove",e.moveFn),f.off("click",e.clickFn)},e.onDownEvents=function(n){switch(n){case"touchmove":case"touchend":f.on("click",e.clickFn),f.on("touchstart",e.downFn),t(function(){f.on("mousedown",e.downFn)},500);break;case"mousemove":case"mouseup":f.on("click",e.clickFn),f.on("mousedown",e.downFn),t(function(){f.on("touchstart",e.downFn)},500);break;default:f.on("click",e.clickFn),f.on("touchstart",e.downFn),f.on("mousedown",e.downFn)}};var g=function(i){var r=n;p&&(r.removeClass(p),p=null),p=angular.isFunction(e.col.headerCellClass)?e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.headerCellClass,r.addClass(p),t(function(){var t=e.grid.renderContainers.right?e.grid.renderContainers.right:e.grid.renderContainers.body;e.isLastCol=e.col===t.visibleColumnCache[t.visibleColumnCache.length-1]}),e.col.enableSorting?e.sortable=!0:e.sortable=!1;var a=e.filterable;l.grid.options.enableFiltering&&e.col.enableFiltering?e.filterable=!0:e.filterable=!1,a!==e.filterable&&(void 0!==e.col.updateFilters&&e.col.updateFilters(e.filterable),e.filterable?(e.col.filters.forEach(function(t,n){h.push(e.$watch("col.filters["+n+"].term",function(e,t){e!==t&&(l.grid.api.core.raise.filterChanged(),l.grid.api.core.notifyDataChange(o.dataChange.COLUMN),l.grid.queueGridRefresh())}))}),e.$on("$destroy",function(){h.forEach(function(e){e()})})):h.forEach(function(e){e()})),e.col.grid.options&&!1!==e.col.grid.options.enableColumnMenus&&e.col.colDef&&!1!==e.col.colDef.enableColumnMenu?e.colMenu=!0:e.colMenu=!1,e.offAllEvents(),(e.sortable||e.colMenu)&&(e.onDownEvents(),e.$on("$destroy",function(){e.offAllEvents()}))};g();var v=e.grid.registerDataChangeCallback(g,[o.dataChange.COLUMN]);e.$on("$destroy",v),e.handleClick=function(t){var n=!1;t.shiftKey&&(n=!0),l.grid.sortColumn(e.col,n).then(function(){l.columnMenuScope&&l.columnMenuScope.hideMenu(),l.grid.refresh()}).catch(angular.noop)},e.toggleMenu=function(t){t.stopPropagation(),l.columnMenuScope.menuShown&&l.columnMenuScope.col===e.col?l.columnMenuScope.hideMenu():l.columnMenuScope.showMenu(e.col,n)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(e,t,n,i,r,o){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,n){return{pre:function(e,n,r,a){function s(){c.header=c.colContainer.header=n;var e=n[0].getElementsByClassName("ui-grid-header-canvas");e.length>0?c.headerCanvas=c.colContainer.headerCanvas=e[0]:c.headerCanvas=null}function l(e){if(!u.grid.isScrollingHorizontally){var t=i.normalizeScrollLeft(c.headerViewport,u.grid),n=c.colContainer.scrollHorizontal(t),r=new o(u.grid,null,c.colContainer,o.Sources.ViewPortScroll);r.newScrollLeft=t,n>-1&&(r.x={percentage:n}),u.grid.scrollContainers(null,r)}}var u=a[0],c=a[1];e.grid=u.grid,e.colContainer=c.colContainer,s();var p;p=e.grid.options.showHeader?e.grid.options.headerTemplate?e.grid.options.headerTemplate:"ui-grid/ui-grid-header":"ui-grid/ui-grid-no-header",i.getTemplate(p).then(function(i){var r=angular.element(i),o=t(r)(e);if(n.replaceWith(o),n=o,s(),c){var a=n[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(c.headerViewport=a,angular.element(a).on("scroll",l),e.$on("$destroy",function(){angular.element(a).off("scroll",l)}))}e.grid.queueRefresh()}).catch(angular.noop)},post:function(e,t,n,r){function o(){var e=s.colContainer.visibleColumnCache,t="",n=0;return e.forEach(function(e){t+=e.getColClassDefinition(),n+=e.drawnWidth}),s.colContainer.canvasWidth=n,t}var a=r[0],s=r[1];a.grid;i.disableAnimations(t),s.header=t;var l=t[0].getElementsByClassName("ui-grid-header-viewport")[0];l&&(s.headerViewport=l),a&&a.grid.registerStyleComputation({priority:15,func:o})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(e,t,n){var i={initialize:function(e,t){t.gridMenuScope=e,e.grid=t,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",i.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",i.removeFromGridMenu)},addToGridMenu:function(t,n){angular.isArray(n)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(n)):e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,n){var i=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,r){t.id===n&&(i>-1?e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):i=r)}),i>-1&&t.gridMenuScope.registeredMenuItems.splice(i,1)},getMenuItems:function(n){var r=[];n.grid.options.gridMenuCustomItems&&(angular.isArray(n.grid.options.gridMenuCustomItems)?r=r.concat(n.grid.options.gridMenuCustomItems):e.logError("gridOptions.gridMenuCustomItems must be an array, and is not"));var o=[{title:t.getSafeText("gridMenu.clearAllFilters"),action:function(e){n.grid.clearAllFilters()},shown:function(){return n.grid.options.enableFiltering},order:100}];return r=r.concat(o),r=r.concat(n.registeredMenuItems),!1!==n.grid.options.gridMenuShowHideColumns&&(r=r.concat(i.showHideColumns(n))),r.sort(function(e,t){return e.order-t.order}),r},showHideColumns:function(e){var n=[];return e.grid.options.columnDefs&&0!==e.grid.options.columnDefs.length&&0!==e.grid.columns.length?(n.push({title:t.getSafeText("gridMenu.columns"),order:300}),e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e},e.grid.options.columnDefs.forEach(function(t,r){if(!1!==t.enableHiding){var o={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),i.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!0===this.context.gridCol.colDef.visible||void 0===this.context.gridCol.colDef.visible},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*r};i.setMenuItemTitle(o,t,e.grid),n.push(o),o={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),i.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(!0===this.context.gridCol.colDef.visible||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*r+1},i.setMenuItemTitle(o,t,e.grid),n.push(o)}}),n):n},setMenuItemTitle:function(t,n,i){var r=i.options.gridMenuTitleFilter(n.displayName||e.readableColumnName(n.name)||n.field);"string"==typeof r?t.title=r:r.then?(t.title="",r.then(function(e){t.title=e},function(e){t.title=e}).catch(angular.noop)):(e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(!0===e.colDef.visible||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(n.dataChange.COLUMN),e.grid.api.core.raise.columnVisibilityChanged(e)}};return i}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService","i18nService",function(e,t,n,i){return{priority:0,scope:!0,require:["^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(t,r,o,a){var s=a[0];t.i18n={aria:i.getSafeText("gridMenu.aria")},n.initialize(t,s.grid),t.shown=!1,t.toggleMenu=function(){t.shown?(t.$broadcast("hide-menu"),t.shown=!1):(t.menuItems=n.getMenuItems(t),t.$broadcast("show-menu"),t.shown=!0)},t.$on("menu-hidden",function(){t.shown=!1,e.focus.bySelector(r,".ui-grid-icon-container")})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","i18nService",function(e,t,n,i,r,o,a){return{priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(i,s,l,u){if(i.dynamicStyles="",u&&u.grid&&u.grid.options&&u.grid.options.gridMenuTemplate){var c=u.grid.options.gridMenuTemplate;r.getTemplate(c).then(function(t){var n=angular.element(t),r=e(n)(i);s.replaceWith(r)}).catch(angular.noop)}var p=function(e){var t=e-u.grid.headerHeight-20;i.dynamicStyles=[".grid"+u.grid.id+" .ui-grid-menu-mid {","max-height: "+t+"px;","}"].join(" ")};u&&(p(u.grid.gridHeight),u.grid.api.core.on.gridDimensionChanged(i,function(e,t,n,i){p(n)})),i.i18n={close:a.getSafeText("columnMenu.close")},i.showMenu=function(e,n){i.shown?i.shownMid||(i.shownMid=!0,i.$emit("menu-shown")):(i.shown=!0,t(function(){i.shownMid=!0,i.$emit("menu-shown")}));var o="click";n&&n.originalEvent&&n.originalEvent.type&&"touchstart"===n.originalEvent.type&&(o=n.originalEvent.type),angular.element(document).off("click touchstart",d),s.off("keyup",f),s.off("keydown",h),t(function(){angular.element(document).on(o,d),s.on("keyup",f),s.on("keydown",h)}),r.focus.bySelector(s,"button[type=button]",!0)},i.hideMenu=function(e){i.shown&&(i.shownMid=!1,t(function(){i.shownMid||(i.shown=!1,i.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",d),s.off("keyup",f),s.off("keydown",h)},i.$on("hide-menu",function(e,t){i.hideMenu(e,t)}),i.$on("show-menu",function(e,t){i.showMenu(e,t)});var d=function(){i.shown&&i.$apply(function(){i.hideMenu()})},f=function(e){27===e.keyCode&&i.hideMenu()},h=function(e){var t=function(t){return t.focus(),e.preventDefault(),!1};if(9===e.keyCode){var n,i,r=s[0].querySelectorAll("button:not(.ng-hide)");r.length>0&&(n=r[0],i=r[r.length-1],e.target!==i||e.shiftKey?e.target===n&&e.shiftKey&&t(i):t(n))}};void 0!==i.autoHide&&void 0!==i.autoHide||(i.autoHide=!0),i.autoHide&&angular.element(n).on("resize",d),i.$on("$destroy",function(){angular.element(n).off("resize",d),angular.element(document).off("click touchstart",d),s.off("keyup",f),s.off("keydown",h)}),u&&i.$on("$destroy",u.grid.api.core.on.scrollBegin(i,d)),i.$on("$destroy",i.$on(o.events.ITEM_DRAGGING,d))}}}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,t,n){return{priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"=",screenReaderOnly:"="},require:["?^uiGrid"],templateUrl:"ui-grid/uiGridMenuItem",replace:!1,compile:function(){return{pre:function(n,i){n.templateUrl&&e.getTemplate(n.templateUrl).then(function(e){var r=angular.element(e),o=t(r)(n);i.replaceWith(o)}).catch(angular.noop)},post:function(t,i,r,o){var a=o[0];void 0!==t.shown&&null!==t.shown||(t.shown=function(){return!0}),t.itemShown=function(){var e={};return t.context&&(e.context=t.context),void 0!==a&&a&&(e.grid=a.grid),t.shown.call(e)},t.itemAction=function(n,i){if(n.stopPropagation(),"function"==typeof t.action){var r={};t.context&&(r.context=t.context),void 0!==a&&a&&(r.grid=a.grid),t.action.call(r,n,i),t.leaveOpen?e.focus.bySelector(angular.element(n.target.parentElement),"button[type=button]",!0):t.$emit("hide-menu")}},t.label=function(){var e=t.name;return"function"==typeof t.name&&(e=t.name.call()),e},t.i18n=n.get()}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0},{tag:"Describedby",method:"attr",aria:!0},{tag:"Describedby",directiveName:"DescribedbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(t){var n=(t.aria?"uiGridOneBindAria":"uiGridOneBind")+(t.directiveName?t.directiveName:t.tag);e.directive(n,["gridUtil",function(e){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(i,r,o,a){var s=function(t){var r;if(i.grid)r=i.grid;else if(i.col&&i.col.grid)r=i.col.grid;else if(!a.some(function(e){if(e&&e.grid)return r=e.grid,!0}))throw e.logError("["+n+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+t),new Error("No valid grid could be found");if(r){new RegExp(r.id.toString()).test(t)||(t=r.id.toString()+"-"+t)}return t},l=i.$watch(o[n],function(e){if(e){if(t.appendGridId){var n=null;angular.forEach(e.split(" "),function(e){n=(n?n+" ":"")+s(e)}),e=n}switch(t.method){case"attr":t.aria?r[t.method]("aria-"+t.tag.toLowerCase(),e):r[t.method](t.tag.toLowerCase(),e);break;case"addClass":if(angular.isObject(e)&&!angular.isArray(e)){var i=[],o=!1;if(angular.forEach(e,function(e,t){null!==e&&void 0!==e&&(o=!0,e&&i.push(t))}),!o)return;e=i}if(!e)return;r.addClass(angular.isArray(e)?e.join(" "):e);break;default:r[t.method](e)}l()}},!0)}}}])})}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,t,n,i,r){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,t,n,i){var r=i[0],o=i[1],a=e.grid=r.grid;if(!e.rowContainerName)throw"No row render container name specified";if(!e.colContainerName)throw"No column render container name specified";if(!a.renderContainers[e.rowContainerName])throw"Row render container '"+e.rowContainerName+"' is not registered.";if(!a.renderContainers[e.colContainerName])throw"Column render container '"+e.colContainerName+"' is not registered.";var s=e.rowContainer=a.renderContainers[e.rowContainerName],l=e.colContainer=a.renderContainers[e.colContainerName];o.containerId=e.containerId,o.rowContainer=s,o.colContainer=l},post:function(e,t,n,o){function a(){var t="",n=p.canvasWidth,i=p.getViewportWidth(),r=c.getCanvasHeight(),o=c.getViewportHeight();p.needsHScrollbarPlaceholder()&&(o-=u.scrollbarHeight);var a,l;return a=l=p.getHeaderViewportWidth(),t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-canvas { width: "+n+"px; height: "+r+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { width: "+(n+u.scrollbarWidth)+"px; }",h.explicitHeaderCanvasHeight?t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: "+h.explicitHeaderCanvasHeight+"px; }":t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: inherit; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-viewport { width: "+i+"px; height: "+o+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-viewport { width: "+a+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-canvas { width: "+(n+u.scrollbarWidth)+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-viewport { width: "+l+"px; }"}var s=o[0],l=o[1],u=s.grid,c=l.rowContainer,p=l.colContainer,d=null,f=null,h=u.renderContainers[e.containerId];t.addClass("ui-grid-render-container-"+e.containerId),i.on.mousewheel(t,function(e){var t=new r(u,c,p,r.Sources.RenderContainerMouseWheel);if(0!==e.deltaY){var n=-1*e.deltaY*e.deltaFactor;d=l.viewport[0].scrollTop,t.verticalScrollLength=c.getVerticalScrollLength();var o=(d+n)/t.verticalScrollLength;o>=1&&d<t.verticalScrollLength&&(l.viewport[0].scrollTop=t.verticalScrollLength),o<0?o=0:o>1&&(o=1),t.y={percentage:o,pixels:n}}if(0!==e.deltaX){var a=e.deltaX*e.deltaFactor;f=i.normalizeScrollLeft(l.viewport,u),t.horizontalScrollLength=p.getCanvasWidth()-p.getViewportWidth();var s=(f+a)/t.horizontalScrollLength;s<0?s=0:s>1&&(s=1),t.x={percentage:s,pixels:a}}0!==e.deltaY&&(t.atTop(d)||t.atBottom(d))||0!==e.deltaX&&(t.atLeft(f)||t.atRight(f))||(e.preventDefault(),e.stopPropagation(),t.fireThrottledScrollingEvent("",t))}),t.bind("$destroy",function(){t.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){t.unbind(e)})}),s.grid.registerStyleComputation({priority:6,func:a})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(e,t){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(e){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,t,n,i){function r(){e.row.getRowTemplateFn.then(function(n){var i=e.$new();n(i,function(e,n){s&&(s.remove(),l.$destroy()),t.empty().append(e),s=e,l=i})}).catch(angular.noop)}var o=i[0],a=i[1];o.grid;e.grid=o.grid,e.colContainer=a.colContainer;var s,l;r(),e.$watch("row.getRowTemplateFn",function(e,t){e!==t&&r()})},post:function(e,t,n,i){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,t){return{link:function(e,n,i,r){var o=t(n.text(),!0);o&&e.$watch(o,function(e){n.text(e)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(e,t,n,i){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(n,i,r,o){function a(r){var o=i[0].scrollTop,a=e.normalizeScrollLeft(i,g),s=f.scrollVertical(o),l=h.scrollHorizontal(a),u=new t(g,f,h,t.Sources.ViewPortScroll);u.newScrollLeft=a,u.newScrollTop=o,l>-1&&(u.x={percentage:l}),s>-1&&(u.y={percentage:s}),g.scrollContainers(n.$parent.containerId,u)}function s(e){d.prevScrollArgs=e;var t=e.getNewScrollTop(f,d.viewport);i[0].scrollTop=t}function l(t){d.prevScrollArgs=t;var n=t.getNewScrollLeft(h,d.viewport);i[0].scrollLeft=e.denormalizeScrollLeft(d.viewport,n,g)}function u(t){var n=t.getNewScrollLeft(h,d.viewport);d.headerViewport&&(d.headerViewport.scrollLeft=e.denormalizeScrollLeft(d.viewport,n,g))}function c(t){var n=t.getNewScrollLeft(h,d.viewport);d.footerViewport&&(d.footerViewport.scrollLeft=e.denormalizeScrollLeft(d.viewport,n,g))}var p=o[0],d=o[1];n.containerCtrl=d;var f=d.rowContainer,h=d.colContainer,g=p.grid;n.grid=p.grid,n.rowContainer=d.rowContainer,n.colContainer=d.colContainer,d.viewport=i,g&&g.options&&g.options.customScroller?g.options.customScroller(i,a):i.on("scroll",a);n.$parent.bindScrollVertical&&g.addVerticalScrollSync(n.$parent.containerId,s),n.$parent.bindScrollHorizontal&&(g.addHorizontalScrollSync(n.$parent.containerId,l),g.addHorizontalScrollSync(n.$parent.containerId+"header",u),g.addHorizontalScrollSync(n.$parent.containerId+"footer",c)),n.$on("$destroy",function(){i.off()})},controller:["$scope",function(e){this.rowStyle=function(t){var n=e.rowContainer,i=e.colContainer,r={};if(0!==n.currentTopRow){var o="translateY("+n.currentTopRow*n.grid.options.rowHeight+"px)";r.transform=o,r["-webkit-transform"]=o,r["-ms-transform"]=o}return 0!==i.currentFirstColumn&&(i.grid.isRTL()?r["margin-right"]=i.columnOffset+"px":r["margin-left"]=i.columnOffset+"px"),r}}]}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,t,n){e.$watch(n.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";function e(e,t,n){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(i,r,o,a){function s(){r[0].offsetWidth<=0&&h<f?(setTimeout(s,d),h++):i.$applyAsync(l)}function l(){p.gridWidth=i.gridWidth=t.elementWidth(r),p.canvasWidth=a.grid.gridWidth,p.gridHeight=i.gridHeight=t.elementHeight(r),p.gridHeight<=p.options.rowHeight&&p.options.enableMinHeightCheck&&u(),p.refreshCanvas(!0)}function u(){var e=p.options.minRowsToShow*p.options.rowHeight,o=p.options.showHeader?p.options.headerRowHeight:0,a=p.calcFooterHeight(),s=0;p.options.enableHorizontalScrollbar===n.scrollbars.ALWAYS&&(s=t.getScrollbarWidth());var l=0;if(angular.forEach(p.options.columnDefs,function(e){e.hasOwnProperty("filter")?l<1&&(l=1):e.hasOwnProperty("filters")&&l<e.filters.length&&(l=e.filters.length)}),p.options.enableFiltering&&!l){p.options.columnDefs.length&&p.options.columnDefs.every(function(e){return!1===e.enableFiltering})||(l=1)}var u=l*o,c=o+e+a+s+u;r.css("height",c+"px"),p.gridHeight=i.gridHeight=t.elementHeight(r)}function c(){p.gridWidth=i.gridWidth=t.elementWidth(r),p.gridHeight=i.gridHeight=t.elementHeight(r),p.refreshCanvas(!0)}var p=a.grid;a.scrollbars=[],p.element=r;var d=100,f=20,h=0;!function(){var t,n;angular.element(e).on("resize",c),r.on("$destroy",function(){angular.element(e).off("resize",c),t(),n()}),t=i.$watch(function(){return p.hasLeftContainer()},function(e,t){e!==t&&p.refreshCanvas(!0)}),n=i.$watch(function(){return p.hasRightContainer()},function(e,t){e!==t&&p.refreshCanvas(!0)})}(),l(),p.renderingComplete(),s()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","gridClassFactory","$parse","$compile",function(e,t,n,i,r,o,a,s,l){function u(e){return e?e.length:0}function c(t,n){t&&t!==n&&(d.grid.options.columnDefs=e.uiGrid.columnDefs,d.grid.callDataChangeCallbacks(o.dataChange.COLUMN,{orderByColumnDefs:!0,preCompileCellTemplates:!0}))}function p(t){var i=[];if(t=angular.isString(e.uiGrid.data)?d.grid.appScope[e.uiGrid.data]:e.uiGrid.data,h=t,t){var a=d.grid.columns.length>(d.grid.rowHeaderColumns?d.grid.rowHeaderColumns.length:0);!a&&!n.uiGridColumns&&0===d.grid.options.columnDefs.length&&t.length>0&&d.grid.buildColumnDefsFromData(t),!a&&(d.grid.options.columnDefs.length>0||t.length>0)&&i.push(d.grid.buildColumns().then(function(){d.grid.preCompileCellTemplates()}).catch(angular.noop)),r.all(i).then(function(){d.grid.modifyRows(h).then(function(){d.grid.redrawInPlace(!0),e.$evalAsync(function(){d.grid.refreshCanvas(!0),d.grid.callDataChangeCallbacks(o.dataChange.ROW)})}).catch(angular.noop)}).catch(angular.noop)}}var d=this,f=[];d.grid=a.createGrid(e.uiGrid),d.grid.appScope=d.grid.appScope||e.$parent,t.addClass("grid"+d.grid.id),d.grid.rtl="rtl"===i.getStyles(t[0]).direction,e.grid=d.grid,n.uiGridColumns&&f.push(n.$observe("uiGridColumns",function(e){d.grid.options.columnDefs=angular.isString(e)?angular.fromJson(e):e,d.grid.buildColumns().then(function(){d.grid.preCompileCellTemplates(),d.grid.refreshCanvas(!0)}).catch(angular.noop)})),d.grid.options.fastWatch?(d.uiGrid=e.uiGrid,angular.isString(e.uiGrid.data)?(f.push(e.$parent.$watch(e.uiGrid.data,p)),f.push(e.$parent.$watch(function(){return d.grid.appScope[e.uiGrid.data]?d.grid.appScope[e.uiGrid.data].length:void 0},p))):(f.push(e.$parent.$watch(function(){return e.uiGrid.data},p)),f.push(e.$parent.$watch(function(){return u(e.uiGrid.data)},function(){p(e.uiGrid.data)}))),f.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs},c)),f.push(e.$parent.$watch(function(){return u(e.uiGrid.columnDefs)},function(){c(e.uiGrid.columnDefs)}))):(angular.isString(e.uiGrid.data)?f.push(e.$parent.$watchCollection(e.uiGrid.data,p)):f.push(e.$parent.$watchCollection(function(){return e.uiGrid.data},p)),f.push(e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},c)));var h,g=e.$watch(function(){return d.grid.styleComputations},function(){d.grid.refreshCanvas(!0)});e.$on("$destroy",function(){f.forEach(function(e){e()}),g()}),d.fireEvent=function(t,n){n=n||{},angular.isUndefined(n.grid)&&(n.grid=d.grid),e.$broadcast(t,n)},d.innerCompile=function(t){l(t)(e)}}]),angular.module("ui.grid").directive("uiGrid",e),e.$inject=["$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(e){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(e,t,n,i){function r(){var e=this,t=0;e.visibleColumnCache.forEach(function(e){t+=e.drawnWidth});var n=e.getViewportAdjustment();return t+=n.width}function o(){if("left"===e.side||"right"===e.side){for(var t=s.renderContainers[e.side].visibleColumnCache,n=0,i=0;i<t.length;i++){var r=t[i];n+=r.drawnWidth||r.width||0}return n}}function a(){var n="";return"left"!==e.side&&"right"!==e.side||(l=o(),t.attr("style",null),n+=".grid"+s.id+" .ui-grid-pinned-container-"+e.side+", .grid"+s.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+l+"px; } "),n}var s=i.grid,l=0;t.addClass("ui-grid-pinned-container-"+e.side),"left"!==e.side&&"right"!==e.side||(s.renderContainers[e.side].getViewportWidth=r),s.renderContainers.body.registerViewportAdjuster(function(t){return l=o(),t.width-=l,t.side=e.side,t}),s.registerStyleComputation({priority:15,func:a})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(e,t,n,i,r,o,a,s,l,u,c,p,d,f){function h(){}var g=function(e){function t(e){a.isScrollingVertically=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=r.scrollDirection.NONE}function n(e){a.isScrollingHorizontally=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=r.scrollDirection.NONE}var a=this;if(void 0===e||void 0===e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');a.id=e.id,delete e.id,a.options=o.initialize(e),a.appScope=a.options.appScopeProvider,a.headerHeight=a.options.headerRowHeight,a.footerHeight=a.calcFooterHeight(),a.columnFooterHeight=a.calcColumnFooterHeight(),a.rtl=!1,a.gridHeight=0,a.gridWidth=0,a.columnBuilders=[],a.rowBuilders=[],a.rowsProcessors=[],a.columnsProcessors=[],a.styleComputations=[],a.viewportAdjusters=[],a.rowHeaderColumns=[],a.dataChangeCallbacks={},a.verticalScrollSyncCallBackFns={},a.horizontalScrollSyncCallBackFns={},a.renderContainers={},a.renderContainers.body=new p("body",a),a.cellValueGetterCache={},a.getRowTemplateFn=null,a.rows=[],a.columns=[],a.isScrollingVertically=!1,a.isScrollingHorizontally=!1,a.scrollDirection=r.scrollDirection.NONE,a.disableScrolling=!1;var s=i.debounce(t,a.options.scrollDebounce),c=i.debounce(t,0),d=i.debounce(n,a.options.scrollDebounce),f=i.debounce(n,0);a.flagScrollingVertically=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingVertically=!0,0!==a.options.scrollDebounce&&e.withDelay?s(e):c(e)},a.flagScrollingHorizontally=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingHorizontally=!0,0!==a.options.scrollDebounce&&e.withDelay?d(e):f(e)},a.scrollbarHeight=0,a.scrollbarWidth=0,a.options.enableHorizontalScrollbar===r.scrollbars.ALWAYS&&(a.scrollbarHeight=i.getScrollbarWidth()),a.options.enableVerticalScrollbar===r.scrollbars.ALWAYS&&(a.scrollbarWidth=i.getScrollbarWidth()),a.api=new l(a),a.api.registerMethod("core","refresh",this.refresh),a.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),a.api.registerMethod("core","refreshRows",this.refreshRows),a.api.registerMethod("core","queueRefresh",this.queueRefresh),a.api.registerMethod("core","handleWindowResize",this.handleWindowResize),a.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),a.api.registerMethod("core","scrollToIfNecessary",function(e,t){return a.scrollToIfNecessary(e,t)}),a.api.registerMethod("core","scrollTo",function(e,t){return a.scrollTo(e,t)}),a.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),a.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),a.api.registerMethod("core","sortHandleNulls",u.handleNulls),a.api.registerEvent("core","sortChanged"),a.api.registerEvent("core","columnVisibilityChanged"),a.api.registerMethod("core","notifyDataChange",this.notifyDataChange),a.api.registerMethod("core","clearAllFilters",this.clearAllFilters),a.registerDataChangeCallback(a.columnRefreshCallback,[r.dataChange.COLUMN]),a.registerDataChangeCallback(a.processRowsCallback,[r.dataChange.EDIT]),a.registerDataChangeCallback(a.updateFooterHeightCallback,[r.dataChange.OPTIONS]),a.registerStyleComputation({priority:10,func:a.getFooterStyles})};g.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),e+=this.calcColumnFooterHeight()},g.prototype.calcColumnFooterHeight=function(){var e=0;return this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},g.prototype.getFooterStyles=function(){var e=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return e+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},g.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},g.prototype.isRTL=function(){return this.rtl},g.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},g.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=i.getColumnsFromData(e,this.options.excludeProperties)},g.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},g.prototype.registerDataChangeCallback=function(e,t,n){var o=i.nextUid();t||(t=[r.dataChange.ALL]),Array.isArray(t)||i.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[o]={callback:e,types:t,_this:n};var a=this;return function(){delete a.dataChangeCallbacks[o]}},g.prototype.callDataChangeCallbacks=function(e,t){angular.forEach(this.dataChangeCallbacks,function(n,i){-1===n.types.indexOf(r.dataChange.ALL)&&-1===n.types.indexOf(e)&&e!==r.dataChange.ALL||(n._this?n.callback.apply(n._this,this,t):n.callback(this,t))},this)},g.prototype.notifyDataChange=function(e){var t=r.dataChange;e===t.ALL||e===t.COLUMN||e===t.EDIT||e===t.ROW||e===t.OPTIONS?this.callDataChangeCallbacks(e):i.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},g.prototype.columnRefreshCallback=function(e,t){e.buildColumns(t),e.queueGridRefresh()},g.prototype.processRowsCallback=function(e){e.queueGridRefresh()},g.prototype.updateFooterHeightCallback=function(e){e.footerHeight=e.calcFooterHeight(),e.columnFooterHeight=e.calcColumnFooterHeight()},g.prototype.getColumn=function(e){var t=this.columns.filter(function(t){return t.colDef.name===e});return t.length>0?t[0]:null},g.prototype.getColDef=function(e){var t=this.options.columnDefs.filter(function(t){return t.name===e});return t.length>0?t[0]:null},g.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(t,n){if(!t.type){var r=new a(t,n,e),o=e.rows.length>0?e.rows[0]:null;t.type=o?i.guessType(e.getCellValue(o,r)):"string"}})},g.prototype.isRowHeaderColumn=function(e){return-1!==this.rowHeaderColumns.indexOf(e)},g.prototype.addRowHeaderColumn=function(e,t,n){var r=this;void 0===t&&(t=0);var o=new a(e,i.nextUid(),r);o.isRowHeader=!0,r.isRTL()?(r.createRightContainer(),o.renderContainer="right"):(r.createLeftContainer(),o.renderContainer="left"),r.columnBuilders[0](e,o,r.options).then(function(){o.enableFiltering=!1,o.enableSorting=!1,o.enableHiding=!1,o.headerPriority=t,r.rowHeaderColumns.push(o),r.rowHeaderColumns=r.rowHeaderColumns.sort(function(e,t){return e.headerPriority-t.headerPriority}),n||r.buildColumns().then(function(){r.preCompileCellTemplates(),r.queueGridRefresh()}).catch(angular.noop)}).catch(angular.noop)},g.prototype.getOnlyDataColumns=function(){var e=this,t=[];return e.columns.forEach(function(n){-1===e.rowHeaderColumns.indexOf(n)&&t.push(n)}),t},g.prototype.buildColumns=function(t){var n={orderByColumnDefs:!1};angular.extend(n,t);var r,o=this,s=[],l=o.rowHeaderColumns.length;for(r=0;r<o.columns.length;r++)o.getColDef(o.columns[r].name)||(o.columns.splice(r,1),r--);for(var u=o.rowHeaderColumns.length-1;u>=0;u--)o.columns.unshift(o.rowHeaderColumns[u]);if(o.options.columnDefs.forEach(function(e,t){o.preprocessColDef(e);var n=o.getColumn(e.name);n?n.updateColumnDef(e,!1):(n=new a(e,i.nextUid(),o),o.columns.splice(t+l,0,n)),o.columnBuilders.forEach(function(t){s.push(t.call(o,e,n,o.options))})}),n.orderByColumnDefs){var c=o.columns.slice(0),p=Math.min(o.options.columnDefs.length,o.columns.length);for(r=0;r<p;r++)o.columns[r+l].name!==o.options.columnDefs[r].name?c[r+l]=o.getColumn(o.options.columnDefs[r].name):c[r+l]=o.columns[r+l];o.columns.length=0,Array.prototype.splice.apply(o.columns,[0,0].concat(c))}return e.all(s).then(function(){o.rows.length>0&&o.assignTypes(),n.preCompileCellTemplates&&o.preCompileCellTemplates()}).catch(angular.noop)},g.prototype.preCompileCellTemplate=function(e){var n=this,i=e.cellTemplate.replace(r.MODEL_COL_FIELD,n.getQualifiedColField(e));i=i.replace(r.COL_FIELD,"grid.getCellValue(row, col)");var o=t(i);e.compiledElementFn=o,e.compiledElementFnDefer&&e.compiledElementFnDefer.resolve(e.compiledElementFn)},g.prototype.preCompileCellTemplates=function(){var e=this;e.columns.forEach(function(t){t.cellTemplate?e.preCompileCellTemplate(t):t.cellTemplatePromise&&t.cellTemplatePromise.then(function(){e.preCompileCellTemplate(t)}).catch(angular.noop)})},g.prototype.getQualifiedColField=function(e){return e.field===r.ENTITY_BINDING?"row.entity":i.preEval("row.entity."+e.field)},g.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new p("left",this,{disableColumnOffset:!0}))},g.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new p("right",this,{disableColumnOffset:!0}))},g.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},g.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},g.prototype.preprocessColDef=function(e){var t=this;if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){for(var n=e.field,i=2;t.getColumn(n);)n=e.field+i.toString(),i++;e.name=n}},g.prototype.newInN=function(e,t,n,i){for(var r=this,o=[],a=0;a<t.length;a++){for(var s=i?t[a][i]:t[a],l=!1,u=0;u<e.length;u++){var c=n?e[u][n]:e[u];if(r.options.rowEquality(s,c)){l=!0;break}}l||o.push(s)}return o},g.prototype.getRow=function(e,t){var n=this;t=void 0===t?n.rows:t;var i=t.filter(function(t){return n.options.rowEquality(t.entity,e)});return i.length>0?i[0]:null},g.prototype.modifyRows=function(t){var n=this,i=n.rows.slice(0),r=n.rowHashMap||n.createRowHashMap(),o=!0;n.rowHashMap=n.createRowHashMap(),n.rows.length=0,t.forEach(function(e,t){var a,l;l=n.options.enableRowHashing?r.get(e):n.getRow(e,i),l&&(a=l,a.entity=e),a||(a=n.processRowBuilders(new s(e,t,n))),n.rows.push(a),n.rowHashMap.put(e,a),a.isSelected||(o=!1)}),n.selection&&(n.selection.selectAll=o),n.assignTypes();var a=e.when(n.processRowsProcessors(n.rows)).then(function(e){return n.setVisibleRows(e)}).catch(angular.noop),l=e.when(n.processColumnsProcessors(n.columns)).then(function(e){return n.setVisibleColumns(e)}).catch(angular.noop);return e.all([a,l])},g.prototype.addRows=function(e){for(var t=this,n=t.rows.length,i=0;i<e.length;i++){var r=t.processRowBuilders(new s(e[i],i+n,t));if(t.options.enableRowHashing){var o=t.rowHashMap.get(r.entity);o&&(o.row=r)}t.rows.push(r)}},g.prototype.processRowBuilders=function(e){var t=this;return t.rowBuilders.forEach(function(n){n.call(t,e,t.options)}),e},g.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},g.prototype.registerRowsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push({processor:e,priority:t}),this.rowsProcessors.sort(function(e,t){return e.priority-t.priority})},g.prototype.removeRowsProcessor=function(e){var t=-1;this.rowsProcessors.forEach(function(n,i){n.processor===e&&(t=i)}),-1!==t&&this.rowsProcessors.splice(t,1)},g.prototype.processRowsProcessors=function(t){function n(t,r){var a=i.rowsProcessors[t].processor;return e.when(a.call(i,r,i.columns)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";if(++t<=i.rowsProcessors.length-1)return n(t,e);o.resolve(e)}).catch(angular.noop)}var i=this,r=t.slice(0);if(0===i.rowsProcessors.length)return e.when(r);var o=e.defer();return n(0,r),o.promise},g.prototype.setVisibleRows=function(e){var t=this;for(var n in t.renderContainers){var i=t.renderContainers[n];i.canvasHeightShouldUpdate=!0,void 0===i.visibleRowCache?i.visibleRowCache=[]:i.visibleRowCache.length=0}for(var r=0;r<e.length;r++){var o=e[r],a=void 0!==o.renderContainer&&o.renderContainer?o.renderContainer:"body";o.visible&&t.renderContainers[a].visibleRowCache.push(o)}t.api.core.raise.rowsVisibleChanged(this.api),t.api.core.raise.rowsRendered(this.api)},g.prototype.registerColumnsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push({processor:e,priority:t}),this.columnsProcessors.sort(function(e,t){return e.priority-t.priority})},g.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);void 0!==t&&void 0!==t&&this.columnsProcessors.splice(t,1)},g.prototype.processColumnsProcessors=function(t){function n(t,a){var s=i.columnsProcessors[t].processor;return e.when(s.call(i,a,i.rows)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";if(++t<=i.columnsProcessors.length-1)return n(t,r);o.resolve(r)}).catch(angular.noop)}var i=this,r=t.slice(0);if(0===i.columnsProcessors.length)return e.when(r);var o=e.defer();return n(0,r),o.promise},g.prototype.setVisibleColumns=function(e){var t=this;for(var n in t.renderContainers){t.renderContainers[n].visibleColumnCache.length=0}for(var i=0;i<e.length;i++){var r=e[i];r.visible&&(void 0!==r.renderContainer&&r.renderContainer?t.renderContainers[r.renderContainer].visibleColumnCache.push(r):t.renderContainers.body.visibleColumnCache.push(r))}},g.prototype.handleWindowResize=function(e){var t=this;return t.gridWidth=i.elementWidth(t.element),t.gridHeight=i.elementHeight(t.element),t.queueRefresh()},g.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&d.cancel(e.refreshCanceller),e.refreshCanceller=d(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}).catch(angular.noop),e.refreshCanceller},g.prototype.queueGridRefresh=function(){var e=this;return e.gridRefreshCanceller&&d.cancel(e.gridRefreshCanceller),e.gridRefreshCanceller=d(function(){e.refresh(!0)}),e.gridRefreshCanceller.then(function(){e.gridRefreshCanceller=null}).catch(angular.noop),e.gridRefreshCanceller},g.prototype.updateCanvasHeight=function(){var e=this;for(var t in e.renderContainers)if(e.renderContainers.hasOwnProperty(t)){var n=e.renderContainers[t];n.canvasHeightShouldUpdate=!0}},g.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(t){var n=t.func.call(e);angular.isString(n)&&(e.customStyles+="\n"+n)})},g.prototype.minColumnsToRender=function(){var e=this,t=this.getViewportWidth(),n=0,i=0;return e.columns.forEach(function(r,o){if(i<t)i+=r.drawnWidth,n++;else{for(var a=0,s=o;s>=o-n;s--)a+=e.columns[s].drawnWidth;a<t&&n++}}),n},g.prototype.getBodyHeight=function(){return this.getViewportHeight()},g.prototype.getViewportHeight=function(){var e=this,t=this.gridHeight-this.headerHeight-this.footerHeight;return t+=e.getViewportAdjustment().height},g.prototype.getViewportWidth=function(){var e=this,t=this.gridWidth;return t+=e.getViewportAdjustment().width},g.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},g.prototype.addVerticalScrollSync=function(e,t){this.verticalScrollSyncCallBackFns[e]=t},g.prototype.addHorizontalScrollSync=function(e,t){this.horizontalScrollSyncCallBackFns[e]=t},g.prototype.scrollContainers=function(e,t){if(t.y){var n=["body","left","right"];this.flagScrollingVertically(t),"body"===e?n=["left","right"]:"left"===e?n=["body","right"]:"right"===e&&(n=["body","left"]);for(var i=0;i<n.length;i++){var r=n[i];this.verticalScrollSyncCallBackFns[r]&&this.verticalScrollSyncCallBackFns[r](t)}}if(t.x){var o=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(t),"body"===e&&(o=["bodyheader","bodyfooter"]);for(var a=0;a<o.length;a++){var s=o[a];this.horizontalScrollSyncCallBackFns[s]&&this.horizontalScrollSyncCallBackFns[s](t)}}},g.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},g.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);void 0!==t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},g.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},g.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},g.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},g.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},g.prototype.searchRows=function(e){return c.search(this,e,this.columns)},g.prototype.sortByColumn=function(e){return u.sort(this,e,this.columns)},g.prototype.getCellValue=function(e,t){return void 0!==e.entity["$$"+t.uid]?e.entity["$$"+t.uid].rendered:this.options.flatEntityAccess&&void 0!==t.field?e.entity[t.field]:(t.cellValueGetterCache||(t.cellValueGetterCache=n(e.getEntityQualifiedColField(t))),t.cellValueGetterCache(e))},g.prototype.getCellDisplayValue=function(e,t){if(!t.cellDisplayGetterCache){var i=t.cellFilter?" | "+t.cellFilter:"";if(void 0!==e.entity["$$"+t.uid])t.cellDisplayGetterCache=n(e.entity["$$"+t.uid].rendered+i);else if(this.options.flatEntityAccess&&void 0!==t.field){var r=t.field.replace(/(')|(\\)/g,"\\$&");t.cellDisplayGetterCache=n("entity['"+r+"']"+i)}else t.cellDisplayGetterCache=n(e.getEntityQualifiedColField(t)+i)}return t.cellDisplayGetterCache(e)},g.prototype.getNextColumnSortPriority=function(){var e=this,t=0;return e.columns.forEach(function(e){e.sort&&void 0!==e.sort.priority&&e.sort.priority>=t&&(t=e.sort.priority+1)}),t},g.prototype.resetColumnSorting=function(e){this.columns.forEach(function(t){t===e||t.suppressRemoveSort||(t.sort={})})},g.prototype.getColumnSorting=function(){var e,t=this,n=[];return e=t.columns.slice(0),e.sort(u.prioritySort).forEach(function(e){e.sort&&void 0!==e.sort.direction&&e.sort.direction&&(e.sort.direction===r.ASC||e.sort.direction===r.DESC)&&n.push(e)}),n},g.prototype.sortColumn=function(t,n,i){var r=this,o=null;if(void 0===t||!t)throw new Error("No column parameter provided");if("boolean"==typeof n?i=n:o=n,i?void 0===t.sort.priority&&(t.sort.priority=r.getNextColumnSortPriority()):(r.resetColumnSorting(t),t.sort.priority=void 0,t.sort.priority=r.getNextColumnSortPriority()),o)t.sort.direction=o;else{var a=t.sortDirectionCycle.indexOf(t.sort.direction?t.sort.direction:null);a=(a+1)%t.sortDirectionCycle.length,t.colDef&&t.suppressRemoveSort&&!t.sortDirectionCycle[a]&&(a=(a+1)%t.sortDirectionCycle.length),t.sortDirectionCycle[a]?t.sort.direction=t.sortDirectionCycle[a]:v(t,r)}return r.api.core.raise.sortChanged(r,r.getColumnSorting()),e.when(t)};var v=function(e,t){t.columns.forEach(function(t){t.sort&&void 0!==t.sort.priority&&t.sort.priority>e.sort.priority&&(t.sort.priority-=1)}),e.sort={}};return g.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},g.prototype.createRowHashMap=function(){var e=this,t=new h;return t.grid=e,t},g.prototype.refresh=function(t){var n=this,i=n.processRowsProcessors(n.rows).then(function(e){n.setVisibleRows(e)}).catch(angular.noop),r=n.processColumnsProcessors(n.columns).then(function(e){n.setVisibleColumns(e)}).catch(angular.noop);return e.all([i,r]).then(function(){n.refreshCanvas(!0),n.redrawInPlace(t)}).catch(angular.noop)},g.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(t){e.setVisibleRows(t),e.redrawInPlace(),e.refreshCanvas(!0)}).catch(angular.noop)},g.prototype.refreshCanvas=function(t){var n=this,r=e.defer(),o=[];for(var a in n.renderContainers)if(n.renderContainers.hasOwnProperty(a)){var s=n.renderContainers[a];if(null===s.canvasWidth||isNaN(s.canvasWidth))continue;(s.header||s.headerCanvas)&&(s.explicitHeaderHeight=s.explicitHeaderHeight||null,s.explicitHeaderCanvasHeight=s.explicitHeaderCanvasHeight||null,o.push(s))}return t&&n.buildStyles(),d(o.length>0?function(){var e,a,s=!1,l=0,u=0,c=function(e,t){return e!==t&&(s=!0),t};for(e=0;e<o.length;e++)if(a=o[e],null!==a.canvasWidth&&!isNaN(a.canvasWidth)){if(a.header){var p=a.headerHeight=c(a.headerHeight,i.outerElementHeight(a.header)),d=i.getBorderSize(a.header,"top"),f=i.getBorderSize(a.header,"bottom"),h=parseInt(p-d-f,10);h=h<0?0:h,a.innerHeaderHeight=h,!a.explicitHeaderHeight&&h>l&&(l=h)}if(a.headerCanvas){var g=a.headerCanvasHeight=c(a.headerCanvasHeight,parseInt(i.outerElementHeight(a.headerCanvas),10));!a.explicitHeaderCanvasHeight&&g>u&&(u=g)}}for(e=0;e<o.length;e++)a=o[e],l>0&&void 0!==a.headerHeight&&null!==a.headerHeight&&(a.explicitHeaderHeight||a.headerHeight<l)&&(a.explicitHeaderHeight=c(a.explicitHeaderHeight,l)),u>0&&void 0!==a.headerCanvasHeight&&null!==a.headerCanvasHeight&&(a.explicitHeaderCanvasHeight||a.headerCanvasHeight<u)&&(a.explicitHeaderCanvasHeight=c(a.explicitHeaderCanvasHeight,u));t&&s&&n.buildStyles(),r.resolve()}:function(){r.resolve()}),r.promise},g.prototype.redrawInPlace=function(e){var t=this;for(var n in t.renderContainers){var i=t.renderContainers[n];e?(i.adjustRows(i.prevScrollTop,null),i.adjustColumns(i.prevScrollLeft,null)):(i.adjustRows(null,i.prevScrolltopPercentage),i.adjustColumns(null,i.prevScrollleftPercentage))}},g.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},g.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},g.prototype.scrollToIfNecessary=function(t,n){var i=this,r=new f(i,"uiGrid.scrollToIfNecessary"),o=i.renderContainers.body.visibleRowCache,a=i.renderContainers.body.visibleColumnCache,s=i.renderContainers.body.prevScrollTop+i.headerHeight;s=s<0?0:s;var l=i.renderContainers.body.prevScrollLeft,u=i.renderContainers.body.prevScrollTop+i.gridHeight-i.renderContainers.body.headerHeight-i.footerHeight-i.scrollbarWidth,c=i.renderContainers.body.prevScrollLeft+Math.ceil(i.renderContainers.body.getViewportWidth());if(null!==t){var p=o.indexOf(t),d=i.renderContainers.body.getCanvasHeight()-i.renderContainers.body.getViewportHeight(),h=p*i.options.rowHeight+i.headerHeight;h=h<0?0:h;var g,v;h<s?(g=i.renderContainers.body.prevScrollTop-(s-h),(v=g/d)<=1&&(r.y={percentage:v})):h>u&&(g=h-u+i.renderContainers.body.prevScrollTop,(v=g/d)<=1&&(r.y={percentage:v}))}if(null!==n){for(var m=a.indexOf(n),y=i.renderContainers.body.getCanvasWidth()-i.renderContainers.body.getViewportWidth(),E=0,b=0;b<m;b++){E+=a[b].drawnWidth}E=E<0?0:E;var x=E+n.drawnWidth;x=x<0?0:x;var C,S;E<l?(C=i.renderContainers.body.prevScrollLeft-(l-E),S=C/y,S=S>1?1:S,r.x={percentage:S}):x>c&&(C=x-c+i.renderContainers.body.prevScrollLeft,S=C/y,S=S>1?1:S,r.x={percentage:S})}var w=e.defer();if(r.y||r.x){r.withDelay=!1,i.scrollContainers("",r);var T=i.api.core.on.scrollEnd(null,function(){w.resolve(r),T()})}else w.resolve();return w.promise},g.prototype.scrollTo=function(e,t){var n=null,i=null;return null!==e&&void 0!==e&&(n=this.getRow(e)),null!==t&&void 0!==t&&(i=this.getColumn(t.name?t.name:t.field)),this.scrollToIfNecessary(n,i)},g.prototype.clearAllFilters=function(e,t,n){if(void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===n&&(n=!1),this.columns.forEach(function(e){e.filters.forEach(function(e){e.term=void 0,t&&(e.condition=void 0),n&&(e.flags=void 0)})}),e)return this.refreshRows()},h.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},g}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,t,n,i,r,o){function a(e,n,i,r){return t.$on(e,function(e){var t=Array.prototype.slice.call(arguments);t.splice(0,1),n.apply(r||i.api,t)})}var s=function(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",r.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",r.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged"),this.registerEvent("core","gridDimensionChanged")};return s.prototype.suppressEvents=function(e,t){var n=this,i=angular.isArray(e)?e:[e],r=n.listeners.filter(function(e){return i.some(function(t){return e.handler===t})});r.forEach(function(e){e.dereg()}),t(),r.forEach(function(e){e.dereg=a(e.eventId,e.handler,n.grid,e._this)})},s.prototype.registerEvent=function(e,i){var r=this;r[e]||(r[e]={});var o=r[e];o.on||(o.on={},o.raise={});var s=r.grid.id+e+i;o.raise[i]=function(){t.$emit.apply(t,[s].concat(Array.prototype.slice.call(arguments)))},o.on[i]=function(t,o,l){if(null!==t&&void 0===t.$on)return void n.logError("asked to listen on "+e+".on."+i+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering");var u=a(s,o,r.grid,l),c={handler:o,dereg:u,eventId:s,scope:t,_this:l};r.listeners.push(c);var p=function(){c.dereg();var e=r.listeners.indexOf(c);r.listeners.splice(e,1)};return t&&t.$on("$destroy",function(){p()}),p}},s.prototype.registerEventsFromObject=function(e){var t=this,n=[];angular.forEach(e,function(e,t){var i={name:t,events:[]};angular.forEach(e,function(e,t){i.events.push(t)}),n.push(i)}),n.forEach(function(e){e.events.forEach(function(n){t.registerEvent(e.name,n)})})},s.prototype.registerMethod=function(e,t,i,r){this[e]||(this[e]={}),this[e][t]=n.createBoundedWrapper(r||this.grid,i)},s.prototype.registerMethodsFromObject=function(e,t){var n=this,i=[];angular.forEach(e,function(e,t){var n={name:t,methods:[]};angular.forEach(e,function(e,t){n.methods.push({name:t,fn:e})}),i.push(n)}),i.forEach(function(e){e.methods.forEach(function(i){n.registerMethod(e.name,i.name,i.fn,t)})})},s}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,t,n){function i(e,n,i){var r=this;r.grid=i,r.uid=n,r.updateColumnDef(e,!0),r.aggregationValue=void 0,r.updateAggregationValue=function(){if(!r.aggregationType)return void(r.aggregationValue=void 0);var e=0,n=r.grid.getVisibleRows(),i=function(){var e=[];return n.forEach(function(t){var n=r.grid.getCellValue(t,r),i=Number(n);isNaN(i)||e.push(i)}),e};angular.isFunction(r.aggregationType)?r.aggregationValue=r.aggregationType(n,r):r.aggregationType===t.aggregationTypes.count?r.aggregationValue=r.grid.getVisibleRowCount():r.aggregationType===t.aggregationTypes.sum?(i().forEach(function(t){e+=t}),r.aggregationValue=e):r.aggregationType===t.aggregationTypes.avg?(i().forEach(function(t){e+=t}),e/=i().length,r.aggregationValue=e):r.aggregationType===t.aggregationTypes.min?r.aggregationValue=Math.min.apply(null,i()):r.aggregationType===t.aggregationTypes.max?r.aggregationValue=Math.max.apply(null,i()):r.aggregationValue=" "},this.getAggregationValue=function(){return r.aggregationValue}}return i.prototype.hideColumn=function(){this.colDef.visible=!1},i.prototype.setPropertyOrDefault=function(e,t,n){var i=this;void 0!==e[t]&&e[t]?i[t]=e[t]:void 0!==i[t]?i[t]=i[t]:i[t]=n||{}},i.prototype.updateColumnDef=function(n,i){var r=this;if(r.colDef=n,void 0===n.name)throw new Error("colDef.name is required for column at index "+r.grid.options.columnDefs.indexOf(n));if(r.displayName=void 0===n.displayName?e.readableColumnName(n.name):n.displayName,!angular.isNumber(r.width)||!r.hasCustomWidth||n.allowCustomWidthOverride){var o=n.width,a="Cannot parse column width '"+o+"' for column named '"+n.name+"'";if(r.hasCustomWidth=!1,angular.isString(o)||angular.isNumber(o))if(angular.isString(o))if(e.endsWith(o,"%")){var s=o.replace(/%/g,""),l=parseInt(s,10);if(isNaN(l))throw new Error(a);r.width=o}else if(o.match(/^(\d+)$/))r.width=parseInt(o.match(/^(\d+)$/)[1],10);else{if(!o.match(/^\*+$/))throw new Error(a);r.width=o}else r.width=o;else r.width="*"}["minWidth","maxWidth"].forEach(function(e){var t=n[e],i="Cannot parse column "+e+" '"+t+"' for column named '"+n.name+"'";if(angular.isString(t)||angular.isNumber(t))if(angular.isString(t)){if(!t.match(/^(\d+)$/))throw new Error(i);r[e]=parseInt(t.match(/^(\d+)$/)[1],10)}else r[e]=t;else r[e]="minWidth"===e?30:9e3}),r.field=void 0===n.field?n.name:n.field,"string"!=typeof r.field&&e.logError("Field is not a string, this is likely to break the code, Field is: "+r.field),r.name=n.name,r.displayName=void 0===n.displayName?e.readableColumnName(n.name):n.displayName,r.aggregationType=angular.isDefined(n.aggregationType)?n.aggregationType:null,r.footerCellTemplate=angular.isDefined(n.footerCellTemplate)?n.footerCellTemplate:null,void 0===n.cellTooltip||!1===n.cellTooltip?r.cellTooltip=!1:!0===n.cellTooltip?r.cellTooltip=function(e,t){return r.grid.getCellValue(e,t)}:"function"==typeof n.cellTooltip?r.cellTooltip=n.cellTooltip:r.cellTooltip=function(e,t){return t.colDef.cellTooltip},void 0===n.headerTooltip||!1===n.headerTooltip?r.headerTooltip=!1:!0===n.headerTooltip?r.headerTooltip=function(e){return e.displayName}:"function"==typeof n.headerTooltip?r.headerTooltip=n.headerTooltip:r.headerTooltip=function(e){return e.colDef.headerTooltip},r.footerCellClass=n.footerCellClass,r.cellClass=n.cellClass,r.headerCellClass=n.headerCellClass,r.cellFilter=n.cellFilter?n.cellFilter:"",r.sortCellFiltered=!!n.sortCellFiltered,r.filterCellFiltered=!!n.filterCellFiltered,r.headerCellFilter=n.headerCellFilter?n.headerCellFilter:"",r.footerCellFilter=n.footerCellFilter?n.footerCellFilter:"",r.visible=e.isNullOrUndefined(n.visible)||n.visible,r.headerClass=n.headerClass,r.enableSorting=void 0!==n.enableSorting?n.enableSorting:r.grid.options.enableSorting,r.sortingAlgorithm=n.sortingAlgorithm,r.sortDirectionCycle=void 0!==n.sortDirectionCycle?n.sortDirectionCycle:[null,t.ASC,t.DESC],void 0===r.suppressRemoveSort&&(r.suppressRemoveSort=void 0!==n.suppressRemoveSort&&n.suppressRemoveSort),r.enableFiltering=void 0===n.enableFiltering||n.enableFiltering,r.setPropertyOrDefault(n,"menuItems",[]),i&&r.setPropertyOrDefault(n,"sort"),r.setPropertyOrDefault(n,"defaultSort");var u=[];n.filter?u.push(n.filter):n.filters?u=n.filters:u.push({}),i?(r.setPropertyOrDefault(n,"filter"),r.setPropertyOrDefault(n,"extraStyle"),r.setPropertyOrDefault(n,"filters",u)):r.filters.length===u.length&&r.filters.forEach(function(e,t){void 0!==u[t].placeholder&&(e.placeholder=u[t].placeholder),void 0!==u[t].ariaLabel&&(e.ariaLabel=u[t].ariaLabel),void 0!==u[t].flags&&(e.flags=u[t].flags),void 0!==u[t].type&&(e.type=u[t].type),void 0!==u[t].selectOptions&&(e.selectOptions=u[t].selectOptions)})},i.prototype.unsort=function(){this.sort={},this.grid.api.core.raise.sortChanged(this.grid,this.grid.getColumnSorting())},i.prototype.getColClass=function(e){var n=t.COL_CLASS_PREFIX+this.uid;return e?"."+n:n},i.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},i.prototype.isPinnedRight=function(){return"right"===this.renderContainer},i.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},i.prototype.getRenderContainer=function(){var e=this,t=e.renderContainer;return null!==t&&""!==t&&void 0!==t||(t="body"),e.grid.renderContainers[t]},i.prototype.showColumn=function(){this.colDef.visible=!0},i.prototype.getAggregationText=function(){var e=this;if(e.colDef.aggregationHideLabel)return"";if(e.colDef.aggregationLabel)return e.colDef.aggregationLabel;switch(e.colDef.aggregationType){case t.aggregationTypes.count:return n.getSafeText("aggregation.count");case t.aggregationTypes.sum:return n.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return n.getSafeText("aggregation.avg");case t.aggregationTypes.min:return n.getSafeText("aggregation.min");case t.aggregationTypes.max:return n.getSafeText("aggregation.max");default:return""}},i.prototype.getCellTemplate=function(){return this.cellTemplatePromise},i.prototype.getCompiledElementFn=function(){return this.compiledElementFnDefer.promise},i}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(e,t){return{initialize:function(n){return n.onRegisterApi=n.onRegisterApi||angular.noop(),n.data=n.data||[],n.columnDefs=n.columnDefs||[],n.excludeProperties=n.excludeProperties||["$$hashKey"],n.enableRowHashing=!1!==n.enableRowHashing,n.rowIdentity=n.rowIdentity||function(t){return e.hashKey(t)},n.getRowIdentity=n.getRowIdentity||function(e){return e.$$hashKey},n.flatEntityAccess=!0===n.flatEntityAccess,n.showHeader=void 0===n.showHeader||n.showHeader,n.showHeader?n.headerRowHeight=void 0!==n.headerRowHeight?n.headerRowHeight:30:n.headerRowHeight=0,"string"==typeof n.rowHeight?n.rowHeight=parseInt(n.rowHeight)||30:n.rowHeight=n.rowHeight||30,n.minRowsToShow=void 0!==n.minRowsToShow?n.minRowsToShow:10,n.showGridFooter=!0===n.showGridFooter,n.showColumnFooter=!0===n.showColumnFooter,n.columnFooterHeight=void 0!==n.columnFooterHeight?n.columnFooterHeight:30,n.gridFooterHeight=void 0!==n.gridFooterHeight?n.gridFooterHeight:30,n.columnWidth=void 0!==n.columnWidth?n.columnWidth:50,n.maxVisibleColumnCount=void 0!==n.maxVisibleColumnCount?n.maxVisibleColumnCount:200,n.virtualizationThreshold=void 0!==n.virtualizationThreshold?n.virtualizationThreshold:20,n.columnVirtualizationThreshold=void 0!==n.columnVirtualizationThreshold?n.columnVirtualizationThreshold:10,n.excessRows=void 0!==n.excessRows?n.excessRows:4,n.scrollThreshold=void 0!==n.scrollThreshold?n.scrollThreshold:4,n.excessColumns=void 0!==n.excessColumns?n.excessColumns:4,n.horizontalScrollThreshold=void 0!==n.horizontalScrollThreshold?n.horizontalScrollThreshold:2,n.aggregationCalcThrottle=void 0!==n.aggregationCalcThrottle?n.aggregationCalcThrottle:500,n.wheelScrollThrottle=void 0!==n.wheelScrollThrottle?n.wheelScrollThrottle:70,n.scrollDebounce=void 0!==n.scrollDebounce?n.scrollDebounce:300,n.enableSorting=!1!==n.enableSorting,n.enableFiltering=!0===n.enableFiltering,n.enableColumnMenus=!1!==n.enableColumnMenus,n.enableVerticalScrollbar=void 0!==n.enableVerticalScrollbar?n.enableVerticalScrollbar:t.scrollbars.ALWAYS,n.enableHorizontalScrollbar=void 0!==n.enableHorizontalScrollbar?n.enableHorizontalScrollbar:t.scrollbars.ALWAYS,n.enableMinHeightCheck=!1!==n.enableMinHeightCheck,n.minimumColumnSize=void 0!==n.minimumColumnSize?n.minimumColumnSize:10,n.rowEquality=n.rowEquality||function(e,t){return e===t},n.headerTemplate=n.headerTemplate||null,n.footerTemplate=n.footerTemplate||"ui-grid/ui-grid-footer",n.gridFooterTemplate=n.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",n.rowTemplate=n.rowTemplate||"ui-grid/ui-grid-row",n.gridMenuTemplate=n.gridMenuTemplate||"ui-grid/uiGridMenu",n.appScopeProvider=n.appScopeProvider||null,n}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(e,t){function n(e,t,n){var i=this;i.name=e,i.grid=t,i.visibleRowCache=[],i.visibleColumnCache=[],i.renderedRows=[],i.renderedColumns=[],i.prevScrollTop=0,i.prevScrolltopPercentage=0,i.prevRowScrollIndex=0,i.prevScrollLeft=0,i.prevScrollleftPercentage=0,i.prevColumnScrollIndex=0,i.columnStyles="",i.viewportAdjusters=[],i.hasHScrollbar=!1,i.hasVScrollbar=!1,i.canvasHeightShouldUpdate=!0,i.$$canvasHeight=0,n&&angular.isObject(n)&&angular.extend(i,n),t.registerStyleComputation({priority:5,func:function(){return i.updateColumnWidths(),i.columnStyles}})}return n.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},n.prototype.containsColumn=function(e){return-1!==this.visibleColumnCache.indexOf(e)},n.prototype.minRowsToRender=function(){for(var e=this,t=0,n=0,i=e.getViewportHeight(),r=e.visibleRowCache.length-1;n<i&&r>=0;r--)n+=e.visibleRowCache[r].height,t++;return t},n.prototype.minColumnsToRender=function(){for(var e=this,t=this.getViewportWidth(),n=0,i=0,r=0;r<e.visibleColumnCache.length;r++){var o=e.visibleColumnCache[r];if(i<t)i+=o.drawnWidth?o.drawnWidth:0,n++;else{for(var a=0,s=r;s>=r-n;s--)a+=e.visibleColumnCache[s].drawnWidth?e.visibleColumnCache[s].drawnWidth:0;a<t&&n++}}return n},n.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},n.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},n.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);t>-1&&this.viewportAdjusters.splice(t,1)},n.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},n.prototype.getMargin=function(e){var t=this,n=0;return t.viewportAdjusters.forEach(function(t){var i=t.call(this,{height:0,width:0});i.side&&i.side===e&&(n+=-1*i.width)}),n},n.prototype.getViewportHeight=function(){var e=this,t=e.headerHeight?e.headerHeight:e.grid.headerHeight,n=e.grid.gridHeight-t-e.grid.footerHeight;return n+=e.getViewportAdjustment().height},n.prototype.getViewportWidth=function(){var e=this,t=e.grid.gridWidth;return t+=e.getViewportAdjustment().width},n.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},n.prototype.getCanvasHeight=function(){var e=this;if(!e.canvasHeightShouldUpdate)return e.$$canvasHeight;var t=e.$$canvasHeight;return e.$$canvasHeight=0,e.visibleRowCache.forEach(function(t){e.$$canvasHeight+=t.height}),e.canvasHeightShouldUpdate=!1,e.grid.api.core.raise.canvasHeightChanged(t,e.$$canvasHeight),e.$$canvasHeight},n.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight!==0?this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight:-1},n.prototype.getHorizontalScrollLength=function(){return this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth!==0?this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth:-1},n.prototype.getCanvasWidth=function(){return this.canvasWidth},n.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;t<e.length;t++)this.renderedRows[t]=e[t]},n.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;t<e.length;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},n.prototype.updateColumnOffset=function(){for(var e=0,t=0;t<this.currentFirstColumn;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},n.prototype.scrollVertical=function(e){var n=-1;if(e!==this.prevScrollTop){var i=e-this.prevScrollTop;i>0&&(this.grid.scrollDirection=t.scrollDirection.DOWN),i<0&&(this.grid.scrollDirection=t.scrollDirection.UP);return n=e/this.getVerticalScrollLength(),n>1&&(n=1),n<0&&(n=0),this.adjustScrollVertical(e,n),n}},n.prototype.scrollHorizontal=function(e){var n=-1;if(e!==this.prevScrollLeft){var i=e-this.prevScrollLeft;i>0&&(this.grid.scrollDirection=t.scrollDirection.RIGHT),i<0&&(this.grid.scrollDirection=t.scrollDirection.LEFT);var r=this.getHorizontalScrollLength();return n=0!==r?e/r:0,this.adjustScrollHorizontal(e,n),n}},n.prototype.adjustScrollVertical=function(e,t,n){(this.prevScrollTop!==e||n)&&(void 0!==e&&void 0!==e&&null!==e||(e=(this.getCanvasHeight()-this.getViewportHeight())*t),this.adjustRows(e,t,!1),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},n.prototype.adjustScrollHorizontal=function(e,t,n){(this.prevScrollLeft!==e||n)&&(void 0!==e&&void 0!==e&&null!==e||(e=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},n.prototype.adjustRows=function(e,t,n){var i=this,r=i.minRowsToRender(),o=i.visibleRowCache,a=o.length-r;void 0!==t&&null!==t||!e||(t=e/i.getVerticalScrollLength());var s=Math.ceil(Math.min(a,a*t));s>a&&(s=a);var l=[];if(o.length>i.grid.options.virtualizationThreshold){if(void 0!==e&&null!==e){if(!i.grid.suppressParentScrollDown&&i.prevScrollTop<e&&s<i.prevRowScrollIndex+i.grid.options.scrollThreshold&&s<a)return;if(!i.grid.suppressParentScrollUp&&i.prevScrollTop>e&&s>i.prevRowScrollIndex-i.grid.options.scrollThreshold&&s<a)return}var u={},c={};u=Math.max(0,s-i.grid.options.excessRows),c=Math.min(o.length,s+r+i.grid.options.excessRows),l=[u,c]}else{var p=i.visibleRowCache.length;l=[0,Math.max(p,r+i.grid.options.excessRows)]}i.updateViewableRowRange(l),i.prevRowScrollIndex=s},n.prototype.adjustColumns=function(e,t){var n=this,i=n.minColumnsToRender(),r=n.visibleColumnCache,o=r.length-i;void 0!==t&&null!==t||!e||(t=e/n.getHorizontalScrollLength());var a=Math.ceil(Math.min(o,o*t));a>o&&(a=o);var s=[];if(r.length>n.grid.options.columnVirtualizationThreshold&&n.getCanvasWidth()>n.getViewportWidth()){s=[Math.max(0,a-n.grid.options.excessColumns),Math.min(r.length,a+i+n.grid.options.excessColumns)]}else{var l=n.visibleColumnCache.length;s=[0,Math.max(l,i+n.grid.options.excessColumns)]}n.updateViewableColumnRange(s),n.prevColumnScrollIndex=a},n.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},n.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},n.prototype.headerCellWrapperStyle=function(){var e=this;if(0!==e.currentFirstColumn){var t=e.columnOffset;return e.grid.isRTL()?{"margin-right":t+"px"}:{"margin-left":t+"px"}}return null},n.prototype.updateColumnWidths=function(){var t=this,n=[],i=0,r=0,o="",a=t.grid.getViewportWidth()-t.grid.scrollbarWidth,s=[];angular.forEach(t.grid.renderContainers,function(e,t){s=s.concat(e.visibleColumnCache)}),s.forEach(function(t,o){var s=0;t.visible&&(angular.isNumber(t.width)?(s=parseInt(t.width,10),r+=s,t.drawnWidth=s):e.endsWith(t.width,"%")?(s=parseInt(parseInt(t.width.replace(/%/g,""),10)/100*a),s>t.maxWidth&&(s=t.maxWidth),s<t.minWidth&&(s=t.minWidth),r+=s,t.drawnWidth=s):angular.isString(t.width)&&-1!==t.width.indexOf("*")&&(i+=t.width.length,n.push(t)))});var l=a-r;if(n.length>0){var u=l/i;n.forEach(function(e){var t=parseInt(e.width.length*u,10);t>e.maxWidth&&(t=e.maxWidth),t<e.minWidth&&(t=e.minWidth),r+=t,e.drawnWidth=t})}for(var c=function(e){e.drawnWidth<e.maxWidth&&p>0&&(e.drawnWidth++,r++,p--,d=!0)},p=a-r,d=!0;p>0&&d;)d=!1,n.forEach(c);var f=function(e){e.drawnWidth>e.minWidth&&h>0&&(e.drawnWidth--,r--,h--,d=!0)},h=r-a;for(d=!0;h>0&&d;)d=!1,n.forEach(f);var g=0;t.visibleColumnCache.forEach(function(e){e.visible&&(g+=e.drawnWidth)}),s.forEach(function(e){o+=e.getColClassDefinition()}),t.canvasWidth=g,this.columnStyles=o},n.prototype.needsHScrollbarPlaceholder=function(){return this.grid.options.enableHorizontalScrollbar&&!this.hasHScrollbar&&!this.grid.disableScrolling},n.prototype.getViewportStyle=function(){var e=this,n={};return e.hasHScrollbar=!1,e.hasVScrollbar=!1,e.grid.disableScrolling?(n["overflow-x"]="hidden",n["overflow-y"]="hidden",n):("body"===e.name?(e.hasHScrollbar=e.grid.options.enableHorizontalScrollbar!==t.scrollbars.NEVER,e.grid.isRTL()?e.grid.hasLeftContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER):e.grid.hasRightContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER)):"left"===e.name?e.hasVScrollbar=!!e.grid.isRTL()&&e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER:e.hasVScrollbar=!e.grid.isRTL()&&e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER,n["overflow-x"]=e.hasHScrollbar?"auto":"hidden",n["overflow-y"]=e.hasVScrollbar?"auto":"hidden",n)},n}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil","uiGridConstants",function(e,t){function n(t,n,i){this.grid=i,this.entity=t,this.uid=e.nextUid(),this.visible=!0,this.$$height=i.options.rowHeight}return Object.defineProperty(n.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),n.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},n.prototype.getEntityQualifiedColField=function(n){return n.field===t.ENTITY_BINDING?"entity":e.preEval("entity."+n.field)},n.prototype.setRowInvisible=function(e){e&&e.setThisRowInvisible&&e.setThisRowInvisible("user")},n.prototype.clearRowInvisible=function(e){e&&e.clearThisRowInvisible&&e.clearThisRowInvisible("user")},n.prototype.setThisRowInvisible=function(e,t){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[e]=!0,this.evaluateRowVisibility(t)},n.prototype.clearThisRowInvisible=function(e,t){void 0!==this.invisibleReason&&delete this.invisibleReason[e],this.evaluateRowVisibility(t)},n.prototype.evaluateRowVisibility=function(e){var t=!0;void 0!==this.invisibleReason&&angular.forEach(this.invisibleReason,function(e,n){e&&(t=!1)}),void 0!==this.visible&&this.visible===t||(this.visible=t,e||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},n}])}(),function(){"use strict";angular.module("ui.grid").factory("GridRowColumn",["$parse","$filter",function(e,t){var n=function e(t,n){if(!(this instanceof e))throw"Using GridRowColumn as a function insead of as a constructor. Must be called with `new` keyword";this.row=t,this.col=n};return n.prototype.getIntersectionValueRaw=function(){return e(this.row.getEntityQualifiedColField(this.col))(this.row)},n}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(e){function t(t,n,i,r){var o=this;if(!t)throw new Error("grid argument is required");o.grid=t,o.source=r,o.withDelay=!0,o.sourceRowContainer=n,o.sourceColContainer=i,o.newScrollLeft=null,o.newScrollTop=null,o.x=null,o.y=null,o.verticalScrollLength=-9999999,o.horizontalScrollLength=-999999,o.fireThrottledScrollingEvent=e.throttle(function(e){o.grid.scrollContainers(e,o)},o.grid.options.wheelScrollThrottle,{trailing:!0})}return t.prototype.getNewScrollLeft=function(t,n){var i=this;if(!i.newScrollLeft){var r,o=t.getCanvasWidth()-t.getViewportWidth(),a=e.normalizeScrollLeft(n,i.grid);if(void 0!==i.x.percentage&&void 0!==i.x.percentage)r=i.x.percentage;else{if(void 0===i.x.pixels||void 0===i.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");r=i.x.percentage=(a+i.x.pixels)/o}return Math.max(0,r*o)}return i.newScrollLeft},t.prototype.getNewScrollTop=function(e,t){var n=this;if(!n.newScrollTop){var i,r=e.getVerticalScrollLength(),o=t[0].scrollTop;if(void 0!==n.y.percentage&&void 0!==n.y.percentage)i=n.y.percentage;else{if(void 0===n.y.pixels||void 0===n.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");i=n.y.percentage=(o+n.y.pixels)/r}return Math.max(0,i*r)}return n.newScrollTop},t.prototype.atTop=function(e){return this.y&&(0===this.y.percentage||this.verticalScrollLength<0)&&0===e},t.prototype.atBottom=function(e){return this.y&&(1===this.y.percentage||0===this.verticalScrollLength)&&e>0},t.prototype.atLeft=function(e){return this.x&&(0===this.x.percentage||this.horizontalScrollLength<0)&&0===e},t.prototype.atRight=function(e){return this.x&&(1===this.x.percentage||0===this.horizontalScrollLength)&&e>0},t.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},t}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,t,n,i,r,o,a,s){var l={createGrid:function(i){i=void 0!==i?i:{},i.id=e.newId();var r=new o(i);if(r.options.rowTemplate){var a=t.defer();r.getRowTemplateFn=a.promise,e.getTemplate(r.options.rowTemplate).then(function(e){var t=n(e);a.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+r.options.rowTemplate+"'")}).catch(angular.noop)}return r.registerColumnBuilder(l.defaultColumnBuilder),r.registerRowBuilder(l.rowTemplateAssigner),r.registerRowsProcessor(function(e){return e.forEach(function(e){e.evaluateRowVisibility(!0)},50),e}),r.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!angular.isDefined(e.colDef.visible)||e.colDef.visible}),e},50),r.registerRowsProcessor(r.searchRows,100),r.options.externalSort&&angular.isFunction(r.options.externalSort)?r.registerRowsProcessor(r.options.externalSort,200):r.registerRowsProcessor(r.sortByColumn,200),r},defaultColumnBuilder:function(n,i,o){var a=[],s=function(t,o,s,l,u){n[t]?i[o]=n[t]:i[o]=s,a.push(e.getTemplate(i[o]).then(function(e){angular.isFunction(e)&&(e=e());var n="cellTooltip"===u?"col.cellTooltip(row,col)":"col.headerTooltip(col)";u&&!1===i[u]?e=e.replace(r.TOOLTIP,""):u&&i[u]&&(e=e.replace(r.TOOLTIP,'title="{{'+n+' CUSTOM_FILTERS }}"')),i[t]=l?e.replace(r.CUSTOM_FILTERS,function(){return i[l]?"|"+i[l]:""}):e},function(e){throw new Error("Couldn't fetch/use colDef."+t+" '"+n[t]+"'")}).catch(angular.noop))};return s("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),i.cellTemplatePromise=a[0],s("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),s("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),s("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),i.compiledElementFnDefer=t.defer(),t.all(a)},rowTemplateAssigner:function(i){var r=this;if(i.rowTemplate){var o=t.defer();i.getRowTemplateFn=o.promise,e.getTemplate(i.rowTemplate).then(function(e){var t=n(e);o.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+i.rowTemplate+"'")})}else i.rowTemplate=r.options.rowTemplate,i.getRowTemplateFn=r.getRowTemplateFn;return i.getRowTemplateFn}};return l}])}(),function(){function e(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}angular.module("ui.grid").service("rowSearcher",["gridUtil","uiGridConstants",function(t,n){var i=n.filter.CONTAINS,r={};return r.getTerm=function(e){if(void 0===e.term)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},r.stripTerm=function(t){var n=r.getTerm(t);return"string"==typeof n?e(n.replace(/(^\*|\*$)/g,"")):n},r.guessCondition=function(e){if(void 0===e.term||!e.term)return i;var t=r.getTerm(e);if(/\*/.test(t)){var n="";e.flags&&e.flags.caseSensitive||(n+="i");var o=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return new RegExp("^"+o+"$",n)}return i},r.setupFilters=function(e){for(var i=[],o=e.length,a=0;a<o;a++){var s=e[a];if(s.noTerm||!t.isNullOrUndefined(s.term)){var l={},u="";s.flags&&s.flags.caseSensitive||(u+="i"),t.isNullOrUndefined(s.term)||(s.rawTerm?l.term=s.term:l.term=r.stripTerm(s)),l.noTerm=s.noTerm,s.condition?l.condition=s.condition:l.condition=r.guessCondition(s),l.flags=angular.extend({caseSensitive:!1,date:!1},s.flags),l.condition===n.filter.STARTS_WITH&&(l.startswithRE=new RegExp("^"+l.term,u)),l.condition===n.filter.ENDS_WITH&&(l.endswithRE=new RegExp(l.term+"$",u)),l.condition===n.filter.CONTAINS&&(l.containsRE=new RegExp(l.term,u)),l.condition===n.filter.EXACT&&(l.exactRE=new RegExp("^"+l.term+"$",u)),i.push(l)}}return i},r.runColumnFilter=function(e,t,i,r){var o,a=typeof r.condition,s=r.term;if(o=i.filterCellFiltered?e.getCellDisplayValue(t,i):e.getCellValue(t,i),r.condition instanceof RegExp)return r.condition.test(o);if("function"===a)return r.condition(s,o,t,i);if(r.startswithRE)return r.startswithRE.test(o);if(r.endswithRE)return r.endswithRE.test(o);if(r.containsRE)return r.containsRE.test(o);if(r.exactRE)return r.exactRE.test(o);if(r.condition===n.filter.NOT_EQUAL)return!new RegExp("^"+s+"$").exec(o);if("number"==typeof o&&"string"==typeof s){var l=parseFloat(s.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(l)||(s=l)}return!0===r.flags.date&&(o=new Date(o),s=new Date(s.replace(/\\/g,""))),r.condition===n.filter.GREATER_THAN?o>s:r.condition===n.filter.GREATER_THAN_OR_EQUAL?o>=s:r.condition===n.filter.LESS_THAN?o<s:r.condition!==n.filter.LESS_THAN_OR_EQUAL||o<=s},r.searchColumn=function(e,n,i,o){if(e.options.useExternalFiltering)return!0;for(var a=o.length,s=0;s<a;s++){var l=o[s];if((!t.isNullOrUndefined(l.term)&&""!==l.term||l.noTerm)&&!r.runColumnFilter(e,n,i,l))return!1}return!0},r.search=function(e,n,i){if(n){if(!e.options.enableFiltering)return n;for(var o=[],a=i.length,s=0;s<a;s++){var l=i[s];void 0!==l.filters&&function(e){var n=!1;return e.forEach(function(e){(!t.isNullOrUndefined(e.term)&&""!==e.term||e.noTerm)&&(n=!0)}),n}(l.filters)&&o.push({col:l,filters:r.setupFilters(l.filters)})}if(o.length>0){for(var u=function(e,t,n,i){t.visible&&!r.searchColumn(e,t,n,i)&&(t.visible=!1)},c=o.length,p=0;p<c;p++)!function(e,t){for(var i=n.length,r=0;r<i;r++)u(e,n[r],t.col,t.filters)}(e,o[p]);e.api.core.raise.rowsVisibleChanged&&e.api.core.raise.rowsVisibleChanged()}return n}},r}])}(),function(){angular.module("ui.grid").service("rowSorter",["$parse","uiGridConstants",function(e,t){var n="("+t.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?",i=(new RegExp("^[-+]?"+n+"[\\d,.]+"+n+"%?$"),{colSortFnCache:{}});return i.guessSortFn=function(e){switch(e){case"number":return i.sortNumber;case"numberStr":return i.sortNumberStr;case"boolean":return i.sortBool;case"string":return i.sortAlpha;case"date":return i.sortDate;case"object":return i.basicSort;default:throw new Error("No sorting function found for type:"+e)}},i.handleNulls=function(e,t){if(!e&&0!==e&&!1!==e||!t&&0!==t&&!1!==t){if(!e&&0!==e&&!1!==e&&!t&&0!==t&&!1!==t)return 0;if(!e&&0!==e&&!1!==e)return 1;if(!t&&0!==t&&!1!==t)return-1}return null},i.basicSort=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e===t?0:e<t?-1:1},i.sortNumber=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e-t},i.sortNumberStr=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r,o,a=!1,s=!1;return r=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(r)&&(a=!0),o=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(o)&&(s=!0),a&&s?0:a?1:s?-1:r-o},i.sortAlpha=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r=e.toString().toLowerCase(),o=t.toString().toLowerCase();return r===o?0:r.localeCompare(o)},i.sortDate=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;e instanceof Date||(e=new Date(e)),t instanceof Date||(t=new Date(t));var r=e.getTime(),o=t.getTime();return r===o?0:r<o?-1:1},i.sortBool=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e&&t?0:e||t?e?1:-1:0},i.getSortFn=function(e,t,n){var r;return i.colSortFnCache[t.colDef.name]?r=i.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(r=t.sortingAlgorithm,i.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):t.sortCellFiltered&&t.cellFilter?(r=i.sortAlpha,i.colSortFnCache[t.colDef.name]=r):(r=i.guessSortFn(t.colDef.type),r?i.colSortFnCache[t.colDef.name]=r:r=i.sortAlpha),r},i.prioritySort=function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:void 0!==e.sort.priority?-1:void 0!==t.sort.priority?1:0},i.sort=function(e,n,r){if(n){if(e.options.useExternalSorting)return n;var o=[],a=[];if(r.forEach(function(e){!e.sort||e.sort.ignoreSort||!e.sort.direction||e.sort.direction!==t.ASC&&e.sort.direction!==t.DESC?e.defaultSort&&e.defaultSort.direction&&(e.defaultSort.direction===t.ASC||e.defaultSort.direction===t.DESC)&&a.push({col:e,sort:e.defaultSort}):o.push({col:e,sort:e.sort})}),o=o.sort(i.prioritySort),a=a.sort(i.prioritySort),o=o.concat(a),0===o.length)return n;var s,l,u=function(e,t){e.entity.$$uiGridIndex=t};n.forEach(u);var c=n.slice(0),p=function(n,r){for(var a,u=0,p=0;0===u&&p<o.length;){s=o[p].col,l=o[p].sort.direction,a=i.getSortFn(e,s,c);var d,f;s.sortCellFiltered?(d=e.getCellDisplayValue(n,s),f=e.getCellDisplayValue(r,s)):(d=e.getCellValue(n,s),f=e.getCellValue(r,s)),u=a(d,f,n,r,l,s),p++}return 0===u?n.entity.$$uiGridIndex-r.entity.$$uiGridIndex:l===t.ASC?u:0-u},d=n.sort(p),f=function(e,t){delete e.entity.$$uiGridIndex};return n.forEach(f),d}},i}])}(),function(){function e(e){var t=e;return void 0!==t.length&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function t(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0,s=["Top","Right","Bottom","Left"];o<4;o+=2){var l=s[o];if("margin"===n){var u=parseFloat(r[n+l]);isNaN(u)||(a+=u)}if(i){if("content"===n){var c=parseFloat(r["padding"+l]);isNaN(c)||(a-=c)}if("margin"!==n){var p=parseFloat(r["border"+l+"Width"]);isNaN(p)||(a-=p)}}else{var d=parseFloat(r["padding"+l]);if(isNaN(d)||(a+=d),"padding"!==n){var f=parseFloat(r["border"+l+"Width"]);isNaN(f)||(a+=f)}}}return a}function n(n,i,r){var o,s=!0,l=e(n),u="border-box"===l.boxSizing;if(o<=0||null==o){if(o=l[i],(o<0||null==o)&&(o=n.style[i]),a.test(o))return o;s=u&&!0,o=parseFloat(o)||0}return o+t(n,i,r||(u?"border":"content"),s,l)}function i(t){t=angular.element(t)[0];var n=t.parentElement;return n||(n=document.getElementsByTagName("body")[0]),parseInt(e(n).fontSize)||parseInt(e(t).fontSize)||16}var r,o=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(r=function(){var e=Array.prototype.slice;return function(t){var n=this,i=e.call(arguments,1);return i.length?function(){return arguments.length?n.apply(t,i.concat(e.call(arguments))):n.apply(t,i)}:function(){return arguments.length?n.apply(t,arguments):n.call(t)}}});var a=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),s=/^(block|none|table(?!-c[ea]).+)/,l={position:"absolute",visibility:"hidden",display:"block"},u=["0","0","0","0"];o.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(o,a,c,p,d,f,h,g,v,m,y){function E(e,t){var n=angular.element(this),i=0,r=0,o=0,a=0;if(t.originalEvent&&(t=t.originalEvent),"detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(r=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=-1*o,o=0),i=0===o?r:o,"deltaY"in t&&(o=-1*t.deltaY,i=o),"deltaX"in t&&(r=t.deltaX,0===o&&(i=-1*r)),0!==o||0!==r){if(1===t.deltaMode){var s=n.data("mousewheel-line-height");i*=s,o*=s,r*=s}else if(2===t.deltaMode){var l=n.data("mousewheel-page-height");i*=l,o*=l,r*=l}a=Math.max(Math.abs(o),Math.abs(r)),(!w||a<w)&&(w=a,x(t,a)&&(w/=40)),i=Math[i>=1?"floor":"ceil"](i/w),r=Math[r>=1?"floor":"ceil"](r/w),o=Math[o>=1?"floor":"ceil"](o/w);var u={originalEvent:t,deltaX:r,deltaY:o,deltaFactor:w,preventDefault:function(){t.preventDefault()},stopPropagation:function(){t.stopPropagation()}};S&&clearTimeout(S),S=setTimeout(b,200),e.call(n[0],u)}}function b(){w=null}function x(e,t){return"mousewheel"===e.type&&t%120==0}var C={augmentWidthOrHeight:t,getStyles:e,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return void 0===e||void 0===e||null===e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,t){var n=[];if(!e||void 0===e[0]||void 0===e[0])return[];angular.isUndefined(t)&&(t=[]);var i=e[0];return angular.forEach(i,function(e,i){-1===t.indexOf(i)&&n.push({name:i})}),n},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(d.get(e))return C.postProcessTemplate(d.get(e));if(angular.isFunction(e.then))return e.then(C.postProcessTemplate).catch(angular.noop);try{if(angular.element(e).length>0)return v.when(e).then(C.postProcessTemplate).catch(angular.noop)}catch(e){}return C.logDebug("fetching url",e),p({method:"GET",url:e}).then(function(t){var n=t.data.trim();return d.put(e,n),n},function(t){throw new Error("Could not get template "+e+": "+t)}).then(C.postProcessTemplate).catch(angular.noop)},postProcessTemplate:function(e){var t=m.startSymbol(),n=m.endSymbol();return"{{"===t&&"}}"===n||(e=e.replace(/\{\{/g,t),e=e.replace(/\}\}/g,n)),v.when(e)},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(e){},elementHeight:function(e){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),t-i},swap:function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},fakeElement:function(e,t,n,i){var r,o,a=angular.element(e).clone()[0];for(o in t)a.style[o]=t[o];return angular.element(document.body).append(a),r=n.call(a,a),angular.element(a).remove(),r},normalizeWheelEvent:function(e){var t,n,i,r=e||window.event,o=([].slice.call(arguments,1),0),a=0,s=0,l=0,u=0;return r.originalEvent&&(r=r.originalEvent),r.wheelDelta&&(o=r.wheelDelta),r.detail&&(o=-1*r.detail),s=o,void 0!==r.axis&&r.axis===r.HORIZONTAL_AXIS&&(s=0,a=-1*o),r.deltaY&&(s=-1*r.deltaY,o=s),r.deltaX&&(a=r.deltaX,o=-1*a),void 0!==r.wheelDeltaY&&(s=r.wheelDeltaY),void 0!==r.wheelDeltaX&&(a=r.wheelDeltaX),l=Math.abs(o),(!t||l<t)&&(t=l),u=Math.max(Math.abs(s),Math.abs(a)),(!n||u<n)&&(n=u),i=o>0?"floor":"ceil",o=Math[i](o/t),a=Math[i](a/n),s=Math[i](s/n),{delta:o,deltaX:a,deltaY:s}},isTouchEnabled:function(){var e;return("ontouchstart"in a||a.DocumentTouch&&c instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e},endsWith:function(e,t){return!(!e||!t||"string"!=typeof e)&&-1!==e.indexOf(t,e.length-t.length)},arrayContainsObjectWithProperty:function(e,t,n){var i=!1;return angular.forEach(e,function(e){e[t]===n&&(i=!0)}),i},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=g.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!1):t.enabled(!1,e)}catch(e){}},enableAnimations:function(e){var t;try{return t=g.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!0):t.enabled(!0,e),t}catch(e){}},nextUid:function(){for(var e,t=u.length;t;){if(t--,57===(e=u[t].charCodeAt(0)))return u[t]="A","uiGrid-"+u.join("");if(90!==e)return u[t]=String.fromCharCode(e+1),"uiGrid-"+u.join("");u[t]="0"}return u.unshift("0"),"uiGrid-"+u.join("")},hashKey:function(e){var t,n=typeof e;return"object"===n&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():void 0!==e.$$hashKey&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=C.nextUid()):t=e,n+":"+t},resetUids:function(){u=["0","0","0"]},logError:function(e){y.LOG_ERROR_MESSAGES&&o.error(e)},logWarn:function(e){y.LOG_WARN_MESSAGES&&o.warn(e)},logDebug:function(){y.LOG_DEBUG_MESSAGES&&o.debug.apply(o,arguments)}};C.focus={queue:[],byId:function(e,t){this._purgeQueue();var n=f(function(){var n=(t&&t.id?t.id+"-":"")+e,i=a.document.getElementById(n);i?i.focus():C.logWarn("[focus.byId] Element id "+n+" was not found.")},0,!1);return this.queue.push(n),n},byElement:function(e){if(!angular.isElement(e))return C.logWarn("Trying to focus on an element that isn't an element."),v.reject("not-element");e=angular.element(e),this._purgeQueue();var t=f(function(){e&&e[0].focus()},0,!1);return this.queue.push(t),t},bySelector:function(e,t,n){var i=this;if(!angular.isElement(e))throw new Error("The parent element is not an element.");e=angular.element(e);var r=function(){var n=e[0].querySelector(t);return i.byElement(n)};if(this._purgeQueue(),n){var o=f(r,0,!1);return this.queue.push(o),o}return r()},_purgeQueue:function(){this.queue.forEach(function(e){f.cancel(e)}),this.queue=[]}},["width","height"].forEach(function(t){var i=angular.uppercase(t.charAt(0))+t.substr(1);C["element"+i]=function(i,r){var o=i;if(o&&void 0!==o.length&&o.length&&(o=i[0]),o&&null!==o){var a=e(o);return 0===o.offsetWidth&&s.test(a.display)?C.swap(o,l,function(){return n(o,t,r)}):n(o,t,r)}return null},C["outerElement"+i]=function(e,t){return e?C["element"+i].call(this,e,t?"margin":"border"):null}}),C.closestElm=function(e,t){void 0!==e.length&&e.length&&(e=e[0]);var n;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]&&(n=e,!0)});for(var i;null!==e;){if(null!==(i=e.parentElement)&&i[n](t))return i;e=i}return null},C.type=function(e){return Function.prototype.toString.call(e.constructor).match(/function (.*?)\(/)[1]},C.getBorderSize=function(t,n){void 0!==t.length&&t.length&&(t=t[0]);var i=e(t);n=n?"border"+n.charAt(0).toUpperCase()+n.slice(1):"border",n+="Width";var r=parseInt(i[n],10);return isNaN(r)?0:r},C.detectBrowser=function(){var e=a.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var n in t)if(t[n].test(e))return n;return"unknown"},C.rtlScrollType=function e(){if(e.type)return e.type;var t=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],n="reverse";return document.body.appendChild(t),t.scrollLeft>0?n="default":(t.scrollLeft=1,0===t.scrollLeft&&(n="negative")),angular.element(t).remove(),e.type=n,n},C.normalizeScrollLeft=function(e,t){void 0!==e.length&&e.length&&(e=e[0]);var n=e.scrollLeft;if(t.isRTL())switch(C.rtlScrollType()){case"default":return e.scrollWidth-n-e.clientWidth;case"negative":return Math.abs(n);case"reverse":return n}return n},C.denormalizeScrollLeft=function(e,t,n){if(void 0!==e.length&&e.length&&(e=e[0]),n.isRTL())switch(C.rtlScrollType()){case"default":return e.scrollWidth-e.clientWidth-t;case"negative":return-1*t;case"reverse":return t}return t},C.preEval=function(e){var t=y.BRACKET_REGEXP.exec(e);if(t)return(t[1]?C.preEval(t[1]):t[1])+t[2]+(t[3]?C.preEval(t[3]):t[3]);e=e.replace(y.APOS_REGEXP,"\\'");var n=e.split(y.DOT_REGEXP),i=[n.shift()];return angular.forEach(n,function(e){i.push(e.replace(y.FUNC_REGEXP,"']$1"))}),i.join("['")},C.debounce=function(e,t,n){function i(){a=this,o=arguments;var i=function(){r=null,n||(s=e.apply(a,o))},l=n&&!r;return r&&f.cancel(r),r=f(i,t,!1),l&&(s=e.apply(a,o)),s}var r,o,a,s;return i.cancel=function(){f.cancel(r),r=null},i},C.throttle=function(e,t,n){function i(t){a=+new Date,e.apply(r,o),h(function(){s=null},0,1,!1)}n=n||{};var r,o,a=0,s=null;return function(){if(r=this,o=arguments,null===s){var e=+new Date-a;e>t?i():n.trailing&&(s=h(i,t-e,1,!1))}}},C.on={},C.off={},C._events={},C.addOff=function(e){C.off[e]=function(t,n){var i=C._events[e].indexOf(n);i>0&&C._events[e].removeAt(i)}};var S,w,T="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];return C.on.mousewheel=function(e,t){if(e&&t){var n=angular.element(e);n.data("mousewheel-line-height",i(n)),n.data("mousewheel-page-height",C.elementHeight(n)),n.data("mousewheel-callbacks")||n.data("mousewheel-callbacks",{});var o=n.data("mousewheel-callbacks");o[t]=(Function.prototype.bind||r).call(E,n[0],t);for(var a=T.length;a;)n.on(T[--a],o[t]);n.on("$destroy",function(){for(var e=T.length;e;)n.off(T[--e],o[t])})}},C.off.mousewheel=function(e,t){var n=angular.element(e),i=n.data("mousewheel-callbacks"),r=i[t];if(r)for(var o=T.length;o;)n.off(T[--o],r);delete i[t],0===Object.keys(i).length&&(n.removeData("mousewheel-line-height"),n.removeData("mousewheel-page-height"),n.removeData("mousewheel-callbacks"))},C}]),o.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("bg",{headerCell:{aria:{defaultFilterLabel:"Филттър за колоната",removeFilter:"Премахни филтър",columnMenuButtonLabel:"Меню на колоната"},priority:"Приоритет:",filterLabel:"Филтър за колоната: "},aggregate:{label:"обекти"},search:{placeholder:"Търсене...",showingItems:"Показани обекти:",selectedItems:"избрани обекти:",totalItems:"Общо:",size:"Размер на страницата:",first:"Първа страница",next:"Следваща страница",previous:"Предишна страница",last:"Последна страница"},menu:{text:"Избери колони:"},sort:{ascending:"Сортиране по възходящ ред",descending:"Сортиране по низходящ ред",none:"Без сортиране",remove:"Премахни сортирането"},column:{hide:"Скрий колоната"},aggregation:{count:"Общо редове: ",sum:"общо: ",avg:"средно: ",min:"най-малко: ",max:"най-много: "},pinning:{pinLeft:"Прикрепи вляво",pinRight:"Прикрепи вдясно",unpin:"Премахване"},columnMenu:{close:"Затвори"},gridMenu:{aria:{buttonLabel:"Меню на таблицата"},columns:"Колони:",importerTitle:"Импортиране на файл",exporterAllAsCsv:"Експортиране на данните като csv",exporterVisibleAsCsv:"Експортиране на видимите данни като csv",exporterSelectedAsCsv:"Експортиране на избраните данни като csv",exporterAllAsPdf:"Експортиране на данните като pdf",exporterVisibleAsPdf:"Експортиране на видимите данни като pdf",exporterSelectedAsPdf:"Експортиране на избраните данни като pdf",clearAllFilters:"Премахни всички филтри"},importer:{noHeaders:"Имената на колоните не успяха да бъдат извлечени, файлът има ли хедър?",noObjects:"Обектите не успяха да бъдат извлечени, файлът съдържа ли данни, различни от хедър?",invalidCsv:"Файлът не може да бъде обработеб, уверете се, че е валиден CSV файл",invalidJson:"Файлът не може да бъде обработеб, уверете се, че е валиден JSON файл",jsonNotArray:"Импортираният JSON файл трябва да съдържа масив, прекратяване."},pagination:{aria:{pageToFirst:"Към първа страница",pageBack:"Страница назад",pageSelected:"Избрана страница",pageForward:"Страница напред",pageToLast:"Към последна страница"},sizes:"обекта на страница",totalItems:"обекта",through:"до",of:"от"},grouping:{group:"Групиране",ungroup:"Премахване на групирането",aggregate_count:"Сбор: Брой",aggregate_sum:"Сбор: Сума",aggregate_max:"Сбор: Максимум",aggregate_min:"Сбор: Минимум",aggregate_avg:"Сбор: Средно",aggregate_remove:"Сбор: Премахване"},validate:{error:"Грешка:",minLength:"Стойността трябва да съдържа поне THRESHOLD символа.",maxLength:"Стойността не трябва да съдържа повече от THRESHOLD символа.",required:"Необходима е стойност."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){var t={aggregate:{label:"položky"},groupPanel:{description:"Přesuňte záhlaví zde pro vytvoření skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji položky:",selectedItems:"Vybrané položky:",totalItems:"Celkem položek:",size:"Velikost strany:",first:"První strana",next:"Další strana",previous:"Předchozí strana",last:"Poslední strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seřadit od A-Z",descending:"Seřadit od Z-A",remove:"Odebrat seřazení"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem řádků: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout vlevo",pinRight:"Zamknout vpravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat všechna data do csv",exporterVisibleAsCsv:"Exportovat viditelná data do csv",exporterSelectedAsCsv:"Exportovat vybraná data do csv",exporterAllAsPdf:"Exportovat všechna data do pdf",exporterVisibleAsPdf:"Exportovat viditelná data do pdf",exporterSelectedAsPdf:"Exportovat vybraná data do pdf",clearAllFilters:"Odstranit všechny filtry"},importer:{noHeaders:"Názvy sloupců se nepodařilo získat, obsahuje soubor záhlaví?",noObjects:"Data se nepodařilo zpracovat, obsahuje soubor řádky mimo záhlaví?",invalidCsv:"Soubor nelze zpracovat, jedná se o CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor musí obsahovat json. Ukončuji.."},pagination:{sizes:"položek na stránku",totalItems:"položek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupení",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return e.add("cs",t),e.add("cz",t),e.add("cs-cz",t),e.add("cs-CZ",t),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},sort:{ascending:"Sorter stigende",descending:"Sorter faldende",none:"Sorter ingen",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antal rækker: ",sum:"sum: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter markerede data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter markerede data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Gå til første",pageBack:"Gå tilbage",pageSelected:"Valgte side",pageForward:"Gå frem",pageToLast:"Gå til sidste"},sizes:"genstande per side",totalItems:"genstande",through:"gennem",of:"af"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{headerCell:{aria:{defaultFilterLabel:"Filter für Spalte",removeFilter:"Filter löschen",columnMenuButtonLabel:"Spaltenmenü"},priority:"Priorität:",filterLabel:"Filter für Spalte: "},aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{aria:{selected:"Zeile markiert",notSelected:"Zeile nicht markiert"},placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",none:"keine Sortierung",remove:"Sortierung zurücksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lösen"},columnMenu:{close:"Schließen"},gridMenu:{aria:{buttonLabel:"Tabellenmenü"},columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als PDF exportieren",clearAllFilters:"Alle Filter zurücksetzen"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei außer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gültige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthält sie gültiges JSON?",jsonNotArray:"Die importierte JSON-Datei muß ein Array enthalten. Breche Import ab."},pagination:{aria:{pageToFirst:"Zum Anfang",pageBack:"Seite zurück",pageSelected:"Ausgwählte Seite",pageForward:"Seite vor",pageToLast:"Zum Ende"},sizes:"Einträge pro Seite",totalItems:"Einträgen",through:"bis",of:"von"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{aria:{selected:"Row selected",notSelected:"Row not selected"},placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"},validate:{error:"Error:",minLength:"Value should be at least THRESHOLD characters long.",maxLength:"Value should be at most THRESHOLD characters long.",required:"A value is needed."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y suéltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrados:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijación"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selección como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selección como pdf",clearAllFilters:"Limpiar todos los filtros"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, ¿tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, ¿contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, ¿es un CSV válido?",invalidJson:"No fue posible procesar el archivo, ¿es un Json válido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{sizes:"registros por página",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Máx",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:"قلم"},groupPanel:{description:"عنوان یک ستون را بگیر و به گروهی از آن ستون رها کن."},search:{placeholder:"جستجو...",showingItems:"نمایش اقلام:",selectedItems:"قلم‌های انتخاب شده:",totalItems:"مجموع اقلام:",size:"اندازه‌ی صفحه:",first:"اولین صفحه",next:"صفحه‌ی‌بعدی",previous:"صفحه‌ی‌ قبلی",last:"آخرین صفحه"},menu:{text:"ستون‌های انتخابی:"},sort:{ascending:"ترتیب صعودی",descending:"ترتیب نزولی",remove:"حذف مرتب کردن"},column:{hide:"پنهان‌کردن ستون"},aggregation:{count:"تعداد: ",sum:"مجموع: ",avg:"میانگین: ",min:"کمترین: ",max:"بیشترین: "},pinning:{pinLeft:"پین کردن سمت چپ",pinRight:"پین کردن سمت راست",unpin:"حذف پین"},gridMenu:{columns:"ستون‌ها:",importerTitle:"وارد کردن فایل",exporterAllAsCsv:"خروجی تمام داده‌ها در فایل csv",exporterVisibleAsCsv:"خروجی داده‌های قابل مشاهده در فایل csv",exporterSelectedAsCsv:"خروجی داده‌های انتخاب‌شده در فایل csv",exporterAllAsPdf:"خروجی تمام داده‌ها در فایل pdf",exporterVisibleAsPdf:"خروجی داده‌های قابل مشاهده در فایل pdf",exporterSelectedAsPdf:"خروجی داده‌های انتخاب‌شده در فایل pdf",clearAllFilters:"پاک کردن تمام فیلتر"},importer:{noHeaders:"نام ستون قابل استخراج نیست. آیا فایل عنوان دارد؟",noObjects:"اشیا قابل استخراج نیستند. آیا به جز عنوان‌ها در فایل داده وجود دارد؟",invalidCsv:"فایل قابل پردازش نیست. آیا فرمت  csv  معتبر است؟",invalidJson:"فایل قابل پردازش نیست. آیا فرمت json   معتبر است؟",jsonNotArray:"فایل json وارد شده باید حاوی آرایه باشد. عملیات ساقط شد."},pagination:{sizes:"اقلام در هر صفحه",totalItems:"اقلام",of:"از"},grouping:{group:"گروه‌بندی",ungroup:"حذف گروه‌بندی",aggregate_count:"Agg: تعداد",aggregate_sum:"Agg: جمع",aggregate_max:"Agg: بیشینه",aggregate_min:"Agg: کمینه",aggregate_avg:"Agg: میانگین",aggregate_remove:"Agg: حذف"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa",clearAllFilters:"Puhdista kaikki suodattimet"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{headerCell:{aria:{defaultFilterLabel:"Filtre de la colonne",removeFilter:"Supprimer le filtre",columnMenuButtonLabel:"Menu de la colonne"},priority:"Priorité:",filterLabel:"Filtre de la colonne: "},aggregate:{label:"éléments"},groupPanel:{description:"Faites glisser une en-tête de colonne ici pour créer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des éléments :",selectedItems:"Éléments sélectionnés :",totalItems:"Nombre total d'éléments:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre décroissant",none:"Aucun tri",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",unpin:"Détacher"},columnMenu:{close:"Fermer"},gridMenu:{aria:{buttonLabel:"Menu du tableau"},columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les données en CSV",exporterVisibleAsCsv:"Exporter les données visibles en CSV",exporterSelectedAsCsv:"Exporter les données sélectionnées en CSV",exporterAllAsPdf:"Exporter toutes les données en PDF",exporterVisibleAsPdf:"Exporter les données visibles en PDF",exporterSelectedAsPdf:"Exporter les données sélectionnées en PDF",clearAllFilters:"Nettoyez tous les filtres"},importer:{noHeaders:"Impossible de déterminer le nom des colonnes, le fichier possède-t-il une en-tête ?",noObjects:"Aucun objet trouvé, le fichier possède-t-il des données autres que l'en-tête ?",invalidCsv:"Le fichier n'a pas pu être traité, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu être traité, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON importé doit contenir un tableau, abandon."},pagination:{aria:{pageToFirst:"Aller à la première page",pageBack:"Page précédente",pageSelected:"Page sélectionnée",pageForward:"Page suivante",pageToLast:"Aller à la dernière page"},sizes:"éléments par page",totalItems:"éléments",through:"à",of:"sur"},grouping:{group:"Grouper",ungroup:"Dégrouper",aggregate_count:"Agg: Compter",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"},validate:{error:"Erreur:",minLength:"La valeur doit être supérieure ou égale à THRESHOLD caractères.",maxLength:"La valeur doit être inférieure ou égale à THRESHOLD caractères.",required:"Une valeur est nécéssaire."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clean all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("hy",{aggregate:{label:"տվյալներ"},groupPanel:{description:"Ըստ սյան խմբավորելու համար քաշեք և գցեք վերնագիրն այստեղ։"},search:{placeholder:"Փնտրում...",showingItems:"Ցուցադրված տվյալներ՝",selectedItems:"Ընտրված:",totalItems:"Ընդամենը՝",size:"Տողերի քանակը էջում՝",first:"Առաջին էջ",next:"Հաջորդ էջ",previous:"Նախորդ էջ",last:"Վերջին էջ"},menu:{text:"Ընտրել սյուները:"},sort:{ascending:"Աճման կարգով",descending:"Նվազման կարգով",remove:"Հանել "},column:{hide:"Թաքցնել սյունը"},aggregation:{count:"ընդամենը տող՝ ",sum:"ընդամենը՝ ",avg:"միջին՝ ",min:"մին՝ ",max:"մաքս՝ "},pinning:{pinLeft:"Կպցնել ձախ կողմում",pinRight:"Կպցնել աջ կողմում",unpin:"Արձակել"},gridMenu:{columns:"Սյուներ:",importerTitle:"Ներմուծել ֆայլ",exporterAllAsCsv:"Արտահանել ամբողջը CSV",exporterVisibleAsCsv:"Արտահանել երևացող տվյալները CSV",exporterSelectedAsCsv:"Արտահանել ընտրված տվյալները CSV",exporterAllAsPdf:"Արտահանել PDF",exporterVisibleAsPdf:"Արտահանել երևացող տվյալները PDF",exporterSelectedAsPdf:"Արտահանել ընտրված տվյալները PDF",clearAllFilters:"Մաքրել բոլոր ֆիլտրերը"},importer:{noHeaders:"Հնարավոր չեղավ որոշել սյան վերնագրերը։ Արդյո՞ք ֆայլը ունի վերնագրեր։",noObjects:"Հնարավոր չեղավ կարդալ տվյալները։ Արդյո՞ք ֆայլում կան տվյալներ։",invalidCsv:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր CSV է։",invalidJson:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր Json է։",jsonNotArray:"Ներմուծված json ֆայլը պետք է պարունակի զանգված, կասեցվում է։"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("is",{headerCell:{aria:{defaultFilterLabel:"Sía fyrir dálk",removeFilter:"Fjarlægja síu",columnMenuButtonLabel:"Dálkavalmynd"},priority:"Forgangsröðun:",filterLabel:"Sía fyrir dálka: "},aggregate:{label:"hlutir"},groupPanel:{description:"Dragðu dálkhaus hingað til að flokka saman eftir þeim dálki."},search:{placeholder:"Leita...",showingItems:"Sýni hluti:",selectedItems:"Valdir hlutir:",totalItems:"Hlutir alls:",size:"Stærð síðu:",first:"Fyrsta síða",next:"Næsta síða",previous:"Fyrri síða",last:"Síðasta síða"},menu:{text:"Veldu dálka:"},sort:{ascending:"Raða hækkandi",descending:"Raða lækkandi",none:"Engin röðun",remove:"Fjarlægja röðun"},column:{hide:"Fela dálk"},aggregation:{count:"fjöldi raða: ",sum:"summa: ",avg:"meðaltal: ",min:"lágmark: ",max:"hámark: "},pinning:{pinLeft:"Festa til vinstri",pinRight:"Festa til hægri",unpin:"Losa"},columnMenu:{close:"Loka"},gridMenu:{aria:{buttonLabel:"Töflu valmynd"},columns:"Dálkar:",importerTitle:"Flytja inn skjal",exporterAllAsCsv:"Flytja út gögn sem csv",exporterVisibleAsCsv:"Flytja út sýnileg gögn sem csv",exporterSelectedAsCsv:"Flytja út valin gögn sem csv",exporterAllAsPdf:"Flytja út öll gögn sem pdf",exporterVisibleAsPdf:"Flytja út sýnileg gögn sem pdf",exporterSelectedAsPdf:"Flytja út valin gögn sem pdf",clearAllFilters:"Hreinsa allar síur"},importer:{noHeaders:"Ekki hægt að vinna dálkanöfn úr skjalinu, er skjalið örugglega með haus?",noObjects:"Ekki hægt að vinna hluti úr skjalinu, voru örugglega gögn í skjalinu önnur en hausinn?",invalidCsv:"Tókst ekki að vinna skjal, er það örggulega gilt CSV?",invalidJson:"Tókst ekki að vinna skjal, er það örugglega gilt Json?",jsonNotArray:"Innflutt json skjal verður að innihalda fylki, hætti við."},pagination:{aria:{pageToFirst:"Fletta að fyrstu",pageBack:"Fletta til baka",pageSelected:"Valin síða",pageForward:"Fletta áfram",pageToLast:"Fletta að síðustu"},sizes:"hlutir á síðu",totalItems:"hlutir",through:"gegnum",of:"af"},grouping:{group:"Flokka",ungroup:"Sundurliða",aggregate_count:"Fjöldi: ",aggregate_sum:"Summa: ",aggregate_max:"Hámark: ",aggregate_min:"Lágmark: ",aggregate_avg:"Meðaltal: ",aggregate_remove:"Fjarlægja: "},validate:{error:"Villa:",minLength:"Gildi ætti að vera a.m.k. THRESHOLD stafa langt.",maxLength:"Gildi ætti að vera í mesta lagi THRESHOLD stafa langt.",required:"Þarf að hafa gildi."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF",clearAllFilters:"Pulire tutti i filtri"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},pagination:{aria:{pageToFirst:"Prima",pageBack:"Indietro",pageSelected:"Pagina selezionata",pageForward:"Avanti",pageToLast:"Ultima"},sizes:"elementi per pagina",totalItems:"elementi",through:"a",of:"di"},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"},validate:{error:"Errore:",minLength:"Lunghezza minima pari a THRESHOLD caratteri.",maxLength:"Lunghezza massima pari a THRESHOLD caratteri.",required:"Necessario inserire un valore."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ja",{headerCell:{aria:{defaultFilterLabel:"列のフィルター",removeFilter:"フィルターの解除",columnMenuButtonLabel:"列のメニュー"},priority:"優先度:",filterLabel:"列フィルター: "},aggregate:{label:"項目"},groupPanel:{description:"ここに列ヘッダをドラッグアンドドロップして、その列でグループ化します。"},search:{placeholder:"検索...",showingItems:"表示中の項目:",selectedItems:"選択した項目:",totalItems:"項目の総数:",size:"ページサイズ:",first:"最初のページ",next:"次のページ",previous:"前のページ",last:"前のページ"},menu:{text:"列の選択:"},sort:{ascending:"昇順に並べ替え",descending:"降順に並べ替え",none:"並べ替え無し",remove:"並べ替えの解除"},column:{hide:"列の非表示"},aggregation:{count:"行数: ",sum:"合計: ",avg:"平均: ",min:"最小: ",max:"最大: "},pinning:{pinLeft:"左に固定",pinRight:"右に固定",unpin:"固定解除"},columnMenu:{close:"閉じる"},gridMenu:{aria:{buttonLabel:"グリッドメニュー"},columns:"列の表示/非表示:",importerTitle:"ファイルのインポート",exporterAllAsCsv:"すべてのデータをCSV形式でエクスポート",exporterVisibleAsCsv:"表示中のデータをCSV形式でエクスポート",exporterSelectedAsCsv:"選択したデータをCSV形式でエクスポート",exporterAllAsPdf:"すべてのデータをPDF形式でエクスポート",exporterVisibleAsPdf:"表示中のデータをPDF形式でエクスポート",exporterSelectedAsPdf:"選択したデータをPDF形式でエクスポート",clearAllFilters:"すべてのフィルタをクリア"},importer:{noHeaders:"列名を取得できません。ファイルにヘッダが含まれていることを確認してください。",noObjects:"オブジェクトを取得できません。ファイルにヘッダ以外のデータが含まれていることを確認してください。",invalidCsv:"ファイルを処理できません。ファイルが有効なCSV形式であることを確認してください。",invalidJson:"ファイルを処理できません。ファイルが有効なJSON形式であることを確認してください。",jsonNotArray:"インポートしたJSONファイルには配列が含まれている必要があります。処理を中止します。"},pagination:{aria:{pageToFirst:"最初のページ",pageBack:"前のページ",pageSelected:"現在のページ",pageForward:"次のページ",pageToLast:"最後のページ"},sizes:"項目/ページ",totalItems:"項目",through:"から",of:"項目/全"},grouping:{group:"グループ化",ungroup:"グループ化の解除",aggregate_count:"集計表示: 行数",aggregate_sum:"集計表示: 合計",aggregate_max:"集計表示: 最大",aggregate_min:"集計表示: 最小",aggregate_avg:"集計表示: 平均",aggregate_remove:"集計表示: 解除"},validate:{error:"Error:",minLength:"THRESHOLD 文字以上で入力してください。",maxLength:"THRESHOLD 文字以下で入力してください。",required:"値が必要です。"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ko",{aggregate:{label:"아이템"},groupPanel:{description:"컬럼으로 그룹핑하기 위해서는 컬럼 헤더를 끌어 떨어뜨려 주세요."},search:{placeholder:"검색...",showingItems:"항목 보여주기:",selectedItems:"선택 항목:",totalItems:"전체 항목:",size:"페이지 크기:",first:"첫번째 페이지",next:"다음 페이지",previous:"이전 페이지",last:"마지막 페이지"},menu:{text:"컬럼을 선택하세요:"},sort:{ascending:"오름차순 정렬",descending:"내림차순 정렬",remove:"소팅 제거"},column:{hide:"컬럼 제거"},aggregation:{count:"전체 갯수: ",sum:"전체: ",avg:"평균: ",min:"최소: ",max:"최대: "},pinning:{pinLeft:"왼쪽 핀",pinRight:"오른쪽 핀",unpin:"핀 제거"},gridMenu:{columns:"컬럼:",importerTitle:"파일 가져오기",exporterAllAsCsv:"csv로 모든 데이터 내보내기",exporterVisibleAsCsv:"csv로 보이는 데이터 내보내기",exporterSelectedAsCsv:"csv로 선택된 데이터 내보내기",exporterAllAsPdf:"pdf로 모든 데이터 내보내기",exporterVisibleAsPdf:"pdf로 보이는 데이터 내보내기",exporterSelectedAsPdf:"pdf로 선택 데이터 내보내기",clearAllFilters:"모든 필터를 청소"},importer:{noHeaders:"컬럼명이 지정되어 있지 않습니다. 파일에 헤더가 명시되어 있는지 확인해 주세요.",noObjects:"데이터가 지정되어 있지 않습니다. 데이터가 파일에 있는지 확인해 주세요.",invalidCsv:"파일을 처리할 수 없습니다. 올바른 csv인지 확인해 주세요.",invalidJson:"파일을 처리할 수 없습니다. 올바른 json인지 확인해 주세요.",jsonNotArray:"json 파일은 배열을 포함해야 합니다."},pagination:{sizes:"페이지당 항목",totalItems:"전체 항목"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf",clearAllFilters:"Reinig alle filters"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items",of:"van de"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("no",{headerCell:{aria:{defaultFilterLabel:"Filter for kolonne",removeFilter:"Fjern filter",columnMenuButtonLabel:"Kolonnemeny"},priority:"Prioritet:",filterLabel:"Filter for kolonne: "},aggregate:{label:"elementer"},groupPanel:{description:"Trekk en kolonneoverskrift hit og slipp den for å gruppere etter den kolonnen."},search:{placeholder:"Søk...",showingItems:"Viste elementer:",selectedItems:"Valgte elementer:",totalItems:"Antall elementer:",size:"Sidestørrelse:",first:"Første side",next:"Neste side",previous:"Forrige side",last:"Siste side"},menu:{text:"Velg kolonner:"},sort:{ascending:"Sortere stigende",descending:"Sortere fallende",none:"Ingen sortering",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antall rader: ",sum:"total: ",avg:"gjennomsnitt: ",min:"minimum: ",max:"maksimum: "},pinning:{pinLeft:"Fest til venstre",pinRight:"Fest til høyre",unpin:"Løsne"},columnMenu:{close:"Lukk"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter utvalgte data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter utvalgte data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Kolonnenavn kunne ikke avledes. Har filen en overskrift?",noObjects:"Objekter kunne ikke avledes. Er der andre data i filen enn overskriften?",invalidCsv:"Filen kunne ikke behandles. Er den gyldig CSV?",invalidJson:"Filen kunne ikke behandles. Er den gyldig JSON?",jsonNotArray:"Importert JSON-fil må inneholde en liste. Avbryter."},pagination:{aria:{pageToFirst:"Gå til første side",pageBack:"Gå til forrige side",pageSelected:"Valgte side",pageForward:"Gå til neste side",pageToLast:"Gå til siste side"},sizes:"elementer per side",totalItems:"elementer",through:"til",of:"av"},grouping:{group:"Gruppere",ungroup:"Fjerne gruppering",aggregate_count:"Agr: Antall",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Maksimum",aggregate_min:"Agr: Minimum",aggregate_avg:"Agr: Gjennomsnitt",aggregate_remove:"Agr: Fjern"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pl",{headerCell:{aria:{defaultFilterLabel:"Filtr dla kolumny",removeFilter:"Usuń filtr",columnMenuButtonLabel:"Menu kolumny"},priority:"Prioritet:",filterLabel:"Filtr dla kolumny: "},aggregate:{label:"pozycji"},groupPanel:{description:"Przeciągnij nagłówek kolumny tutaj, aby pogrupować według niej."},search:{aria:{selected:"Wiersz zaznaczony",notSelected:"Wiersz niezaznaczony"},placeholder:"Szukaj...",showingItems:"Widoczne pozycje:",selectedItems:"Zaznaczone pozycje:",totalItems:"Wszystkich pozycji:",size:"Rozmiar strony:",first:"Pierwsza strona",next:"Następna strona",previous:"Poprzednia strona",last:"Ostatnia strona"},menu:{text:"Wybierz kolumny:"},sort:{ascending:"Sortuj rosnąco",descending:"Sortuj malejąco",none:"Brak sortowania",remove:"Wyłącz sortowanie"},column:{hide:"Ukryj kolumnę"},aggregation:{count:"Razem pozycji: ",sum:"Razem: ",avg:"Średnia: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Przypnij do lewej",pinRight:"Przypnij do prawej",unpin:"Odepnij"},columnMenu:{close:"Zamknij"},gridMenu:{aria:{buttonLabel:"Opcje tabeli"},columns:"Kolumny:",importerTitle:"Importuj plik",exporterAllAsCsv:"Eksportuj wszystkie dane do csv",exporterVisibleAsCsv:"Eksportuj widoczne dane do csv",exporterSelectedAsCsv:"Eksportuj zaznaczone dane do csv",exporterAllAsPdf:"Eksportuj wszystkie dane do pdf",exporterVisibleAsPdf:"Eksportuj widoczne dane do pdf",exporterSelectedAsPdf:"Eksportuj zaznaczone dane do pdf",clearAllFilters:"Wyczyść filtry"},importer:{noHeaders:"Nie udało się wczytać nazw kolumn. Czy plik posiada nagłówek?",noObjects:"Nie udalo się wczytać pozycji. Czy plik zawiera dane??",invalidCsv:"Nie udało się przetworzyć pliku, jest to prawidlowy plik CSV??",invalidJson:"Nie udało się przetworzyć pliku, jest to prawidlowy plik Json?",jsonNotArray:"Importowany plik json musi zawierać tablicę, importowanie przerwane."},pagination:{aria:{pageToFirst:"Pierwsza strona",pageBack:"Poprzednia strona",pageSelected:"Wybrana strona",pageForward:"Następna strona",pageToLast:"Ostatnia strona"},sizes:"pozycji na stronę",totalItems:"pozycji",through:"do",of:"z"},grouping:{group:"Grupuj",ungroup:"Rozgrupuj",aggregate_count:"Zbiorczo: Razem",aggregate_sum:"Zbiorczo: Suma",aggregate_max:"Zbiorczo: Max",aggregate_min:"Zbiorczo: Min",aggregate_avg:"Zbiorczo: Średnia",aggregate_remove:"Zbiorczo: Usuń"},validate:{error:"Błąd:",minLength:"Wartość powinna składać się z co najmniej THRESHOLD znaków.",maxLength:"Wartość powinna składać się z przynajmniej THRESHOLD znaków.",required:"Wartość jest wymagana."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Proxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"através dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O ficheiro tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no ficheiro, além dos cabeçalhos?",invalidCsv:"Ficheiro não pode ser processado. É um CSV válido?",invalidJson:"Ficheiro não pode ser processado. É um Json válido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Próxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"a",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ro",{headerCell:{aria:{defaultFilterLabel:"Filtru pentru coloana",removeFilter:"Sterge filtru",columnMenuButtonLabel:"Column Menu"},priority:"Prioritate:",filterLabel:"Filtru pentru coloana:"},aggregate:{label:"Elemente"},groupPanel:{description:"Trage un cap de coloana aici pentru a grupa elementele dupa coloana respectiva"},search:{placeholder:"Cauta...",showingItems:"Arata elementele:",selectedItems:"Elementele selectate:",totalItems:"Total elemente:",size:"Marime pagina:",first:"Prima pagina",next:"Pagina urmatoare",previous:"Pagina anterioara",last:"Ultima pagina"},menu:{text:"Alege coloane:"},sort:{ascending:"Ordoneaza crescator",descending:"Ordoneaza descrescator",none:"Fara ordonare",remove:"Sterge ordonarea"},column:{hide:"Ascunde coloana"},aggregation:{count:"total linii: ",sum:"total: ",avg:"medie: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin la stanga",pinRight:"Pin la dreapta",unpin:"Sterge pinul"},columnMenu:{close:"Inchide"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Coloane:",importerTitle:"Incarca fisier",exporterAllAsCsv:"Exporta toate datele ca csv",exporterVisibleAsCsv:"Exporta datele vizibile ca csv",exporterSelectedAsCsv:"Exporta datele selectate ca csv",exporterAllAsPdf:"Exporta toate datele ca pdf",exporterVisibleAsPdf:"Exporta datele vizibile ca pdf",exporterSelectedAsPdf:"Exporta datele selectate ca csv pdf",clearAllFilters:"Sterge toate filtrele"},importer:{noHeaders:"Numele coloanelor nu a putut fi incarcat, acest fisier are un header?",noObjects:"Datele nu au putut fi incarcate, exista date in fisier in afara numelor de coloane?",invalidCsv:"Fisierul nu a putut fi procesat, ati incarcat un CSV valid ?",invalidJson:"Fisierul nu a putut fi procesat, ati incarcat un Json valid?",jsonNotArray:"Json-ul incarcat trebuie sa contina un array, inchidere."},pagination:{aria:{pageToFirst:"Prima pagina",pageBack:"O pagina inapoi",pageSelected:"Pagina selectata",pageForward:"O pagina inainte",pageToLast:"Ultima pagina"},sizes:"Elemente per pagina",totalItems:"elemente",through:"prin",of:"of"},grouping:{group:"Grupeaza",ungroup:"Opreste gruparea",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{headerCell:{aria:{defaultFilterLabel:"Фильтр столбца",removeFilter:"Удалить фильтр",columnMenuButtonLabel:"Меню столбца"},priority:"Приоритет:",filterLabel:"Фильтр столбца: "},aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",none:"Без сортировки",remove:"Убрать сортировку"},column:{hide:"Спрятать столбец"},aggregation:{count:"всего строк: ",sum:"итого: ",avg:"среднее: ",min:"мин: ",max:"макс: "},pinning:{pinLeft:"Закрепить слева",pinRight:"Закрепить справа",unpin:"Открепить"},columnMenu:{close:"Закрыть"},gridMenu:{aria:{buttonLabel:"Меню"},columns:"Столбцы:",importerTitle:"Импортировать файл",exporterAllAsCsv:"Экспортировать всё в CSV",exporterVisibleAsCsv:"Экспортировать видимые данные в CSV",exporterSelectedAsCsv:"Экспортировать выбранные данные в CSV",exporterAllAsPdf:"Экспортировать всё в PDF",exporterVisibleAsPdf:"Экспортировать видимые данные в PDF",exporterSelectedAsPdf:"Экспортировать выбранные данные в PDF",clearAllFilters:"Очистите все фильтры"},importer:{noHeaders:"Не удалось получить названия столбцов, есть ли в файле заголовок?",noObjects:"Не удалось получить данные, есть ли в файле строки кроме заголовка?",invalidCsv:"Не удалось обработать файл, это правильный CSV-файл?",invalidJson:"Не удалось обработать файл, это правильный JSON?",jsonNotArray:"Импортируемый JSON-файл должен содержать массив, операция отменена."},pagination:{aria:{pageToFirst:"Первая страница",pageBack:"Предыдущая страница",pageSelected:"Выбранная страница",pageForward:"Следующая страница",pageToLast:"Последняя страница"},sizes:"строк на страницу",totalItems:"строк",through:"по",of:"из"},grouping:{group:"Группировать",ungroup:"Разгруппировать",aggregate_count:"Группировать: Count",aggregate_sum:"Для группы: Сумма",aggregate_max:"Для группы: Максимум",aggregate_min:"Для группы: Минимум",aggregate_avg:"Для группы: Среднее",aggregate_remove:"Для группы: Пусто"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF",clearAllFilters:"Rengör alla filter"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ta",{aggregate:{label:"உருப்படிகள்"},groupPanel:{description:"ஒரு பத்தியை குழுவாக அமைக்க அப்பத்தியின் தலைப்பை இங்கே  இழுத்து வரவும் "},search:{placeholder:"தேடல் ...",showingItems:"உருப்படிகளை காண்பித்தல்:",selectedItems:"தேர்ந்தெடுக்கப்பட்ட  உருப்படிகள்:",totalItems:"மொத்த உருப்படிகள்:",size:"பக்க அளவு: ",first:"முதல் பக்கம்",next:"அடுத்த பக்கம்",previous:"முந்தைய பக்கம் ",last:"இறுதி பக்கம்"},menu:{text:"பத்திகளை தேர்ந்தெடு:"},sort:{ascending:"மேலிருந்து கீழாக",descending:"கீழிருந்து மேலாக",remove:"வரிசையை நீக்கு"},column:{hide:"பத்தியை மறைத்து வை "},aggregation:{count:"மொத்த வரிகள்:",sum:"மொத்தம்: ",avg:"சராசரி: ",min:"குறைந்தபட்ச: ",max:"அதிகபட்ச: "},pinning:{pinLeft:"இடதுபுறமாக தைக்க ",pinRight:"வலதுபுறமாக தைக்க",unpin:"பிரி"},gridMenu:{columns:"பத்திகள்:",importerTitle:"கோப்பு : படித்தல்",exporterAllAsCsv:"எல்லா தரவுகளையும் கோப்பாக்கு: csv",exporterVisibleAsCsv:"இருக்கும் தரவுகளை கோப்பாக்கு: csv",exporterSelectedAsCsv:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: csv",exporterAllAsPdf:"எல்லா தரவுகளையும் கோப்பாக்கு: pdf",exporterVisibleAsPdf:"இருக்கும் தரவுகளை கோப்பாக்கு: pdf",exporterSelectedAsPdf:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"பத்தியின் தலைப்புகளை பெற இயலவில்லை, கோப்பிற்கு தலைப்பு உள்ளதா?",noObjects:"இலக்குகளை உருவாக்க முடியவில்லை, கோப்பில் தலைப்புகளை தவிர தரவு ஏதேனும் உள்ளதா? ",invalidCsv:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - csv",invalidJson:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - json",jsonNotArray:"படித்த கோப்பில் வரிசைகள் உள்ளது, நடைமுறை ரத்து செய் : json"},pagination:{sizes:"உருப்படிகள் / பக்கம்",totalItems:"உருப்படிகள் "},grouping:{group:"குழு",ungroup:"பிரி",aggregate_count:"மதிப்பீட்டு : எண்ணு",aggregate_sum:"மதிப்பீட்டு : கூட்டல்",aggregate_max:"மதிப்பீட்டு : அதிகபட்சம்",aggregate_min:"மதிப்பீட்டு : குறைந்தபட்சம்",aggregate_avg:"மதிப்பீட்டு : சராசரி",aggregate_remove:"மதிப்பீட்டு : நீக்கு"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("tr",{headerCell:{aria:{defaultFilterLabel:"Sütun için filtre",removeFilter:"Filtreyi Kaldır",columnMenuButtonLabel:"Sütun Menüsü"},priority:"Öncelik:",filterLabel:"Sütun için filtre: "},aggregate:{label:"kayıtlar"},groupPanel:{description:"Sütuna göre gruplamak için sütun başlığını buraya sürükleyin ve bırakın."},search:{placeholder:"Arama...",showingItems:"Gösterilen Kayıt:",selectedItems:"Seçili Kayıt:",totalItems:"Toplam Kayıt:",size:"Sayfa Boyutu:",first:"İlk Sayfa",next:"Sonraki Sayfa",previous:"Önceki Sayfa",last:"Son Sayfa"},menu:{text:"Sütunları Seç:"},sort:{ascending:"Artan Sırada Sırala",descending:"Azalan Sırada Sırala",none:"Sıralama Yapma",remove:"Sıralamayı Kaldır"},column:{hide:"Sütunu Gizle"},aggregation:{count:"toplam satır: ",sum:"toplam: ",avg:"ort: ",min:"min: ",max:"maks: "},pinning:{pinLeft:"Sola Sabitle",pinRight:"Sağa Sabitle",unpin:"Sabitlemeyi Kaldır"},columnMenu:{close:"Kapat"},gridMenu:{aria:{buttonLabel:"Tablo Menü"},columns:"Sütunlar:",importerTitle:"Dosya içeri aktar",exporterAllAsCsv:"Bütün veriyi CSV olarak dışarı aktar",exporterVisibleAsCsv:"Görünen veriyi CSV olarak dışarı aktar",exporterSelectedAsCsv:"Seçili veriyi CSV olarak dışarı aktar",exporterAllAsPdf:"Bütün veriyi PDF olarak dışarı aktar",exporterVisibleAsPdf:"Görünen veriyi PDF olarak dışarı aktar",exporterSelectedAsPdf:"Seçili veriyi PDF olarak dışarı aktar",clearAllFilters:"Bütün filtreleri kaldır"},importer:{noHeaders:"Sütun isimleri üretilemiyor, dosyanın bir başlığı var mı?",noObjects:"Nesneler üretilemiyor, dosyada başlıktan başka bir veri var mı?",invalidCsv:"Dosya işlenemedi, geçerli bir CSV dosyası mı?",invalidJson:"Dosya işlenemedi, geçerli bir Json dosyası mı?",jsonNotArray:"Alınan Json dosyasında bir dizi bulunmalıdır, işlem iptal ediliyor."},pagination:{aria:{pageToFirst:"İlk sayfaya",pageBack:"Geri git",pageSelected:"Seçili sayfa",pageForward:"İleri git",pageToLast:"Sona git"},sizes:"Sayfadaki nesne sayısı",totalItems:"kayıtlar",through:"",of:""},grouping:{group:"Grupla",ungroup:"Gruplama",aggregate_count:"Yekun: Sayı",aggregate_sum:"Yekun: Toplam",aggregate_max:"Yekun: Maks",aggregate_min:"Yekun: Min",aggregate_avg:"Yekun: Ort",aggregate_remove:"Yekun: Sil"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ua",{headerCell:{aria:{defaultFilterLabel:"Фільтр стовпчика",removeFilter:"Видалити фільтр",columnMenuButtonLabel:"Меню ствпчика"},priority:"Пріоритет:",filterLabel:"Фільтр стовпчика: "},aggregate:{label:"елементи"},groupPanel:{description:"Для групування за стовпчиком перетягніть сюди його назву."},search:{placeholder:"Пошук...",showingItems:"Показати елементи:",selectedItems:"Обрані елементи:",totalItems:"Усього елементів:",size:"Розмір сторінки:",first:"Перша сторінка",next:"Наступна сторінка",previous:"Попередня сторінка",last:"Остання сторінка"},menu:{text:"Обрати ствпчики:"},sort:{ascending:"За зростанням",descending:"За спаданням",none:"Без сортування",remove:"Прибрати сортування"},column:{hide:"Приховати стовпчик"},aggregation:{count:"усього рядків: ",sum:"ітого: ",avg:"середнє: ",min:"мін: ",max:"макс: "},pinning:{pinLeft:"Закріпити ліворуч",pinRight:"Закріпити праворуч",unpin:"Відкріпити"},columnMenu:{close:"Закрити"},gridMenu:{aria:{buttonLabel:"Меню"},columns:"Стовпчики:",importerTitle:"Імпортувати файл",exporterAllAsCsv:"Експортувати все в CSV",exporterVisibleAsCsv:"Експортувати видимі дані в CSV",exporterSelectedAsCsv:"Експортувати обрані дані в CSV",exporterAllAsPdf:"Експортувати все в PDF",exporterVisibleAsPdf:"Експортувати видимі дані в PDF",exporterSelectedAsPdf:"Експортувати обрані дані в PDF",clearAllFilters:"Очистити всі фільтри"},importer:{noHeaders:"Не вдалося отримати назви стовпчиків, чи є в файлі заголовок?",noObjects:"Не вдалося отримати дані, чи є в файлі рядки окрім заголовка?",invalidCsv:"Не вдалося обробити файл, чи це коректний CSV-файл?",invalidJson:"Не вдалося обробити файл, чи це коректний JSON?",jsonNotArray:"JSON-файл що імпортується повинен містити масив, операцію скасовано."},pagination:{aria:{pageToFirst:"Перша сторінка",pageBack:"Попередня сторінка",pageSelected:"Обрана сторінка",pageForward:"Наступна сторінка",pageToLast:"Остання сторінка"},sizes:"рядків на сторінку",totalItems:"рядків",through:"по",of:"з"},grouping:{group:"Групувати",ungroup:"Розгрупувати",aggregate_count:"Групувати: Кількість",aggregate_sum:"Для групи: Сума",aggregate_max:"Для групи: Максимум",aggregate_min:"Для групи: Мінімум",aggregate_avg:"Для групи: Серднє",aggregate_remove:"Для групи: Пусто"}}),e}])}])}(),function(){var e=["uiT","uiTranslate"],t=["t","uiTranslate"],n=angular.module("ui.grid.i18n");n.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),n.service("i18nService",["$log","i18nConstants","$rootScope",function(e,t,n){var i={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,t){var n=e.toLowerCase();this._langs[n]||(this._langs[n]={}),angular.extend(this._langs[n],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},r={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&i.add(e,t)}):i.add(e,t)},getAllLangs:function(){return i.getAllLangs()},get:function(e){var t=e||r.getCurrentLang();return i.get(t)},getSafeText:function(e,n){var o=n||r.getCurrentLang(),a=i.get(o);if(!a)return t.MISSING;for(var s=e.split("."),l=a,u=0;u<s.length;++u){if(void 0===l[s[u]]||null===l[s[u]])return t.MISSING;l=l[s[u]]}return l},setCurrentLang:function(e){e&&(i.setCurrent(e),n.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var e=i.getCurrentLang();return e||(e=t.DEFAULT_LANG,i.setCurrent(e)),e}};return r}]);var i=function(e,t){return{compile:function(){return{pre:function(n,i,r){var o=t.LOCALE_DIRECTIVE_ALIAS,a=n.$eval(r[o]);a?n.$watch(r[o],function(){e.setCurrentLang(a)}):r.$$observers&&r.$observe(o,function(){e.setCurrentLang(r[o]||t.DEFAULT_LANG)})}}}}};n.directive("uiI18n",["i18nService","i18nConstants",i]);var r=function(t,n,i){return{restrict:"EA",compile:function(){return{pre:function(r,o,a){var s,l=e[0],u=e[1],c=a[l]||a[u]||o.html(),p=i.MISSING+c;if(a.$$observers){var d=a[l]?l:u;s=a.$observe(d,function(e){e&&o.html(t(e)(n.getCurrentLang())||p)})}var f=t(c),h=r.$on(i.UPDATE_EVENT,function(e){s?s(a[l]||a[u]):o.html(f(n.get())||p)});r.$on("$destroy",h),o.html(f(n.get())||p)}}}}};angular.forEach(e,function(e){n.directive(e,["$parse","i18nService","i18nConstants",r])});var o=function(e,t,n){return function(i){return e(i)(t.get())||n.MISSING+i}};angular.forEach(t,function(e){n.filter(e,["$parse","i18nService","i18nConstants",o])})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{headerCell:{aria:{defaultFilterLabel:"列过滤器",removeFilter:"移除过滤器",columnMenuButtonLabel:"列菜单"},priority:"优先级:",filterLabel:"列过滤器: "},aggregate:{label:"行"},groupPanel:{description:"拖曳表头到此处进行分组"},search:{placeholder:"查找",showingItems:"已显示行数：",selectedItems:"已选择行数：",totalItems:"总行数：",size:"每页显示行数：",first:"首页",next:"下一页",previous:"上一页",last:"末页"},menu:{text:"选择列："},sort:{ascending:"升序",descending:"降序",none:"无序",remove:"取消排序"},column:{hide:"隐藏列"},aggregation:{count:"计数：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左侧固定",pinRight:"右侧固定",unpin:"取消固定"},columnMenu:{close:"关闭"},gridMenu:{aria:{buttonLabel:"表格菜单"},columns:"列：",importerTitle:"导入文件",exporterAllAsCsv:"导出全部数据到CSV",exporterVisibleAsCsv:"导出可见数据到CSV",exporterSelectedAsCsv:"导出已选数据到CSV",exporterAllAsPdf:"导出全部数据到PDF",exporterVisibleAsPdf:"导出可见数据到PDF",exporterSelectedAsPdf:"导出已选数据到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"无法获取列名，确定文件包含表头？",noObjects:"无法获取数据，确定文件包含数据？",invalidCsv:"无法处理文件，确定是合法的CSV文件？",invalidJson:"无法处理文件，确定是合法的JSON文件？",jsonNotArray:"导入的文件不是JSON数组！"},pagination:{aria:{pageToFirst:"第一页",pageBack:"上一页",pageSelected:"当前页",pageForward:"下一页",pageToLast:"最后一页"},sizes:"行每页",totalItems:"行",through:"至",of:"共"},grouping:{group:"分组",ungroup:"取消分组",aggregate_count:"合计: 计数",aggregate_sum:"合计: 求和",aggregate_max:"合计: 最大",aggregate_min:"合计: 最小",aggregate_avg:"合计: 平均",aggregate_remove:"合计: 移除"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:"行"},groupPanel:{description:"拖曳表頭到此處進行分組"},search:{placeholder:"查找",showingItems:"已顯示行數：",selectedItems:"已選擇行數：",totalItems:"總行數：",size:"每頁顯示行數：",first:"首頁",next:"下壹頁",previous:"上壹頁",last:"末頁"},menu:{text:"選擇列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隱藏列"},aggregation:{count:"計數：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左側固定",pinRight:"右側固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"導入文件",exporterAllAsCsv:"導出全部數據到CSV",exporterVisibleAsCsv:"導出可見數據到CSV",exporterSelectedAsCsv:"導出已選數據到CSV",exporterAllAsPdf:"導出全部數據到PDF",exporterVisibleAsPdf:"導出可見數據到PDF",exporterSelectedAsPdf:"導出已選數據到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"無法獲取列名，確定文件包含表頭？",noObjects:"無法獲取數據，確定文件包含數據？",invalidCsv:"無法處理文件，確定是合法的CSV文件？",invalidJson:"無法處理文件，確定是合法的JSON文件？",jsonNotArray:"導入的文件不是JSON數組！"},pagination:{sizes:"行每頁",totalItems:"行"}}),e}])}])}(),function(){"use strict";angular.module("ui.grid.autoResize",["ui.grid"]).directive("uiGridAutoResize",["$timeout","gridUtil",function(e,t){return{require:"uiGrid",scope:!1,link:function(e,n,i,r){function o(){l=t.elementHeight(n),s=t.elementWidth(n)}function a(){clearTimeout(u),u=setTimeout(function(){var i=t.elementHeight(n),u=t.elementWidth(n);i!==l||u!==s?(r.grid.gridHeight=i,r.grid.gridWidth=u,r.grid.api.core.raise.gridDimensionChanged(l,s,i,u),e.$apply(function(){r.grid.refresh().then(function(){o(),a()})})):a()},250)}var s,l;o();var u;a(),e.$on("$destroy",function(){clearTimeout(u)})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.cellNav",["ui.grid"]);e.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),e.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","GridRowColumn","$q",function(e,t,n,i,r){var o=function(e,t,n,i){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=n?n.visibleColumnCache:[],this.rightColumns=i?i.visibleColumnCache:[],this.bodyContainer=e};return o.prototype.getFocusableCols=function(){return this.leftColumns.concat(this.columns,this.rightColumns).filter(function(e){return e.colDef.allowCellFocus})},o.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return!1!==e.allowCellFocus})},o.prototype.getNextRowCol=function(e,t,i){switch(e){case n.direction.LEFT:return this.getRowColLeft(t,i);case n.direction.RIGHT:return this.getRowColRight(t,i);case n.direction.UP:return this.getRowColUp(t,i);case n.direction.DOWN:return this.getRowColDown(t,i);case n.direction.PG_UP:return this.getRowColPageUp(t,i);case n.direction.PG_DOWN:return this.getRowColPageDown(t,i)}},o.prototype.initializeSelection=function(){var e=this.getFocusableCols(),t=this.getFocusableRows();if(0===e.length||0===t.length)return null;return new i(t[0],e[0])},o.prototype.getRowColLeft=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);-1===o&&(o=1);var s=0===o?n.length-1:o-1;return s>=o?0===a?new i(e,n[s]):new i(r[a-1],n[s]):new i(e,n[s])},o.prototype.getRowColRight=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);-1===o&&(o=0);var s=o===n.length-1?0:o+1;return s<=o?a===r.length-1?new i(e,n[s]):new i(r[a+1],n[s]):new i(e,n[s])},o.prototype.getRowColDown=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);return-1===o&&(o=0),a===r.length-1?new i(e,n[o]):new i(r[a+1],n[o])},o.prototype.getRowColPageDown=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return a>=r.length-s?new i(r[r.length-1],n[o]):new i(r[a+s],n[o])},o.prototype.getRowColUp=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);return-1===o&&(o=0),0===a?new i(e,n[o]):new i(r[a-1],n[o])},o.prototype.getRowColPageUp=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return a-s<0?new i(r[0],n[o]):new i(r[a-s],n[o])},o}]),e.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","GridRowColumn","ScrollEvent",function(e,t,n,i,r,o,a){var s={initializeGrid:function(e){e.registerColumnBuilder(s.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null,e.cellNav.focusedCells=[],s.defaultGridOptions(e.options);var t={events:{cellNav:{navigate:function(e,t){},viewPortKeyDown:function(e,t){},viewPortKeyPress:function(e,t){}}},methods:{cellNav:{scrollToFocus:function(t,n){return s.scrollToFocus(e,t,n)},getFocusedCell:function(){return e.cellNav.lastRowCol},getCurrentSelection:function(){return e.cellNav.focusedCells},rowColSelectIndex:function(t){for(var n=-1,i=0;i<e.cellNav.focusedCells.length;i++)if(e.cellNav.focusedCells[i].col.uid===t.col.uid&&e.cellNav.focusedCells[i].row.uid===t.row.uid){n=i;break}return n}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=!0===e.modifierKeysToMultiSelectCells,e.keyDownOverrides=e.keyDownOverrides||[]},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,n=e.hasLeftContainer()?e.renderContainers.left:null;null!==n&&(e.renderContainers.left.cellNav=new r(e.renderContainers.body,n,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new r(e.renderContainers.body,t,e.renderContainers.body,n)),e.renderContainers.body.cellNav=new r(e.renderContainers.body,e.renderContainers.body,n,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?n.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?n.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?n.direction.UP:e.keyCode===t.keymap.PG_UP?n.direction.PG_UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER&&!e.ctrlKey&&!e.altKey?n.direction.DOWN:e.keyCode===t.keymap.PG_DOWN?n.direction.PG_DOWN:null},cellNavColumnBuilder:function(e,t,n){var r=[];return e.allowCellFocus=void 0===e.allowCellFocus||e.allowCellFocus,i.all(r)},scrollToFocus:function(e,t,n){var i=null,r=null;return void 0!==t&&null!==t&&(i=e.getRow(t)),void 0!==n&&null!==n&&(r=e.getColumn(n.name?n.name:n.field)),e.api.core.scrollToIfNecessary(i,r).then(function(){var t={row:i,col:r};null!==i&&null!==r&&e.cellNav.broadcastCellNav(t)})},getLeftWidth:function(e,t){var n=0;if(!t)return n;var i=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){t<i&&(n+=e.drawnWidth)});var r=0===i?0:(i+1)/e.renderContainers.body.visibleColumnCache.length;return n+=t.drawnWidth*r}};return s}]),e.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","GridRowColumn","$timeout","$compile","i18nService",function(e,t,n,i,r,o,a,s){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(e,o,a,s){var l=e,u=s.grid;t.initializeGrid(u),s.cellNav={},s.cellNav.makeRowCol=function(e){return e instanceof r||(e=new r(e.row,e.col)),e},s.cellNav.getActiveCell=function(){var e=o[0].getElementsByClassName("ui-grid-cell-focus");if(e.length>0)return e[0]},s.cellNav.broadcastCellNav=u.cellNav.broadcastCellNav=function(e,t,i){t=!(void 0===t||!t),e=s.cellNav.makeRowCol(e),s.cellNav.broadcastFocus(e,t,i),l.$broadcast(n.CELL_NAV_EVENT,e,t,i)},s.cellNav.clearFocus=u.cellNav.clearFocus=function(){u.cellNav.focusedCells=[],l.$broadcast(n.CELL_NAV_EVENT)},s.cellNav.broadcastFocus=function(e,t,n){t=!(void 0===t||!t),e=s.cellNav.makeRowCol(e);var i=e.row,o=e.col,a=s.grid.api.cellNav.rowColSelectIndex(e);if(null===u.cellNav.lastRowCol||-1===a){var l=new r(i,o);null!==u.cellNav.lastRowCol&&u.cellNav.lastRowCol.row===l.row&&u.cellNav.lastRowCol.col===l.col||(u.api.cellNav.raise.navigate(l,u.cellNav.lastRowCol,n),u.cellNav.lastRowCol=l),s.grid.options.modifierKeysToMultiSelectCells&&t?u.cellNav.focusedCells.push(e):u.cellNav.focusedCells=[e]}else u.options.modifierKeysToMultiSelectCells&&t&&a>=0&&u.cellNav.focusedCells.splice(a,1)},s.cellNav.handleKeyDown=function(e){var r=t.getDirection(e);if(null===r)return null;var o="body";e.uiGridTargetRenderContainerId&&(o=e.uiGridTargetRenderContainerId);var a=s.grid.api.cellNav.getFocusedCell();if(a){var l=s.grid.renderContainers[o].cellNav.getNextRowCol(r,a.row,a.col),c=s.grid.renderContainers[o].cellNav.getFocusableCols(),p=s.grid.api.cellNav.rowColSelectIndex(l);return r===n.direction.LEFT&&l.col===c[c.length-1]&&l.row===a.row&&e.keyCode===i.keymap.TAB&&e.shiftKey?(u.cellNav.focusedCells.splice(p,1),s.cellNav.clearFocus(),!0):r!==n.direction.RIGHT||l.col!==c[0]||l.row!==a.row||e.keyCode!==i.keymap.TAB||e.shiftKey?(u.scrollToIfNecessary(l.row,l.col).then(function(){s.cellNav.broadcastCellNav(l,null,e)}),e.stopPropagation(),e.preventDefault(),!1):(u.cellNav.focusedCells.splice(p,1),s.cellNav.clearFocus(),!0)}}},post:function(e,t,i,r){var o=r.grid,l=!0;try{angular.module("ngAria")}catch(e){l=!1}l&&function(){var i='<div id="'+o.id+'-aria-speakable" class="ui-grid-a11y-ariascreenreader-speakable ui-grid-offscreen" aria-live="assertive" role="alert" aria-atomic="true" aria-hidden="false" aria-relevant="additions" >&nbsp;</div>',r=a(i)(e);t.prepend(r),e.$on(n.CELL_NAV_EVENT,function(e,t,n,i){if(!i||"focus"!==i.type){for(var a=[],l=o.api.cellNav.getCurrentSelection(),u=0;u<l.length;u++)a.push(function(e){return"selectionRowHeaderCol"===e.col.field?e.row.isSelected?s.getSafeText("search.aria.selected"):s.getSafeText("search.aria.notSelected"):o.getCellDisplayValue(e.row,l[u].col)}(l[u]));var c=a.toString();!function(e){e!==r.text().trim()&&(r[0].style.clip="rect(0px,0px,0px,0px)",r[0].innerHTML="",r[0].style.visibility="hidden",r[0].style.visibility="visible",""!==e&&(r[0].style.clip="auto",r[0].appendChild(document.createTextNode(e+" ")),r[0].style.visibility="hidden",r[0].style.visibility="visible"))}(c)}})}()}}}}}]),e.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(e,t,n,i,r,o,a){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(t,i,s,l){var u=l[0],c=l[1],p=l[2];if(u.grid.api.cellNav){var d=c.containerId,f=u.grid;if(r.decorateRenderContainers(f),"body"===d){u.grid.options.modifierKeysToMultiSelectCells?i.attr("aria-multiselectable",!0):i.attr("aria-multiselectable",!1);var h=o('<div class="ui-grid-focuser" role="region" aria-live="assertive" aria-atomic="false" tabindex="0" aria-controls="'+f.id+"-aria-speakable "+f.id+'-grid-container" aria-owns="'+f.id+'-grid-container"></div>')(t);i.append(h),h.on("focus",function(e){e.uiGridTargetRenderContainerId=d;var t=u.grid.api.cellNav.getFocusedCell();null===t&&(t=u.grid.renderContainers[d].cellNav.getNextRowCol(a.direction.DOWN,null,null),t.row&&t.col&&u.cellNav.broadcastCellNav(t))}),p.setAriaActivedescendant=function(e){i.attr("aria-activedescendant",e)},p.removeAriaActivedescendant=function(e){i.attr("aria-activedescendant")===e&&i.attr("aria-activedescendant","")},u.focus=function(){n.focus.byElement(h[0])};var g=null;h.on("keydown",function(e){e.uiGridTargetRenderContainerId=d;var t=u.grid.api.cellNav.getFocusedCell();null===(u.grid.options.keyDownOverrides.some(function(t){return Object.keys(t).every(function(n){return t[n]===e[n]})})?null:u.cellNav.handleKeyDown(e))&&(u.grid.api.cellNav.raise.viewPortKeyDown(e,t),g=t)}),h.on("keypress",function(t){g&&(e(function(){u.grid.api.cellNav.raise.viewPortKeyPress(t,g)},4),g=null)}),t.$on("$destroy",function(){h.off()})}}}}}}}]),e.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(e,t,n,i,r,o,a,s){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(e,t,n,i){},post:function(e,t,n,i){var r=i[0],o=i[1];if(r.grid.api.cellNav){if("body"===o.containerId){var a=r.grid;a.api.core.on.scrollBegin(e,function(e){var t=r.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&r.cellNav.clearFocus()}),a.api.core.on.scrollEnd(e,function(e){var t=r.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&r.cellNav.broadcastCellNav(t)}),a.api.cellNav.on.navigate(e,function(){r.focus()})}}}}}}}]),e.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants","GridRowColumn",function(e,t,n,i,r,o,a){return{priority:-150,restrict:"A",require:["^uiGrid","?^uiGridCellnav"],scope:!1,link:function(t,n,i,s){function l(e){e.preventDefault()}function u(){h.cellNav.focusedCells.some(function(e,n){return e.row===t.row&&e.col===t.col})?c():p()}function c(){if(!t.focused){n.find("div").addClass("ui-grid-cell-focus"),n.attr("aria-selected",!0),f.setAriaActivedescendant(n.attr("id")),t.focused=!0}}function p(){if(t.focused){n.find("div").removeClass("ui-grid-cell-focus"),n.attr("aria-selected",!1),f.removeAriaActivedescendant(n.attr("id")),t.focused=!1}}var d=s[0],f=s[1];if(d.grid.api.cellNav&&t.col.colDef.allowCellFocus){var h=d.grid;t.focused=!1,n.attr("tabindex",-1),n.find("div").on("click",function(e){d.cellNav.broadcastCellNav(new a(t.row,t.col),e.ctrlKey||e.metaKey,e),e.stopPropagation(),t.$apply()}),n.on("mousedown",l),d.grid.api.edit&&(d.grid.api.edit.on.beginCellEdit(t,function(){n.off("mousedown",l)}),d.grid.api.edit.on.afterCellEdit(t,function(){n.on("mousedown",l)}),d.grid.api.edit.on.cancelCellEdit(t,function(){n.on("mousedown",l)})),u(),n.on("focus",function(e){d.cellNav.broadcastCellNav(new a(t.row,t.col),!1,e),e.stopPropagation(),t.$apply()}),t.$on(r.CELL_NAV_EVENT,u);var g=d.grid.registerDataChangeCallback(function(t){p(),e(u)},[o.dataChange.ROW]);t.$on("$destroy",function(){g(),n.find("div").off(),n.off()})}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(e,t,n){var i={initializeGrid:function(e){i.defaultGridOptions(e.options),e.registerColumnBuilder(i.editColumnBuilder),e.edit={};var t={events:{edit:{afterCellEdit:function(e,t,n,i){},beginCellEdit:function(e,t,n){},cancelCellEdit:function(e,t){}}},methods:{edit:{}}};e.api.registerEventsFromObject(t.events)},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition||e.cellEditableCondition,e.enableCellEditOnFocus=void 0!==e.enableCellEditOnFocus&&e.enableCellEditOnFocus},editColumnBuilder:function(t,i,r){var o=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===r.enableCellEdit?"object"!==t.type:r.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?r.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||r.editableCellTemplate||"ui-grid/cellEditor",o.push(n.getTemplate(t.editableCellTemplate).then(function(e){i.editableCellTemplate=e},function(e){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'")}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?r.enableCellEditOnFocus:t.enableCellEditOnFocus,e.all(o)},isStartEditKey:function(e){return!(e.metaKey||e.keyCode===t.keymap.ESC||e.keyCode===t.keymap.SHIFT||e.keyCode===t.keymap.CTRL||e.keyCode===t.keymap.ALT||e.keyCode===t.keymap.WIN||e.keyCode===t.keymap.CAPSLOCK||e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER)}};return i}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridViewport",["uiGridEditConstants",function(e){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(t,n,i,r){var o=r[0];if(o.grid.api.edit&&o.grid.api.cellNav){"body"===r[1].containerId&&(t.$on(e.events.CANCEL_CELL_EDIT,function(){o.focus()}),t.$on(e.events.END_CELL_EDIT,function(){o.focus()}))}}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope","$q",function(e,t,n,i,r,o,a,s,l,u){var c=500;if(t.has("uiGridCellNavService")){t.get("uiGridCellNavService")}return{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(t,p,d,f){function h(){p.on("dblclick",b),p.on("touchstart",g),f&&f.grid.api.cellNav&&(P=f.grid.api.cellNav.on.viewPortKeyDown(t,function(e,n){null!==n&&(n.row!==t.row||n.col!==t.col||t.col.colDef.enableCellEditOnFocus||y(e))}),O=f.grid.api.cellNav.on.navigate(t,function(e,i,r){t.col.colDef.enableCellEditOnFocus&&(i&&e.row===i.row&&e.col===i.col||e.row!==t.row||e.col!==t.col||n(function(){b(r)}))})),t.beginEditEventsWired=!0}function g(e){void 0!==e.originalEvent&&void 0!==e.originalEvent&&(e=e.originalEvent),p.on("touchend",v),I=n(function(){},c),I.then(function(){setTimeout(b,0),p.off("touchend",v)})}function v(e){n.cancel(I),p.off("touchend",v)}function m(){p.off("dblclick",b),p.off("keydown",y),p.off("touchstart",g),O(),P(),t.beginEditEventsWired=!1}function y(e){s.isStartEditKey(e)&&b(e)}function E(e,n,i){return!n.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(t,i):e.colDef.cellEditableCondition)}function b(e){t.grid.api.core.scrollToIfNecessary(t.row,t.col).then(function(){x(e)})}function x(s){if(!R&&E(t.col,t.row,s)){var c=t.row.getQualifiedColField(t.col);t.col.colDef.editModelField&&(c=o.preEval("row.entity."+t.col.colDef.editModelField)),L=a(c),A=L(t),T=t.col.editableCellTemplate,T=T.replace(i.MODEL_COL_FIELD,c),T=T.replace(i.COL_FIELD,"grid.getCellValue(row, col)");var d=t.col.colDef.editDropdownFilter?"|"+t.col.colDef.editDropdownFilter:"";T=T.replace(i.CUSTOM_FILTERS,d);var f="text";switch(t.col.colDef.type){case"boolean":f="checkbox";break;case"number":f="number";break;case"date":f="date"}T=T.replace("INPUT_TYPE",f);var h=t.col.colDef.editDropdownOptionsFunction;if(h)u.when(h(t.row.entity,t.col.colDef)).then(function(e){t.editDropdownOptionsArray=e});else{var g=t.col.colDef.editDropdownRowEntityOptionsArrayPath;t.editDropdownOptionsArray=g?w(t.row.entity,g):t.col.colDef.editDropdownOptionsArray}t.editDropdownIdLabel=t.col.colDef.editDropdownIdLabel?t.col.colDef.editDropdownIdLabel:"id",t.editDropdownValueLabel=t.col.colDef.editDropdownValueLabel?t.col.colDef.editDropdownValueLabel:"value";var v=function(){R=!0,m();var n=angular.element(T);p.append(n),N=t.$new(),e(n)(N),angular.element(p.children()[0]).addClass("ui-grid-cell-contents-hidden")};l.$$phase?v():t.$apply(v);var y=t.col.grid.api.core.on.scrollBegin(t,function(){t.grid.disableScrolling||(C(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,L(t),A),y(),b(),x())}),b=t.$on(r.events.END_CELL_EDIT,function(){C(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,L(t),A),b(),y(),x()}),x=t.$on(r.events.CANCEL_CELL_EDIT,function(){S(),x(),y(),b()});t.$broadcast(r.events.BEGIN_CELL_EDIT,s),n(function(){t.grid.api.edit.raise.beginCellEdit(t.row.entity,t.col.colDef,s)})}}function C(){if(t.grid.disableScrolling=!1,R){f&&f.grid.api.cellNav&&f.focus();var e=angular.element(p.children()[0]);N.$destroy();for(var n=p.children(),r=1;r<n.length;r++)angular.element(n[r]).remove();e.removeClass("ui-grid-cell-contents-hidden"),R=!1,h(),t.grid.api.core.notifyDataChange(i.dataChange.EDIT)}}function S(){t.grid.disableScrolling=!1,R&&(L.assign(t,A),t.$apply(),t.grid.api.edit.raise.cancelCellEdit(t.row.entity,t.col.colDef),C())}function w(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var n=t.split(".");n.length;){var i=n.shift();if(!(i in e))return;e=e[i]}return e}var T,A,L,I,N,R=!1;if(t.col.colDef.enableCellEdit){var O=function(){},P=function(){},_=function(){t.col.colDef.enableCellEdit&&!1!==t.row.enableCellEdit?t.beginEditEventsWired||h():t.beginEditEventsWired&&m()};_();var D=t.$watch("row",function(e,t){e!==t&&_()});t.$on("$destroy",function(){D(),p.off()})}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout","uiGridEditService",function(e,t,n,i,r){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer","ngModel"],compile:function(){return{pre:function(e,t,n){},post:function(e,o,a,s){var l,u,c;s[0]&&(l=s[0]),s[1]&&(u=s[1]),s[2]&&(c=s[2]),e.$on(n.events.BEGIN_CELL_EDIT,function(t,n){if(i(function(){if(o[0].focus(),!o[0].select||!e.col.colDef.enableCellEditOnFocus&&l&&l.grid.api.cellNav)try{o[0].setSelectionRange(o[0].value.length,o[0].value.length)}catch(e){}else o[0].select()}),l&&l.grid.api.cellNav)var a=l.grid.api.cellNav.on.viewPortKeyPress(e,function(e,t){if(r.isStartEditKey(e)){var n="number"==typeof e.which?e.which:e.keyCode;n>0&&(c.$setViewValue(String.fromCharCode(n),e),c.$render())}a()});o.on("mousedown",function(t){"checkbox"===o[0].type&&(o.off("blur",e.stopEdit),i(function(){o[0].focus(),o.on("blur",e.stopEdit)}))}),o.on("blur",e.stopEdit)}),e.deepEdit=!1,e.stopEdit=function(t){e.inputForm&&!e.inputForm.$valid?(t.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)):e.$emit(n.events.END_CELL_EDIT),e.deepEdit=!1},o.on("click",function(t){"checkbox"!==o[0].type&&(e.deepEdit=!0,i(function(){e.grid.disableScrolling=!0}))}),o.on("keydown",function(i){switch(i.keyCode){case t.keymap.ESC:i.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)}if(!e.deepEdit||i.keyCode!==t.keymap.LEFT&&i.keyCode!==t.keymap.RIGHT&&i.keyCode!==t.keymap.UP&&i.keyCode!==t.keymap.DOWN)if(l&&l.grid.api.cellNav)i.uiGridTargetRenderContainerId=u.containerId,null!==l.cellNav.handleKeyDown(i)&&e.stopEdit(i);else switch(i.keyCode){case t.keymap.ENTER:case t.keymap.TAB:i.stopPropagation(),i.preventDefault(),e.stopEdit(i)}else i.stopPropagation();return!0}),e.$on("$destroy",function(){o.off()})}}}}}]),e.directive("uiGridEditor",["$filter",function(e){function t(e){if(void 0===e||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var n=parseInt(t[0],10),i=parseInt(t[1],10),r=parseInt(t[2],10);return i<1||n<1||r<1?null:new Date(n,i-1,r)}return{priority:-100,require:"?ngModel",link:function(n,i,r,o){2===angular.version.minor&&r.type&&"date"===r.type&&o&&(o.$formatters.push(function(t){return o.$setValidity(null,!t||!isNaN(t.getTime())),e("date")(t,"yyyy-MM-dd")}),o.$parsers.push(function(e){if(e&&e.length>0){var n=t(e);return o.$setValidity(null,n&&!isNaN(n.getTime())),n}return o.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants","$timeout",function(e,t,n){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,t,n){},post:function(i,r,o,a){var s=a[0],l=a[1];i.$on(t.events.BEGIN_CELL_EDIT,function(){n(function(){r[0].focus()}),r[0].style.width=r[0].parentElement.offsetWidth-1+"px",r.on("blur",function(e){i.stopEdit(e)})}),i.stopEdit=function(e){i.$emit(t.events.END_CELL_EDIT)},r.on("keydown",function(n){switch(n.keyCode){case e.keymap.ESC:n.stopPropagation(),i.$emit(t.events.CANCEL_CELL_EDIT)}if(s&&s.grid.api.cellNav)n.uiGridTargetRenderContainerId=l.containerId,null!==s.cellNav.handleKeyDown(n)&&i.stopEdit(n);else switch(n.keyCode){case e.keymap.ENTER:case e.keymap.TAB:n.stopPropagation(),n.preventDefault(),i.stopEdit(n)}return!0}),i.$on("$destroy",function(){r.off()})}}}}}]),e.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,t,n,i){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(e,t,n){},post:function(t,i,r,o){var a;o[0]&&(a=o[0]),o[1]&&o[1];var s=(a.grid,function(i){var r=i.srcElement||i.target;r&&r.files&&r.files.length>0?("function"==typeof t.col.colDef.editFileChooserCallback?t.col.colDef.editFileChooserCallback(t.row,t.col,r.files):e.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),r.form.reset(),t.$emit(n.events.END_CELL_EDIT)):t.$emit(n.events.CANCEL_CELL_EDIT)});i[0].addEventListener("change",s,!1),t.$on(n.events.BEGIN_CELL_EDIT,function(){i[0].focus(),i[0].select(),i.on("blur",function(e){t.$emit(n.events.END_CELL_EDIT)})}),t.$on("$destroy",function(){i.off(),i[0].removeEventListener("change",s,!1)})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.emptyBaseLayer",["ui.grid"]);e.service("uiGridBaseLayerService",["gridUtil","$compile",function(e,t){return{initializeGrid:function(e,t){e.baseLayer={emptyRows:[]},!1!==e.options.enableEmptyGridBaseLayer&&(e.options.enableEmptyGridBaseLayer=!t)},setNumberOfEmptyRows:function(e,t){var n=t.options.rowHeight,i=Math.ceil(e/n);if(i>0){t.baseLayer.emptyRows=[];for(var r=0;r<i;r++)t.baseLayer.emptyRows.push({})}}}}]),e.directive("uiGridEmptyBaseLayer",["gridUtil","uiGridBaseLayerService","$parse",function(e,t,n){return{require:"^uiGrid",scope:!1,compile:function(e,i){return{pre:function(e,i,r,o){var a=!1===n(r.uiGridEmptyBaseLayer)(e);t.initializeGrid(o.grid,a)},post:function(e,n,i,r){function o(){var e=s.getViewportHeight();return e!==l&&(l=e,!0)}function a(e){return".grid"+r.grid.id+" .ui-grid-render-container .ui-grid-empty-base-layer-container.ui-grid-canvas { height: "+e+"px; }"}if(r.grid.options.enableEmptyGridBaseLayer){var s=r.grid.renderContainers.body,l=s.getViewportHeight();r.grid.registerStyleComputation({func:function(){return o()&&t.setNumberOfEmptyRows(l,r.grid),a(l)}})}}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){var i=n.get("ui-grid/emptyBaseLayerContainer");return e.prepend(i),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e,t){var n={initializeGrid:function(t){t.expandable={},t.expandable.expandedAll=!1,t.options.enableExpandable=!1!==t.options.enableExpandable,t.options.expandableRowHeight=t.options.expandableRowHeight||150,t.options.expandableRowHeaderWidth=t.options.expandableRowHeaderWidth||40,t.options.enableExpandable&&!t.options.expandableRowTemplate&&(e.logError("You have not set the expandableRowTemplate, disabling expandable module"),t.options.enableExpandable=!1);var i={events:{expandable:{rowExpandedBeforeStateChanged:function(e,t){},rowExpandedStateChanged:function(e,t){}}},methods:{expandable:{toggleRowExpansion:function(e){var i=t.getRow(e);null!==i&&n.toggleRowExpansion(t,i)},expandAllRows:function(){n.expandAllRows(t)},collapseAllRows:function(){n.collapseAllRows(t)},toggleAllRows:function(){n.toggleAllRows(t)},expandRow:function(e){var i=t.getRow(e);null===i||i.isExpanded||n.toggleRowExpansion(t,i)},collapseRow:function(e){var i=t.getRow(e);null!==i&&i.isExpanded&&n.toggleRowExpansion(t,i)},getExpandedRows:function(){return n.getExpandedRows(t).map(function(e){return e.entity})}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods)},toggleRowExpansion:function(e,t){e.api.expandable.raise.rowExpandedBeforeStateChanged(t),t.isExpanded=!t.isExpanded,angular.isUndefined(t.expandedRowHeight)&&(t.expandedRowHeight=e.options.expandableRowHeight),t.isExpanded?t.height=t.grid.options.rowHeight+t.expandedRowHeight:(t.height=t.grid.options.rowHeight,e.expandable.expandedAll=!1),e.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(e,t){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded||n.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded&&n.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!1,e.queueGridRefresh()},toggleAllRows:function(e){e.expandable.expandedAll?n.collapseAllRows(e):n.expandAllRows(e)},getExpandedRows:function(e){return e.rows.filter(function(e){return e.isExpanded})}};return n}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,o){if(e.initializeGrid(o.grid),o.grid.options.enableExpandable&&!1!==o.grid.options.enableExpandableRowHeader){var a={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:o.grid.options.expandableRowHeaderWidth||40};a.cellTemplate=t.get("ui-grid/expandableRowHeader"),a.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader"),o.grid.addRowHeaderColumn(a,-90)}},post:function(e,t,n,i){}}}}}]),e.directive("uiGrid",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){i.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(i.grid.parentRow=e.row)})},post:function(e,t,n,i){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,t,n,i,r,o,a){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,t,i,o){r.getTemplate(e.grid.options.expandableRowTemplate).then(function(i){if(e.grid.options.expandableRowScope){var r=e.grid.options.expandableRowScope;for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}var a=angular.element(i);t.append(a),a=n(a)(e),e.row.expandedRendered=!0})},post:function(e,t,n,i){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){return{pre:function(e,t,n,i){e.grid.options.enableExpandable&&(e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){return"body"===e.colContainer.name&&!1!==e.grid.options.enableExpandable&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered)},e.expandableRow.shouldRenderFiller=function(){return e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered)})},post:function(e,t,n,i){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){var i=angular.element(e.children().children()[0]),r=n.get("ui-grid/expandableScrollFiller"),o=n.get("ui-grid/expandableRow");return i.append(o),i.append(r),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(e,t,n,i,r,o){var a={delay:100,initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,n){a.csvExport(e,t,n)},pdfExport:function(t,n){a.pdfExport(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.api.core.addToGridMenu?a.addToMenu(e):r(function(){e.api.core.addToGridMenu&&a.addToMenu(e)},this.delay,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=!0===e.exporterSuppressMenu,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfFilename=e.exporterPdfFilename?e.exporterPdfFilename:"download.pdf",e.exporterOlderExcelCompatibility=!0===e.exporterOlderExcelCompatibility,e.exporterIsExcelCompatible=!0===e.exporterIsExcelCompatible,e.exporterMenuItemOrder=e.exporterMenuItemOrder?e.exporterMenuItemOrder:200,e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuAllData=void 0===e.exporterMenuAllData||e.exporterMenuAllData,e.exporterMenuVisibleData=void 0===e.exporterMenuVisibleData||e.exporterMenuVisibleData,e.exporterMenuSelectedData=void 0===e.exporterMenuSelectedData||e.exporterMenuSelectedData,e.exporterMenuCsv=void 0===e.exporterMenuCsv||e.exporterMenuCsv,e.exporterMenuPdf=void 0===e.exporterMenuPdf||e.exporterMenuPdf,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=!0===e.exporterHeaderFilterUseName,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,t,n,i){return i},e.exporterAllDataFn=e.exporterAllDataFn?e.exporterAllDataFn:null,null==e.exporterAllDataFn&&e.exporterAllDataPromise&&(e.exporterAllDataFn=e.exporterAllDataPromise)},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:o.getSafeText("gridMenu.exporterAllAsCsv"),action:function(n){e.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder},{title:o.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(n){e.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+1},{title:o.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(n){e.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuSelectedData&&e.api.selection&&e.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+2},{title:o.getSafeText("gridMenu.exporterAllAsPdf"),action:function(n){e.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder+3},{title:o.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(n){e.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+4},{title:o.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(n){e.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuSelectedData&&e.api.selection&&e.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+5}])},csvExport:function(e,t,n){var i=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var r=e.options.showHeader?i.getColumnHeaders(e,n):[],o=i.getData(e,t,n),a=i.formatAsCsv(r,o,e.options.exporterCsvColumnSeparator);i.downloadFile(e.options.exporterCsvFilename,a,e.options.exporterCsvColumnSeparator,e.options.exporterOlderExcelCompatibility,e.options.exporterIsExcelCompatible)})},loadAllDataIfNeeded:function(n,i,r){if(i===t.ALL&&n.rows.length!==n.options.totalItems&&n.options.exporterAllDataFn)return n.options.exporterAllDataFn().then(function(){n.modifyRows(n.options.data)});var o=e.defer();return o.resolve(),o.promise},getColumnHeaders:function(e,n){var i,r=[];if(n===t.ALL)i=e.columns;else{var o=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],a=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],s=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];i=o.concat(a,s)}return i.forEach(function(t,n){!0!==t.colDef.exporterSuppressExport&&-1===e.options.exporterSuppressColumns.indexOf(t.name)&&r.push({name:t.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilterUseName?e.options.exporterHeaderFilter(t.name):e.options.exporterHeaderFilter(t.displayName):t.displayName,width:t.drawnWidth?t.drawnWidth:t.width,align:"number"===t.colDef.type?"right":"left"})}),r},getData:function(e,i,r,o){var a,s,l=[];switch(i){case t.ALL:a=e.rows;break;case t.VISIBLE:a=e.getVisibleRows();break;case t.SELECTED:e.api.selection?a=e.api.selection.getSelectedGridRows():n.logError("selection feature must be enabled to allow selected rows to be exported")}if(r===t.ALL)s=e.columns;else{var u=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],c=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],p=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];s=u.concat(c,p)}return a.forEach(function(n,i){if(!1!==n.exporterEnableExporting){var a=[];s.forEach(function(i,s){if((i.visible||r===t.ALL)&&!0!==i.colDef.exporterSuppressExport&&-1===e.options.exporterSuppressColumns.indexOf(i.name)){var l=o?e.getCellDisplayValue(n,i):e.getCellValue(n,i),u={value:e.options.exporterFieldCallback(e,n,i,l)};i.colDef.exporterPdfAlign&&(u.alignment=i.colDef.exporterPdfAlign),a.push(u)}}),l.push(a)}}),l},formatAsCsv:function(e,t,n){var i=this,r=e.map(function(e){return{value:e.displayName}}),o=r.length>0?i.formatRowAsCsv(this,n)(r)+"\n":"";return o+=t.map(this.formatRowAsCsv(this,n)).join("\n")},formatRowAsCsv:function(e,t){return function(n){return n.map(e.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},isIE:function(){var e=navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/),t=!1;return-1!==e&&(t=!0),t},downloadFile:function(e,t,n,i,r){var o,a=document,s=a.createElement("a"),l="application/octet-stream;charset=utf-8",u=this.isIE();if(r&&(t="sep="+n+"\r\n"+t),navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([i?"\ufeff":"",t],{type:l}),e);if(u){var c=a.createElement("iframe");return document.body.appendChild(c),c.contentWindow.document.open("text/html","replace"),c.contentWindow.document.write(t),c.contentWindow.document.close(),c.contentWindow.focus(),c.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(c),!0}if("download"in s){var p=new Blob([i?"\ufeff":"",t],{type:l});o=URL.createObjectURL(p),s.setAttribute("download",e)}else o="data:"+l+","+encodeURIComponent(t),s.setAttribute("target","_blank");s.href=o,s.setAttribute("style","display:none;"),a.body.appendChild(s),setTimeout(function(){if(s.click)s.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),s.dispatchEvent(e)}a.body.removeChild(s)},this.delay)},pdfExport:function(e,t,n){var i=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var r=i.getColumnHeaders(e,n),o=i.getData(e,t,n),a=i.prepareAsPdf(e,r,o);i.isIE()||-1!==navigator.appVersion.indexOf("Edge")?i.downloadPDF(e.options.exporterPdfFilename,a):pdfMake.createPdf(a).open()})},downloadPDF:function(e,t){var n,i=document;i.createElement("a");n=this.isIE();var r,o=pdfMake.createPdf(t);o.getBuffer(function(t){if(r=new Blob([t]),navigator.msSaveBlob)return navigator.msSaveBlob(r,e);if(n){var o=i.createElement("iframe");return document.body.appendChild(o),o.contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(r),o.contentWindow.document.close(),o.contentWindow.focus(),o.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(o),!0}})},prepareAsPdf:function(e,t,n){var i=this.calculatePdfHeaderWidths(e,t),r=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=n.map(this.formatRowAsPdf(this)),a=[r].concat(o),s={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:i,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(s.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(s.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(s.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(s=e.options.exporterPdfCustomFormatter(s)),s},calculatePdfHeaderWidths:function(e,t){var n=0;t.forEach(function(e){"number"==typeof e.width&&(n+=e.width)});var i=0;t.forEach(function(e){if("*"===e.width&&(i+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=n*t/100,i+=e.width}});var r=n+i;return t.map(function(t){return"*"===t.width?t.width:t.width*e.options.exporterPdfMaxGridWidth/r})},formatRowAsPdf:function(e){return function(t){return t.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var t;return t=null==e.value?"":"number"==typeof e.value?e.value.toString():"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(t={text:t,alignment:e.alignment}),t}};return a}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(r.grid),r.grid.exporter.$scope=e}}}])}(),function(){"use strict";var e=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(e,t,n,i,r,o,a,s,l){var u={initializeGrid:function(e,t){l.initializeGrid(e,t),e.grouping={},e.grouping.groupHeaderCache={},u.defaultGridOptions(e.options),e.registerRowsProcessor(u.groupRows,400),e.registerColumnBuilder(u.groupingColumnBuilder),e.registerColumnsProcessor(u.groupingColumnProcessor,400);var n={events:{grouping:{aggregationChanged:{},groupingChanged:{}}},methods:{grouping:{getGrouping:function(t){var n=u.getGrouping(e);return n.grouping.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations=n.aggregations.filter(function(e){return!e.aggregation.source||"grouping"!==e.aggregation.source}),t&&(n.rowExpandedStates=u.getRowExpandedStates(e.grouping.groupingHeaderCache)),n},setGrouping:function(t){u.setGrouping(e,t)},groupColumn:function(t){var n=e.getColumn(t);u.groupColumn(e,n)},ungroupColumn:function(t){var n=e.getColumn(t);u.ungroupColumn(e,n)},clearGrouping:function(){u.clearGrouping(e)},aggregateColumn:function(t,n,i){var r=e.getColumn(t);u.aggregateColumn(e,r,n,i)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods),e.api.core.on.sortChanged(t,u.tidyPriorities)},defaultGridOptions:function(e){e.enableGrouping=!1!==e.enableGrouping,e.groupingShowCounts=!1!==e.groupingShowCounts,e.groupingNullLabel=void 0===e.groupingNullLabel?"Null":e.groupingNullLabel,e.enableGroupHeaderSelection=!0===e.enableGroupHeaderSelection},groupingColumnBuilder:function(e,i,r){if(!1!==e.enableGrouping){void 0===i.grouping&&void 0!==e.grouping?(i.grouping=angular.copy(e.grouping),void 0!==i.grouping.groupPriority&&i.grouping.groupPriority>-1&&(i.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,i.treeAggregationFinalizerFn=u.groupedFinalizerFn)):void 0===i.grouping&&(i.grouping={}),void 0!==i.grouping&&void 0!==i.grouping.groupPriority&&i.grouping.groupPriority>=0&&(i.suppressRemoveSort=!0);var o={name:"ui.grid.grouping.group",title:a.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return void 0===this.context.col.grouping||void 0===this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){u.groupColumn(this.context.col.grid,this.context.col)}},s={name:"ui.grid.grouping.ungroup",title:a.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return void 0!==this.context.col.grouping&&void 0!==this.context.col.grouping.groupPriority&&this.context.col.grouping.groupPriority>=0},action:function(){u.ungroupColumn(this.context.col.grid,this.context.col)}},c={name:"ui.grid.grouping.aggregateRemove",title:a.get().grouping.aggregate_remove,shown:function(){return void 0!==this.context.col.treeAggregationFn},action:function(){u.aggregateColumn(this.context.col.grid,this.context.col,null)}},p=function(e,t){t=t||a.get().grouping["aggregate_"+e]||e;var r={name:"ui.grid.grouping.aggregate"+e,title:t,shown:function(){return void 0===this.context.col.treeAggregation||void 0===this.context.col.treeAggregation.type||this.context.col.treeAggregation.type!==e},action:function(){u.aggregateColumn(this.context.col.grid,this.context.col,e)}};n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.aggregate"+e)||i.menuItems.push(r)};!1!==i.colDef.groupingShowGroupingMenu&&(n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.group")||i.menuItems.push(o),n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.ungroup")||i.menuItems.push(s)),!1!==i.colDef.groupingShowAggregationMenu&&(angular.forEach(l.nativeAggregations(),function(e,t){p(t)}),angular.forEach(r.treeCustomAggregations,function(e,t){p(t,e.menuTitle)}),n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.aggregateRemove")||i.menuItems.push(c))}},groupingColumnProcessor:function(e,t){return e=u.moveGroupColumns(this,e,t)},groupedFinalizerFn:function(e){var t=this;void 0!==e.groupVal?(e.rendered=e.groupVal,t.grid.options.groupingShowCounts&&"date"!==t.colDef.type&&"object"!==t.colDef.type&&(e.rendered+=" ("+e.value+")")):e.rendered=null},moveGroupColumns:function(e,t,n){return!1===e.options.moveGroupColumns?t:(t.forEach(function(e,t){e.groupingPosition=t}),t.sort(function(e,t){var n,i;return n=e.isRowHeader?e.headerPriority:void 0===e.grouping||void 0===e.grouping.groupPriority||e.grouping.groupPriority<0?null:e.grouping.groupPriority,i=t.isRowHeader?t.headerPriority:void 0===t.grouping||void 0===t.grouping.groupPriority||t.grouping.groupPriority<0?null:t.grouping.groupPriority,null!==n&&null===i?-1:null!==i&&null===n?1:null!==n&&null!==i?n-i:e.groupingPosition-t.groupingPosition}),t.forEach(function(e,t){delete e.groupingPosition}),t)},groupColumn:function(e,n){void 0===n.grouping&&(n.grouping={});var i=u.getGrouping(e);n.grouping.groupPriority=i.grouping.length,n.previousSort=angular.copy(n.sort),n.sort?void 0!==n.sort.direction&&null!==n.sort.direction||(n.sort.direction=s.ASC):n.sort={direction:s.ASC},n.treeAggregation={type:t.aggregation.COUNT,source:"grouping"},n.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,n.treeAggregationFinalizerFn=u.groupedFinalizerFn,e.api.grouping.raise.groupingChanged(n),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh()},ungroupColumn:function(e,t){void 0!==t.grouping&&(delete t.grouping.groupPriority,delete t.treeAggregation,delete t.customTreeAggregationFinalizer,t.previousSort&&(t.sort=t.previousSort,delete t.previousSort),u.tidyPriorities(e),e.api.grouping.raise.groupingChanged(t),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh())},aggregateColumn:function(e,t,n){void 0!==t.grouping&&void 0!==t.grouping.groupPriority&&t.grouping.groupPriority>=0&&u.ungroupColumn(e,t);var i={};void 0!==e.options.treeCustomAggregations[n]?i=e.options.treeCustomAggregations[n]:void 0!==l.nativeAggregations()[n]&&(i=l.nativeAggregations()[n]),t.treeAggregation={type:n,label:a.get().aggregation[i.label]||i.label},t.treeAggregationFn=i.aggregationFn,t.treeAggregationFinalizerFn=i.finalizerFn,e.api.grouping.raise.aggregationChanged(t),e.queueGridRefresh()},setGrouping:function(e,t){void 0!==t&&(u.clearGrouping(e),t.grouping&&t.grouping.length&&t.grouping.length>0&&t.grouping.forEach(function(t){var n=e.getColumn(t.colName);n&&u.groupColumn(e,n)}),t.aggregations&&t.aggregations.length&&t.aggregations.forEach(function(t){var n=e.getColumn(t.colName);n&&u.aggregateColumn(e,n,t.aggregation.type)}),t.rowExpandedStates&&u.applyRowExpandedStates(e.grouping.groupingHeaderCache,t.rowExpandedStates))},clearGrouping:function(e){var t=u.getGrouping(e);t.grouping.length>0&&t.grouping.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),u.ungroupColumn(e,t.col)}),t.aggregations.length>0&&t.aggregations.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),u.aggregateColumn(e,t.col,null)})},tidyPriorities:function(e){void 0!==e&&void 0===e.grid||void 0===this.grid||(e=this.grid);var t=[],n=[];e.columns.forEach(function(e,i){void 0!==e.grouping&&void 0!==e.grouping.groupPriority&&e.grouping.groupPriority>=0?t.push(e):void 0!==e.sort&&void 0!==e.sort.priority&&e.sort.priority>=0&&n.push(e)}),t.sort(function(e,t){return e.grouping.groupPriority-t.grouping.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.suppressRemoveSort=!0,void 0===e.sort&&(e.sort={}),e.sort.priority=t});var i=t.length;n.sort(function(e,t){return e.sort.priority-t.sort.priority}),n.forEach(function(e,t){e.sort.priority=i,e.suppressRemoveSort=e.colDef.suppressRemoveSort,i++})},groupRows:function(e){if(0===e.length)return e;var t=this;t.grouping.oldGroupingHeaderCache=t.grouping.groupingHeaderCache||{},t.grouping.groupingHeaderCache={};for(var n=u.initialiseProcessingState(t),r=function(r,s){var l=t.getCellValue(a,r.col);r.initialised&&0===i.getSortFn(t,r.col,e)(l,r.currentValue)||(u.insertGroupHeader(t,e,o,n,s),o++)},o=0;o<e.length;o++){var a=e[o];a.visible&&n.forEach(r)}return delete t.grouping.oldGroupingHeaderCache,e},initialiseProcessingState:function(e){var t=[];return u.getGrouping(e).grouping.forEach(function(e,n){t.push({fieldName:e.field,col:e.col,initialised:!1,currentValue:null,currentRow:null})}),t},getGrouping:function(e){var t=[],n=[];return e.columns.forEach(function(e,i){e.grouping&&void 0!==e.grouping.groupPriority&&e.grouping.groupPriority>=0&&t.push({field:e.field,col:e,groupPriority:e.grouping.groupPriority,grouping:e.grouping}),e.treeAggregation&&e.treeAggregation.type&&n.push({field:e.field,col:e,aggregation:e.treeAggregation})}),t.sort(function(e,t){return e.groupPriority-t.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.groupPriority=t,delete e.grouping}),{grouping:t,aggregations:n}},insertGroupHeader:function(e,t,n,i,a){var s=(i[a].fieldName,i[a].col),l=e.getCellValue(t[n],s),c=l;void 0!==l&&null!==l||(c=e.options.groupingNullLabel);for(var p=function(e){return angular.isObject(e)?JSON.stringify(e):e},d=e.grouping.oldGroupingHeaderCache,f=0;f<a;f++)d&&d[p(i[f].currentValue)]&&(d=d[p(i[f].currentValue)].children);var h;for(d&&d[p(l)]?(h=d[p(l)].row,h.entity={}):(h=new r({},null,e),o.rowTemplateAssigner.call(e,h)),h.entity["$$"+i[a].col.uid]={groupVal:c},h.treeLevel=a,h.groupHeader=!0,h.internalRow=!0,h.enableCellEdit=!1,h.enableSelection=e.options.enableGroupHeaderSelection,i[a].initialised=!0,i[a].currentValue=l,i[a].currentRow=h,u.finaliseProcessingState(i,a+1),t.splice(n,0,h),d=e.grouping.groupingHeaderCache,f=0;f<a;f++)d=d[p(i[f].currentValue)].children;d[p(l)]={row:h,children:{}}},finaliseProcessingState:function(e,t){for(var n=t;n<e.length;n++)e[n].initialised=!1,e[n].currentRow=null,e[n].currentValue=null},getRowExpandedStates:function(e){if(void 0===e)return{};var t={};return angular.forEach(e,function(e,n){t[n]={state:e.row.treeNode.state},e.children?t[n].children=u.getRowExpandedStates(e.children):t[n].children={}}),t},applyRowExpandedStates:function(e,t){void 0!==t&&angular.forEach(t,function(t,n){e[n]&&(e[n].row.treeNode.state=t.state,t.children&&e[n].children&&u.applyRowExpandedStates(e[n].children,t.children))})}};return u}]),e.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){!1!==r.grid.options.enableGrouping&&t.initializeGrid(r.grid,e)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,t,n,i,r,o,a,s){var l={initializeGrid:function(e,t){t.importer={$scope:e},this.defaultGridOptions(t.options);var n={events:{importer:{}},methods:{importer:{importFile:function(e){l.importThisFile(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?l.addToMenu(t):o(function(){t.api.core.addToGridMenu&&l.addToMenu(t)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?s.hasOwnProperty("File")&&s.hasOwnProperty("FileReader")&&s.hasOwnProperty("FileList")&&s.hasOwnProperty("Blob")?e.enableImporter=!0:(i.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||l.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,!0!==e.enableImporter||e.importerDataAddCallback||(i.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=!1!==e.importerShowMenu,e.importerObjectCallback=e.importerObjectCallback||function(e,t){return t}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(t){this.grid.api.importer.importAFile(e)},order:151}])},importThisFile:function(e,t){if(!t)return void i.logError("No file object provided to importThisFile, should be impossible, aborting");var n=new FileReader;switch(t.type){case"application/json":n.onload=l.importJsonClosure(e);break;default:n.onload=l.importCsvClosure(e)}n.readAsText(t)},importJsonClosure:function(e){return function(t){var n,i=[],r=l.parseJson(e,t);null!==r&&(r.forEach(function(t,r){n=l.newObject(e),angular.extend(n,t),n=e.options.importerObjectCallback(e,n),i.push(n)}),l.addObjects(e,i))}},parseJson:function(e,t){var n;try{n=JSON.parse(t.target.result)}catch(n){return void l.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result)}return Array.isArray(n)?n:(l.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(e){return function(t){var n=l.parseCsv(t);if(!n||n.length<1)return void l.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result);var i=l.createCsvObjects(e,n);if(!i||0===i.length)return void l.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result);l.addObjects(e,i)}},parseCsv:function(e){var t=e.target.result;return CSV.parse(t)},createCsvObjects:function(e,t){var n=e.options.importerProcessHeaders(e,t.shift());if(!n||0===n.length)return l.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",t),[];var i,r=[];return t.forEach(function(t,o){i=l.newObject(e),null!==t&&t.forEach(function(e,t){null!==n[t]&&(i[n[t]]=e)}),i=e.options.importerObjectCallback(e,i),r.push(i)}),r},processHeaders:function(e,t){var n=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var i=l.flattenColumnDefs(e,e.options.columnDefs);return t.forEach(function(e,t){i[e]?n.push(i[e]):i[e.toLowerCase()]?n.push(i[e.toLowerCase()]):n.push(null)}),n}return t.forEach(function(e,t){n.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),n},flattenColumnDefs:function(e,t){var n={};return t.forEach(function(t,i){t.name&&(n[t.name]=t.field||t.name,n[t.name.toLowerCase()]=t.field||t.name),t.field&&(n[t.field]=t.field||t.name,n[t.field.toLowerCase()]=t.field||t.name),t.displayName&&(n[t.displayName]=t.field||t.name,n[t.displayName.toLowerCase()]=t.field||t.name),t.displayName&&e.options.importerHeaderFilter&&(n[e.options.importerHeaderFilter(t.displayName)]=t.field||t.name,n[e.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),n},addObjects:function(e,n,i){if(e.api.rowEdit){var r=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(n),r()},[t.dataChange.ROW]);e.importer.$scope.$on("$destroy",r)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,n))},newObject:function(e){return void 0!==e.options&&void 0!==e.options.importerNewObject?new e.options.importerNewObject:{}},alertError:function(e,t,n,r){e.options.importerErrorCallback?e.options.importerErrorCallback(e,t,n,r):(s.alert(a.getSafeText(t)),i.logError(n+r))}};return l}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(e,r.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,i,r,o){var a=function(e){var n=e.srcElement||e.target;if(n&&n.files&&1===n.files.length){var i=n.files[0];t.importThisFile(l,i),n.form.reset()}},s=i[0].querySelectorAll(".ui-grid-importer-file-chooser"),l=o.grid;1!==s.length?n.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):s[0].addEventListener("change",a,!1)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants","ScrollEvent","$q",function(e,t,n,i,r,o){var a={initializeGrid:function(e,t){if(a.defaultGridOptions(e.options),e.options.enableInfiniteScroll){e.infiniteScroll={dataLoading:!1},a.setScrollDirections(e,e.options.infiniteScrollUp,e.options.infiniteScrollDown),e.api.core.on.scrollEnd(t,a.handleScroll);var n={events:{infiniteScroll:{needLoadMoreData:function(e,t){},needLoadMoreDataTop:function(e,t){}}},methods:{infiniteScroll:{dataLoaded:function(t,n){return a.setScrollDirections(e,t,n),a.adjustScroll(e).then(function(){e.infiniteScroll.dataLoading=!1})},resetScroll:function(t,n){a.setScrollDirections(e,t,n),a.adjustInfiniteScrollPosition(e,0)},saveScrollPercentage:function(){e.infiniteScroll.prevScrollTop=e.renderContainers.body.prevScrollTop,e.infiniteScroll.previousVisibleRows=e.getVisibleRowCount()},dataRemovedTop:function(t,n){a.dataRemovedTop(e,t,n)},dataRemovedBottom:function(t,n){a.dataRemovedBottom(e,t,n)},setScrollDirections:function(t,n){a.setScrollDirections(e,t,n)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)}},defaultGridOptions:function(e){e.enableInfiniteScroll=!1!==e.enableInfiniteScroll,e.infiniteScrollRowsFromEnd=e.infiniteScrollRowsFromEnd||20,e.infiniteScrollUp=!0===e.infiniteScrollUp,e.infiniteScrollDown=!1!==e.infiniteScrollDown},setScrollDirections:function(e,t,n){e.infiniteScroll.scrollUp=!0===t,e.suppressParentScrollUp=!0===t,e.infiniteScroll.scrollDown=!1!==n,e.suppressParentScrollDown=!1!==n},handleScroll:function(e){if(!(e.grid.infiniteScroll&&e.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===e.source)&&e.y)if(0===e.y.percentage)e.grid.scrollDirection=i.scrollDirection.UP,a.loadData(e.grid);else if(1===e.y.percentage)e.grid.scrollDirection=i.scrollDirection.DOWN,a.loadData(e.grid);else{var t=e.grid.options.infiniteScrollRowsFromEnd/e.grid.renderContainers.body.visibleRowCache.length;e.grid.scrollDirection===i.scrollDirection.UP?e.y.percentage<=t&&a.loadData(e.grid):e.grid.scrollDirection===i.scrollDirection.DOWN&&1-e.y.percentage<=t&&a.loadData(e.grid)}},loadData:function(e){e.infiniteScroll.previousVisibleRows=e.renderContainers.body.visibleRowCache.length,e.infiniteScroll.direction=e.scrollDirection,delete e.infiniteScroll.prevScrollTop,e.scrollDirection===i.scrollDirection.UP&&e.infiniteScroll.scrollUp?(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreDataTop()):e.scrollDirection===i.scrollDirection.DOWN&&e.infiniteScroll.scrollDown&&(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(e){var t=o.defer();return n(function(){var r,o,s,l,u;r=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,o=e.options.rowHeight,void 0===e.infiniteScroll.direction&&a.adjustInfiniteScrollPosition(e,0),s=e.getVisibleRowCount();var c=o*s;e.infiniteScroll.scrollDown&&r>c&&e.api.infiniteScroll.raise.needLoadMoreData(),e.infiniteScroll.direction===i.scrollDirection.UP&&(l=e.infiniteScroll.prevScrollTop||0,u=l+(s-e.infiniteScroll.previousVisibleRows)*o,a.adjustInfiniteScrollPosition(e,u),n(function(){t.resolve()})),e.infiniteScroll.direction===i.scrollDirection.DOWN&&(u=e.infiniteScroll.prevScrollTop||e.infiniteScroll.previousVisibleRows*o-r,a.adjustInfiniteScrollPosition(e,u),n(function(){t.resolve()}))},0),t.promise},adjustInfiniteScrollPosition:function(e,t){var n=new r(e,null,null,"ui.grid.adjustInfiniteScrollPosition"),i=e.getVisibleRowCount(),o=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,a=e.options.rowHeight,s=i*a-o;0===t&&e.infiniteScroll.scrollUp?n.y={percentage:1/s}:n.y={percentage:t/s},e.scrollContainers("",n)},dataRemovedTop:function(e,t,n){var i,r,o,s;a.setScrollDirections(e,t,n),i=e.renderContainers.body.visibleRowCache.length,r=e.infiniteScroll.prevScrollTop,s=e.options.rowHeight,o=r-(e.infiniteScroll.previousVisibleRows-i)*s,a.adjustInfiniteScrollPosition(e,o)},dataRemovedBottom:function(e,t,n){var i;a.setScrollDirections(e,t,n),i=e.infiniteScroll.prevScrollTop,a.adjustInfiniteScrollPosition(e,i)}};return a}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(t,n,i){return{pre:function(t,n,i,r){e.initializeGrid(r.grid,t)},post:function(e,t,n){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants","gridUtil",function(e,t,n,i,r,o){var a={initializeGrid:function(e){var t=this;this.registerPublicApi(e),this.defaultGridOptions(e.options),e.moveColumns={orderCache:[]},e.registerColumnBuilder(t.movableColumnBuilder),e.registerDataChangeCallback(t.verifyColumnOrder,[r.dataChange.COLUMN])},registerPublicApi:function(e){var t=this,n={events:{colMovable:{columnPositionChanged:function(e,t,n){}}},methods:{colMovable:{moveColumn:function(n,i){var r=e.columns;if(!angular.isNumber(n)||!angular.isNumber(i))return void o.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition");for(var a=0,s=0;s<r.length;s++)(angular.isDefined(r[s].colDef.visible)&&!1===r[s].colDef.visible||!0===r[s].isRowHeader)&&a++;if(n>=r.length-a||i>=r.length-a)return void o.logError("MoveColumn: Invalid values for originalPosition, finalPosition");var l=function(e){for(var t=e,n=0;n<=t;n++)angular.isDefined(r[n])&&(angular.isDefined(r[n].colDef.visible)&&!1===r[n].colDef.visible||!0===r[n].isRowHeader)&&t++;return t};t.redrawColumnAtPosition(e,l(n),l(i))}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableColumnMoving=!1!==e.enableColumnMoving},movableColumnBuilder:function(t,n,i){var r=[];return t.enableColumnMoving=void 0===t.enableColumnMoving?i.enableColumnMoving:t.enableColumnMoving,e.all(r)},updateColumnCache:function(e){e.moveColumns.orderCache=e.getOnlyDataColumns()},verifyColumnOrder:function(e){var t,n=e.rowHeaderColumns.length;angular.forEach(e.moveColumns.orderCache,function(i,r){if(-1!==(t=e.columns.indexOf(i))&&t-n!==r){var o=e.columns.splice(t,1)[0];e.columns.splice(r+n,0,o)}})},redrawColumnAtPosition:function(e,n,i){var o=e.columns;if(n!==i){var s=n<i?n+1:n-1,l=Math.min(s,i);for(l;l<=Math.max(s,i)&&!o[l].visible;l++);if(!(l>Math.max(s,i))){var u=o[n];if(u.colDef.enableColumnMoving){if(n>i)for(var c=n;c>i;c--)o[c]=o[c-1];else if(i>n)for(var p=n;p<i;p++)o[p]=o[p+1];o[i]=u,a.updateColumnCache(e),e.queueGridRefresh(),t(function(){e.api.core.notifyDataChange(r.dataChange.COLUMN),e.api.colMovable.raise.columnPositionChanged(u.colDef,n,i)})}}}}};return a}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,i,r){e.initializeGrid(r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,t,n,i,r,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,t,r,o){if(e.col.colDef.enableColumnMoving){var s,l,u,c,p,d,f=angular.element(t[0].querySelectorAll(".ui-grid-cell-contents")),h=!1,g=!1,v=function(t){s=e.grid.element[0].getBoundingClientRect().left,e.grid.hasLeftContainer()&&(s+=e.grid.renderContainers.left.header[0].getBoundingClientRect().width),l=t.pageX||(t.originalEvent?t.originalEvent.pageX:0),u=0,c=s+e.grid.getViewportWidth(),"mousedown"===t.type?(i.on("mousemove",m),i.on("mouseup",y)):"touchstart"===t.type&&(i.on("touchmove",m),i.on("touchend",y))},m=function(e){var t=e.pageX||(e.originalEvent?e.originalEvent.pageX:0),n=t-l;0!==n&&(document.onselectstart=function(){return!1},g=!0,h?h&&(C(n),l=t):x())},y=function(t){if(document.onselectstart=null,p&&(p.remove(),h=!1),b(),E(),g){for(var i=e.grid.columns,r=0,o=0;o<i.length&&i[o].colDef.name!==e.col.colDef.name;o++)r++;var a;if(u<0){var s,l=0;if(e.grid.isRTL()){for(s=r+1;s<i.length;s++)if((angular.isUndefined(i[s].colDef.visible)||!0===i[s].colDef.visible)&&(l+=i[s].drawnWidth||i[s].width||i[s].colDef.width)>Math.abs(u)){n.redrawColumnAtPosition(e.grid,r,s-1);break}}else for(s=r-1;s>=0;s--)if((angular.isUndefined(i[s].colDef.visible)||!0===i[s].colDef.visible)&&(l+=i[s].drawnWidth||i[s].width||i[s].colDef.width)>Math.abs(u)){n.redrawColumnAtPosition(e.grid,r,s+1);break}l<Math.abs(u)&&(a=0,e.grid.isRTL()&&(a=i.length-1),n.redrawColumnAtPosition(e.grid,r,a))}else if(u>0){var c,d=0;if(e.grid.isRTL()){for(c=r-1;c>0;c--)if((angular.isUndefined(i[c].colDef.visible)||!0===i[c].colDef.visible)&&(d+=i[c].drawnWidth||i[c].width||i[c].colDef.width)>u){n.redrawColumnAtPosition(e.grid,r,c);break}}else for(c=r+1;c<i.length;c++)if((angular.isUndefined(i[c].colDef.visible)||!0===i[c].colDef.visible)&&(d+=i[c].drawnWidth||i[c].width||i[c].colDef.width)>u){n.redrawColumnAtPosition(e.grid,r,c-1);break}d<u&&(a=i.length-1,e.grid.isRTL()&&(a=0),n.redrawColumnAtPosition(e.grid,r,a))}}},E=function(){f.on("touchstart",v),f.on("mousedown",v)},b=function(){f.off("touchstart",v),f.off("mousedown",v),i.off("mousemove",m),i.off("touchmove",m),i.off("mouseup",y),i.off("touchend",y)};E();var x=function(){h=!0,p=t.clone(),t.parent().append(p),p.addClass("movingColumn");var n={};n.left=t[0].offsetLeft+"px";var i=e.grid.element[0].getBoundingClientRect().right,r=t[0].getBoundingClientRect().right;r>i&&(d=e.col.drawnWidth+(i-r),n.width=d+"px"),p.css(n)},C=function(t){for(var n=e.grid.columns,i=0,r=0;r<n.length;r++)(angular.isUndefined(n[r].colDef.visible)||!0===n[r].colDef.visible)&&(i+=n[r].drawnWidth||n[r].width||n[r].colDef.width);var l,f=p[0].getBoundingClientRect().left-1,h=p[0].getBoundingClientRect().right;if(l=f-s+t,l=l<c?l:c,(f>=s||t>0)&&(h<=c||t<0))p.css({visibility:"visible",left:p[0].offsetLeft+(l<c?t:c-f)+"px"});else if(i>Math.ceil(o.grid.gridWidth)){t*=8;var g=new a(e.col.grid,null,null,"uiGridHeaderCell.moveElement");g.x={pixels:t},g.grid.scrollContainers("",g)}for(var v=0,m=0;m<n.length;m++)if(angular.isUndefined(n[m].colDef.visible)||!0===n[m].colDef.visible){if(n[m].colDef.name===e.col.colDef.name)break;v+=n[m].drawnWidth||n[m].width||n[m].colDef.width}void 0===e.newScrollLeft?u+=t:u=e.newScrollLeft+l-v,d<e.col.drawnWidth&&(d+=Math.abs(t),p.css({width:d+"px"}))};e.$on("$destroy",b)}}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(e){var t={initializeGrid:function(e){t.defaultGridOptions(e.options);var n={events:{pagination:{paginationChanged:function(e,t){}}},methods:{pagination:{getPage:function(){return e.options.enablePagination?e.options.paginationCurrentPage:null},getFirstRowIndex:function(){return e.options.useCustomPagination?e.options.paginationPageSizes.reduce(function(t,n,i){return i<e.options.paginationCurrentPage-1?t+n:t},0):(e.options.paginationCurrentPage-1)*e.options.paginationPageSize},getLastRowIndex:function(){return e.options.useCustomPagination?n.methods.pagination.getFirstRowIndex()+e.options.paginationPageSizes[e.options.paginationCurrentPage-1]-1:Math.min(e.options.paginationCurrentPage*e.options.paginationPageSize,e.options.totalItems)-1},getTotalPages:function(){return e.options.enablePagination?e.options.useCustomPagination?e.options.paginationPageSizes.length:0===e.options.totalItems?1:Math.ceil(e.options.totalItems/e.options.paginationPageSize):null},nextPage:function(){e.options.enablePagination&&(e.options.totalItems>0?e.options.paginationCurrentPage=Math.min(e.options.paginationCurrentPage+1,n.methods.pagination.getTotalPages()):e.options.paginationCurrentPage++)},previousPage:function(){e.options.enablePagination&&(e.options.paginationCurrentPage=Math.max(e.options.paginationCurrentPage-1,1))},seek:function(t){if(e.options.enablePagination){if(!angular.isNumber(t)||t<1)throw"Invalid page number: "+t;e.options.paginationCurrentPage=Math.min(t,n.methods.pagination.getTotalPages())}}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods);var i=function(t){if(e.options.useExternalPagination||!e.options.enablePagination)return t;var i=parseInt(e.options.paginationPageSize,10),r=parseInt(e.options.paginationCurrentPage,10),o=t.filter(function(e){return e.visible});e.options.totalItems=o.length;var a=n.methods.pagination.getFirstRowIndex(),s=n.methods.pagination.getLastRowIndex();return a>o.length&&(r=e.options.paginationCurrentPage=1,a=(r-1)*i),o.slice(a,s+1)};e.registerRowsProcessor(i,900)},defaultGridOptions:function(t){t.enablePagination=!1!==t.enablePagination,t.enablePaginationControls=!1!==t.enablePaginationControls,t.useExternalPagination=!0===t.useExternalPagination,t.useCustomPagination=!0===t.useCustomPagination,e.isNullOrUndefined(t.totalItems)&&(t.totalItems=0),e.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]),e.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSizes.length>0?t.paginationPageSize=t.paginationPageSizes[0]:t.paginationPageSize=0),e.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1),e.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,t,n){e.api.pagination.raise.paginationChanged(t,n),e.options.useExternalPagination||e.queueGridRefresh()}};return t}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(e,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(n,i,r,o){t.initializeGrid(o.grid),e.getTemplate(o.grid.options.paginationTemplate).then(function(e){var t=angular.element(e);i.append(t),o.innerCompile(t)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(e,t,n,i){return{priority:-200,scope:!0,require:"^uiGrid",link:function(r,o,a,s){r.aria=i.getSafeText("pagination.aria"),r.paginationApi=s.grid.api.pagination,r.sizesLabel=i.getSafeText("pagination.sizes"),r.totalItemsLabel=i.getSafeText("pagination.totalItems"),r.paginationOf=i.getSafeText("pagination.of"),r.paginationThrough=i.getSafeText("pagination.through");var l=s.grid.options;s.grid.renderContainers.body.registerViewportAdjuster(function(e){return e.height=e.height-n.elementHeight(o,"padding"),e});var u=s.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[t.dataChange.ROW]);r.$on("$destroy",u);var c=r.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,n){if(t!==n&&void 0!==n)return!angular.isNumber(l.paginationCurrentPage)||l.paginationCurrentPage<1?void(l.paginationCurrentPage=1):l.totalItems>0&&l.paginationCurrentPage>r.paginationApi.getTotalPages()?void(l.paginationCurrentPage=r.paginationApi.getTotalPages()):void e.onPaginationChanged(r.grid,l.paginationCurrentPage,l.paginationPageSize)});r.$on("$destroy",function(){c()}),r.cantPageForward=function(){return r.paginationApi.getTotalPages()?r.cantPageToLast():l.data.length<1},r.cantPageToLast=function(){var e=r.paginationApi.getTotalPages();return!e||l.paginationCurrentPage>=e},r.cantPageBackward=function(){return l.paginationCurrentPage<=1};var p=function(e){e&&n.focus.bySelector(o,".ui-grid-pager-control-input")};r.pageFirstPageClick=function(){r.paginationApi.seek(1),p(r.cantPageBackward())},r.pagePreviousPageClick=function(){r.paginationApi.previousPage(),p(r.cantPageBackward())},r.pageNextPageClick=function(){r.paginationApi.nextPage(),p(r.cantPageForward())},r.pageLastPageClick=function(){r.paginationApi.seek(r.paginationApi.getTotalPages()),p(r.cantPageToLast())}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(e,t,n,i){var r={initializeGrid:function(e){r.defaultGridOptions(e.options),e.registerColumnBuilder(r.pinningColumnBuilder);var t={events:{pinning:{columnPinned:function(e,t){}}},methods:{pinning:{pinColumn:function(t,n){r.pinColumn(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enablePinning=!1!==e.enablePinning},pinningColumnBuilder:function(t,o,a){if(t.enablePinning=void 0===t.enablePinning?a.enablePinning:t.enablePinning,t.pinnedLeft?(o.renderContainer="left",o.grid.createLeftContainer()):t.pinnedRight&&(o.renderContainer="right",o.grid.createRightContainer()),t.enablePinning){var s={name:"ui.grid.pinning.pinLeft",title:n.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return void 0===this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,i.container.LEFT)}},l={name:"ui.grid.pinning.pinRight",title:n.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return void 0===this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,i.container.RIGHT)}},u={name:"ui.grid.pinning.unpin",title:n.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return void 0!==this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,i.container.NONE)}};e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinLeft")||o.menuItems.push(s),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinRight")||o.menuItems.push(l),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.unpin")||o.menuItems.push(u)}},pinColumn:function(e,t,n){n===i.container.NONE?(t.renderContainer=null,t.colDef.pinnedLeft=t.colDef.pinnedRight=!1):(t.renderContainer=n,n===i.container.LEFT?e.createLeftContainer():n===i.container.RIGHT&&e.createRightContainer()),e.refresh().then(function(){e.api.pinning.raise.columnPinned(t.colDef,n)})}};return r}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(r.grid)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(e,t,n){return{defaultGridOptions:function(e){e.enableColumnResizing=!1!==e.enableColumnResizing,!1===e.enableColumnResize&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,n,i){var r=[];return e.enableColumnResizing=void 0===e.enableColumnResizing?i.enableColumnResizing:e.enableColumnResizing,!1===e.enableColumnResize&&(e.enableColumnResizing=!1),t.all(r)},registerPublicApi:function(e){var t={events:{colResizable:{columnSizeChanged:function(e,t){}}}};e.api.registerEventsFromObject(t.events)},fireColumnSizeChanged:function(t,i,r){n(function(){t.api.colResizable?t.api.colResizable.raise.columnSizeChanged(i,r):e.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(e,t,n){var i=e.getRenderContainer();if("left"===t){var r=i.visibleColumnCache.indexOf(e);return i.visibleColumnCache[r-1*n]}return e}}}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.defaultGridOptions(r.grid.options),r.grid.registerColumnBuilder(t.colResizerColumnBuilder),t.registerPublicApi(r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(e,t,n,i,r,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,i,s,l){var u=l.grid;if(u.options.enableColumnResizing){var c=t.get("ui-grid/columnResizer"),p=1;u.isRTL()&&(e.position="left",p=-1);var d=function(){for(var t=i[0].getElementsByClassName("ui-grid-column-resizer"),o=0;o<t.length;o++)angular.element(t[o]).remove();var a=r.findTargetCol(e.col,"left",p),s=e.col.getRenderContainer();if(a&&0!==s.visibleColumnCache.indexOf(e.col)&&!1!==a.colDef.enableColumnResizing){var l=angular.element(c).clone();l.attr("position","left"),i.prepend(l),n(l)(e)}if(!1!==e.col.colDef.enableColumnResizing){var u=angular.element(c).clone();u.attr("position","right"),i.append(u),n(u)(e)}};d();var f=function(){a(d)},h=u.registerDataChangeCallback(f,[o.dataChange.COLUMN]);e.$on("$destroy",h)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(e,t,n,i){var r=angular.element('<div class="ui-grid-resize-overlay"></div>');return{priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(o,a,s,l){function u(e){l.grid.refreshCanvas(!0).then(function(){l.grid.queueGridRefresh()})}function c(e,t){var n=t;return e.minWidth&&n<e.minWidth?n=e.minWidth:e.maxWidth&&n>e.maxWidth&&(n=e.maxWidth),n}function p(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),h=(e.targetTouches?e.targetTouches[0]:e).clientX-g,h<0?h=0:h>l.grid.gridWidth&&(h=l.grid.gridWidth);var a=i.findTargetCol(o.col,o.position,v);if(!1!==a.colDef.enableColumnResizing){l.grid.element.hasClass("column-resizing")||l.grid.element.addClass("column-resizing");var s=h-f,u=parseInt(a.drawnWidth+s*v,10);h+=(c(a,u)-u)*v,r.css({left:h+"px"}),l.fireEvent(n.events.ITEM_DRAGGING)}}function d(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),l.grid.element.removeClass("column-resizing"),r.remove(),h=(e.changedTouches?e.changedTouches[0]:e).clientX-g;var n=h-f;if(0===n)return E(),void y();var a=i.findTargetCol(o.col,o.position,v);if(!1!==a.colDef.enableColumnResizing){var s=parseInt(a.drawnWidth+n*v,10);a.width=c(a,s),a.hasCustomWidth=!0,u(n),i.fireColumnSizeChanged(l.grid,a.colDef,n),E(),y()}}var f=0,h=0,g=0,v=1;l.grid.isRTL()&&(o.position="left",v=-1),"left"===o.position?a.addClass("left"):"right"===o.position&&a.addClass("right");var m=function(t,n){t.originalEvent&&(t=t.originalEvent),t.stopPropagation(),g=l.grid.element[0].getBoundingClientRect().left,f=(t.targetTouches?t.targetTouches[0]:t).clientX-g,l.grid.element.append(r),r.css({left:f}),"touchstart"===t.type?(e.on("touchend",d),e.on("touchmove",p),a.off("mousedown",m)):(e.on("mouseup",d),e.on("mousemove",p),a.off("touchstart",m))},y=function(){a.on("mousedown",m),a.on("touchstart",m)},E=function(){e.off("mouseup",d),e.off("touchend",d),e.off("mousemove",p),e.off("touchmove",p),a.off("mousedown",m),a.off("touchstart",m)};y();var b=function(e,r){e.stopPropagation();var s=i.findTargetCol(o.col,o.position,v);if(!1!==s.colDef.enableColumnResizing){var p=0,d=0,f=t.closestElm(a,".ui-grid-render-container"),h=f.querySelectorAll("."+n.COL_CLASS_PREFIX+s.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(h,function(e){var n;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(n=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),t.fakeElement(e,{},function(e){var i=angular.element(e);i.attr("style","float: left");var r=t.elementWidth(i);if(n){r+=t.elementWidth(n)}r>p&&(p=r,d=p-r)})}),s.width=c(s,p),s.hasCustomWidth=!0,u(d),i.fireColumnSizeChanged(l.grid,s.colDef,d)}};a.on("dblclick",b),a.on("$destroy",function(){a.off("dblclick",b),E()})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,t,n,i,r){var o={initializeGrid:function(e,t){t.rowEdit={};var n={events:{rowEdit:{saveRow:function(e){}}},methods:{rowEdit:{setSavePromise:function(e,n){o.setSavePromise(t,e,n)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return o.flushDirtyRows(t)},setRowsDirty:function(e){o.setRowsDirty(t,e)},setRowsClean:function(e){o.setRowsClean(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.api.core.on.renderingComplete(e,function(n){t.api.edit.on.afterCellEdit(e,o.endEditCell),t.api.edit.on.beginCellEdit(e,o.beginEditCell),t.api.edit.on.cancelCellEdit(e,o.cancelEditCell),t.api.cellNav&&t.api.cellNav.on.navigate(e,o.navigate)})},defaultGridOptions:function(e){},saveRow:function(e,t){var n=this;return function(){if(t.isSaving=!0,t.rowEditSavePromise)return t.rowEditSavePromise;var i=e.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(n.processSuccessPromise(e,t),n.processErrorPromise(e,t)):r.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),i}},setSavePromise:function(e,t,n){e.getRow(t).rowEditSavePromise=n},processSuccessPromise:function(e,t){var n=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,n.removeRow(e.rowEdit.errorRows,t),n.removeRow(e.rowEdit.dirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,t.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),o.isRowPresent(e.rowEdit.errorRows,t)||e.rowEdit.errorRows.push(t)}},removeRow:function(e,t){void 0!==e&&null!==e&&e.forEach(function(n,i){n.uid===t.uid&&e.splice(i,1)})},isRowPresent:function(e,t){var n=!1;return e.forEach(function(e,i){e.uid===t.uid&&(n=!0)}),n},flushDirtyRows:function(e){var n=[];return e.api.rowEdit.getDirtyRows().forEach(function(t){o.cancelTimer(e,t),o.saveRow(e,t)(),n.push(t.rowEditSavePromise)}),t.all(n)},endEditCell:function(e,t,n,i){var a=this.grid,s=a.getRow(e);if(!s)return void r.logError("Unable to find rowEntity in grid data, dirty flag cannot be set");(n!==i||s.isDirty)&&(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),s.isDirty||(s.isDirty=!0,a.rowEdit.dirtyRows.push(s)),delete s.isError,o.considerSetTimer(a,s))},beginEditCell:function(e,t){var n=this.grid,i=n.getRow(e);if(!i)return void r.logError("Unable to find rowEntity in grid data, timer cannot be cancelled");o.cancelTimer(n,i)},cancelEditCell:function(e,t){var n=this.grid,i=n.getRow(e);if(!i)return void r.logError("Unable to find rowEntity in grid data, timer cannot be set");o.considerSetTimer(n,i)},navigate:function(e,t){var n=this.grid;e.row.rowEditSaveTimer&&o.cancelTimer(n,e.row),t&&t.row&&t.row!==e.row&&o.considerSetTimer(n,t.row)},considerSetTimer:function(t,n){if(o.cancelTimer(t,n),n.isDirty&&!n.isSaving&&-1!==t.options.rowEditWaitInterval){var i=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;n.rowEditSaveTimer=e(o.saveRow(t,n),i,1)}},cancelTimer:function(t,n){n.rowEditSaveTimer&&!n.isSaving&&(e.cancel(n.rowEditSaveTimer),delete n.rowEditSaveTimer)},setRowsDirty:function(e,t){var n;t.forEach(function(t,i){n=e.getRow(t),n?(e.rowEdit.dirtyRows||(e.rowEdit.dirtyRows=[]),n.isDirty||(n.isDirty=!0,e.rowEdit.dirtyRows.push(n)),delete n.isError,o.considerSetTimer(e,n)):r.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)})},setRowsClean:function(e,t){var n;t.forEach(function(t,i){n=e.getRow(t),n?(delete n.isDirty,o.removeRow(e.rowEdit.dirtyRows,n),o.cancelTimer(e,n),delete n.isError,o.removeRow(e.rowEdit.errorRows,n)):r.logError("requested row not found in rowEdit.setRowsClean, row was: "+t)})}};return o}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(e,r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,n,i){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),i=n.attr("ng-class"),r="";return r=i?i.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",n.attr("ng-class",r),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(e,t,n,i,r,o){var a={initializeGrid:function(e){e.saveState={},this.defaultGridOptions(e.options);var t={events:{saveState:{}},methods:{saveState:{save:function(){return a.save(e)},restore:function(t,n){return a.restore(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.saveWidths=!1!==e.saveWidths,e.saveOrder=!1!==e.saveOrder,e.saveScroll=!0===e.saveScroll,e.saveFocus=!0!==e.saveScroll&&!1!==e.saveFocus,e.saveVisible=!1!==e.saveVisible,e.saveSort=!1!==e.saveSort,e.saveFilter=!1!==e.saveFilter,e.saveSelection=!1!==e.saveSelection,e.saveGrouping=!1!==e.saveGrouping,e.saveGroupingExpandedStates=!0===e.saveGroupingExpandedStates,e.savePinning=!1!==e.savePinning,e.saveTreeView=!1!==e.saveTreeView},save:function(e){var t={};return t.columns=a.saveColumns(e),t.scrollFocus=a.saveScrollFocus(e),t.selection=a.saveSelection(e),t.grouping=a.saveGrouping(e),t.treeView=a.saveTreeView(e),t.pagination=a.savePagination(e),t},restore:function(e,t,n){return n.columns&&a.restoreColumns(e,n.columns),n.scrollFocus&&a.restoreScrollFocus(e,t,n.scrollFocus),n.selection&&a.restoreSelection(e,n.selection),n.grouping&&a.restoreGrouping(e,n.grouping),n.treeView&&a.restoreTreeView(e,n.treeView),n.pagination&&a.restorePagination(e,n.pagination),e.refresh()},saveColumns:function(e){var t=[];return e.getOnlyDataColumns().forEach(function(n){var i={};i.name=n.name,e.options.saveVisible&&(i.visible=n.visible),e.options.saveWidths&&(i.width=n.width),e.options.saveSort&&(i.sort=angular.copy(n.sort)),e.options.saveFilter&&(i.filters=[],n.filters.forEach(function(e){var t={};angular.forEach(e,function(e,n){"condition"!==n&&"$$hashKey"!==n&&"placeholder"!==n&&(t[n]=e)}),i.filters.push(t)})),e.api.pinning&&e.options.savePinning&&(i.pinned=n.renderContainer?n.renderContainer:""),t.push(i)}),t},saveScrollFocus:function(e){if(!e.api.cellNav)return{};var t={};if(e.options.saveFocus){t.focus=!0;var n=e.api.cellNav.getFocusedCell();null!==n&&(null!==n.col&&(t.colName=n.col.colDef.name),null!==n.row&&(t.rowVal=a.getRowVal(e,n.row)))}return(e.options.saveScroll||e.options.saveFocus&&!t.colName&&!t.rowVal)&&(t.focus=!1,e.renderContainers.body.prevRowScrollIndex&&(t.rowVal=a.getRowVal(e,e.renderContainers.body.visibleRowCache[e.renderContainers.body.prevRowScrollIndex])),e.renderContainers.body.prevColScrollIndex&&(t.colName=e.renderContainers.body.visibleColumnCache[e.renderContainers.body.prevColScrollIndex].name)),t},saveSelection:function(e){return e.api.selection&&e.options.saveSelection?e.api.selection.getSelectedGridRows().map(function(t){return a.getRowVal(e,t)}):[]},saveGrouping:function(e){return e.api.grouping&&e.options.saveGrouping?e.api.grouping.getGrouping(e.options.saveGroupingExpandedStates):{}},savePagination:function(e){return e.api.pagination&&e.options.paginationPageSize?{paginationCurrentPage:e.options.paginationCurrentPage,paginationPageSize:e.options.paginationPageSize}:{}},saveTreeView:function(e){return e.api.treeView&&e.options.saveTreeView?e.api.treeView.getTreeView():{}},getRowVal:function(e,t){if(!t)return null;var n={};return e.options.saveRowIdentity?(n.identity=!0,n.row=e.options.saveRowIdentity(t.entity)):(n.identity=!1,n.row=e.renderContainers.body.visibleRowCache.indexOf(t)),n},restoreColumns:function(e,t){var n=!1;t.forEach(function(t,i){var r=e.getColumn(t.name);if(r&&!e.isRowHeaderColumn(r)){!e.options.saveVisible||r.visible===t.visible&&r.colDef.visible===t.visible||(r.visible=t.visible,r.colDef.visible=t.visible,e.api.core.raise.columnVisibilityChanged(r)),e.options.saveWidths&&r.width!==t.width&&(r.width=t.width,r.hasCustomWidth=!0),!e.options.saveSort||angular.equals(r.sort,t.sort)||void 0===r.sort&&angular.isEmpty(t.sort)||(r.sort=angular.copy(t.sort),n=!0),e.options.saveFilter&&!angular.equals(r.filters,t.filters)&&(t.filters.forEach(function(e,t){angular.extend(r.filters[t],e),void 0!==e.term&&null!==e.term||delete r.filters[t].term}),e.api.core.raise.filterChanged()),e.api.pinning&&e.options.savePinning&&r.renderContainer!==t.pinned&&e.api.pinning.pinColumn(r,t.pinned);var o=e.getOnlyDataColumns().indexOf(r);if(-1!==o&&e.options.saveOrder&&o!==i){var a=e.columns.splice(o+e.rowHeaderColumns.length,1)[0];e.columns.splice(i+e.rowHeaderColumns.length,0,a)}}}),n&&e.api.core.raise.sortChanged(e,e.getColumnSorting())},restoreScrollFocus:function(e,t,n){if(e.api.cellNav){var i,r;if(n.colName){var o=e.options.columnDefs.filter(function(e){return e.name===n.colName});o.length>0&&(i=o[0])}n.rowVal&&n.rowVal.row&&(r=n.rowVal.identity?a.findRowByIdentity(e,n.rowVal):e.renderContainers.body.visibleRowCache[n.rowVal.row]);var s=r&&r.entity?r.entity:null;(i||s)&&(n.focus?e.api.cellNav.scrollToFocus(s,i):e.scrollTo(s,i))}},restoreSelection:function(e,t){e.api.selection&&(e.api.selection.clearSelectedRows(),t.forEach(function(t){if(t.identity){var n=a.findRowByIdentity(e,t);n&&e.api.selection.selectRow(n.entity)}else e.api.selection.selectRowByVisibleIndex(t.row)}))},restoreGrouping:function(e,t){e.api.grouping&&void 0!==t&&null!==t&&!angular.equals(t,{})&&e.api.grouping.setGrouping(t)},restoreTreeView:function(e,t){e.api.treeView&&void 0!==t&&null!==t&&!angular.equals(t,{})&&e.api.treeView.setTreeView(t)},restorePagination:function(e,t){e.api.pagination&&e.options.paginationPageSize&&(e.options.paginationCurrentPage=t.paginationCurrentPage,e.options.paginationPageSize=t.paginationPageSize)},findRowByIdentity:function(e,t){if(!e.options.saveRowIdentity)return null;var n=e.rows.filter(function(n){return e.options.saveRowIdentity(n.entity)===t.row});return n.length>0?n[0]:null}};return a}]),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(r.grid)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){e!==this.isSelected&&(this.isSelected=e,this.grid.selection.selectedCount+=e?1:-1)},e}])}]),e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(e,t,n,i){var r={initializeGrid:function(e){e.selection={},e.selection.lastSelectedRow=null,e.selection.selectAll=!1,e.selection.selectedCount=0,r.defaultGridOptions(e.options);var t={events:{selection:{rowSelectionChanged:function(e,t,n){},rowSelectionChangedBatch:function(e,t,n){}}},methods:{selection:{toggleRowSelection:function(t,n){var i=e.getRow(t);null!==i&&r.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},selectRow:function(t,n){var i=e.getRow(t);null===i||i.isSelected||r.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},selectRowByVisibleIndex:function(t,n){var i=e.renderContainers.body.visibleRowCache[t];null===i||void 0===i||i.isSelected||r.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},unSelectRow:function(t,n){var i=e.getRow(t);null!==i&&i.isSelected&&r.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},selectAllRows:function(t){if(!1!==e.options.multiSelect){var n=[];e.rows.forEach(function(i){i.isSelected||!1===i.enableSelection||(i.setSelected(!0),r.decideRaiseSelectionEvent(e,i,n,t))}),r.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!0}},selectAllVisibleRows:function(t){if(!1!==e.options.multiSelect){var n=[];e.rows.forEach(function(i){i.visible?i.isSelected||!1===i.enableSelection||(i.setSelected(!0),r.decideRaiseSelectionEvent(e,i,n,t)):i.isSelected&&(i.setSelected(!1),r.decideRaiseSelectionEvent(e,i,n,t))}),r.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!0}},clearSelectedRows:function(t){r.clearSelectedRows(e,t)},getSelectedRows:function(){return r.getSelectedRows(e).map(function(e){return e.entity})},getSelectedGridRows:function(){return r.getSelectedRows(e)},getSelectedCount:function(){return e.selection.selectedCount},setMultiSelect:function(t){e.options.multiSelect=t},setModifierKeysToMultiSelect:function(t){e.options.modifierKeysToMultiSelect=t},getSelectAllState:function(){return e.selection.selectAll}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableRowSelection=!1!==e.enableRowSelection,e.multiSelect=!1!==e.multiSelect,e.noUnselect=!0===e.noUnselect,e.modifierKeysToMultiSelect=!0===e.modifierKeysToMultiSelect,e.enableRowHeaderSelection=!1!==e.enableRowHeaderSelection,void 0===e.enableFullRowSelection&&(e.enableFullRowSelection=!e.enableRowHeaderSelection),e.enableSelectAll=!1!==e.enableSelectAll,e.enableSelectionBatchEvent=!1!==e.enableSelectionBatchEvent,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=!1!==e.enableFooterTotalSelected,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(e,t,n,i,o){var a=t.isSelected;if(!1!==t.enableSelection||a){var s;i||a?!i&&a&&(s=r.getSelectedRows(e),s.length>1&&(a=!1,r.clearSelectedRows(e,n))):r.clearSelectedRows(e,n),a&&o||(t.setSelected(!a),!0===t.isSelected&&(e.selection.lastSelectedRow=t),s=r.getSelectedRows(e),e.selection.selectAll=e.rows.length===s.length,e.api.selection.raise.rowSelectionChanged(t,n))}},shiftSelect:function(e,t,n,i){if(i){var o=r.getSelectedRows(e),a=o.length>0?e.renderContainers.body.visibleRowCache.indexOf(e.selection.lastSelectedRow):0,s=e.renderContainers.body.visibleRowCache.indexOf(t);if(a>s){var l=a;a=s,s=l}for(var u=[],c=a;c<=s;c++){var p=e.renderContainers.body.visibleRowCache[c];p&&(p.isSelected||!1===p.enableSelection||(p.setSelected(!0),e.selection.lastSelectedRow=p,r.decideRaiseSelectionEvent(e,p,u,n)))}r.decideRaiseSelectionBatchEvent(e,u,n)}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(e,t){var n=[];r.getSelectedRows(e).forEach(function(i){i.isSelected&&(i.setSelected(!1),r.decideRaiseSelectionEvent(e,i,n,t))}),r.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!1,e.selection.selectedCount=0},decideRaiseSelectionEvent:function(e,t,n,i){e.options.enableSelectionBatchEvent?n.push(t):e.api.selection.raise.rowSelectionChanged(t,i)},decideRaiseSelectionBatchEvent:function(e,t,n){t.length>0&&e.api.selection.raise.rowSelectionChangedBatch(t,n)}};return r}]),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,r,o,a){if(t.initializeGrid(a.grid),a.grid.options.enableRowHeaderSelection){var s={name:e.selectionRowHeaderColName,displayName:"",width:a.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};a.grid.addRowHeaderColumn(s,0)}var l=!1,u=function(e){return e.forEach(function(e){e.enableSelection=a.grid.options.isRowSelectable(e)}),e},c=function(){a.grid.options.isRowSelectable!==angular.noop&&!0!==l&&(a.grid.registerRowsProcessor(u,500),l=!0)};c();var p=a.grid.registerDataChangeCallback(c,[i.dataChange.OPTIONS]);n.$on("$destroy",p)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(e,t,n){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,i,r,o){function a(e,n){if(n.stopPropagation(),n.shiftKey)t.shiftSelect(l,e,n,l.options.multiSelect);else if(n.ctrlKey||n.metaKey)t.toggleRowSelection(l,e,n,l.options.multiSelect,l.options.noUnselect);else if(e.groupHeader)for(var i=0;i<e.treeNode.children.length;i++)t.toggleRowSelection(l,e.treeNode.children[i].row,n,l.options.multiSelect,l.options.noUnselect);else t.toggleRowSelection(l,e,n,l.options.multiSelect&&!l.options.modifierKeysToMultiSelect,l.options.noUnselect)}function s(e){(e.ctrlKey||e.shiftKey)&&(e.target.onselectstart=function(){return!1},window.setTimeout(function(){e.target.onselectstart=null},0))}var l=o.grid;e.selectButtonClick=a,"ie"===n.detectBrowser()&&i.on("mousedown",s),e.$on("$destroy",function(){i.off()})}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(e,n,i,r){var o=e.col.grid;e.headerButtonClick=function(e,n){o.selection.selectAll?(t.clearSelectedRows(o,n),o.options.noUnselect&&o.api.selection.selectRowByVisibleIndex(0,n),o.selection.selectAll=!1):o.options.multiSelect&&(o.api.selection.selectAllVisibleRows(n),o.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(e,t,n,i,r,o){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),i=n.attr("ng-class"),r="";return r=i?i.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",n.attr("ng-class",r),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(e,t,n,i,r,o,a){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(e,n,i,r){function s(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&(n.addClass("ui-grid-disable-selection"),n.on("touchstart",p),n.on("touchend",d),n.on("click",c),e.registered=!0)}function l(){e.registered&&(n.removeClass("ui-grid-disable-selection"),n.off("touchstart",p),n.off("touchend",d),n.off("click",c),e.registered=!1)}var u=0;r.grid.api.cellNav&&r.grid.api.cellNav.on.viewPortKeyDown(e,function(t,n){null!==n&&n.row===e.row&&n.col===e.col&&32===t.keyCode&&"selectionRowHeaderCol"===e.col.colDef.name&&(o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply())});var c=function(t){"ui-grid-icon-minus-squared"!==t.target.className&&"ui-grid-icon-plus-squared"!==t.target.className&&(n.off("touchend",d),t.shiftKey?o.shiftSelect(e.grid,e.row,t,e.grid.options.multiSelect):t.ctrlKey||t.metaKey?o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect,e.grid.options.noUnselect):o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply(),a(function(){n.on("touchend",d)},300))},p=function(e){u=(new Date).getTime(),n.off("click",c)},d=function(e){(new Date).getTime()-u<300&&c(e),a(function(){n.on("click",c)},300)};s();var f=e.grid.registerDataChangeCallback(function(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&!e.registered?s():e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection||!e.registered||l()},[t.dataChange.OPTIONS]);n.on("$destroy",f)}}}]),e.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(e,t,n){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(t,i){return{pre:function(t,i,r,o){o.grid.options.showGridFooter&&n.getTemplate("ui-grid/gridFooterSelectedItems").then(function(n){var r=angular.element(n),o=e(r)(t);angular.element(i[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(o)})},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeBase",["ui.grid"]);e.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(e,t,n,i,r,o,a,s){var l={initializeGrid:function(e,t){e.treeBase={},e.treeBase.numberLevels=0,e.treeBase.expandAll=!1,e.treeBase.tree=[],l.defaultGridOptions(e.options),e.registerRowsProcessor(l.treeRows,410),e.registerColumnBuilder(l.treeBaseColumnBuilder),l.createRowHeader(e);var n={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){l.expandAllRows(e)},collapseAllRows:function(){l.collapseAllRows(e)},toggleRowTreeState:function(t){l.toggleRowTreeState(e,t)},expandRow:function(t){l.expandRow(e,t)},expandRowChildren:function(t){l.expandRowChildren(e,t)},collapseRow:function(t){l.collapseRow(e,t)},collapseRowChildren:function(t){l.collapseRowChildren(e,t)},getTreeExpandedState:function(){return{expandedState:l.getTreeState(e)}},setTreeState:function(t){l.setTreeState(e,t)},getRowChildren:function(e){return e.treeNode.children.map(function(e){return e.row})}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.treeRowHeaderBaseWidth=e.treeRowHeaderBaseWidth||30,e.treeIndent=e.treeIndent||10,e.showTreeRowHeader=!1!==e.showTreeRowHeader,e.showTreeExpandNoChildren=!1!==e.showTreeExpandNoChildren,e.treeRowHeaderAlwaysVisible=!1!==e.treeRowHeaderAlwaysVisible,e.treeCustomAggregations=e.treeCustomAggregations||{},e.enableExpandAll=!1!==e.enableExpandAll},treeBaseColumnBuilder:function(e,t,n){void 0!==e.customTreeAggregationFn&&(t.treeAggregationFn=e.customTreeAggregationFn),void 0!==e.treeAggregationType&&(t.treeAggregation={type:e.treeAggregationType},void 0!==n.treeCustomAggregations[e.treeAggregationType]?(t.treeAggregationFn=n.treeCustomAggregations[e.treeAggregationType].aggregationFn,t.treeAggregationFinalizerFn=n.treeCustomAggregations[e.treeAggregationType].finalizerFn,t.treeAggregation.label=n.treeCustomAggregations[e.treeAggregationType].label):void 0!==l.nativeAggregations()[e.treeAggregationType]&&(t.treeAggregationFn=l.nativeAggregations()[e.treeAggregationType].aggregationFn,t.treeAggregation.label=l.nativeAggregations()[e.treeAggregationType].label)),void 0!==e.treeAggregationLabel&&(void 0===t.treeAggregation&&(t.treeAggregation={}),t.treeAggregation.label=e.treeAggregationLabel),t.treeAggregationUpdateEntity=!1!==e.treeAggregationUpdateEntity,void 0===t.customTreeAggregationFinalizerFn&&(t.customTreeAggregationFinalizerFn=e.customTreeAggregationFinalizerFn)},createRowHeader:function(e){var n={name:t.rowHeaderColName,displayName:"",width:e.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};n.visible=e.options.treeRowHeaderAlwaysVisible,e.addRowHeaderColumn(n,-100)},expandAllRows:function(e){e.treeBase.tree.forEach(function(n){l.setAllNodes(e,n,t.EXPANDED)}),e.treeBase.expandAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.treeBase.tree.forEach(function(n){l.setAllNodes(e,n,t.COLLAPSED)}),e.treeBase.expandAll=!1,e.queueGridRefresh()},setAllNodes:function(e,n,i){void 0!==n.state&&n.state!==i&&(n.state=i,i===t.EXPANDED?e.api.treeBase.raise.rowExpanded(n.row):e.api.treeBase.raise.rowCollapsed(n.row)),n.children&&n.children.forEach(function(t){l.setAllNodes(e,t,i)})},toggleRowTreeState:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||(n.treeNode.state===t.EXPANDED?l.collapseRow(e,n):l.expandRow(e,n),e.queueGridRefresh())},expandRow:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==t.EXPANDED&&(n.treeNode.state=t.EXPANDED,e.api.treeBase.raise.rowExpanded(n),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},expandRowChildren:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(e,n.treeNode,t.EXPANDED),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},collapseRow:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==t.COLLAPSED&&(n.treeNode.state=t.COLLAPSED,e.treeBase.expandAll=!1,e.api.treeBase.raise.rowCollapsed(n),e.queueGridRefresh())},collapseRowChildren:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(e,n.treeNode,t.COLLAPSED),e.treeBase.expandAll=!1,e.queueGridRefresh())},allExpanded:function(e){var t=!0;return e.forEach(function(e){l.allExpandedInternal(e)||(t=!1)}),t},allExpandedInternal:function(e){if(e.children&&e.children.length>0){if(e.state===t.COLLAPSED)return!1;var n=!0;return e.children.forEach(function(e){l.allExpandedInternal(e)||(n=!1)}),n}return!0},treeRows:function(e){if(0===e.length)return e;var n=this;t.EXPANDED;return n.treeBase.tree=l.createTree(n,e),l.updateRowHeaderWidth(n),l.sortTree(n),l.fixFilter(n),l.renderTree(n.treeBase.tree)},updateRowHeaderWidth:function(e){var n=e.getColumn(t.rowHeaderColName),i=e.options.treeRowHeaderBaseWidth+e.options.treeIndent*Math.max(e.treeBase.numberLevels-1,0);n&&i!==n.width&&(n.width=i,e.queueRefresh());var r=!0;!1===e.options.showTreeRowHeader&&(r=!1),!1===e.options.treeRowHeaderAlwaysVisible&&e.treeBase.numberLevels<=0&&(r=!1),n&&n.visible!==r&&(n.visible=r,n.colDef.visible=r,e.queueGridRefresh())},renderTree:function(e){var n=[];return e.forEach(function(e){e.row.visible&&n.push(e.row),e.state===t.EXPANDED&&e.children&&e.children.length>0&&(n=n.concat(l.renderTree(e.children)))}),n},createTree:function(e,n){var i,r=-1,o=[];e.treeBase.tree=[],e.treeBase.numberLevels=0;var a=l.getAggregations(e),s=function(n){if(void 0!==n.entity.$$treeLevel&&n.treeLevel!==n.entity.$$treeLevel&&(n.treeLevel=n.entity.$$treeLevel),n.treeLevel<=r){for(;n.treeLevel<=r;){var s=o.pop();l.finaliseAggregations(s),r--}i=o.length>0?l.setCurrentState(o):t.EXPANDED}(void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0)&&n.visible&&l.aggregate(e,n,o),l.addOrUseNode(e,n,o,a),void 0!==n.treeLevel&&null!==n.treeLevel&&n.treeLevel>=0&&(o.push(n),r++,i=l.setCurrentState(o)),e.treeBase.numberLevels<n.treeLevel+1&&(e.treeBase.numberLevels=n.treeLevel+1)};for(n.forEach(s);o.length>0;){var u=o.pop();l.finaliseAggregations(u)}return e.treeBase.tree},addOrUseNode:function(e,n,i,r){var o=[];r.forEach(function(e){o.push(l.buildAggregationObject(e.col))});var a={state:t.COLLAPSED,row:n,parentRow:null,aggregations:o,children:[]};n.treeNode&&(a.state=n.treeNode.state),i.length>0&&(a.parentRow=i[i.length-1]),n.treeNode=a,0===i.length?e.treeBase.tree.push(a):i[i.length-1].treeNode.children.push(a)},setCurrentState:function(e){var n=t.EXPANDED;return e.forEach(function(e){e.treeNode.state===t.COLLAPSED&&(n=t.COLLAPSED)}),n},sortTree:function(e){e.columns.forEach(function(e){e.sort&&e.sort.ignoreSort&&delete e.sort.ignoreSort}),e.treeBase.tree=l.sortInternal(e,e.treeBase.tree)},sortInternal:function(e,n){var i=n.map(function(e){return e.row});i=s.sort(e,i,e.columns);var r=i.map(function(e){return e.treeNode});return r.forEach(function(n){n.state===t.EXPANDED&&n.children&&n.children.length>0&&(n.children=l.sortInternal(e,n.children))}),r},fixFilter:function(e){var t;e.treeBase.tree.forEach(function(e){e.children&&e.children.length>0&&(t=e.row.visible,l.fixFilterInternal(e.children,t))})},fixFilterInternal:function(e,t){return e.forEach(function(e){e.row.visible&&!t&&(l.setParentsVisible(e),t=!0),e.children&&e.children.length>0&&l.fixFilterInternal(e.children,t&&e.row.visible)&&(t=!0)}),t},setParentsVisible:function(e){for(;e.parentRow;)e.parentRow.visible=!0,e=e.parentRow.treeNode},buildAggregationObject:function(e){var t={col:e};return e.treeAggregation&&e.treeAggregation.type&&(t.type=e.treeAggregation.type),e.treeAggregation&&e.treeAggregation.label&&(t.label=e.treeAggregation.label),t},getAggregations:function(e){var t=[];return e.columns.forEach(function(n){void 0!==n.treeAggregationFn&&(t.push(l.buildAggregationObject(n)),e.options.showColumnFooter&&void 0===n.colDef.aggregationType&&n.treeAggregation&&(n.treeFooterAggregation=l.buildAggregationObject(n),n.aggregationType=l.treeFooterAggregationType))}),t},aggregate:function(e,t,n){0===n.length&&t.treeNode&&t.treeNode.aggregations&&t.treeNode.aggregations.forEach(function(n){if(void 0!==n.col.treeFooterAggregation){var i=e.getCellValue(t,n.col),r=Number(i);n.col.treeAggregationFn(n.col.treeFooterAggregation,i,r,t)}}),n.forEach(function(n,i){n.treeNode.aggregations&&n.treeNode.aggregations.forEach(function(n){var r=e.getCellValue(t,n.col),o=Number(r);n.col.treeAggregationFn(n,r,o,t),0===i&&void 0!==n.col.treeFooterAggregation&&n.col.treeAggregationFn(n.col.treeFooterAggregation,r,o,t)})})},nativeAggregations:function(){return{count:{label:o.get().aggregation.count,menuTitle:o.get().grouping.aggregate_count,aggregationFn:function(e,t,n){void 0===e.value?e.value=1:e.value++}},sum:{label:o.get().aggregation.sum,menuTitle:o.get().grouping.aggregate_sum,aggregationFn:function(e,t,n){isNaN(n)||(void 0===e.value?e.value=n:e.value+=n)}},min:{label:o.get().aggregation.min,menuTitle:o.get().grouping.aggregate_min,aggregationFn:function(e,t,n){void 0===e.value?e.value=t:void 0!==t&&null!==t&&(t<e.value||null===e.value)&&(e.value=t)}},max:{label:o.get().aggregation.max,menuTitle:o.get().grouping.aggregate_max,aggregationFn:function(e,t,n){void 0===e.value?e.value=t:void 0!==t&&null!==t&&(t>e.value||null===e.value)&&(e.value=t)}},avg:{label:o.get().aggregation.avg,menuTitle:o.get().grouping.aggregate_avg,aggregationFn:function(e,t,n){void 0===e.count?e.count=1:e.count++,isNaN(n)||(void 0===e.value||void 0===e.sum?(e.value=n,e.sum=n):(e.sum+=n,e.value=e.sum/e.count))}}}},finaliseAggregation:function(e,t){t.col.treeAggregationUpdateEntity&&void 0!==e&&void 0!==e.entity["$$"+t.col.uid]&&angular.extend(t,e.entity["$$"+t.col.uid]),"function"==typeof t.col.treeAggregationFinalizerFn&&t.col.treeAggregationFinalizerFn(t),"function"==typeof t.col.customTreeAggregationFinalizerFn&&t.col.customTreeAggregationFinalizerFn(t),void 0===t.rendered&&(t.rendered=t.label?t.label+t.value:t.value)},finaliseAggregations:function(e){null!=e&&void 0!==e.treeNode.aggregations&&e.treeNode.aggregations.forEach(function(t){if(l.finaliseAggregation(e,t),t.col.treeAggregationUpdateEntity){var n={};angular.forEach(t,function(e,i){t.hasOwnProperty(i)&&"col"!==i&&(n[i]=e)}),e.entity["$$"+t.col.uid]=n}})},treeFooterAggregationType:function(e,t){return l.finaliseAggregation(void 0,t.treeFooterAggregation),void 0===t.treeFooterAggregation.value||null===t.treeFooterAggregation.rendered?"":t.treeFooterAggregation.rendered}};return l}]),e.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,n,i,r){var o=r.grid;e.treeButtonClick=function(e,n){t.toggleRowTreeState(o,e,n)}}}}]),e.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(e,n,i,r){var o=e.col.grid;e.headerButtonClick=function(e,n){o.treeBase.expandAll?t.collapseAllRows(o,n):t.expandAllRows(o,n)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,n,i){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),i=n.attr("ng-class"),r="";return r=i?i.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",n.attr("ng-class",r),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(e,t,n,i,r,o,a,s,l){var u={initializeGrid:function(e,t){i.initializeGrid(e,t),e.treeView={},e.registerRowsProcessor(u.adjustSorting,60);var n={events:{treeView:{}},methods:{treeView:{}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableTreeView=!1!==e.enableTreeView},adjustSorting:function(e){return this.columns.forEach(function(e){e.sort&&(e.sort.ignoreSort=!0)}),e}};return u}]),e.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){!1!==r.grid.options.enableTreeView&&t.initializeGrid(r.grid,e)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.validate",["ui.grid"]);e.service("uiGridValidateService",["$sce","$q","$http","i18nService","uiGridConstants",function(e,t,n,i,r){var o={validatorFactories:{},setExternalFactoryFunction:function(e){o.externalFactoryFunction=e},clearExternalFactory:function(){delete o.externalFactoryFunction},getValidatorFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).validatorFactory(t)},getMessageFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).messageFunction(t)},setValidator:function(e,t,n){o.validatorFactories[e]={validatorFactory:t,messageFunction:n}},getValidator:function(e,t){if(o.externalFactoryFunction){var n=o.getValidatorFromExternalFactory(e,t);if(n)return n}if(!o.validatorFactories[e])throw"Invalid validator name: "+e;return o.validatorFactories[e].validatorFactory(t)},getMessage:function(e,t){if(o.externalFactoryFunction){var n=o.getMessageFromExternalFactory(e,t);if(n)return n}return o.validatorFactories[e].messageFunction(t)},isInvalid:function(e,t){return e["$$invalid"+t.name]},setInvalid:function(e,t){e["$$invalid"+t.name]=!0},setValid:function(e,t){delete e["$$invalid"+t.name]},setError:function(e,t,n){e["$$errors"+t.name]||(e["$$errors"+t.name]={}),e["$$errors"+t.name][n]=!0},clearError:function(e,t,n){e["$$errors"+t.name]&&n in e["$$errors"+t.name]&&delete e["$$errors"+t.name][n]},getErrorMessages:function(e,t){var n=[];return e["$$errors"+t.name]&&0!==Object.keys(e["$$errors"+t.name]).length?(Object.keys(e["$$errors"+t.name]).sort().forEach(function(e){n.push(o.getMessage(e,t.validators[e]))}),n):n},getFormattedErrors:function(t,n){var r="",a=o.getErrorMessages(t,n);if(a.length)return a.forEach(function(e){r+=e+"<br/>"}),e.trustAsHtml("<p><b>"+i.getSafeText("validate.error")+"</b></p>"+r)},getTitleFormattedErrors:function(t,n){var r="",a=o.getErrorMessages(t,n);if(a.length)return a.forEach(function(e){r+=e+"\n"}),e.trustAsHtml(i.getSafeText("validate.error")+"\n"+r)},runValidators:function(e,n,i,r,a){if(i!==r){if(void 0===n.name||!n.name)throw new Error("colDef.name is required to perform validation");o.setValid(e,n);var s=[];for(var l in n.validators){o.clearError(e,n,l);var u=o.getValidator(l,n.validators[l]),c=t.when(u(r,i,e,n)).then(function(e,t,n){return function(s){s||(o.setInvalid(e,t),o.setError(e,t,n),a&&a.api.validate.raise.validationFailed(e,t,i,r))}}(e,n,l));s.push(c)}return t.all(s)}},createDefaultValidators:function(){o.setValidator("minLength",function(e){return function(t,n,i,r){return void 0===n||null===n||""===n||n.length>=e}},function(e){return i.getSafeText("validate.minLength").replace("THRESHOLD",e)}),o.setValidator("maxLength",function(e){return function(t,n,i,r){return void 0===n||null===n||""===n||n.length<=e}},function(e){return i.getSafeText("validate.maxLength").replace("THRESHOLD",e)}),o.setValidator("required",function(e){return function(t,n,i,r){return!e||!(void 0===n||null===n||""===n)}},function(e){return i.getSafeText("validate.required")})},initializeGrid:function(e,t){t.validate={isInvalid:o.isInvalid,getFormattedErrors:o.getFormattedErrors,getTitleFormattedErrors:o.getTitleFormattedErrors,runValidators:o.runValidators};var n={events:{validate:{validationFailed:function(e,t,n,i){}}},methods:{validate:{isInvalid:function(e,n){return t.validate.isInvalid(e,n)},getErrorMessages:function(e,n){return t.validate.getErrorMessages(e,n)},getFormattedErrors:function(e,n){return t.validate.getFormattedErrors(e,n)},getTitleFormattedErrors:function(e,n){return t.validate.getTitleFormattedErrors(e,n)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.edit&&t.api.edit.on.afterCellEdit(e,function(e,n,i,r){t.validate.runValidators(e,n,i,r,t)}),o.createDefaultValidators()}};return o}]),e.directive("uiGridValidate",["gridUtil","uiGridValidateService",function(e,t){return{priority:0,replace:!0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(e,r.grid)},post:function(e,t,n,i){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-style="col.extraStyle" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" aria-label="{{colFilter.ariaLabel || aria.defaultFilterLabel}}"><div role="button" class="ui-grid-filter-button" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-show="colFilter.selectOptions.length > 0" ng-attr-placeholder="{{colFilter.placeholder || aria.defaultFilterLabel}}" aria-label="{{colFilter.ariaLabel || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div role="button" class="ui-grid-filter-button-select" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term != null"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div></div>'),e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row">\x3c!-- tfooter --\x3e<div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-footer-cell-row"><div ui-grid-footer-cell role="gridcell" ng-repeat="col in colContainer.renderedColumns track by col.uid" col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),e.put("ui-grid/ui-grid-header",'<div role="rowgroup" class="ui-grid-header">\x3c!-- theader --\x3e<div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button"><div role="button" ui-grid-one-bind-id-grid="\'grid-menu\'" class="ui-grid-icon-container" ng-click="toggleMenu()" aria-haspopup="true"><i class="ui-grid-icon-menu" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row","<div ng-repeat=\"(colRenderIndex, col) in colContainer.renderedColumns track by col.uid\" ui-grid-one-bind-id-grid=\"rowRenderIndex + '-' + col.uid + '-cell'\" class=\"ui-grid-cell\" ng-class=\"{ 'ui-grid-row-header-cell': col.isRowHeader }\" role=\"{{col.isRowHeader ? 'rowheader' : 'gridcell'}}\" ui-grid-cell></div>"),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid">\x3c!-- TODO (c0bra): add "scoped" attr here, eventually? --\x3e<style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems">\x3c!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --\x3e</div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div role="columnheader" ng-class="{ \'sortable\': sortable }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'">{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + \' \' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"></i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><style ui-grid-style>{{dynamicStyles}}</style><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul role="menu" class="ui-grid-menu-items"><li ng-repeat="item in menuItems" role="menuitem" ui-grid-menu-item ui-grid-one-bind-id="\'menuitem-\'+$index" action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen" screen-reader-only="item.screenReaderOnly"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<button type="button" class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\': active(), \'ui-grid-sr-only\': (!focus && screenReaderOnly) }" aria-pressed="{{active()}}" tabindex="0" ng-focus="focus=true" ng-blur="focus=false"><i ng-class="icon" aria-hidden="true">&nbsp;</i> {{ label() }}</button>'),e.put("ui-grid/uiGridRenderContainer","<div role=\"grid\" ui-grid-one-bind-id-grid=\"'grid-container'\" class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\">\x3c!-- All of these dom elements are replaced in place --\x3e<div ui-grid-header></div><div ui-grid-viewport></div><div ng-if=\"colContainer.needsHScrollbarPlaceholder()\" class=\"ui-grid-scrollbar-placeholder\" ng-style=\"{height:colContainer.grid.scrollbarHeight + 'px'}\"></div><ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></ui-grid-footer></div>"),e.put("ui-grid/uiGridViewport",'<div role="rowgroup" class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()">\x3c!-- tbody --\x3e<div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div role="row" ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/emptyBaseLayerContainer",'<div class="ui-grid-empty-base-layer-container ui-grid-canvas"><div class="ui-grid-row" ng-repeat="(rowRenderIndex, row) in grid.baseLayer.emptyRows track by $index" ng-style="Viewport.rowStyle(rowRenderIndex)"><div><div><div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell {{ col.getColClass(false) }}"></div></div></div></div></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\', height: row.expandedRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-if="!(row.groupHeader==true || row.entity.subGridOptions.disableRowExpandable)" ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px', height: row.expandedRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{'margin-top': ( row.expandedRowHeight/2 - 5) + 'px', 'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px'}\"></i></div>"),e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div role="contentinfo" class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div role="navigation" class="ui-grid-pager-container"><div role="menubar" class="ui-grid-pager-control"><button type="button" role="menuitem" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst" ui-grid-one-bind-aria-label="aria.pageToFirst" ng-click="pageFirstPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle\' : \'first-triangle\'"><div ng-class="grid.isRTL() ? \'last-bar-rtl\' : \'first-bar\'"></div></div></button> <button type="button" role="menuitem" class="ui-grid-pager-previous" ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack" ng-click="pagePreviousPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle prev-triangle\' : \'first-triangle prev-triangle\'"></div></button> <input type="number" ui-grid-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected" class="ui-grid-pager-control-input" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0"><abbr ui-grid-one-bind-title="paginationOf">/</abbr> {{ paginationApi.getTotalPages() }}</span> <button type="button" role="menuitem" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward" ui-grid-one-bind-aria-label="aria.pageForward" ng-click="pageNextPageClick()" ng-disabled="cantPageForward()"><div ng-class="grid.isRTL() ? \'first-triangle next-triangle\' : \'last-triangle next-triangle\'"></div></button> <button type="button" role="menuitem" class="ui-grid-pager-last" ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast" ng-click="pageLastPageClick()" ng-disabled="cantPageToLast()"><div ng-class="grid.isRTL() ? \'first-triangle\' : \'last-triangle\'"><div ng-class="grid.isRTL() ? \'first-bar-rtl\' : \'last-bar\'"></div></div></button></div><div class="ui-grid-pager-row-count-picker" ng-if="grid.options.paginationPageSizes.length > 1 && !grid.options.useCustomPagination"><select ui-grid-one-bind-aria-labelledby-grid="\'items-per-page-label\'" ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span ui-grid-one-bind-id-grid="\'items-per-page-label\'" class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div><span ng-if="grid.options.paginationPageSizes.length <= 1" class="ui-grid-pager-row-count-label">{{grid.options.paginationPageSize}}&nbsp;{{sizesLabel}}</span></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{ 1 + paginationApi.getFirstRowIndex() }} <abbr ui-grid-one-bind-title="paginationThrough">-</abbr> {{ 1 + paginationApi.getLastRowIndex() }} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div>\x3c!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --\x3e<div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons ng-if="grid.options.enableExpandAll"></ui-grid-tree-base-expand-all-buttons></div></div>'),e.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),e.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"></i> &nbsp;</div>"),e.put("ui-grid/cellTitleValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" title="{{grid.validate.getTitleFormattedErrors(row.entity,col.colDef)}}">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/cellTooltipValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" tooltip-html-unsafe="{{grid.validate.getFormattedErrors(row.entity,col.colDef)}}" tooltip-enable="grid.validate.isInvalid(row.entity,col.colDef)" tooltip-append-to-body="true" tooltip-placement="top" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>')}])},function(e,t){!function(){"use strict";angular.module("ui.toggle",[]).value("$toggleSuppressError",!1).constant("toggleConfig",{on:"On",off:"Off",size:"",onstyle:"btn-primary",offstyle:"btn-default",style:""}).controller("ToggleController",["$scope","$attrs","$interpolate","$log","toggleConfig","$toggleSuppressError",function(e,t,n,i,r,o){var a=this,s={$setViewValue:angular.noop};angular.forEach(["on","off","size","onstyle","offstyle","style"],function(i,o){a[i]=angular.isDefined(t[i])?o<6?n(t[i])(e.$parent):e.$parent.$eval(t[i]):r[i]}),this.init=function(n){s=n,a.computeStyle(),s.$render=function(){a.toggle()},s.$viewChangeListeners.push(function(){e.$eval(t.ngChange)})},this.computeStyle=function(){var t=a.element.find("label");angular.element(t[0]).html(a.on),angular.element(t[1]).html(a.off);var n=a.element.find("span"),i=a.width||Math.max(t[0].offsetWidth,t[1].offsetWidth)+n[0].offsetWidth/2,r=a.height||Math.max(t[0].offsetHeight,t[1].offsetHeight),o=a.element.find("div"),s=o[0].offsetWidth,l=o[1].offsetHeight;e.wrapperStyle={},e.wrapperStyle.width=s<i?i+"px":s+"px",l<r&&"btn-xs"!==a.size&&"btn-sm"!==a.size?e.wrapperStyle.height=r+"px":e.wrapperStyle.height=l+"px",e.onClass=[a.onstyle,a.size,"toggle-on"],e.offClass=[a.offstyle,a.size,"toggle-off"],e.handleClass=[a.size,"toggle-handle"]},this.toggle=function(){angular.isDefined(s.$viewValue)?this.isOn=s.$viewValue:this.isOn=!1,this.isOn?e.wrapperClass=[a.onstyle,a.size,a.style]:e.wrapperClass=[a.offstyle,"off ",a.size,a.style]},e.onSwitch=function(e){s.$setViewValue(!s.$viewValue),s.$render()},angular.forEach(["ngModel"],function(n){var i=e.$parent.$watch(t[n],function(e){s.$render()});e.$parent.$on("$destroy",function(){i()})}),angular.forEach(["on","off","size","onstyle","offstyle","style"],function(e){t.$observe(e,function(t){a[e]!==t&&(a[e]=t,a.computeStyle())})})}]).directive("toggle",function(){return{restrict:"E",transclude:!0,template:'<div class="toggle btn" ng-class="wrapperClass" ng-style="wrapperStyle" ng-click="onSwitch()"><div class="toggle-group"><label class="btn" ng-class="onClass"></label><label class="btn active" ng-class="offClass"></label><span class="btn btn-default" ng-class="handleClass"></span></div></div>',scope:{bindModel:"=ngModel"},require:["toggle","ngModel"],controller:"ToggleController",controllerAs:"toggle",compile:function(e,t,n){return{pre:function(e,t,n,i){var r=i[0],o=i[1];r.element=t,r.init(o)},post:function(){}}}}})}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(230);t.default=function(e){return"string"==typeof e?new i.a(document.querySelector(e)):new i.a(e)}},function(e,t,n){"use strict";var i=n(451),r=n(235);const o={totalAngle:360,spaceDeg:0,background:"#323232",backgroundHover:"#515151",pageBackground:"transparent",percent:.32,diameter:300,position:"top",horizontal:!0,animation:"into",hideAfterClick:!0};t.a=function(e){return e=Object(r.a)(o,e),this._creator=new i.a(this,e),this._creator.createMenu(),this}},function(e,t,n){"use strict";function i(e,t){this._cMenu=e,this._container=e._container,this._config=t,this._calc=new r.a(t),this._anchors=[]}t.a=i;var r=n(452),o=n(460),a=n(461),s=n(463),l=n(464),u=n(465),c=n(234),p=n(466),d=n(467);i.prototype={constructor:i,createMenu:s.a,_createLists:o.a,_createList:a.a,_createAnchor:l.a,_createText:u.a,_createHorizontal:p.a,_createIcon:c.a,_createSubMenu:d.a}},function(e,t,n){"use strict";function i(e){this._config=e;var t=this.config=e,n=t.menus.length,i=360===t.totalAngle?n:n-1;this.radius=e.diameter/2,this.coverRadius=Object(s.a)(this.radius,e.percent),this.clickZoneRadius=this.radius-this.coverRadius,this.listSize=Object(c.a)(e),this.clickZoneSize=Object(u.a)(e),this.menuSize=Object(l.a)(e),this.coverSize=Object(s.b)(this.coverRadius),this.startDeg=Object(a.a)(e),this.centralDeg=(t.totalAngle-t.spaceDeg*i)/n,this.rotateUnit=this.centralDeg+t.spaceDeg,this.skewDeg=90-this.centralDeg,this.unskewDeg=-(90-this.centralDeg/2),this.textTop=Object(p.a)(this.clickZoneRadius)}t.a=i;var r=n(453),o=n(454),a=n(455),s=n(456),l=n(457),u=n(231),c=n(458),p=n(459);i.prototype={constructor:i,rotateDeg:r.a,horizontalDeg:o.a}},function(e,t,n){"use strict";function i(e){return this.startDeg+this.rotateUnit*e}t.a=i},function(e,t,n){"use strict";function i(e){return-(this.rotateDeg(e)+this.unskewDeg)}t.a=i},function(e,t,n){"use strict";function i(e){var t=-(e.totalAngle-180)/2,n={top:t,left:t-90,right:t+90,bottom:t+180};return void 0!==e.start?e.start:n[e.position]}t.a=i},function(e,t,n){"use strict";function i(e,t){var n=e*e*2;return Math.sqrt(n)*t+r}t.a=i;const r=3;t.b=function(e){var t=2*e,n=-t/2;return t+="px",n+="px",{width:t,height:t,marginLeft:n,marginTop:n}}},function(e,t,n){"use strict";t.a=function(e){var t=e.diameter,n=-e.diameter/2;return t+="px",n+="px",{width:t,height:t,marginLeft:n,marginTop:n}}},function(e,t,n){"use strict";t.a=function(e){var t=e.diameter/2+"px";return{width:t,height:t}}},function(e,t,n){"use strict";var i=n(231);t.a=function(e){return.41*e-i.b+"px"}},function(e,t,n){"use strict";t.a=function(e){this._config.menus.forEach(function(t,n){this._createList(e,t,n)},this)}},function(e,t,n){"use strict";var i=n(37);t.a=function(e,t,n){var r=document.createElement("li");Object(i.a)(r,"width",this._calc.listSize.width),Object(i.a)(r,"height",this._calc.listSize.height),Object(i.a)(r,"transform","rotate("+this._calc.rotateDeg(n)+"deg) skew("+this._calc.skewDeg+"deg)"),e.appendChild(r),this._createAnchor(r,t,n)}},function(e,t,n){"use strict";t.a=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}},function(e,t,n){"use strict";var i=n(38),r=n(37),o=n(232),a=n(233);t.a=function(){var e=this._container;Object(i.a)(e,"circular-menu",!0),Object(r.a)(e,"width",this._calc.menuSize.width),Object(r.a)(e,"height",this._calc.menuSize.height),Object(r.a)(e,"margin-top",this._calc.menuSize.marginTop),Object(r.a)(e,"margin-left",this._calc.menuSize.marginLeft);var t=this;Object(a.a)(e,"click",function(n){n.toElement===e&&t._cMenu.hide()}),setTimeout(function(){Object(r.a)(e,"display","block")},100),Object(o.a)(e,"width",this._calc.coverSize.width,"after"),Object(o.a)(e,"height",this._calc.coverSize.height,"after"),Object(o.a)(e,"margin-left",this._calc.coverSize.marginLeft,"after"),Object(o.a)(e,"margin-top",this._calc.coverSize.marginTop,"after"),Object(o.a)(e,"border","3px solid "+this._config.pageBackground,"after");var n=e.appendChild(document.createElement("ul"));this._createLists(n)}},function(e,t,n){"use strict";function i(e){return e instanceof Array&&0!==e.length}function r(e){return e instanceof Function?e():Boolean(e)}function o(e,t){t&&(t instanceof Object?(e.href=t.url,e.target=t.blank?"_blank":""):e.href=t)}var a=n(37),s=n(38),l=n(233),u=n(232),c=null;t.a=function(e,t,n){function p(e,t){t.click&&t.click.call(this,e,t),d._config.hideAfterClick&&(d._cMenu.hide(),d._cMenu._pMenu&&d._cMenu._pMenu.hide(),v&&v.hide())}var d=this,f=null,h=document.createElement("a");o(h,t.href),h.setDisabled=function(){Object(s.a)(h,"disabled",r(t.disabled))},this._anchors.push(h),Object(a.a)(h,"width",this._calc.clickZoneSize.width),Object(a.a)(h,"height",this._calc.clickZoneSize.height),Object(a.a)(h,"right",this._calc.clickZoneSize.marginRight),Object(a.a)(h,"bottom",this._calc.clickZoneSize.marginBottom),Object(a.a)(h,"transform","skew("+-this._calc.skewDeg+"deg) rotate("+this._calc.unskewDeg+"deg) scale(1)"),Object(s.a)(h,"disabled",r(t.disabled));var g=100*this._config.percent+"%";if(Object(u.a)(h,"background","radial-gradient(transparent "+g+", "+this._config.background+" "+g+")"),Object(u.a)(h,"background","radial-gradient(transparent "+g+", "+this._config.backgroundHover+" "+g+")","hover"),Object(l.a)(h,"click",p,t),e.appendChild(h),this._createHorizontal(h,t,n),i(t.menus)){var v=this._createSubMenu(d,t.menus,n);Object(l.a)(h,"mouseenter",function(){c=setTimeout(function(){v.styles({top:d._container.offsetTop+d._calc.radius+"px",left:d._container.offsetLeft+d._calc.radius+"px"}).show()},150)}),Object(l.a)(h,"mouseleave",function(e){v._container.contains(e.toElement)||(f=setTimeout(function(){v.hide()},200))}),Object(l.a)(v._container,"mouseenter",function(){clearTimeout(c),clearTimeout(f)}),Object(l.a)(v._container,"mouseleave",function(e){h.contains(e.toElement)&&e.toElement.children[0]!==h||v.hide()})}}},function(e,t,n){"use strict";var i=n(37),r=n(38),o=n(234);t.a=function(e,t,n){var a=document.createElement("span");a.textContent=t.title,Object(r.a)(a,"text",!0),Object(i.a)(a,"margin-top",Object(o.b)(t.icon)?"3px":this._calc.textTop),Object(i.a)(a,"top",Object(o.b)(t.icon)?"-3px":0),e.appendChild(a)}},function(e,t,n){"use strict";var i=n(37),r=n(38);t.a=function(e,t,n){var o=document.createElement("div");Object(r.a)(o,"horizontal",!0),this._config.horizontal&&Object(i.a)(o,"transform","rotate("+this._calc.horizontalDeg(n)+"deg)"),e.appendChild(o),this._createIcon(o,t,n),this._createText(o,t,n)}},function(e,t,n){"use strict";function i(e,t,n){var i=document.createElement("div");Object(r.a)(i,"circular-sub-menu",!0),this._container.parentNode.insertBefore(i,this._container);var c=this._calc.centralDeg*u*t.length,p=this._calc.rotateDeg(n)-c/2+this._calc.centralDeg/2,d=Object(a.a)(this._config,{totalAngle:c,percent:l,diameter:this._config.diameter*s,start:p,animation:"into",menus:t});return new o.a(i,e._cMenu).config(d)}t.a=i;var r=n(38),o=n(230),a=n(235);const s=5/3,l=.45,u=.618},function(e,t,n){"use strict";function i(e){e instanceof Array&&2===e.length&&(Object(a.a)(this._container,"left",e[0]+"px"),Object(a.a)(this._container,"top",e[1]+"px"))}function r(){this._creator._anchors.forEach(function(e){e.setDisabled()})}var o=n(38),a=n(37);t.a=function(e){return r.call(this),i.call(this,e),Object(o.a)(this._container,"opened-nav",!0),this}},function(e,t,n){"use strict";var i=n(38);t.a=function(){return Object(i.a)(this._container,"opened-nav",!1),this}},function(e,t,n){"use strict";var i=n(37);t.a=function(e){if(!e instanceof Object)return this;for(var t in e)e.hasOwnProperty(t)&&Object(i.a)(this._container,t,e[t]);return this}},function(e,t,n){function i(e){var t="";return t+='<div class="main-table" ng-style="$ctrl.tableWidthStyle()"><uib-tabset type="tabs"><uib-tab ng-repeat="class in $ctrl.allClasses()" index="$index" heading="{{ class.labels | prefLang }}"><div class="main-grid" id="{{ \'grid\' + $index }}" ui-grid="$ctrl.gridOptions[class.value]" ng-if="$ctrl.state.active.dividerPercent &gt; 2" ui-grid-edit ui-grid-resize-columns></div></uib-tab></uib-tabset></div><div class="main-canvas" ng-style="$ctrl.canvasWidthStyle()"><div class="control-area"><button class="active-circle-button" uib-popover-template="\'viewOptionsPopover.html\'" popover-trigger="\'outsideClick\'" popover-placement="auto left-top" popover-class="active-options-popover" popover-is-open="$ctrl.viewOptionsPopoverVisible" ng-class="{true: \'button-active\', false: \'\'}[$ctrl.viewOptionsPopoverVisible]"><img class="view-options-icon" src="./app/images/active/view_options.svg"></button><button class="active-circle-button" uib-popover-template="\'layersPopover.html\'" popover-trigger="\'outsideClick\'" popover-placement="auto left-top" popover-class="active-options-popover" popover-is-open="$ctrl.layersPopoverVisible" ng-class="{true: \'button-active\', false: \'\'}[$ctrl.layersPopoverVisible]"><img class="layers-icon" src="./app/images/active/layers.svg"></button><button class="active-circle-button" uib-popover-template="\'snapshotsPopover.html\'" popover-trigger="\'outsideClick\'" popover-placement="auto left-top" popover-class="active-options-popover" popover-is-open="$ctrl.snapshotsPopoverVisible" ng-class="{true: \'button-active\', false: \'\'}[$ctrl.snapshotsPopoverVisible]"><img class="snapshots-icon" src="./app/images/active/snapshot.svg"></button><button class="active-circle-button button-disabled" disabled uib-popover-template="\'layoutsPopover.html\'" popover-trigger="\'outsideClick\'" popover-placement="auto left-top" popover-class="active-options-popover" popover-is-open="$ctrl.layoutsPopoverVisible" ng-class="{true: \'button-active\', false: \'\'}[$ctrl.layoutsPopoverVisible]"><img class="layouts-icon" src="./app/images/active/layout.svg"></button></div><svg class="main-svg"><g class="main-g"><rect class="main-background"></rect><g class="main-g-links"></g><g class="main-g-items"></g></g></svg></div><div class="draggable-divider" drag-container="true" on-drag-end="dragging = false; $ctrl.dragDivider($event)" on-drag="$ctrl.dragDivider($event)" ng-style="$ctrl.dragTabLeftStyle()"><div class="drag-tab" ng-hide="$ctrl.state.active.dividerPercent &gt; 2 &amp;&amp; $ctrl.state.active.dividerPercent &lt; 98"></div></div><div class="node-search" ng-show="$ctrl.currentlyAdding"><div class="input-group"><div class="input-group-addon addon-left"><i class="glyphicon glyphicon-search" ng-hide="loadingSearchResults"></i><div class="spinner" ng-if="loadingSearchResults"></div></div><input class="form-control" type="text" ng-model="$ctrl.nodeSearchSelected" placeholder="Search" uib-typeahead="result as $ctrl.nodeSearchLabel(result) for result in $ctrl.nodeSearchResults($viewValue)" typeahead-popup-template-url="resultPopupTemplate.html" typeahead-template-url="resultTemplate.html" typeahead-loading="loadingSearchResults" typeahead-no-results="noResults" typeahead-on-select="$ctrl.nodeSearchSelect($item, $model, $label, $event)" typeahead-wait-ms="1000"><div class="input-group-addon addon-right" ng-click="$ctrl.nodeSearchRemove()"><img class="dismiss-icon" src="./app/images/filter/remove.svg"></div></div><div class="type-results-only" ng-show="!noResults &amp;&amp; loadingSearchResults"><div class="fake-typeahead"><label class="cold-node" ng-click="$ctrl.addColdNode($ctrl.nodeSearchSelected)">Add "{{ $ctrl.nodeSearchSelected }}" as an unlinked node</label><ul class="list-style-none"><li class="cold-node">Add "{{ $ctrl.nodeSearchSelected }}" as a new type</li><li class="result-type-container-loading" ng-repeat="type in $ctrl.allClassesFiltered($ctrl.nodeSearchSelected)"> <label class="resultType">TYPE</label><label class="resultActual">{{ type.labels | prefLang }}</label></li></ul></div></div><div class="no-results-container" ng-show="noResults"><div class="fake-typeahead"><label class="cold-node" ng-click="$ctrl.addColdNode($ctrl.nodeSearchSelected)">Add "{{ $ctrl.nodeSearchSelected }}" as an unlinked node</label><ul class="list-style-none"><li class="cold-node">Add "{{ $ctrl.nodeSearchSelected }}" as a new type</li><li class="result-type-container-loading" ng-repeat="type in $ctrl.allClassesFiltered($ctrl.nodeSearchSelected)"> <label class="resultType">TYPE</label><label class="resultActual">{{ type.labels | prefLang }}</label></li></ul><label class="no-results">No Results Found!</label></div></div></div><div class="circle-menu" id="circle-menu"></div><div class="circle-menu" id="properties-menu"></div><div class="tooltips"></div><div class="link-tooltips"></div><script type="text/ng-template" id="resultTemplate.html"><a ng-if="match.model"><span class="resultType">{{ match.model.additionalInformation.typeDescriptions | prefLang }}</span><span class="resultActual">{{ match.label }}</span><label class="resultSource" ng-repeat="ds in match.model.additionalInformation.dataSourceDescriptions">{{ ds.value | makeAcronym }}</label></a><a ng-if="!match.model"><label class="resultType type-label">TYPE</label><label class="resultActual">{{ match.labels | prefLang }}</label></a><\/script><script type="text/ng-template" id="resultPopupTemplate.html"><div class="custom-popup-wrapper" ng-style="{top:position().top+\'px\', left: position().left+\'px\'}" style="display: block;" ng-show="isOpen() &amp;&amp; !moveInProgress" aria-hidden="{{!isOpen()}}"><label class="cold-node" ng-click="$parent.$ctrl.addColdNode(query)">Add "{{ query }}" as an unlinked node</label><label class="cold-node">Add "{{ query }}" as a new type</label><ul class="dropdown-menu" role="listbox"><li class="uib-typeahead-match result-type-container" ng-repeat="type in $parent.$ctrl.allClassesFiltered(query)"><div uib-typeahead-match index="$index" match="type" query="query" template-url="templateUrl"></div></li><li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}"><div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div></li></ul></div><\/script><script type="text/ng-template" id="viewOptionsPopover.html"><div class="view-options-popover pop-on-top"><h4>View options</h4><hr><label class="optionToggle"><input type="checkbox" ng-model="$ctrl.viewOptionsShowLinks" ng-click="$ctrl.updateCanvas()"><span class="checkbox-title">Show links</span></label><hr><label class="optionToggle"><input type="checkbox" ng-model="$ctrl.viewOptionsShowLabels" ng-click="$ctrl.viewOptionsShowLabels ? $ctrl.showTooltips() : $ctrl.hideTooltips()"><span class="checkbox-title">Show node labels</span></label><label class="optionToggle"><input type="checkbox" ng-model="$ctrl.viewOptionsShowLinkLabels" ng-click="$ctrl.viewOptionsShowLinkLabels ? $ctrl.showLinkTooltips() : $ctrl.hideLinkTooltips()"><span class="checkbox-title">Show link labels</span></label><hr><label class="optionToggle"><input type="checkbox"><span class="checkbox-title">Show node reconciliation status</span></label><p class="description option-description"></p></div><\/script><script type="text/ng-template" id="layersPopover.html"><div class="layers-popover pop-on-top"><h4>Layers</h4><hr><div class="layer-toggle" ng-repeat="class in $ctrl.allClasses()"><toggle ng-model="toggleValue" on="Nodes" off="Links" ng-change="changed()" onstyle="custom" offstyle="custom"></toggle><span class="checkbox-title">{{ class.labels | prefLang }}</span></div></div><\/script><script type="text/ng-template" id="snapshotsPopover.html"><div class="snapshots-popover pop-on-top"><h4>Snapshots</h4><hr><input class="snapshot-name-input" type="text"><span class="snapshot-save-button">Save snapshot</span><hr><div class="snapshot-list"><div class="snapshot-row"><label class="snapshot-name-label">Donzellini central</label><label class="snapshot-option">Delete</label><label class="snapshot-option">Load</label></div></div></div><\/script><script type="text/ng-template" id="layoutsPopover.html"><div class="layouts-popover pop-on-top"><h4>Layouts</h4><hr></div><\/script>'}n(9);e.exports=i},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FilterComponent=t.FilterComponentController=void 0;var o=n(473),a=r(o),s=n(1),l=r(s),u=n(2),c=r(u),p=n(0),d=i(p);n(228),n(229);var f=n(101),h=i(f);n(479);var g=t.FilterComponentController=function(){function e(t,n,i,r,o,a,s,u,c){var p=this;(0,l.default)(this,e),this.projectService=t,this.itemsService=n,this.$scope=i,this.$q=r,this.$ngRedux=o,this.$document=a,this.propertyService=s,this.filterActionService=u,this.projectActionService=c,this.state={},this.allItems=[],this.histogramWidth=1e3,this.histogramHeight=100,this.histogramData=[{key:"1900",count:4},{key:"1910",count:9},{key:"1920",count:17},{key:"1930",count:5},{key:"1940",count:10},{key:"1950",count:22},{key:"1960",count:0},{key:"1970",count:8},{key:"1980",count:21},{key:"1990",count:12}],this.histogramRectangles=[],this.min=0,this.max=2500,this.slideMin=this.min,this.slideMax=this.max,this.slider={min:0,max:2500,ceil:2500,floor:0};o.connect(function(e){return{project:e.project,sources:e.sources,filter:e.filter}})(this.state);this.itemsService.getAllItems().then(function(e){p.allItems=e}),this.selectedClass=this.getActiveClasses()[0],this.localFilterTree=d.copy(this.state.filter.filtersByClass);var f=this.state.filter.filtersByClass;o.subscribe(function(){p.state.filter.filtersByClass!==f&&(p.localFilterTree=d.copy(p.state.filter.filtersByClass),f=p.state.filter.filtersByClass)}),this.histogramRectangles=this.generateHistogram(this.histogramData)}return e.$inject=["projectService","itemsService","$scope","$q","$ngRedux","$document","propertyService","filterActionService","projectActionService"],(0,c.default)(e,[{key:"addFilter",value:function(e,t){this.filterActionService.setFilter(e,t,this.propertyService)}},{key:"removeFilter",value:function(e,t){this.filterActionService.removeFilter(e,t)}},{key:"setFilterSelection",value:function(e,t,n,i,r){this.filterActionService.setFilterSelection(e,t,[i,r])}},{key:"getActiveClasses",value:function(){var e=this,t=[];return new a.default(this.state.sources.archiveSources.concat(this.state.sources.authoritySources).map(function(t){return h.keys(e.state.project.project.sourceClassSettings[t.id])}).reduce(function(e,t){return e.concat(t)},[])).forEach(function(n){return t.push(e.state.project.project.dataModel.classMap.s[n])}),t}},{key:"slideOptionsFromFilter",value:function(e){var t={draggableRange:!0,showTicks:e.domain[1]/10,showTicksValues:!0,onEnd:this.setFilterSelection.bind(this,e.clss,e.prop)};switch(e.prop.type){case"DateTime":t.floor=h.timeParse("%Y-%m-%d")(e.prop.minimumValue.value).getFullYear(),t.ceil=h.timeParse("%Y-%m-%d")(e.prop.maximumValue.value).getFullYear();break;default:t.floor=0,t.ceil=2550}return t.showTicks=t.ceil/10,t}},{key:"dragDivider",value:function(e){var t=100*e.clientX/window.innerWidth;this.filterActionService.setFilterDividerPercentage(t>98?100:t<2?0:t)}},{key:"tableWidthStyle",value:function(){return{width:this.state.filter.dividerPercent+"%"}}},{key:"canvasWidthStyle",value:function(){return{width:100-this.state.filter.dividerPercent+"%",left:this.state.filter.dividerPercent+"%"}}},{key:"dragTabLeftStyle",value:function(){return{left:this.state.filter.dividerPercent+"%"}}},{key:"map_range",value:function(e,t,n,i,r){return i+(r-i)*(e-t)/(n-t)}},{key:"generateHistogram",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].count);for(var i=(Math.min.apply(Math,t),Math.max.apply(Math,t)),r=[],o=1547/e.length,a=0;a<e.length;a++){var s=this.map_range(e[a].count,0,i,0,100),l={x:a*o,y:100-s,w:o,h:s};r.push(l)}return r}},{key:"changeMinSlider",value:function(){this.slider.min<this.min?this.slideMin=this.min:this.slideMin=this.slider.min}},{key:"changeMaxSlider",value:function(){this.slider.max>this.max?this.slideMax=this.max:this.slideMax=this.slider.max}}]),e}(),v=t.FilterComponent=function e(){(0,l.default)(this,e),this.template=n(480)(),this.controller=g};d.module("fibra.components.filter",["ui.bootstrap","filearts.dragDrop","rzModule","ui.grid","ui.grid.emptyBaseLayer","ui.grid.resizeColumns","ui.grid.autoResize","ui.grid.edit"]).component("filter",new v)},function(e,t,n){e.exports={default:n(474),__esModule:!0}},function(e,t,n){n(130),n(63),n(87),n(475),n(476),n(477),n(478),e.exports=n(10).Set},function(e,t,n){"use strict";var i=n(219),r=n(147);e.exports=n(224)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(r(this,"Set"),e=0===e?0:e,e)}},i)},function(e,t,n){var i=n(17);i(i.P+i.R,"Set",{toJSON:n(225)("Set")})},function(e,t,n){n(226)("Set")},function(e,t,n){n(227)("Set")},function(e,t,n){var i,r,o;/*! angularjs-slider - v6.3.0 - 
 (c) Rafal Zajac <rzajac@gmail.com>, Valentin Hervieu <valentin@hervieu.me>, Jussi Saarivirta <jusasi@gmail.com>, Angelin Sirbu <angelin.sirbu@gmail.com> - 
 https://github.com/angular-slider/angularjs-slider - 
 2017-08-11 */
!function(a,s){"use strict";r=[n(0)],i=s,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o)}(0,function(e){"use strict";var t=e.module("rzModule",[]).factory("RzSliderOptions",function(){var t={floor:0,ceil:null,step:1,precision:0,minRange:null,maxRange:null,pushRange:!1,minLimit:null,maxLimit:null,id:null,translate:null,getLegend:null,stepsArray:null,bindIndexForStepsArray:!1,draggableRange:!1,draggableRangeOnly:!1,showSelectionBar:!1,showSelectionBarEnd:!1,showSelectionBarFromValue:null,showOuterSelectionBars:!1,hidePointerLabels:!1,hideLimitLabels:!1,autoHideLimitLabels:!0,readOnly:!1,disabled:!1,interval:350,showTicks:!1,showTicksValues:!1,ticksArray:null,ticksTooltip:null,ticksValuesTooltip:null,vertical:!1,getSelectionBarColor:null,getTickColor:null,getPointerColor:null,keyboardSupport:!0,scale:1,enforceStep:!0,enforceRange:!1,noSwitching:!1,onlyBindHandles:!1,onStart:null,onChange:null,onEnd:null,rightToLeft:!1,boundPointerLabels:!0,mergeRangeLabelsIfSame:!1,customTemplateScope:null,logScale:!1,customValueToPosition:null,customPositionToValue:null,selectionBarGradient:null,ariaLabel:null,ariaLabelledBy:null,ariaLabelHigh:null,ariaLabelledByHigh:null},n={},i={};return i.options=function(t){e.extend(n,t)},i.getOptions=function(i){return e.extend({},t,n,i)},i}).factory("rzThrottle",["$timeout",function(e){return function(t,n,i){var r,o,a,s=Date.now||function(){return(new Date).getTime()},l=null,u=0;i=i||{};var c=function(){u=s(),l=null,a=t.apply(r,o),r=o=null};return function(){var p=s(),d=n-(p-u);return r=this,o=arguments,d<=0?(e.cancel(l),l=null,u=p,a=t.apply(r,o),r=o=null):l||!1===i.trailing||(l=e(c,d)),a}}}]).factory("RzSlider",["$timeout","$document","$window","$compile","RzSliderOptions","rzThrottle",function(t,n,i,r,o,a){var s=function(e,t){this.scope=e,this.lowValue=0,this.highValue=0,this.sliderElem=t,this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.dragging={active:!1,value:0,difference:0,position:0,lowLimit:0,highLimit:0},this.positionProperty="left",this.dimensionProperty="width",this.handleHalfDim=0,this.maxPos=0,this.precision=0,this.step=1,this.tracking="",this.minValue=0,this.maxValue=0,this.valueRange=0,this.intermediateTicks=!1,this.initHasRun=!1,this.firstKeyDown=!1,this.internalChange=!1,this.cmbLabelShown=!1,this.currentFocusElement=null,this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.ticks=null,this.init()};return s.prototype={init:function(){var t,n,r=this,o=function(){r.calcViewDimensions()};this.applyOptions(),this.syncLowValue(),this.range&&this.syncHighValue(),this.initElemHandles(),this.manageElementsStyle(),this.setDisabledState(),this.calcViewDimensions(),this.setMinAndMax(),this.addAccessibility(),this.updateCeilLab(),this.updateFloorLab(),this.initHandles(),this.manageEventsBindings(),this.scope.$on("reCalcViewDimensions",o),e.element(i).on("resize",o),this.initHasRun=!0,t=a(function(){r.onLowHandleChange()},r.options.interval),n=a(function(){r.onHighHandleChange()},r.options.interval),this.scope.$on("rzSliderForceRender",function(){r.resetLabelsValue(),t(),r.range&&n(),r.resetSlider()}),this.scope.$watch("rzSliderOptions()",function(e,t){e!==t&&(r.applyOptions(),r.syncLowValue(),r.range&&r.syncHighValue(),r.resetSlider())},!0),this.scope.$watch("rzSliderModel",function(e,n){r.internalChange||e!==n&&t()}),this.scope.$watch("rzSliderHigh",function(e,t){r.internalChange||e!==t&&(null!=e&&n(),(r.range&&null==e||!r.range&&null!=e)&&(r.applyOptions(),r.resetSlider()))}),this.scope.$on("$destroy",function(){r.unbindEvents(),e.element(i).off("resize",o),r.currentFocusElement=null})},findStepIndex:function(t){for(var n=0,i=0;i<this.options.stepsArray.length;i++){var r=this.options.stepsArray[i];if(r===t){n=i;break}if(e.isDate(r)){if(r.getTime()===t.getTime()){n=i;break}}else if(e.isObject(r)&&(e.isDate(r.value)&&r.value.getTime()===t.getTime()||r.value===t)){n=i;break}}return n},syncLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.lowValue=this.scope.rzSliderModel:this.lowValue=this.findStepIndex(this.scope.rzSliderModel):this.lowValue=this.scope.rzSliderModel},syncHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.highValue=this.scope.rzSliderHigh:this.highValue=this.findStepIndex(this.scope.rzSliderHigh):this.highValue=this.scope.rzSliderHigh},getStepValue:function(t){var n=this.options.stepsArray[t];return e.isDate(n)?n:e.isObject(n)?n.value:n},applyLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderModel=this.lowValue:this.scope.rzSliderModel=this.getStepValue(this.lowValue):this.scope.rzSliderModel=this.lowValue},applyHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderHigh=this.highValue:this.scope.rzSliderHigh=this.getStepValue(this.highValue):this.scope.rzSliderHigh=this.highValue},onLowHandleChange:function(){this.syncLowValue(),this.range&&this.syncHighValue(),this.setMinAndMax(),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCmbLabel()},onHighHandleChange:function(){this.syncLowValue(),this.syncHighValue(),this.setMinAndMax(),this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateCmbLabel(),this.updateAriaAttributes()},applyOptions:function(){var t;t=this.scope.rzSliderOptions?this.scope.rzSliderOptions():{},this.options=o.getOptions(t),this.options.step<=0&&(this.options.step=1),this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.options.draggableRange=this.range&&this.options.draggableRange,this.options.draggableRangeOnly=this.range&&this.options.draggableRangeOnly,this.options.draggableRangeOnly&&(this.options.draggableRange=!0),this.options.showTicks=this.options.showTicks||this.options.showTicksValues||!!this.options.ticksArray,this.scope.showTicks=this.options.showTicks,(e.isNumber(this.options.showTicks)||this.options.ticksArray)&&(this.intermediateTicks=!0),this.options.showSelectionBar=this.options.showSelectionBar||this.options.showSelectionBarEnd||null!==this.options.showSelectionBarFromValue,this.options.stepsArray?this.parseStepsArray():(this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(e){return String(e)},this.getLegend=this.options.getLegend),this.options.vertical&&(this.positionProperty="bottom",this.dimensionProperty="height"),this.options.customTemplateScope&&(this.scope.custom=this.options.customTemplateScope)},parseStepsArray:function(){this.options.floor=0,this.options.ceil=this.options.stepsArray.length-1,this.options.step=1,this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(e){return this.options.bindIndexForStepsArray?this.getStepValue(e):e},this.getLegend=function(t){var n=this.options.stepsArray[t];return e.isObject(n)?n.legend:null}},resetSlider:function(){this.manageElementsStyle(),this.addAccessibility(),this.setMinAndMax(),this.updateCeilLab(),this.updateFloorLab(),this.unbindEvents(),this.manageEventsBindings(),this.setDisabledState(),this.calcViewDimensions(),this.refocusPointerIfNeeded()},refocusPointerIfNeeded:function(){this.currentFocusElement&&(this.onPointerFocus(this.currentFocusElement.pointer,this.currentFocusElement.ref),this.focusElement(this.currentFocusElement.pointer))},initElemHandles:function(){e.forEach(this.sliderElem.children(),function(t,n){var i=e.element(t);switch(n){case 0:this.leftOutSelBar=i;break;case 1:this.rightOutSelBar=i;break;case 2:this.fullBar=i;break;case 3:this.selBar=i;break;case 4:this.minH=i;break;case 5:this.maxH=i;break;case 6:this.flrLab=i;break;case 7:this.ceilLab=i;break;case 8:this.minLab=i;break;case 9:this.maxLab=i;break;case 10:this.cmbLab=i;break;case 11:this.ticks=i}},this),this.selBar.rzsp=0,this.minH.rzsp=0,this.maxH.rzsp=0,this.flrLab.rzsp=0,this.ceilLab.rzsp=0,this.minLab.rzsp=0,this.maxLab.rzsp=0,this.cmbLab.rzsp=0},manageElementsStyle:function(){this.range?this.maxH.css("display",""):this.maxH.css("display","none"),this.alwaysHide(this.flrLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.ceilLab,this.options.showTicksValues||this.options.hideLimitLabels);var e=this.options.showTicksValues&&!this.intermediateTicks;this.alwaysHide(this.minLab,e||this.options.hidePointerLabels),this.alwaysHide(this.maxLab,e||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.cmbLab,e||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.selBar,!this.range&&!this.options.showSelectionBar),this.alwaysHide(this.leftOutSelBar,!this.range||!this.options.showOuterSelectionBars),this.alwaysHide(this.rightOutSelBar,!this.range||!this.options.showOuterSelectionBars),this.range&&this.options.showOuterSelectionBars&&this.fullBar.addClass("rz-transparent"),this.options.vertical&&this.sliderElem.addClass("rz-vertical"),this.options.draggableRange?this.selBar.addClass("rz-draggable"):this.selBar.removeClass("rz-draggable"),this.intermediateTicks&&this.options.showTicksValues&&this.ticks.addClass("rz-ticks-values-under")},alwaysHide:function(e,t){e.rzAlwaysHide=t,t?this.hideEl(e):this.showEl(e)},manageEventsBindings:function(){this.options.disabled||this.options.readOnly?this.unbindEvents():this.bindEvents()},setDisabledState:function(){this.options.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function(){this.minLab.rzsv=void 0,this.maxLab.rzsv=void 0},initHandles:function(){this.updateLowHandle(this.valueToPosition(this.lowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.range&&this.updateCmbLabel(),this.updateTicksScale()},translateFn:function(e,t,n,i){i=void 0===i||i;var r="",o=!1,a=t.hasClass("no-label-injection");i?(this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(e=this.getStepValue(e)),r=String(this.customTrFn(e,this.options.id,n))):r=String(e),(void 0===t.rzsv||t.rzsv.length!==r.length||t.rzsv.length>0&&0===t.rzsd)&&(o=!0,t.rzsv=r),a||t.html(r),this.scope[n+"Label"]=r,o&&this.getDimension(t)},setMinAndMax:function(){if(this.step=+this.options.step,this.precision=+this.options.precision,this.minValue=this.options.floor,this.options.logScale&&0===this.minValue)throw Error("Can't use floor=0 with logarithmic scale");this.options.enforceStep&&(this.lowValue=this.roundStep(this.lowValue),this.range&&(this.highValue=this.roundStep(this.highValue))),null!=this.options.ceil?this.maxValue=this.options.ceil:this.maxValue=this.options.ceil=this.range?this.highValue:this.lowValue,this.options.enforceRange&&(this.lowValue=this.sanitizeValue(this.lowValue),this.range&&(this.highValue=this.sanitizeValue(this.highValue))),this.applyLowValue(),this.range&&this.applyHighValue(),this.valueRange=this.maxValue-this.minValue},addAccessibility:function(){this.minH.attr("role","slider"),this.updateAriaAttributes(),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.minH.attr("tabindex",""):this.minH.attr("tabindex","0"),this.options.vertical&&this.minH.attr("aria-orientation","vertical"),this.options.ariaLabel?this.minH.attr("aria-label",this.options.ariaLabel):this.options.ariaLabelledBy&&this.minH.attr("aria-labelledby",this.options.ariaLabelledBy),this.range&&(this.maxH.attr("role","slider"),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.maxH.attr("tabindex",""):this.maxH.attr("tabindex","0"),this.options.vertical&&this.maxH.attr("aria-orientation","vertical"),this.options.ariaLabelHigh?this.maxH.attr("aria-label",this.options.ariaLabelHigh):this.options.ariaLabelledByHigh&&this.maxH.attr("aria-labelledby",this.options.ariaLabelledByHigh))},updateAriaAttributes:function(){this.minH.attr({"aria-valuenow":this.scope.rzSliderModel,"aria-valuetext":this.customTrFn(this.scope.rzSliderModel,this.options.id,"model"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue}),this.range&&this.maxH.attr({"aria-valuenow":this.scope.rzSliderHigh,"aria-valuetext":this.customTrFn(this.scope.rzSliderHigh,this.options.id,"high"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue})},calcViewDimensions:function(){var e=this.getDimension(this.minH);if(this.handleHalfDim=e/2,this.barDimension=this.getDimension(this.fullBar),this.maxPos=this.barDimension-e,this.getDimension(this.sliderElem),this.sliderElem.rzsp=this.sliderElem[0].getBoundingClientRect()[this.positionProperty],this.initHasRun){this.updateFloorLab(),this.updateCeilLab(),this.initHandles();var n=this;t(function(){n.updateTicksScale()})}},updateTicksScale:function(){if(this.options.showTicks){var e=this.options.ticksArray||this.getTicksArray(),t=this.options.vertical?"translateY":"translateX",n=this;this.options.rightToLeft&&e.reverse(),this.scope.ticks=e.map(function(e){var i=n.valueToPosition(e);n.options.vertical&&(i=n.maxPos-i);var r=t+"("+Math.round(i)+"px)",o={selected:n.isTickSelected(e),style:{"-webkit-transform":r,"-moz-transform":r,"-o-transform":r,"-ms-transform":r,transform:r}};if(o.selected&&n.options.getSelectionBarColor&&(o.style["background-color"]=n.getSelectionBarColor()),!o.selected&&n.options.getTickColor&&(o.style["background-color"]=n.getTickColor(e)),n.options.ticksTooltip&&(o.tooltip=n.options.ticksTooltip(e),o.tooltipPlacement=n.options.vertical?"right":"top"),!0!==n.options.showTicksValues&&e%n.options.showTicksValues!=0||(o.value=n.getDisplayValue(e,"tick-value"),n.options.ticksValuesTooltip&&(o.valueTooltip=n.options.ticksValuesTooltip(e),o.valueTooltipPlacement=n.options.vertical?"right":"top")),n.getLegend){var a=n.getLegend(e,n.options.id);a&&(o.legend=a)}return o})}},getTicksArray:function(){var e=this.step,t=[];this.intermediateTicks&&(e=this.options.showTicks);for(var n=this.minValue;n<=this.maxValue;n+=e)t.push(n);return t},isTickSelected:function(e){if(!this.range)if(null!==this.options.showSelectionBarFromValue){var t=this.options.showSelectionBarFromValue;if(this.lowValue>t&&e>=t&&e<=this.lowValue)return!0;if(this.lowValue<t&&e<=t&&e>=this.lowValue)return!0}else if(this.options.showSelectionBarEnd){if(e>=this.lowValue)return!0}else if(this.options.showSelectionBar&&e<=this.lowValue)return!0;return!!(this.range&&e>=this.lowValue&&e<=this.highValue)},updateFloorLab:function(){this.translateFn(this.minValue,this.flrLab,"floor"),this.getDimension(this.flrLab);var e=this.options.rightToLeft?this.barDimension-this.flrLab.rzsd:0;this.setPosition(this.flrLab,e)},updateCeilLab:function(){this.translateFn(this.maxValue,this.ceilLab,"ceil"),this.getDimension(this.ceilLab);var e=this.options.rightToLeft?0:this.barDimension-this.ceilLab.rzsd;this.setPosition(this.ceilLab,e)},updateHandles:function(e,t){"lowValue"===e?this.updateLowHandle(t):this.updateHighHandle(t),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCmbLabel()},getHandleLabelPos:function(e,t){var n=this[e].rzsd,i=t-n/2+this.handleHalfDim,r=this.barDimension-n;return this.options.boundPointerLabels?this.options.rightToLeft&&"minLab"===e||!this.options.rightToLeft&&"maxLab"===e?Math.min(i,r):Math.min(Math.max(i,0),r):i},updateLowHandle:function(e){if(this.setPosition(this.minH,e),this.translateFn(this.lowValue,this.minLab,"model"),this.setPosition(this.minLab,this.getHandleLabelPos("minLab",e)),this.options.getPointerColor){var t=this.getPointerColor("min");this.scope.minPointerStyle={backgroundColor:t}}this.options.autoHideLimitLabels&&this.shFloorCeil()},updateHighHandle:function(e){if(this.setPosition(this.maxH,e),this.translateFn(this.highValue,this.maxLab,"high"),this.setPosition(this.maxLab,this.getHandleLabelPos("maxLab",e)),this.options.getPointerColor){var t=this.getPointerColor("max");this.scope.maxPointerStyle={backgroundColor:t}}this.options.autoHideLimitLabels&&this.shFloorCeil()},shFloorCeil:function(){if(!this.options.hidePointerLabels){var e=!1,t=!1,n=this.isLabelBelowFloorLab(this.minLab),i=this.isLabelAboveCeilLab(this.minLab),r=this.isLabelAboveCeilLab(this.maxLab),o=this.isLabelBelowFloorLab(this.cmbLab),a=this.isLabelAboveCeilLab(this.cmbLab);if(n?(e=!0,this.hideEl(this.flrLab)):(e=!1,this.showEl(this.flrLab)),i?(t=!0,this.hideEl(this.ceilLab)):(t=!1,this.showEl(this.ceilLab)),this.range){var s=this.cmbLabelShown?a:r,l=this.cmbLabelShown?o:n;s?this.hideEl(this.ceilLab):t||this.showEl(this.ceilLab),l?this.hideEl(this.flrLab):e||this.showEl(this.flrLab)}}},isLabelBelowFloorLab:function(e){var t=this.options.rightToLeft,n=e.rzsp,i=e.rzsd,r=this.flrLab.rzsp,o=this.flrLab.rzsd;return t?n+i>=r-2:n<=r+o+2},isLabelAboveCeilLab:function(e){var t=this.options.rightToLeft,n=e.rzsp,i=e.rzsd,r=this.ceilLab.rzsp,o=this.ceilLab.rzsd;return t?n<=r+o+2:n+i>=r-2},updateSelectionBar:function(){var e=0,t=0,n=this.options.rightToLeft?!this.options.showSelectionBarEnd:this.options.showSelectionBarEnd,i=this.options.rightToLeft?this.maxH.rzsp+this.handleHalfDim:this.minH.rzsp+this.handleHalfDim;if(this.range)t=Math.abs(this.maxH.rzsp-this.minH.rzsp),e=i;else if(null!==this.options.showSelectionBarFromValue){var r=this.options.showSelectionBarFromValue,o=this.valueToPosition(r),a=this.options.rightToLeft?this.lowValue<=r:this.lowValue>r;a?(t=this.minH.rzsp-o,e=o+this.handleHalfDim):(t=o-this.minH.rzsp,e=this.minH.rzsp+this.handleHalfDim)}else n?(t=Math.abs(this.maxPos-this.minH.rzsp)+this.handleHalfDim,e=this.minH.rzsp+this.handleHalfDim):(t=this.minH.rzsp+this.handleHalfDim,e=0);if(this.setDimension(this.selBar,t),this.setPosition(this.selBar,e),this.range&&this.options.showOuterSelectionBars&&(this.options.rightToLeft?(this.setDimension(this.rightOutSelBar,e),this.setPosition(this.rightOutSelBar,0),this.setDimension(this.leftOutSelBar,this.getDimension(this.fullBar)-(e+t)),this.setPosition(this.leftOutSelBar,e+t)):(this.setDimension(this.leftOutSelBar,e),this.setPosition(this.leftOutSelBar,0),this.setDimension(this.rightOutSelBar,this.getDimension(this.fullBar)-(e+t)),this.setPosition(this.rightOutSelBar,e+t))),this.options.getSelectionBarColor){var s=this.getSelectionBarColor();this.scope.barStyle={backgroundColor:s}}else if(this.options.selectionBarGradient){var l=null!==this.options.showSelectionBarFromValue?this.valueToPosition(this.options.showSelectionBarFromValue):0,u=l-e>0^n,c=this.options.vertical?u?"bottom":"top":u?"left":"right";this.scope.barStyle={backgroundImage:"linear-gradient(to "+c+", "+this.options.selectionBarGradient.from+" 0%,"+this.options.selectionBarGradient.to+" 100%)"},this.options.vertical?(this.scope.barStyle.backgroundPosition="center "+(l+t+e+(u?-this.handleHalfDim:0))+"px",this.scope.barStyle.backgroundSize="100% "+(this.barDimension-this.handleHalfDim)+"px"):(this.scope.barStyle.backgroundPosition=l-e+(u?this.handleHalfDim:0)+"px center",this.scope.barStyle.backgroundSize=this.barDimension-this.handleHalfDim+"px 100%")}},getSelectionBarColor:function(){return this.range?this.options.getSelectionBarColor(this.scope.rzSliderModel,this.scope.rzSliderHigh):this.options.getSelectionBarColor(this.scope.rzSliderModel)},getPointerColor:function(e){return"max"===e?this.options.getPointerColor(this.scope.rzSliderHigh,e):this.options.getPointerColor(this.scope.rzSliderModel,e)},getTickColor:function(e){return this.options.getTickColor(e)},updateCmbLabel:function(){if(this.options.rightToLeft?this.minLab.rzsp-this.minLab.rzsd-10<=this.maxLab.rzsp:this.minLab.rzsp+this.minLab.rzsd+10>=this.maxLab.rzsp){var e=this.getDisplayValue(this.lowValue,"model"),t=this.getDisplayValue(this.highValue,"high"),n="";n=this.options.mergeRangeLabelsIfSame&&e===t?e:this.options.rightToLeft?t+" - "+e:e+" - "+t,this.translateFn(n,this.cmbLab,"cmb",!1);var i=this.options.boundPointerLabels?Math.min(Math.max(this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,0),this.barDimension-this.cmbLab.rzsd):this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2;this.setPosition(this.cmbLab,i),this.cmbLabelShown=!0,this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)}else this.cmbLabelShown=!1,this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab);this.options.autoHideLimitLabels&&this.shFloorCeil()},getDisplayValue:function(e,t){return this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(e=this.getStepValue(e)),this.customTrFn(e,this.options.id,t)},roundStep:function(e,t){var n=t||this.step,i=parseFloat((e-this.minValue)/n).toPrecision(12);return i=Math.round(+i)*n,+(this.minValue+i).toFixed(this.precision)},hideEl:function(e){return e.css({visibility:"hidden"})},showEl:function(e){return e.rzAlwaysHide?e:e.css({visibility:"visible"})},setPosition:function(e,t){e.rzsp=t;var n={};return n[this.positionProperty]=Math.round(t)+"px",e.css(n),t},getDimension:function(e){var t=e[0].getBoundingClientRect();return this.options.vertical?e.rzsd=(t.bottom-t.top)*this.options.scale:e.rzsd=(t.right-t.left)*this.options.scale,e.rzsd},setDimension:function(e,t){e.rzsd=t;var n={};return n[this.dimensionProperty]=Math.round(t)+"px",e.css(n),t},sanitizeValue:function(e){return Math.min(Math.max(e,this.minValue),this.maxValue)},valueToPosition:function(e){var t=this.linearValueToPosition;this.options.customValueToPosition?t=this.options.customValueToPosition:this.options.logScale&&(t=this.logValueToPosition),e=this.sanitizeValue(e);var n=t(e,this.minValue,this.maxValue)||0;return this.options.rightToLeft&&(n=1-n),n*this.maxPos},linearValueToPosition:function(e,t,n){return(e-t)/(n-t)},logValueToPosition:function(e,t,n){return e=Math.log(e),t=Math.log(t),n=Math.log(n),(e-t)/(n-t)},positionToValue:function(e){var t=e/this.maxPos;this.options.rightToLeft&&(t=1-t);var n=this.linearPositionToValue;return this.options.customPositionToValue?n=this.options.customPositionToValue:this.options.logScale&&(n=this.logPositionToValue),n(t,this.minValue,this.maxValue)||0},linearPositionToValue:function(e,t,n){return e*(n-t)+t},logPositionToValue:function(e,t,n){t=Math.log(t),n=Math.log(n);var i=e*(n-t)+t;return Math.exp(i)},getEventAttr:function(e,t){return void 0===e.originalEvent?e[t]:e.originalEvent[t]},getEventXY:function(e,t){var n=this.options.vertical?"clientY":"clientX";if(void 0!==e[n])return e[n];var i=this.getEventAttr(e,"touches");if(void 0!==t)for(var r=0;r<i.length;r++)if(i[r].identifier===t)return i[r][n];return i[0][n]},getEventPosition:function(e,t){var n=this.sliderElem.rzsp;return(this.options.vertical?-this.getEventXY(e,t)+n:this.getEventXY(e,t)-n)*this.options.scale-this.handleHalfDim},getEventNames:function(e){var t={moveEvent:"",endEvent:""};return this.getEventAttr(e,"touches")?(t.moveEvent="touchmove",t.endEvent="touchend"):(t.moveEvent="mousemove",t.endEvent="mouseup"),t},getNearestHandle:function(e){if(!this.range)return this.minH;var t=this.getEventPosition(e),n=Math.abs(t-this.minH.rzsp),i=Math.abs(t-this.maxH.rzsp);return n<i?this.minH:n>i?this.maxH:this.options.rightToLeft?t>this.minH.rzsp?this.minH:this.maxH:t<this.minH.rzsp?this.minH:this.maxH},focusElement:function(e){e[0].focus()},bindEvents:function(){var t,n,i;this.options.draggableRange?(t="rzSliderDrag",n=this.onDragStart,i=this.onDragMove):(t="lowValue",n=this.onStart,i=this.onMove),this.options.onlyBindHandles||(this.selBar.on("mousedown",e.bind(this,n,null,t)),this.selBar.on("mousedown",e.bind(this,i,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("mousedown",e.bind(this,n,null,t)),this.maxH.on("mousedown",e.bind(this,n,null,t))):(this.minH.on("mousedown",e.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("mousedown",e.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("mousedown",e.bind(this,this.onStart,null,null)),this.fullBar.on("mousedown",e.bind(this,this.onMove,this.fullBar)),this.ticks.on("mousedown",e.bind(this,this.onStart,null,null)),this.ticks.on("mousedown",e.bind(this,this.onTickClick,this.ticks)))),this.options.onlyBindHandles||(this.selBar.on("touchstart",e.bind(this,n,null,t)),this.selBar.on("touchstart",e.bind(this,i,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("touchstart",e.bind(this,n,null,t)),this.maxH.on("touchstart",e.bind(this,n,null,t))):(this.minH.on("touchstart",e.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("touchstart",e.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("touchstart",e.bind(this,this.onStart,null,null)),this.fullBar.on("touchstart",e.bind(this,this.onMove,this.fullBar)),this.ticks.on("touchstart",e.bind(this,this.onStart,null,null)),this.ticks.on("touchstart",e.bind(this,this.onTickClick,this.ticks)))),this.options.keyboardSupport&&(this.minH.on("focus",e.bind(this,this.onPointerFocus,this.minH,"lowValue")),this.range&&this.maxH.on("focus",e.bind(this,this.onPointerFocus,this.maxH,"highValue")))},unbindEvents:function(){this.minH.off(),this.maxH.off(),this.fullBar.off(),this.selBar.off(),this.ticks.off()},onStart:function(t,i,r){var o,a,s=this.getEventNames(r);r.stopPropagation(),r.preventDefault(),this.calcViewDimensions(),t?this.tracking=i:(t=this.getNearestHandle(r),this.tracking=t===this.minH?"lowValue":"highValue"),t.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(t),o=e.bind(this,this.dragging.active?this.onDragMove:this.onMove,t),a=e.bind(this,this.onEnd,o),n.on(s.moveEvent,o),n.on(s.endEvent,a),this.endHandlerToBeRemovedOnEnd=a,this.callOnStart();var l=this.getEventAttr(r,"changedTouches");l&&(this.touchId||(this.isDragging=!0,this.touchId=l[0].identifier))},onMove:function(t,n,i){var r,o=this.getEventAttr(n,"changedTouches");if(o)for(var a=0;a<o.length;a++)if(o[a].identifier===this.touchId){r=o[a];break}if(!o||r){var s,l=this.getEventPosition(n,r?r.identifier:void 0),u=this.options.rightToLeft?this.minValue:this.maxValue,c=this.options.rightToLeft?this.maxValue:this.minValue;l<=0?s=c:l>=this.maxPos?s=u:(s=this.positionToValue(l),s=i&&e.isNumber(this.options.showTicks)?this.roundStep(s,this.options.showTicks):this.roundStep(s)),this.positionTrackingHandle(s)}},onEnd:function(e,t){var i=this.getEventAttr(t,"changedTouches");if(!i||i[0].identifier===this.touchId){this.isDragging=!1,this.touchId=null,this.options.keyboardSupport||(this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),this.tracking=""),this.dragging.active=!1;var r=this.getEventNames(t);n.off(r.moveEvent,e),n.off(r.endEvent,this.endHandlerToBeRemovedOnEnd),this.endHandlerToBeRemovedOnEnd=null,this.callOnEnd()}},onTickClick:function(e,t){this.onMove(e,t,!0)},onPointerFocus:function(t,n){this.tracking=n,t.one("blur",e.bind(this,this.onPointerBlur,t)),t.on("keydown",e.bind(this,this.onKeyboardEvent)),t.on("keyup",e.bind(this,this.onKeyUp)),this.firstKeyDown=!0,t.addClass("rz-active"),this.currentFocusElement={pointer:t,ref:n}},onKeyUp:function(){this.firstKeyDown=!0,this.callOnEnd()},onPointerBlur:function(e){e.off("keydown"),e.off("keyup"),e.removeClass("rz-active"),this.isDragging||(this.tracking="",this.currentFocusElement=null)},getKeyActions:function(e){var t=e+this.step,n=e-this.step,i=e+this.valueRange/10,r=e-this.valueRange/10,o={UP:t,DOWN:n,LEFT:n,RIGHT:t,PAGEUP:i,PAGEDOWN:r,HOME:this.minValue,END:this.maxValue};return this.options.rightToLeft&&(o.LEFT=t,o.RIGHT=n,this.options.vertical&&(o.UP=n,o.DOWN=t)),o},onKeyboardEvent:function(e){var n=this[this.tracking],i=e.keyCode||e.which,r={38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"},o=this.getKeyActions(n),a=r[i],s=o[a];if(null!=s&&""!==this.tracking){e.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.callOnStart());var l=this;t(function(){var e=l.roundStep(l.sanitizeValue(s));if(l.options.draggableRangeOnly){var t,n,i=l.highValue-l.lowValue;"lowValue"===l.tracking?(t=e,(n=e+i)>l.maxValue&&(n=l.maxValue,t=n-i)):(n=e,(t=e-i)<l.minValue&&(t=l.minValue,n=t+i)),l.positionTrackingBar(t,n)}else l.positionTrackingHandle(e)})}},onDragStart:function(e,t,n){var i=this.getEventPosition(n);this.dragging={active:!0,value:this.positionToValue(i),difference:this.highValue-this.lowValue,lowLimit:this.options.rightToLeft?this.minH.rzsp-i:i-this.minH.rzsp,highLimit:this.options.rightToLeft?i-this.maxH.rzsp:this.maxH.rzsp-i},this.onStart(e,t,n)},getValue:function(e,t,n,i){var r=this.options.rightToLeft,o=null;return o="min"===e?n?i?r?this.minValue:this.maxValue-this.dragging.difference:r?this.maxValue-this.dragging.difference:this.minValue:r?this.positionToValue(t+this.dragging.lowLimit):this.positionToValue(t-this.dragging.lowLimit):n?i?r?this.minValue+this.dragging.difference:this.maxValue:r?this.maxValue:this.minValue+this.dragging.difference:r?this.positionToValue(t+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(t-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(o)},onDragMove:function(e,t){var n,i,r,o,a,s,l,u,c=this.getEventPosition(t);if(this.options.rightToLeft?(r=this.dragging.lowLimit,o=this.dragging.highLimit,l=this.maxH,u=this.minH):(r=this.dragging.highLimit,o=this.dragging.lowLimit,l=this.minH,u=this.maxH),a=c<=o,s=c>=this.maxPos-r,a){if(0===l.rzsp)return;n=this.getValue("min",c,!0,!1),i=this.getValue("max",c,!0,!1)}else if(s){if(u.rzsp===this.maxPos)return;i=this.getValue("max",c,!0,!0),n=this.getValue("min",c,!0,!0)}else n=this.getValue("min",c,!1),i=this.getValue("max",c,!1);this.positionTrackingBar(n,i)},positionTrackingBar:function(e,t){null!=this.options.minLimit&&e<this.options.minLimit&&(e=this.options.minLimit,t=e+this.dragging.difference),null!=this.options.maxLimit&&t>this.options.maxLimit&&(t=this.options.maxLimit,e=t-this.dragging.difference),this.lowValue=e,this.highValue=t,this.applyLowValue(),this.range&&this.applyHighValue(),this.applyModel(!0),this.updateHandles("lowValue",this.valueToPosition(e)),this.updateHandles("highValue",this.valueToPosition(t))},positionTrackingHandle:function(e){var t=!1;e=this.applyMinMaxLimit(e),this.range&&(this.options.pushRange?(e=this.applyPushRange(e),t=!0):(this.options.noSwitching&&("lowValue"===this.tracking&&e>this.highValue?e=this.applyMinMaxRange(this.highValue):"highValue"===this.tracking&&e<this.lowValue&&(e=this.applyMinMaxRange(this.lowValue))),e=this.applyMinMaxRange(e),"lowValue"===this.tracking&&e>this.highValue?(this.lowValue=this.highValue,this.applyLowValue(),this.applyModel(),this.updateHandles(this.tracking,this.maxH.rzsp),this.updateAriaAttributes(),this.tracking="highValue",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.maxH),t=!0):"highValue"===this.tracking&&e<this.lowValue&&(this.highValue=this.lowValue,this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.minH.rzsp),this.updateAriaAttributes(),this.tracking="lowValue",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.minH),t=!0))),this[this.tracking]!==e&&(this[this.tracking]=e,"lowValue"===this.tracking?this.applyLowValue():this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.valueToPosition(e)),this.updateAriaAttributes(),t=!0),t&&this.applyModel(!0)},applyMinMaxLimit:function(e){return null!=this.options.minLimit&&e<this.options.minLimit?this.options.minLimit:null!=this.options.maxLimit&&e>this.options.maxLimit?this.options.maxLimit:e},applyMinMaxRange:function(e){var t="lowValue"===this.tracking?this.highValue:this.lowValue,n=Math.abs(e-t);return null!=this.options.minRange&&n<this.options.minRange?"lowValue"===this.tracking?this.highValue-this.options.minRange:this.lowValue+this.options.minRange:null!=this.options.maxRange&&n>this.options.maxRange?"lowValue"===this.tracking?this.highValue-this.options.maxRange:this.lowValue+this.options.maxRange:e},applyPushRange:function(e){var t="lowValue"===this.tracking?this.highValue-e:e-this.lowValue,n=null!==this.options.minRange?this.options.minRange:this.options.step,i=this.options.maxRange;return t<n?("lowValue"===this.tracking?(this.highValue=Math.min(e+n,this.maxValue),e=this.highValue-n,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=Math.max(e-n,this.minValue),e=this.lowValue+n,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()):null!==i&&t>i&&("lowValue"===this.tracking?(this.highValue=e+i,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=e-i,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()),e},applyModel:function(e){this.internalChange=!0,this.scope.$apply(),e&&this.callOnChange(),this.internalChange=!1},callOnStart:function(){if(this.options.onStart){var e=this,t="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){e.options.onStart(e.options.id,e.scope.rzSliderModel,e.scope.rzSliderHigh,t)})}},callOnChange:function(){if(this.options.onChange){var e=this,t="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){e.options.onChange(e.options.id,e.scope.rzSliderModel,e.scope.rzSliderHigh,t)})}},callOnEnd:function(){if(this.options.onEnd){var e=this,t="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){e.options.onEnd(e.options.id,e.scope.rzSliderModel,e.scope.rzSliderHigh,t)})}this.scope.$emit("slideEnded")}},s}]).directive("rzslider",["RzSlider",function(e){return{restrict:"AE",replace:!0,scope:{rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderOptions:"&?",rzSliderTplUrl:"@"},templateUrl:function(e,t){return t.rzSliderTplUrl||"rzSliderTpl.html"},link:function(t,n){t.slider=new e(t,n)}}}]);return t.run(["$templateCache",function(e){e.put("rzSliderTpl.html",'<div class=rzslider><span class="rz-bar-wrapper rz-left-out-selection"><span class=rz-bar></span></span> <span class="rz-bar-wrapper rz-right-out-selection"><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-selection" ng-style=barStyle></span></span> <span class="rz-pointer rz-pointer-min" ng-style=minPointerStyle></span> <span class="rz-pointer rz-pointer-max" ng-style=maxPointerStyle></span> <span class="rz-bubble rz-limit rz-floor"></span> <span class="rz-bubble rz-limit rz-ceil"></span> <span class=rz-bubble></span> <span class=rz-bubble></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat="t in ticks track by $index" class=rz-tick ng-class="{\'rz-selected\': t.selected}" ng-style=t.style ng-attr-uib-tooltip="{{ t.tooltip }}" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body="{{ t.tooltip ? true : undefined}}"><span ng-if="t.value != null" class=rz-tick-value ng-attr-uib-tooltip="{{ t.valueTooltip }}" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if="t.legend != null" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>')}]),t.name})},function(e,t,n){function i(e){var t="";return t+='<div class="main-table" ng-style="$ctrl.tableWidthStyle()"><div class="main-grid" ui-grid="{ data: $ctrl.allItems, enableFiltering: true }" ng-hide="$ctrl.state.active.dividerPercent &lt; 2" ui-grid-auto-resize ui-grid-edit ui-grid-resize-columns ui-grid-empty-base-layer></div></div><div class="main-canvas" ng-style="$ctrl.canvasWidthStyle()"><ul class="nav nav-tabs class-nav"><li ng-repeat="clss in $ctrl.getActiveClasses()" ng-class="{ active: $ctrl.selectedClass === clss }"><a ng-click="$ctrl.selectedClass = clss">{{ clss.labels | prefLang }}</a></li></ul><div class="filter-area" ng-repeat="clss in $ctrl.getActiveClasses()" ng-show="$ctrl.selectedClass === clss"><h3 class="filter-heading">Add filter on {{ clss.labels | prefLang }}</h3><button class="btn btn-default add-by-type disabled">Map</button><button class="btn btn-default add-by-type disabled">Timeline</button><button class="btn btn-default add-by-type disabled">Timespan</button><div class="btn-group add-by-property" uib-dropdown><button class="btn btn-default dropdown-toggle" uib-dropdown-toggle>on property&nbsp;<span class="caret"></span></button><ul class="dropdown-menu" uib-dropdown-menu><li ng-repeat="prop in clss.properties"><a ng-click="$ctrl.addFilter(clss, prop)">{{ prop.labels | prefLang }}</a></li></ul></div><hr><div class="filter" ng-repeat="(propId, filter) in $ctrl.localFilterTree[clss.value] track by propId+filter.domain[0]+filter.domain[1]" ng-show="filter.domain" ng-init="slideMin = $ctrl.slideOptionsFromFilter(filter).floor; slideMax=$ctrl.slideOptionsFromFilter(filter).ceil; slideOptions=$ctrl.slideOptionsFromFilter(filter)"><div class="filter-container"><div class="filter-header"><div class="filter-title">{{ filter.description }}: {{ $ctrl.state.project.project.dataModel.propertyMap.s[propId].labels | prefLang }}</div><div class="filter-inputs"><input class="timeline-input" type="number" min="0" max="2500" ng-model="slideMin" ng-change="$ctrl.changeMinSlider()"><span class="filter-input-text">&nbsp;to&nbsp;</span><input class="timeline-input" type="number" min="0" max="2500" ng-model="slideMax" ng-change="$ctrl.changeMaxSlider()"></div><div class="filter-controls"><img class="minimise-filter" src="./app/images/filter/minimise.svg" ng-init="minimised = false" ng-click="minimised = !minimised"><img class="remove-filter" src="./app/images/filter/remove.svg" ng-click="$ctrl.removeFilter(filter.clss, filter.prop)"></div></div><div class="filter-box" ng-class="minimised ? \'filter-min\' : \'\'"><div class="filter-graph"><svg ng-attr-height="$ctrl.histogramHeight" ng-attr-width="$ctrl.histogramWidth"><g ng-attr-fill="silver"><rect ng-repeat="rectangle in $ctrl.histogramRectangles" ng-attr-x="{{rectangle.x}}" ng-attr-y="{{rectangle.y}}" ng-attr-width="{{rectangle.w}}" ng-attr-height="{{rectangle.h}}"></rect></g></svg></div><rzslider rz-slider-model="slideMin" rz-slider-high="slideMax" rz-slider-options="slideOptions"></rzslider></div></div></div></div></div><div class="draggable-divider" drag-container="true" on-drag-end="dragging = false; $ctrl.dragDivider($event)" ng-style="$ctrl.dragTabLeftStyle()"><div class="drag-tab" ng-hide="$ctrl.filterActionService.filter.dividerPercent &gt; 2 &amp;&amp; $ctrl.filterActionService.filter.dividerPercent &lt; 98"></div></div>'}n(9);e.exports=i},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddSourceComponent=t.AddSourceComponentController=void 0;var o=n(1),a=r(o),s=n(2),l=r(s),u=n(55),c=n(0),p=i(c),d=n(101),f=i(d),h=t.AddSourceComponentController=function(){function e(t,n,i,r,o,s,l){var c=this;(0,a.default)(this,e),this.projectService=t,this.sourcesActionService=n,this.projectActionService=i,this.$ngRedux=r,this.$q=o,this.$scope=s,this.sparqlItemService=l,this.typeListOptions=[{id:"0",description:"1st class name.",name:"Person",class:"http://www.cidoc-crm.org/cidoc-crm/E21_Person"},{id:"1",description:"2nd class name.",name:"Place",class:"http://www.cidoc-crm.org/cidoc-crm/E53_Place"},{id:"2",description:"3rd class name.",name:"Work",class:"http://www.cidoc-crm.org/cidoc-crm/E22_Man-Made_Object"}],this.sourcesListOptions=[{id:"0",description:"1st source name.",name:"VIAF"},{id:"1",description:"2nd source name.",name:"GeoNames"},{id:"2",description:"3rd source name.",name:"Electronic Enlightenment"}],this.actions={},this.state={},this.primarySource=new u.ProjectSourceInfo("Shared projects","http://ldf.fi/fibra/sparql","http://ldf.fi/fibra/update","http://ldf.fi/fibra/data","http://ldf.fi/fibra/shared-projects/","http://ldf.fi/fibra/fusekiEndpointWithTextIndexAndSecoFunctions"),this.currentFileName="No file chosen",this.uploadType="http://www.cidoc-crm.org/cidoc-crm/E21_Person",this.entityLabelColumn=null;var p=r.connect(function(e){return{project:e.project,sources:e.sources}},null)(this.state);this.actions.unsubscribe=function(){p()},o.all([t.listAuthorityEndpointConfigurations(this.primarySource).then(function(e){return c.authorityEndpoints=e}),t.listArchiveEndpointConfigurations(this.primarySource).then(function(e){return c.archiveEndpoints=e})]).then(function(){c.sourceSelections={},c.authorityEndpoints.concat(c.archiveEndpoints).forEach(function(e){c.sourceSelections[e.id]=-1!==c.state.project.project.archiveEndpoints.concat(c.state.project.project.authorityEndpoints).map(function(e){return e.id}).indexOf(e.id)}),c.userSource=t.getProjectSources()[0]})}return e.$inject=["projectService","sourcesActionService","projectActionService","$ngRedux","$q","$scope","sparqlItemService"],(0,l.default)(e,[{key:"fileChanged",value:function(e){var t=this;this.$scope.$apply(function(){var n=e.files;t.currentFileName=n[0]?n[0].name:"No file chosen",t.currentFile=n[0];var i=new FileReader;i.onload=function(){t.$scope.$apply(function(){t.parsedFile=f.csvParse(i.result)})},i.readAsText(t.currentFile)})}},{key:"commit",value:function(){var e=this;this.currentFile&&this.sourcesActionService.uploadFile(this.currentFileName,this.parsedFile,this.state.project.project.dataModel.classMap.get(this.uploadType),this.entityLabelColumn,this.sparqlItemService);var t=this.state.project.project;t.labels=this.state.project.project.labels,t.archiveEndpoints=this.archiveEndpoints.filter(function(t){return e.sourceSelections[t.id]}),t.authorityEndpoints=this.authorityEndpoints.filter(function(t){return e.sourceSelections[t.id]}),t.descriptions=this.state.project.project.descriptions,t.rightsHolders=this.state.project.project.rightsHolders,t.schemas=this.state.project.project.schemas,this.projectService.saveCitable(this.userSource.updateEndpoint,this.userSource.graphStoreEndpoint,t).then(function(){e.projectActionService.setProject(t.id,t.source.sparqlEndpoint,t.source.graph).then(function(){e.close()})})}},{key:"cancel",value:function(){this.dismiss()}}]),e}(),g=t.AddSourceComponent=function e(){(0,a.default)(this,e),this.bindings={resolve:"<",close:"&",dismiss:"&"},this.template=n(482)(),this.controller=h};p.module("fibra.components.add-source",["ui.bootstrap"]).component("addSource",new g)},function(e,t,n){function i(e){var t="";return t+='<div class="modal-header"></div><div class="modal-body"><div class="sources-tabs"><uib-tabset class="modal-tabs" type="pills" justified="true"><uib-tab index="0" heading="Authorities &amp; Archives"><h4>Configure external authorities and archives</h4><p class="description"><span class="bold">Authorities </span>are databases used to uniquely identify your entities and reconcile them with other linked data sources.</p><ul class="available-sources-list"><li ng-repeat="endpoint in $ctrl.authorityEndpoints"><input type="checkbox" ng-model="$ctrl.sourceSelections[endpoint.id]"><span>&nbsp;{{ endpoint.labels | prefLang }}    </span></li></ul><hr><p class="description"><span class="bold">Archives </span>are domain-specific sources of linked data which can be used to populate the properties of your entities.</p><ul class="available-sources-list"><li ng-repeat="endpoint in $ctrl.archiveEndpoints"><input type="checkbox" ng-model="$ctrl.sourceSelections[endpoint.id]"><span>&nbsp;{{ endpoint.labels | prefLang }}   </span></li></ul></uib-tab><uib-tab index="1" heading="Upload CSV"><div class="container"><div class="row"><h4>Upload your own data</h4><p class="description">Select a .csv file to upload to Data Pen. A file must refer to only one entity type, but multiple files can be uploaded.</p></div><div class="row csv-setup"><div class="left-side col-md-4"><div class="file-selection"><div class="row"><label class="input-label">1. Select file</label></div><div class="row"><label class="select-file-button">Choose file<input type="file" onchange="angular.element(this).scope().$ctrl.fileChanged(this)"></label><label>{{ $ctrl.currentFileName }}</label></div></div><div class="entity-type-selection"><div class="row"><label class="input-label">2. Select entity type</label></div><div class="row"><div class="dropdown-container"><select ng-model="$ctrl.uploadType" ng-options="option.class as option.name for option in $ctrl.typeListOptions"></select></div></div></div><div class="entity-label-column-selection"><div class="row"><label class="input-label">3. Select entity label column</label></div><div class="row"><div class="dropdown-container"><select ng-model="$ctrl.entityLabelColumn" ng-options="option for option in $ctrl.parsedFile.columns" ng-disabled="!$ctrl.currentFile"></select></div></div></div></div><div class="right-side col-md-4"><p class="description">If your data includes one or more sets of unique identifiers from an authority or archive, add those columns here to reconcile your entities. </p><div class="select-id-column"><label class="input-label">Authority/archive</label><div class="dropdown-container"><select ng-model="item.id" ng-selected="0" ng-options="option.id as option.name for option in $ctrl.sourcesListOptions"><option ng-repeat="option in data.availableOptions" value="{{option.id}}">{{option.name}}</option></select></div></div><div class="select-source"><label class="input-label">ID column</label><div class="dropdown-container"><select ng-model="item.id" ng-selected="0" ng-options="option.id as option.name for option in $ctrl.filePropertyOptions"><option ng-repeat="option in data.availableOptions" value="{{option.id}}">{{option.name}}</option></select></div></div><button class="add-column-button">Add column</button></div></div></div></uib-tab><uib-tab index="2" heading="Custom SPARQL Query"><h4>Title</h4><p class="description">Description</p></uib-tab></uib-tabset></div></div><div class="modal-footer"><button class="cancel-button text-button transition-200" ng-click="$ctrl.cancel()">Cancel</button><button class="select-button text-button transition-200 disabled" ng-click="$ctrl.commit()">Apply</button></div>'}n(9);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ExpandModalComponent=t.ExpandModalComponentController=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(7),u=n(0),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),p=t.ExpandModalComponentController=function(){function e(t,n){(0,o.default)(this,e),this.$ngRedux=t,this.activeActionService=n,this.actions={},this.state={},this.expandRadius=60;var i=t.connect(function(e){return{active:e.active}},null)(this.state);this.actions.unsubscribe=function(){i()}}return e.$inject=["$ngRedux","activeActionService"],(0,s.default)(e,[{key:"$onInit",value:function(){this.itemState=this.resolve.item,this.itemProperties=this.itemState.item.localProperties.concat(this.itemState.item.remoteProperties).filter(function(e){return e.property.value!==l.RDF.type.value&&e.property.value!==l.SKOS.prefLabel.value&&e.property.value!==l.SKOS.altLabel.value&&"http://purl.org/dc/terms/identifier"!==e.property.value}),console.log(this.itemProperties)}},{key:"expand",value:function(e){var t=this;e.values.forEach(function(n,i){var r=2*Math.PI/e.values.length,o=r*i,a=t.itemState.leftOffset+t.expandRadius*Math.cos(o),s=t.itemState.topOffset+t.expandRadius*Math.sin(o);t.activeActionService.addItemToCurrentLayout({ids:[new l.NamedNode(n.value.value)],item:null,description:null,topOffset:s,leftOffset:a})}),this.close()}},{key:"commit",value:function(){this.close()}},{key:"cancel",value:function(){this.dismiss()}}]),e}(),d=t.ExpandModalComponent=function e(){(0,o.default)(this,e),this.bindings={resolve:"<",close:"&",dismiss:"&"},this.template=n(484)(),this.controller=p};c.module("fibra.components.expand-modal",[]).component("expandModal",new d)},function(e,t,n){function i(e){var t="";return t+='<div class="modal-header"><h4 class="modal-title" id="modal-title">Properties of {{ $ctrl.itemState.description }}</h4></div><div class="modal-body" id="modal-body"><ul><li ng-repeat="propValues in $ctrl.itemProperties"><span class="property-name">{{ propValues.property.labels | prefLang }}</span><span class="property-results">{{ propValues.values.length }}</span><button class="expand-button text-button transition-100" ng-click="$ctrl.expand(propValues)">Expand</button></li></ul></div><div class="modal-footer"><button class="cancel-button transition-200" ng-click="$ctrl.cancel()">Cancel</button></div>'}n(9);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmProjectDeletionComponent=t.ConfirmProjectDeletionComponentControler=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=t.ConfirmProjectDeletionComponentControler=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"commit",value:function(){this.close()}},{key:"cancel",value:function(){this.dismiss()}}]),e}(),p=t.ConfirmProjectDeletionComponent=function e(){(0,o.default)(this,e),this.bindings={resolve:"<",close:"&",dismiss:"&"},this.template=n(486)(),this.controller=c};u.module("fibra.components.project-delete-modal",[]).component("confirmDeleteModal",new p)},function(e,t,n){function i(e){var t="";return t+='<div class="modal-header"><h3 class="modal-title">Delete project</h3></div><div class="modal-body"><p class="description">Are you sure you want to delete&nbsp;<span class="bold">{{ $ctrl.resolve.project.labels | prefLang }}</span><span>? This action cannot be undone.</span></p></div><div class="modal-footer"><button class="cancel-button text-button transition-200" ng-click="$ctrl.cancel()">Cancel</button><button class="select-button text-button red-text transition-200" ng-click="$ctrl.commit()">Delete</button></div>'}n(9);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BiblographyModalComponent=t.BibliographyModalComponentController=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=t.BibliographyModalComponentController=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"commit",value:function(){this.close()}},{key:"cancel",value:function(){this.dismiss()}}]),e}(),p=t.BiblographyModalComponent=function e(){(0,o.default)(this,e),this.bindings={resolve:"<",close:"&",dismiss:"&"},this.template=n(488)(),this.controller=c};u.module("fibra.components.bibliography-modal",[]).component("bibliographyModal",new p)},function(e,t,n){function i(e){var t="";return t+='<div class="modal-header"></div><div class="modal-body"><div class="bibliography-tabs"><uib-tabset class="modal-tabs" type="pills" justified="true"><uib-tab index="0" heading="Bibliography"><h4>Bibliography (at the {{ $ctrl.resolve.currentView }} level)</h4><p class="description">Describe the bibliography here, with reference to the current level.</p><hr><div class="source-type-container"><label class="input-label">Authorities</label><div class="source-container"><div class="source-header"><label>VIAF, www.viaf.org (Accessed March 2017)</label></div><div class="source-contents"><ul><li>People: 30,000 (1702-1823)</li><li>Works: 56,000 (1700-1800)</li></ul></div></div><div class="source-container"><div class="source-header"><label>Geonames, www.geonames.org (Accessed January 2017)</label></div><div class="source-contents"><ul><li>Toponyms: 324,000</li></ul></div></div><div class="source-container"><div class="source-header"><label>BnF, www.bnf.fr (Accessed February 2017)</label></div><div class="source-contents"><ul><li>Works: 2000</li></ul></div></div></div><div class="source-type-container"><label class="input-label">Archives</label><div class="source-container"><div class="source-header"><label>Electronic Enlightenment</label></div><div class="source-contents"><ul><li>People: 15,000</li></ul></div></div></div><div class="source-type-container"><label class="input-label">Uploaded</label><div class="source-container"><div class="source-header"><label>FileX.csv (Uploaded January 17, 2017)</label></div><div class="source-contents"><ul> <li>People: 53</li></ul></div></div></div></uib-tab><uib-tab index="1" heading="Schema"><h4>Schema (at the {{ $ctrl.resolve.currentView }} level)</h4><p class="description">Describe the schema here, with reference to the current level.</p><hr><div class="source-container"><div class="source-header"><label class="input-label">Person</label></div><div class="source-contents"><ul><li>Name (VIAF, BNF)</li><li>Birthdate (VIAF)</li><li>Death date (VIAF, BNF)</li><li>Physiocrats (Dan Edelstein)</li></ul></div></div><div class="source-container"><div class="source-header"><label class="input-label">Place</label></div><div class="source-contents"><ul><li>Toponym (Geonames)</li><li>Coordinates (Geonames)</li></ul></div></div></uib-tab></uib-tabset></div></div><div class="modal-footer"><button class="cancel-button text-button transition-200" ng-click="$ctrl.cancel()">Dismiss</button><button class="copy-button transition-200">Export</button></div>'}n(9);e.exports=i},function(e,t,n){"use strict";var i=n(0),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i);n(132),n(490),n(491),r.module("fibra.filters",["fibra.filters.pref-lang","fibra.filters.citable","fibra.filters.make-acronym"])},function(e,t,n){"use strict";var i=n(132),r=n(0);(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(r).module("fibra.filters.citable",[]).filter("citable",["$ngRedux",function(e){return function(t){var n=e.getState().general.language,r=(0,i.getPrefLangString)(t.labels,n);return t.rightsHolders.length>0&&(r+=" (",t.rightsHolders.forEach(function(e){return r+=(0,i.getPrefLangString)(e.labels,n)+", "}),r=r.substring(0,r.length-2)+")"),r}}])},function(e,t,n){"use strict";function i(e){return null!=e.match(" ")?e.match(/\b([A-Z])/g).join(""):e}Object.defineProperty(t,"__esModule",{value:!0}),t.generateAcronym=i;var r=n(0);(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(r).module("fibra.filters.make-acronym",[]).filter("makeAcronym",function(){return i})},function(e,t,n){"use strict";function i(e,t){if(e===t)return!0;var n=f()(e).filter(function(e){return"$$hashKey"!==e}),i=f()(t).filter(function(e){return"$$hashKey"!==e});if(n.length!==i.length)return!1;for(var r=Object.prototype.hasOwnProperty,o=0;o<n.length;o++)if(!r.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}function r(e){return function(t){return Object(b.bindActionCreators)(e,t)}}function o(e){return function(t,n){var o=t||D,l=w()(n)?r(n):n||k;C()(A()(o),"mapStateToTarget must be a Function. Instead received %s.",o),C()(w()(l)||A()(l),"mapDispatchToTarget must be a plain Object or a Function. Instead received %s.",l);var u=s(e.getState(),o,!1);A()(u)&&(o=u,u=s(e.getState(),o));var c=l(e.dispatch);return function(t){return C()(A()(t)||I()(t),"The target parameter passed to connect must be a Function or a object."),a(t,u,c),e.subscribe(function(){var n=s(e.getState(),o);i(u,n)||(u=n,a(t,u,c))})}}}function a(e,t,n){A()(e)?e(t,n):_(e,t,n)}function s(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t(e);return n?C()(w()(i),"`mapStateToScope` must return an object. Instead received %s.",i):C()(w()(i)||A()(i),"`mapStateToScope` must return an object or a function. Instead received %s.",i),i}function l(e){return function(t){return function(t){return function(n){var i=t(n);return e.$evalAsync(i),i}}}}function u(){var e=void 0,t=void 0,n=void 0,i=void 0,r=void 0;this.createStoreWith=function(o,a,s,l){C()(A()(o)||F(o),"The reducer parameter passed to createStoreWith must be a Function or an Object. Instead received %s.",void 0===o?"undefined":E()(o)),C()(!s||M(s),"The storeEnhancers parameter passed to createStoreWith must be an Array. Instead received %s.",void 0===s?"undefined":E()(s)),e=o,r=F(o),n=s,t=a||[],i=l},this.$get=function(a){var s=function(e){return j(e)?a.get(e):e},u=P()(t,s),c=function(e){return j(e)?a.get(e):e},d=P()(n,c);if(r){var h=function(t){return j(e[t])?a.get(e[t]):e[t]},v=function(e,t){return V({},e,g()({},t,h(t)))},m=f()(e).reduce(v,{});e=Object(b.combineReducers)(m)}var y=d?b.compose.apply(void 0,p()(d))(b.createStore):b.createStore;u.push(l(a.get("$rootScope")));var E=i?b.applyMiddleware.apply(void 0,p()(u))(y)(e,i):b.applyMiddleware.apply(void 0,p()(u))(y)(e);return V({},E,{connect:o(E)})},this.$get.$inject=["$injector"]}Object.defineProperty(t,"__esModule",{value:!0});var c=n(493),p=n.n(c),d=n(499),f=n.n(d),h=n(136),g=n.n(h),v=n(54),m=n.n(v),y=n(83),E=n.n(y),b=n(193),x=n(502),C=n.n(x),S=n(503),w=n.n(S),T=n(504),A=n.n(T),L=n(505),I=n.n(L),N=n(506),R=n.n(N),O=n(507),P=n.n(O),_=m.a,D=function(){return{}},k=function(e){return{dispatch:e}},M=Array.isArray,$=R()(function(e,t){return(void 0===t?"undefined":E()(t))===e}),F=$("object"),j=$("string"),V=m.a,G=angular.module("ngRedux",[]).provider("$ngRedux",u).name;t.default=G},function(e,t,n){"use strict";t.__esModule=!0;var i=n(494),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,r.default)(e)}},function(e,t,n){e.exports={default:n(495),__esModule:!0}},function(e,t,n){n(63),n(496),e.exports=n(10).Array.from},function(e,t,n){"use strict";var i=n(40),r=n(17),o=n(51),a=n(222),s=n(223),l=n(85),u=n(497),c=n(131);r(r.S+r.F*!n(498)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,p,d=o(e),f="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,v=void 0!==g,m=0,y=c(d);if(v&&(g=i(g,h>2?arguments[2]:void 0,2)),void 0==y||f==Array&&s(y))for(t=l(d.length),n=new f(t);t>m;m++)u(n,m,v?g(d[m],m):d[m]);else for(p=y.call(d),n=new f;!(r=p.next()).done;m++)u(n,m,v?a(p,g,[r.value,m],!0):r.value);return n.length=m,n}})},function(e,t,n){"use strict";var i=n(23),r=n(62);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){var i=n(20)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){e.exports={default:n(500),__esModule:!0}},function(e,t,n){n(501),e.exports=n(10).Object.keys},function(e,t,n){var i=n(51),r=n(65);n(118)("keys",function(){return function(e){return r(i(e))}})},function(e,t,n){"use strict";var i=function(e,t,n,i,r,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,a,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=i},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function i(e){return!!e&&"object"==typeof e}function r(e){if(!i(e)||p.call(e)!=o||n(e))return!1;var t=d(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==c}var o="[object Object]",a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object),p=s.toString,d=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);e.exports=r},function(e,t){function n(e){var t=i(e)?s.call(e):"";return t==r||t==o}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var r="[object Function]",o="[object GeneratorFunction]",a=Object.prototype,s=a.toString;e.exports=n},function(e,t){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){(function(t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function i(e,t){for(var n=-1,i=e?e.length:0;++n<i&&!1!==t(e[n],n,e););return e}function r(e,t){return!!(e?e.length:0)&&a(e,t,0)>-1}function o(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function a(e,t,n){if(t!==t)return o(e,s,n);for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function s(e){return e!==e}function l(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&i++;return i}function u(e,t){return null==e?void 0:e[t]}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function p(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];a!==t&&a!==U||(e[n]=U,o[r++]=n)}return o}function d(e){return k(e)?Re(e):{}}function f(e){return!(!k(e)||N(e))&&(D(e)||c(e)?Ne:ge).test(O(e))}function h(e,t,n,i){for(var r=-1,o=e.length,a=n.length,s=-1,l=t.length,u=Oe(o-a,0),c=Array(l+u),p=!i;++s<l;)c[s]=t[s];for(;++r<a;)(p||r<o)&&(c[n[r]]=e[r]);for(;u--;)c[s++]=e[r++];return c}function g(e,t,n,i){for(var r=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=Oe(o-s,0),p=Array(c+u),d=!i;++r<c;)p[r]=e[r];for(var f=r;++l<u;)p[f+l]=t[l];for(;++a<s;)(d||r<o)&&(p[f+n[a]]=e[r++]);return p}function v(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}function m(e,t,n){function i(){return(this&&this!==xe&&this instanceof i?o:e).apply(r?n:this,arguments)}var r=t&z,o=y(e);return i}function y(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=d(e.prototype),i=e.apply(n,t);return k(i)?i:n}}function E(e,t,i){function r(){for(var a=arguments.length,s=Array(a),l=a,u=w(r);l--;)s[l]=arguments[l];var c=a<3&&s[0]!==u&&s[a-1]!==u?[]:p(s,u);return(a-=c.length)<i?C(e,t,b,r.placeholder,void 0,s,c,void 0,void 0,i-a):n(this&&this!==xe&&this instanceof r?o:e,this,s)}var o=y(e);return r}function b(e,t,n,i,r,o,a,s,u,c){function d(){for(var T=arguments.length,A=Array(T),L=T;L--;)A[L]=arguments[L];if(E)var I=w(d),N=l(A,I);if(i&&(A=h(A,i,r,E)),o&&(A=g(A,o,a,E)),T-=N,E&&T<c){var O=p(A,I);return C(e,t,b,d.placeholder,n,A,O,s,u,c-T)}var P=v?n:this,_=m?P[e]:e;return T=A.length,s?A=R(A,s):x&&T>1&&A.reverse(),f&&u<T&&(A.length=u),this&&this!==xe&&this instanceof d&&(_=S||y(_)),_.apply(P,A)}var f=t&J,v=t&z,m=t&q,E=t&(K|Y),x=t&Z,S=m?void 0:y(e);return d}function x(e,t,i,r){function o(){for(var t=-1,l=arguments.length,u=-1,c=r.length,p=Array(c+l),d=this&&this!==xe&&this instanceof o?s:e;++u<c;)p[u]=r[u];for(;l--;)p[u++]=arguments[++t];return n(d,a?i:this,p)}var a=t&z,s=y(e);return o}function C(e,t,n,i,r,o,a,s,l,u){var c=t&K,p=c?a:void 0,d=c?void 0:a,f=c?o:void 0,h=c?void 0:o;t|=c?X:Q,(t&=~(c?Q:X))&W||(t&=~(z|q));var g=n(e,t,r,f,p,h,d,s,l,u);return g.placeholder=i,De(g,e,t)}function S(e,t,n,i,r,o,a,s){var l=t&q;if(!l&&"function"!=typeof e)throw new TypeError(B);var u=i?i.length:0;if(u||(t&=~(X|Q),i=r=void 0),a=void 0===a?a:Oe(j(a),0),s=void 0===s?s:j(s),u-=r?r.length:0,t&Q){var c=i,p=r;i=r=void 0}var d=[e,t,n,i,r,c,p,o,a,s];if(e=d[0],t=d[1],n=d[2],i=d[3],r=d[4],s=d[9]=null==d[9]?l?0:e.length:Oe(d[9]-u,0),!s&&t&(K|Y)&&(t&=~(K|Y)),t&&t!=z)f=t==K||t==Y?E(e,t,s):t!=X&&t!=(z|X)||r.length?b.apply(void 0,d):x(e,t,n,i);else var f=m(e,t,n);return De(f,e,t)}function w(e){return e.placeholder}function T(e,t){var n=u(e,t);return f(n)?n:void 0}function A(e){var t=e.match(pe);return t?t[1].split(de):[]}function L(e,t){var n=t.length,i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}function I(e,t){return!!(t=null==t?te:t)&&("number"==typeof e||me.test(e))&&e>-1&&e%1==0&&e<t}function N(e){return!!Te&&Te in e}function R(e,t){for(var n=e.length,i=Pe(t.length,n),r=v(e);i--;){var o=t[i];e[i]=I(o,n)?r[o]:void 0}return e}function O(e){if(null!=e){try{return Ae.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function P(e,t){return i(re,function(n){var i="_."+n[0];t&n[1]&&!r(e,i)&&e.push(i)}),e.sort()}function _(e,t,n){t=n?void 0:t;var i=S(e,K,void 0,void 0,void 0,void 0,void 0,t);return i.placeholder=_.placeholder,i}function D(e){var t=k(e)?Ie.call(e):"";return t==oe||t==ae}function k(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function M(e){return!!e&&"object"==typeof e}function $(e){return"symbol"==typeof e||M(e)&&Ie.call(e)==se}function F(e){if(!e)return 0===e?e:0;if((e=V(e))===ee||e===-ee){return(e<0?-1:1)*ne}return e===e?e:0}function j(e){var t=F(e),n=t%1;return t===t?n?t-n:t:0}function V(e){if("number"==typeof e)return e;if($(e))return ie;if(k(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=k(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ue,"");var n=he.test(e);return n||ve.test(e)?ye(e.slice(2),n?2:8):fe.test(e)?ie:+e}function G(e){return function(){return e}}function H(e){return e}var B="Expected a function",U="__lodash_placeholder__",z=1,q=2,W=4,K=8,Y=16,X=32,Q=64,J=128,Z=512,ee=1/0,te=9007199254740991,ne=1.7976931348623157e308,ie=NaN,re=[["ary",J],["bind",z],["bindKey",q],["curry",K],["curryRight",Y],["flip",Z],["partial",X],["partialRight",Q],["rearg",256]],oe="[object Function]",ae="[object GeneratorFunction]",se="[object Symbol]",le=/[\\^$.*+?()[\]{}|]/g,ue=/^\s+|\s+$/g,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pe=/\{\n\/\* \[wrapped with (.+)\] \*/,de=/,? & /,fe=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ye=parseInt,Ee="object"==typeof t&&t&&t.Object===Object&&t,be="object"==typeof self&&self&&self.Object===Object&&self,xe=Ee||be||Function("return this")(),Ce=Function.prototype,Se=Object.prototype,we=xe["__core-js_shared__"],Te=function(){var e=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ae=Ce.toString,Le=Se.hasOwnProperty,Ie=Se.toString,Ne=RegExp("^"+Ae.call(Le).replace(le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Re=Object.create,Oe=Math.max,Pe=Math.min,_e=function(){var e=T(Object,"defineProperty"),t=T.name;return t&&t.length>2?e:void 0}(),De=_e?function(e,t,n){var i=t+"";return _e(e,"toString",{configurable:!0,enumerable:!1,value:G(L(i,P(A(i),n)))})}:H;_.placeholder={},e.exports=_}).call(t,n(12))},function(e,t,n){(function(e,n){function i(e,t){for(var n=-1,i=e?e.length:0,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function r(e,t){for(var n=-1,i=e?e.length:0;++n<i;)if(t(e[n],n,e))return!0;return!1}function o(e){return function(t){return null==t?void 0:t[e]}}function a(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function s(e,t){return null==e?void 0:e[t]}function l(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function u(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function p(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function d(){this.__data__=Ht?Ht(null):{}}function f(e){return this.has(e)&&delete this.__data__[e]}function h(e){var t=this.__data__;if(Ht){var n=t[e];return n===Fe?void 0:n}return Nt.call(t,e)?t[e]:void 0}function g(e){var t=this.__data__;return Ht?void 0!==t[e]:Nt.call(t,e)}function v(e,t){return this.__data__[e]=Ht&&void 0===t?Fe:t,this}function m(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function y(){this.__data__=[]}function E(e){var t=this.__data__,n=j(t,e);return!(n<0)&&(n==t.length-1?t.pop():kt.call(t,n,1),!0)}function b(e){var t=this.__data__,n=j(t,e);return n<0?void 0:t[n][1]}function x(e){return j(this.__data__,e)>-1}function C(e,t){var n=this.__data__,i=j(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function w(){this.__data__={hash:new p,map:new(Ft||m),string:new p}}function T(e){return ae(this,e).delete(e)}function A(e){return ae(this,e).get(e)}function L(e){return ae(this,e).has(e)}function I(e,t){return ae(this,e).set(e,t),this}function N(e){var t=-1,n=e?e.length:0;for(this.__data__=new S;++t<n;)this.add(e[t])}function R(e){return this.__data__.set(e,Fe),this}function O(e){return this.__data__.has(e)}function P(e){this.__data__=new m(e)}function _(){this.__data__=new m}function D(e){return this.__data__.delete(e)}function k(e){return this.__data__.get(e)}function M(e){return this.__data__.has(e)}function $(e,t){var n=this.__data__;if(n instanceof m){var i=n.__data__;if(!Ft||i.length<Me-1)return i.push([e,t]),this;n=this.__data__=new S(i)}return n.set(e,t),this}function F(e,t){var n=tn(e)||Ce(e)?a(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!Nt.call(e,o)||r&&("length"==o||ce(o,i))||n.push(o);return n}function j(e,t){for(var n=e.length;n--;)if(xe(e[n][0],t))return n;return-1}function V(e,t){return e&&Jt(e,t,_e)}function G(e,t){t=pe(t,e)?[t]:ne(t);for(var n=0,i=t.length;null!=e&&n<i;)e=e[me(t[n++])];return n&&n==i?e:void 0}function H(e){return Rt.call(e)}function B(e,t){return null!=e&&t in Object(e)}function U(e,t,n,i,r){return e===t||(null==e||null==t||!Le(e)&&!Ie(t)?e!==e&&t!==t:z(e,t,U,n,i,r))}function z(e,t,n,i,r,o){var a=tn(e),s=tn(t),u=Ue,c=Ue;a||(u=Zt(e),u=u==Be?Je:u),s||(c=Zt(t),c=c==Be?Je:c);var p=u==Je&&!l(e),d=c==Je&&!l(t),f=u==c;if(f&&!p)return o||(o=new P),a||nn(e)?ie(e,t,n,i,r,o):re(e,t,u,n,i,r,o);if(!(r&Ve)){var h=p&&Nt.call(e,"__wrapped__"),g=d&&Nt.call(t,"__wrapped__");if(h||g){var v=h?e.value():e,m=g?t.value():t;return o||(o=new P),n(v,m,i,r,o)}}return!!f&&(o||(o=new P),oe(e,t,n,i,r,o))}function q(e,t,n,i){var r=n.length,o=r,a=!i;if(null==e)return!o;for(e=Object(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){s=n[r];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var p=new P;if(i)var d=i(u,c,l,e,t,p);if(!(void 0===d?U(c,u,i,je|Ve,p):d))return!1}}return!0}function W(e){return!(!Le(e)||fe(e))&&(Te(e)||l(e)?Ot:pt).test(ye(e))}function K(e){return Ie(e)&&Ae(e.length)&&!!ft[Rt.call(e)]}function Y(e){return"function"==typeof e?e:null==e?De:"object"==typeof e?tn(e)?Z(e[0],e[1]):J(e):ke(e)}function X(e){if(!he(e))return Mt(e);var t=[];for(var n in Object(e))Nt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Q(e,t){var n=-1,i=Se(e)?Array(e.length):[];return Qt(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function J(e){var t=se(e);return 1==t.length&&t[0][2]?ve(t[0][0],t[0][1]):function(n){return n===e||q(n,e,t)}}function Z(e,t){return pe(e)&&ge(t)?ve(me(e),t):function(n){var i=Oe(n,e);return void 0===i&&i===t?Pe(n,e):U(t,i,void 0,je|Ve)}}function ee(e){return function(t){return G(t,e)}}function te(e){if("string"==typeof e)return e;if(Ne(e))return Xt?Xt.call(e):"";var t=e+"";return"0"==t&&1/e==-Ge?"-0":t}function ne(e){return tn(e)?e:en(e)}function ie(e,t,n,i,o,a){var s=o&Ve,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var p=-1,d=!0,f=o&je?new N:void 0;for(a.set(e,t),a.set(t,e);++p<l;){var h=e[p],g=t[p];if(i)var v=s?i(g,h,p,t,e,a):i(h,g,p,e,t,a);if(void 0!==v){if(v)continue;d=!1;break}if(f){if(!r(t,function(e,t){if(!f.has(t)&&(h===e||n(h,e,i,o,a)))return f.add(t)})){d=!1;break}}else if(h!==g&&!n(h,g,i,o,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function re(e,t,n,i,r,o,a){switch(n){case rt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case it:return!(e.byteLength!=t.byteLength||!i(new _t(e),new _t(t)));case ze:case qe:case Qe:return xe(+e,+t);case We:return e.name==t.name&&e.message==t.message;case Ze:case tt:return e==t+"";case Xe:var s=u;case et:var l=o&Ve;if(s||(s=c),e.size!=t.size&&!l)return!1;var p=a.get(e);if(p)return p==t;o|=je,a.set(e,t);var d=ie(s(e),s(t),i,r,o,a);return a.delete(e),d;case nt:if(Yt)return Yt.call(e)==Yt.call(t)}return!1}function oe(e,t,n,i,r,o){var a=r&Ve,s=_e(e),l=s.length;if(l!=_e(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:Nt.call(t,c)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var d=!0;o.set(e,t),o.set(t,e);for(var f=a;++u<l;){c=s[u];var h=e[c],g=t[c];if(i)var v=a?i(g,h,c,t,e,o):i(h,g,c,e,t,o);if(!(void 0===v?h===g||n(h,g,i,r,o):v)){d=!1;break}f||(f="constructor"==c)}if(d&&!f){var m=e.constructor,y=t.constructor;m!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y)&&(d=!1)}return o.delete(e),o.delete(t),d}function ae(e,t){var n=e.__data__;return de(t)?n["string"==typeof t?"string":"hash"]:n.map}function se(e){for(var t=_e(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,ge(r)]}return t}function le(e,t){var n=s(e,t);return W(n)?n:void 0}function ue(e,t,n){t=pe(t,e)?[t]:ne(t);for(var i,r=-1,o=t.length;++r<o;){var a=me(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}if(i)return i;var o=e?e.length:0;return!!o&&Ae(o)&&ce(a,o)&&(tn(e)||Ce(e))}function ce(e,t){return!!(t=null==t?He:t)&&("number"==typeof e||dt.test(e))&&e>-1&&e%1==0&&e<t}function pe(e,t){if(tn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ne(e))||(at.test(e)||!ot.test(e)||null!=t&&e in Object(t))}function de(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function fe(e){return!!Lt&&Lt in e}function he(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Tt)}function ge(e){return e===e&&!Le(e)}function ve(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function me(e){if("string"==typeof e||Ne(e))return e;var t=e+"";return"0"==t&&1/e==-Ge?"-0":t}function ye(e){if(null!=e){try{return It.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ee(e,t){return(tn(e)?i:Q)(e,Y(t,3))}function be(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError($e);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(be.Cache||S),n}function xe(e,t){return e===t||e!==e&&t!==t}function Ce(e){return we(e)&&Nt.call(e,"callee")&&(!Dt.call(e,"callee")||Rt.call(e)==Be)}function Se(e){return null!=e&&Ae(e.length)&&!Te(e)}function we(e){return Ie(e)&&Se(e)}function Te(e){var t=Le(e)?Rt.call(e):"";return t==Ke||t==Ye}function Ae(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=He}function Le(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ie(e){return!!e&&"object"==typeof e}function Ne(e){return"symbol"==typeof e||Ie(e)&&Rt.call(e)==nt}function Re(e){return null==e?"":te(e)}function Oe(e,t,n){var i=null==e?void 0:G(e,t);return void 0===i?n:i}function Pe(e,t){return null!=e&&ue(e,t,B)}function _e(e){return Se(e)?F(e):X(e)}function De(e){return e}function ke(e){return pe(e)?o(me(e)):ee(e)}var Me=200,$e="Expected a function",Fe="__lodash_hash_undefined__",je=1,Ve=2,Ge=1/0,He=9007199254740991,Be="[object Arguments]",Ue="[object Array]",ze="[object Boolean]",qe="[object Date]",We="[object Error]",Ke="[object Function]",Ye="[object GeneratorFunction]",Xe="[object Map]",Qe="[object Number]",Je="[object Object]",Ze="[object RegExp]",et="[object Set]",tt="[object String]",nt="[object Symbol]",it="[object ArrayBuffer]",rt="[object DataView]",ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,at=/^\w*$/,st=/^\./,lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ut=/[\\^$.*+?()[\]{}|]/g,ct=/\\(\\)?/g,pt=/^\[object .+?Constructor\]$/,dt=/^(?:0|[1-9]\d*)$/,ft={};ft["[object Float32Array]"]=ft["[object Float64Array]"]=ft["[object Int8Array]"]=ft["[object Int16Array]"]=ft["[object Int32Array]"]=ft["[object Uint8Array]"]=ft["[object Uint8ClampedArray]"]=ft["[object Uint16Array]"]=ft["[object Uint32Array]"]=!0,ft[Be]=ft[Ue]=ft[it]=ft[ze]=ft[rt]=ft[qe]=ft[We]=ft[Ke]=ft[Xe]=ft[Qe]=ft[Je]=ft[Ze]=ft[et]=ft[tt]=ft["[object WeakMap]"]=!1;var ht="object"==typeof e&&e&&e.Object===Object&&e,gt="object"==typeof self&&self&&self.Object===Object&&self,vt=ht||gt||Function("return this")(),mt="object"==typeof t&&t&&!t.nodeType&&t,yt=mt&&"object"==typeof n&&n&&!n.nodeType&&n,Et=yt&&yt.exports===mt,bt=Et&&ht.process,xt=function(){try{return bt&&bt.binding("util")}catch(e){}}(),Ct=xt&&xt.isTypedArray,St=Array.prototype,wt=Function.prototype,Tt=Object.prototype,At=vt["__core-js_shared__"],Lt=function(){var e=/[^.]+$/.exec(At&&At.keys&&At.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),It=wt.toString,Nt=Tt.hasOwnProperty,Rt=Tt.toString,Ot=RegExp("^"+It.call(Nt).replace(ut,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pt=vt.Symbol,_t=vt.Uint8Array,Dt=Tt.propertyIsEnumerable,kt=St.splice,Mt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),$t=le(vt,"DataView"),Ft=le(vt,"Map"),jt=le(vt,"Promise"),Vt=le(vt,"Set"),Gt=le(vt,"WeakMap"),Ht=le(Object,"create"),Bt=ye($t),Ut=ye(Ft),zt=ye(jt),qt=ye(Vt),Wt=ye(Gt),Kt=Pt?Pt.prototype:void 0,Yt=Kt?Kt.valueOf:void 0,Xt=Kt?Kt.toString:void 0;p.prototype.clear=d,p.prototype.delete=f,p.prototype.get=h,p.prototype.has=g,p.prototype.set=v,m.prototype.clear=y,m.prototype.delete=E,m.prototype.get=b,m.prototype.has=x,m.prototype.set=C,S.prototype.clear=w,S.prototype.delete=T,S.prototype.get=A,S.prototype.has=L,S.prototype.set=I,N.prototype.add=N.prototype.push=R,N.prototype.has=O,P.prototype.clear=_,P.prototype.delete=D,P.prototype.get=k,P.prototype.has=M,P.prototype.set=$;var Qt=function(e,t){return function(n,i){if(null==n)return n;if(!Se(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=Object(n);(t?o--:++o<r)&&!1!==i(a[o],o,a););return n}}(V),Jt=function(e){return function(t,n,i){for(var r=-1,o=Object(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(!1===n(o[l],l,o))break}return t}}(),Zt=H;($t&&Zt(new $t(new ArrayBuffer(1)))!=rt||Ft&&Zt(new Ft)!=Xe||jt&&"[object Promise]"!=Zt(jt.resolve())||Vt&&Zt(new Vt)!=et||Gt&&"[object WeakMap]"!=Zt(new Gt))&&(Zt=function(e){var t=Rt.call(e),n=t==Je?e.constructor:void 0,i=n?ye(n):void 0;if(i)switch(i){case Bt:return rt;case Ut:return Xe;case zt:return"[object Promise]";case qt:return et;case Wt:return"[object WeakMap]"}return t});var en=be(function(e){e=Re(e);var t=[];return st.test(e)&&t.push(""),e.replace(lt,function(e,n,i,r){t.push(i?r.replace(ct,"$1"):n||e)}),t});be.Cache=S;var tn=Array.isArray,nn=Ct?function(e){return function(t){return e(t)}}(Ct):K;n.exports=Ee}).call(t,n(12),n(135)(e))},function(e,t,n){!function(t,i){e.exports=i(n(0),n(74))}(0,function(e,t){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(1),o=function(){function e(e,t){this.$element=e,this.$timeout=t}return e.$inject=["$element","$timeout"],e.prototype.$postLink=function(){var e=this;this.content||(this.content=""),this.yasqe=r(this.$element[0],{createShareLink:!1,sparql:{endpoint:this.endpoint,callbacks:{complete:function(t){return e.onQueryResults({results:t})}},showQueryButton:this.showQueryButton}}),this.yasqe.setValue(this.content),this.yasqe.on("change",function(){return e.onContentChanged({content:e.yasqe.getValue()})}),this.onInit({yasqe:this.yasqe})},e.prototype.$onChanges=function(e){e.endpoint&&!e.endpoint.isFirstChange()&&(this.yasqe.options.sparql.endpoint=e.endpoint.currentValue),e.content&&!e.content.isFirstChange()&&e.content.currentValue!==this.yasqe.getValue()&&this.yasqe.setValue(e.content.currentValue)},e}();t.YasqeComponentController=o;var a=function(){function e(){this.bindings={content:"<",onContentChanged:"&",onQueryResults:"&",endpoint:"<",onInit:"&",showQueryButton:"@"},this.controller=o}return e}();t.YasqeComponent=a,i.module("fi.seco.yasqe",[]).component("yasqe",new a)}])})},function(e,t,n){function i(e){var t=!1;if(e)if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else-2147024882===e.number&&(t=!0);return t}var r=n(510),o={day:function(){return 864e5},month:function(){o.day()},year:function(){o.month()}},a=e.exports={set:function(e,t,n,a){if(r.enabled&&e&&void 0!==t){"string"==typeof n&&(n=o[n]()),t.documentElement&&(t=(new XMLSerializer).serializeToString(t.documentElement));try{r.set(e,{val:t,exp:n,time:(new Date).getTime()})}catch(e){if(e.quotaExceeded=i(e),!e.quotaExceeded||!a)throw e;a(e)}}},remove:function(e){r.enabled&&e&&r.remove(e)},removeAll:function(e){r.enabled&&(e?"function"==typeof e&&r.each(function(t,n){e(n,t)&&a.remove(n)}):r.clearAll())},get:function(e){if(!r.enabled)return null;if(e){var t=r.get(e);return t?t.exp&&(new Date).getTime()-t.time>t.exp?null:t.val:null}return null}}},function(e,t,n){var i=n(511),r=n(512),o=[n(519)];e.exports=i.createStore(r,o)},function(e,t,n){function i(){var e="undefined"==typeof console?null:console;if(e){(e.warn?e.warn:e.log).apply(e,arguments)}}function r(e,t,n){n||(n=""),e&&!p(e)&&(e=[e]),t&&!p(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",o=n?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var g={_namespacePrefix:r,_namespaceRegexp:o,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){function t(){if(n)return l(arguments,function(e,t){i[t]=e}),n.apply(r,i)}var i=a(arguments,0),r=this,o=[t].concat(i);return e.apply(r,o)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(p(e))return void l(e,function(e){t._addPlugin(e)});if(!s(this.plugins,function(t){return e===t})){if(this.plugins.push(e),!d(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!f(n))throw new Error("Plugins must return an object of function properties");l(n,function(n,i){if(!d(n))throw new Error("Bad plugin property: "+i+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,i)})}},addStorage:function(e){i("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},v=c(g,h,{plugins:[]});return v.raw={},l(v,function(e,t){d(e)&&(v.raw[t]=u(v,e))}),l(e,function(e){v._addStorage(e)}),l(t,function(e){v._addPlugin(e)}),v}var o=n(57),a=o.slice,s=o.pluck,l=o.each,u=o.bind,c=o.create,p=o.isList,d=o.isFunction,f=o.isObject;e.exports={createStore:r};var h={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each(function(n,i){e.call(t,t._deserialize(n),(i||"").replace(t._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return r.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return r(this.storage,this.plugins,e)}}},function(e,t,n){e.exports=[n(513),n(514),n(515),n(516),n(517),n(518)]},function(e,t,n){function i(){return c.localStorage}function r(e){return i().getItem(e)}function o(e,t){return i().setItem(e,t)}function a(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(r(n),n)}}function s(e){return i().removeItem(e)}function l(){return i().clear()}var u=n(57),c=u.Global;e.exports={name:"localStorage",read:r,write:o,each:a,remove:s,clearAll:l}},function(e,t,n){function i(e){return c[e]}function r(e,t){c[e]=t}function o(e){for(var t=c.length-1;t>=0;t--){var n=c.key(t);e(c[n],n)}}function a(e){return c.removeItem(e)}function s(){o(function(e,t){delete c[e]})}var l=n(57),u=l.Global;e.exports={name:"oldFF-globalStorage",read:i,write:r,each:o,remove:a,clearAll:s};var c=u.globalStorage},function(e,t,n){function i(e,t){if(!h){var n=l(e);f(function(e){e.setAttribute(n,t),e.save(p)})}}function r(e){if(!h){var t=l(e),n=null;return f(function(e){n=e.getAttribute(t)}),n}}function o(e){f(function(t){for(var n=t.XMLDocument.documentElement.attributes,i=n.length-1;i>=0;i--){var r=n[i];e(t.getAttribute(r.name),r.name)}})}function a(e){var t=l(e);f(function(e){e.removeAttribute(t),e.save(p)})}function s(){f(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(p);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(p)})}function l(e){return e.replace(/^\d/,"___$&").replace(g,"___")}var u=n(57),c=u.Global;e.exports={name:"oldIE-userDataStorage",write:i,read:r,each:o,remove:a,clearAll:s};var p="storejs",d=c.document,f=function(){if(!d||!d.documentElement||!d.documentElement.addBehavior)return null;var e,t,n;try{t=new ActiveXObject("htmlfile"),t.open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,n=e.createElement("div")}catch(t){n=d.createElement("div"),e=d.body}return function(t){var i=[].slice.call(arguments,0);i.unshift(n),e.appendChild(n),n.addBehavior("#default#userData"),n.load(p),t.apply(this,i),e.removeChild(n)}}(),h=(c.navigator?c.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),g=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g")},function(e,t,n){function i(e){if(!e||!l(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(d.cookie.replace(new RegExp(t),"$1"))}function r(e){for(var t=d.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(p(t[n])){var i=t[n].split("="),r=unescape(i[0]),o=unescape(i[1]);e(o,r)}}function o(e,t){e&&(d.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function a(e){e&&l(e)&&(d.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function s(){r(function(e,t){a(t)})}function l(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(d.cookie)}var u=n(57),c=u.Global,p=u.trim;e.exports={name:"cookieStorage",read:i,write:o,each:r,remove:a,clearAll:s};var d=c.document},function(e,t,n){function i(){return c.sessionStorage}function r(e){return i().getItem(e)}function o(e,t){return i().setItem(e,t)}function a(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(r(n),n)}}function s(e){return i().removeItem(e)}function l(){return i().clear()}var u=n(57),c=u.Global;e.exports={name:"sessionStorage",read:r,write:o,each:a,remove:s,clearAll:l}},function(e,t){function n(e){return s[e]}function i(e,t){s[e]=t}function r(e){for(var t in s)s.hasOwnProperty(t)&&e(s[t],t)}function o(e){delete s[e]}function a(e){s={}}e.exports={name:"memoryStorage",read:n,write:i,each:r,remove:o,clearAll:a};var s={}},function(e,t,n){function i(){return n(520),{}}e.exports=i},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,o,a,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;n<o;n+=1)a[n]=str(n,l)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=rep[n],(r=str(i,l))&&a.push(quote(i)+(gap?": ":":")+r));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r=str(i,l))&&a.push(quote(i)+(gap?": ":":")+r);return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,r}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(e,t){e.exports={draw:function(t,n){if(t){var i=e.exports.getElement(n);i&&(t.append?t.append(i):t.appendChild(i))}},getElement:function(e){if(e&&0==e.indexOf("<svg")){var t=new DOMParser,n=t.parseFromString(e,"text/xml"),i=n.documentElement,r=document.createElement("div");return r.className="svgImg",r.appendChild(i),r}return!1}}},function(e,t){e.exports={_from:"yasgui-utils@^1.6.7",_id:"yasgui-utils@1.6.7",_inBundle:!1,_integrity:"sha1-K8/FoxVojeOuYFeIPZrjQrIF8mc=",_location:"/yasgui-utils",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"yasgui-utils@^1.6.7",name:"yasgui-utils",escapedName:"yasgui-utils",rawSpec:"^1.6.7",saveSpec:null,fetchSpec:"^1.6.7"},_requiredBy:["/yasgui-yasqe","/yasgui-yasr"],_resolved:"https://registry.npmjs.org/yasgui-utils/-/yasgui-utils-1.6.7.tgz",_shasum:"2bcfc5a315688de3ae6057883d9ae342b205f267",_spec:"yasgui-utils@^1.6.7",_where:"/Users/jiemakel/tyo/fibra/node_modules/yasgui-yasqe",author:{name:"Laurens Rietveld"},bugs:{url:"https://github.com/YASGUI/Utils/issues"},bundleDependencies:!1,dependencies:{store:"^2.0.4"},deprecated:!1,description:"Utils for YASGUI libs",homepage:"https://github.com/YASGUI/Utils",licenses:[{type:"MIT",url:"http://yasgui.github.io/license.txt"}],main:"src/main.js",maintainers:[{name:"Laurens Rietveld",email:"laurens.rietveld@gmail.com",url:"http://laurensrietveld.nl"}],name:"yasgui-utils",repository:{type:"git",url:"git://github.com/YASGUI/Utils.git"},version:"1.6.7"}},function(e,t,n){"use strict";var i=n(18);i.deparam=function(e,t){var n={},r={true:!0,false:!1,null:null};return i.each(e.replace(/\+/g," ").split("&"),function(e,o){var a,s=o.split("="),l=decodeURIComponent(s[0]),u=n,c=0,p=l.split("]["),d=p.length-1;if(/\[/.test(p[0])&&/\]$/.test(p[d])?(p[d]=p[d].replace(/\]$/,""),p=p.shift().split("[").concat(p),d=p.length-1):d=0,2===s.length)if(a=decodeURIComponent(s[1]),t&&(a=a&&!isNaN(a)?+a:"undefined"===a?void 0:void 0!==r[a]?r[a]:a),d)for(;c<=d;c++)l=""===p[c]?u.length:p[c],u=u[l]=c<d?u[l]||(p[c+1]&&isNaN(p[c+1])?{}:[]):a;else i.isArray(n[l])?n[l].push(a):void 0!==n[l]?n[l]=[n[l],a]:n[l]=a;else l&&(n[l]=t?void 0:"")}),n}},function(e,t,n){!function(e){e(n(22),n(237))}(function(e){"use strict";function t(e){this.options=e,this.from=this.to=0}function n(e){return!0===e&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}function i(e,t){for(var n=e.findMarks(p(t,0),p(t+1,0)),i=0;i<n.length;++i)if(n[i].__isFold&&n[i].find().from.line==t)return n[i]}function r(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function o(e,t,n){var o=e.state.foldGutter.options,a=t,s=e.foldOption(o,"minFoldSize"),l=e.foldOption(o,"rangeFinder");e.eachLine(t,n,function(t){var n=null;if(i(e,a))n=r(o.indicatorFolded);else{var u=p(a,0),c=l&&l(e,u);c&&c.to.line-c.from.line>=s&&(n=r(o.indicatorOpen))}e.setGutterMarker(t,o.gutter,n),++a})}function a(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation(function(){o(e,t.from,t.to)}),n.from=t.from,n.to=t.to)}function s(e,t,n){var r=e.state.foldGutter;if(r){var o=r.options;if(n==o.gutter){var a=i(e,t);a?a.clear():e.foldCode(p(t,0),o.rangeFinder)}}}function l(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){a(e)},n.foldOnChangeTimeSpan||600)}}function u(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?a(e):e.operation(function(){n.from<t.from&&(o(e,n.from,t.from),t.from=n.from),n.to>t.to&&(o(e,t.to,n.to),t.to=n.to)})},n.updateViewportTimeSpan||400)}}function c(e,t){var n=e.state.foldGutter;if(n){var i=t.line;i>=n.from&&i<n.to&&o(e,i,i+1)}}e.defineOption("foldGutter",!1,function(i,r,o){o&&o!=e.Init&&(i.clearGutter(i.state.foldGutter.options.gutter),i.state.foldGutter=null,i.off("gutterClick",s),i.off("change",l),i.off("viewportChange",u),i.off("fold",c),i.off("unfold",c),i.off("swapDoc",l)),r&&(i.state.foldGutter=new t(n(r)),a(i),i.on("gutterClick",s),i.on("change",l),i.on("viewportChange",u),i.on("fold",c),i.on("unfold",c),i.on("swapDoc",l))});var p=e.Pos})},function(e,t,n){!function(e){e(n(22))}(function(e){"use strict";function t(e,t){return e.line-t.line||e.ch-t.ch}function n(e,t,n,i){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=i?i.from:e.firstLine(),this.max=i?i.to-1:e.lastLine()}function i(e,t){var n=e.cm.getTokenTypeAt(d(e.line,t));return n&&/\btag\b/.test(n)}function r(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function o(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function a(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(r(e))continue;return}{if(i(e,t+1)){var n=e.text.lastIndexOf("/",t),o=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,o?"selfClose":"regular"}e.ch=t+1}}}function s(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(o(e))continue;return}if(i(e,t+1)){h.lastIndex=t,e.ch=t;var n=h.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function l(e){for(;;){h.lastIndex=e.ch;var t=h.exec(e.text);if(!t){if(r(e))continue;return}{if(i(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}}function u(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(o(e))continue;return}{if(i(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t}}}function c(e,t){for(var n=[];;){var i,r=l(e),o=e.line,s=e.ch-(r?r[0].length:0);if(!r||!(i=a(e)))return;if("selfClose"!=i)if(r[1]){for(var u=n.length-1;u>=0;--u)if(n[u]==r[2]){n.length=u;break}if(u<0&&(!t||t==r[2]))return{tag:r[2],from:d(o,s),to:d(e.line,e.ch)}}else n.push(r[2])}}function p(e,t){for(var n=[];;){var i=u(e);if(!i)return;if("selfClose"!=i){var r=e.line,o=e.ch,a=s(e);if(!a)return;if(a[1])n.push(a[2]);else{for(var l=n.length-1;l>=0;--l)if(n[l]==a[2]){n.length=l;break}if(l<0&&(!t||t==a[2]))return{tag:a[2],from:d(e.line,e.ch),to:d(r,o)}}}else s(e)}}var d=e.Pos,f="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",h=new RegExp("<(/?)(["+f+"][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");e.registerHelper("fold","xml",function(e,t){for(var i=new n(e,t.line,0);;){var r,o=l(i);if(!o||i.line!=t.line||!(r=a(i)))return;if(!o[1]&&"selfClose"!=r){var s=d(i.line,i.ch),u=c(i,o[2]);return u&&{from:s,to:u.from}}}}),e.findMatchingTag=function(e,i,r){var o=new n(e,i.line,i.ch,r);if(-1!=o.text.indexOf(">")||-1!=o.text.indexOf("<")){var l=a(o),u=l&&d(o.line,o.ch),f=l&&s(o);if(l&&f&&!(t(o,i)>0)){var h={from:d(o.line,o.ch),to:u,tag:f[2]};return"selfClose"==l?{open:h,close:null,at:"open"}:f[1]?{open:p(o,f[2]),close:h,at:"close"}:(o=new n(e,u.line,u.ch,r),{open:h,close:c(o,f[2]),at:"open"})}}},e.findEnclosingTag=function(e,t,i){for(var r=new n(e,t.line,t.ch,i);;){var o=p(r);if(!o)break;var a=new n(e,t.line,t.ch,i),s=c(a,o.tag);if(s)return{open:o,close:s}}},e.scanForClosingTag=function(e,t,i,r){return c(new n(e,t.line,t.ch,r?{from:0,to:r}:null),i)}})},function(e,t,n){!function(e){e(n(22))}(function(e){"use strict";e.registerHelper("fold","brace",function(t,n){function i(i){for(var s=n.ch,l=0;;){var u=s<=0?-1:a.lastIndexOf(i,s-1);if(-1!=u){if(1==l&&u<n.ch)break;if(r=t.getTokenTypeAt(e.Pos(o,u+1)),!/^(comment|string)/.test(r))return u+1;s=u-1}else{if(1==l)break;l=1,s=a.length}}}var r,o=n.line,a=t.getLine(o),s="{",l="}",u=i("{");if(null==u&&(s="[",l="]",u=i("[")),null!=u){var c,p,d=1,f=t.lastLine();e:for(var h=o;h<=f;++h)for(var g=t.getLine(h),v=h==o?u:0;;){var m=g.indexOf(s,v),y=g.indexOf(l,v);if(m<0&&(m=g.length),y<0&&(y=g.length),(v=Math.min(m,y))==g.length)break;if(t.getTokenTypeAt(e.Pos(h,v+1))==r)if(v==m)++d;else if(!--d){c=h,p=v;break e}++v}if(null!=c&&(o!=c||p!=u))return{from:e.Pos(o,u),to:e.Pos(c,p)}}}),e.registerHelper("fold","import",function(t,n){function i(n){if(n<t.firstLine()||n>t.lastLine())return null;var i=t.getTokenAt(e.Pos(n,1));if(/\S/.test(i.string)||(i=t.getTokenAt(e.Pos(n,i.end+1))),"keyword"!=i.type||"import"!=i.string)return null;for(var r=n,o=Math.min(t.lastLine(),n+10);r<=o;++r){var a=t.getLine(r),s=a.indexOf(";");if(-1!=s)return{startCh:i.end,end:e.Pos(r,s)}}}var r,o=n.line,a=i(o);if(!a||i(o-1)||(r=i(o-2))&&r.end.line==o-1)return null;for(var s=a.end;;){var l=i(s.line+1);if(null==l)break;s=l.end}return{from:t.clipPos(e.Pos(o,a.startCh+1)),to:s}}),e.registerHelper("fold","include",function(t,n){function i(n){if(n<t.firstLine()||n>t.lastLine())return null;var i=t.getTokenAt(e.Pos(n,1));return/\S/.test(i.string)||(i=t.getTokenAt(e.Pos(n,i.end+1))),"meta"==i.type&&"#include"==i.string.slice(0,8)?i.start+8:void 0}var r=n.line,o=i(r);if(null==o||null!=i(r-1))return null;for(var a=r;;){if(null==i(a+1))break;++a}return{from:e.Pos(r,o+1),to:t.clipPos(e.Pos(a))}})})},function(e,t,n){!function(e){e(n(22))}(function(e){"use strict";function t(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}function n(t,n){return e.cmpPos(n.from,t.from)>0&&t.to.ch-t.from.ch!=n.to.ch-n.from.ch}function i(e,t,n){var i=e.options.hintOptions,r={};for(var o in g)r[o]=g[o];if(i)for(var o in i)void 0!==i[o]&&(r[o]=i[o]);if(n)for(var o in n)void 0!==n[o]&&(r[o]=n[o]);return r.hint.resolve&&(r.hint=r.hint.resolve(e,t)),r}function r(e){return"string"==typeof e?e:e.text}function o(e,t){function n(e,n){var r;r="string"!=typeof n?function(e){return n(e,t)}:i.hasOwnProperty(n)?i[n]:n,o[e]=r}var i={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},r=e.options.customKeys,o=r?{}:i;if(r)for(var a in r)r.hasOwnProperty(a)&&n(a,r[a]);var s=e.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&n(a,s[a]);return o}function a(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function s(t,n){this.completion=t,this.data=n,this.picked=!1;var i=this,s=t.cm,l=this.hints=document.createElement("ul");l.className="CodeMirror-hints",this.selectedHint=n.selectedHint||0;for(var u=n.list,c=0;c<u.length;++c){var f=l.appendChild(document.createElement("li")),h=u[c],g=p+(c!=this.selectedHint?"":" "+d);null!=h.className&&(g=h.className+" "+g),f.className=g,h.render?h.render(f,n,h):f.appendChild(document.createTextNode(h.displayText||r(h))),f.hintId=c}var v=s.cursorCoords(t.options.alignWithWord?n.from:null),m=v.left,y=v.bottom,E=!0;l.style.left=m+"px",l.style.top=y+"px";var b=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),x=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(t.options.container||document.body).appendChild(l);var C=l.getBoundingClientRect(),S=C.bottom-x,w=l.scrollHeight>l.clientHeight+1,T=s.getScrollInfo();if(S>0){var A=C.bottom-C.top;if(v.top-(v.bottom-C.top)-A>0)l.style.top=(y=v.top-A)+"px",E=!1;else if(A>x){l.style.height=x-5+"px",l.style.top=(y=v.bottom-C.top)+"px";var L=s.getCursor();n.from.ch!=L.ch&&(v=s.cursorCoords(L),l.style.left=(m=v.left)+"px",C=l.getBoundingClientRect())}}var I=C.right-b;if(I>0&&(C.right-C.left>b&&(l.style.width=b-5+"px",I-=C.right-C.left-b),l.style.left=(m=v.left-I)+"px"),w)for(var N=l.firstChild;N;N=N.nextSibling)N.style.paddingRight=s.display.nativeBarWidth+"px";if(s.addKeyMap(this.keyMap=o(t,{moveFocus:function(e,t){i.changeActive(i.selectedHint+e,t)},setFocus:function(e){i.changeActive(e)},menuSize:function(){return i.screenAmount()},length:u.length,close:function(){t.close()},pick:function(){i.pick()},data:n})),t.options.closeOnUnfocus){var R;s.on("blur",this.onBlur=function(){R=setTimeout(function(){t.close()},100)}),s.on("focus",this.onFocus=function(){clearTimeout(R)})}return s.on("scroll",this.onScroll=function(){var e=s.getScrollInfo(),n=s.getWrapperElement().getBoundingClientRect(),i=y+T.top-e.top,r=i-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(E||(r+=l.offsetHeight),r<=n.top||r>=n.bottom)return t.close();l.style.top=i+"px",l.style.left=m+T.left-e.left+"px"}),e.on(l,"dblclick",function(e){var t=a(l,e.target||e.srcElement);t&&null!=t.hintId&&(i.changeActive(t.hintId),i.pick())}),e.on(l,"click",function(e){var n=a(l,e.target||e.srcElement);n&&null!=n.hintId&&(i.changeActive(n.hintId),t.options.completeOnSingleClick&&i.pick())}),e.on(l,"mousedown",function(){setTimeout(function(){s.focus()},20)}),e.signal(n,"select",u[0],l.firstChild),!0}function l(e,t){if(!e.somethingSelected())return t;for(var n=[],i=0;i<t.length;i++)t[i].supportsSelection&&n.push(t[i]);return n}function u(e,t,n,i){if(e.async)e(t,i,n);else{var r=e(t,n);r&&r.then?r.then(i):i(r)}}function c(t,n){var i,r=t.getHelpers(n,"hint");if(r.length){var o=function(e,t,n){function i(r){if(r==o.length)return t(null);u(o[r],e,n,function(e){e&&e.list.length>0?t(e):i(r+1)})}var o=l(e,r);i(0)};return o.async=!0,o.supportsSelection=!0,o}return(i=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:i})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}var p="CodeMirror-hint",d="CodeMirror-hint-active";e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var i={hint:t};if(n)for(var r in n)i[r]=n[r];return e.showHint(i)},e.defineExtension("showHint",function(n){n=i(this,this.getCursor("start"),n);var r=this.listSelections();if(!(r.length>1)){if(this.somethingSelected()){if(!n.hint.supportsSelection)return;for(var o=0;o<r.length;o++)if(r[o].head.line!=r[o].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var a=this.state.completionActive=new t(this,n);a.options.hint&&(e.signal(this,"startCompletion",this),a.update(!0))}});var f=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},h=window.cancelAnimationFrame||clearTimeout;t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var i=t.list[n];i.hint?i.hint(this.cm,t,i):this.cm.replaceRange(r(i),i.from||t.from,i.to||t.to,"complete"),e.signal(t,"pick",i),this.close()},cursorActivity:function(){this.debounce&&(h(this.debounce),this.debounce=0);var e=this.cm.getCursor(),t=this.cm.getLine(e.line);if(e.line!=this.startPos.line||t.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||e.ch&&this.options.closeCharacters.test(t.charAt(e.ch-1)))this.close();else{var n=this;this.debounce=f(function(){n.update()}),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;u(this.options.hint,this.cm,this.options,function(i){t.tick==n&&t.finishUpdate(i,e)})}},finishUpdate:function(t,i){this.data&&e.signal(this.data,"update");var r=this.widget&&this.widget.picked||i&&this.options.completeSingle;this.widget&&this.widget.close(),t&&this.data&&n(this.data,t)||(this.data=t,t&&t.list.length&&(r&&1==t.list.length?this.pick(t,0):(this.widget=new s(this,t),e.signal(t,"shown"))))}},s.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:t<0&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var i=this.hints.childNodes[this.selectedHint];i.className=i.className.replace(" "+d,""),i=this.hints.childNodes[this.selectedHint=t],i.className+=" "+d,i.offsetTop<this.hints.scrollTop?this.hints.scrollTop=i.offsetTop-3:i.offsetTop+i.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=i.offsetTop+i.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],i)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:c}),e.registerHelper("hint","fromList",function(t,n){var i=t.getCursor(),r=t.getTokenAt(i),o=e.Pos(i.line,r.end);if(r.string&&/\w/.test(r.string[r.string.length-1]))var a=r.string,s=e.Pos(i.line,r.start);else var a="",s=o;for(var l=[],u=0;u<n.words.length;u++){var c=n.words[u];c.slice(0,a.length)==a&&l.push(c)}if(l.length)return{list:l,from:s,to:o}}),e.commands.autocomplete=e.showHint;var g={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)})},function(e,t,n){!function(e){e(n(22))}(function(e){"use strict";function t(e,t,r,o){if(this.atOccurrence=!1,this.doc=e,null==o&&"string"==typeof t&&(o=!1),r=r?e.clipPos(r):i(0,0),this.pos={from:r,to:r},"string"!=typeof t)t.global||(t=new RegExp(t.source,t.ignoreCase?"ig":"g")),this.matches=function(n,r){if(n){t.lastIndex=0;for(var o,a,s=e.getLine(r.line).slice(0,r.ch),l=0;;){t.lastIndex=l;var u=t.exec(s);if(!u)break;if(o=u,a=o.index,(l=o.index+(o[0].length||1))==s.length)break}var c=o&&o[0].length||0;c||(0==a&&0==s.length?o=void 0:a!=e.getLine(r.line).length&&c++)}else{t.lastIndex=r.ch;var s=e.getLine(r.line),o=t.exec(s),c=o&&o[0].length||0,a=o&&o.index;a+c==s.length||c||(c=1)}if(o&&c)return{from:i(r.line,a),to:i(r.line,a+c),match:o}};else{var a=t;o&&(t=t.toLowerCase());var s=o?function(e){return e.toLowerCase()}:function(e){return e},l=t.split("\n");if(1==l.length)t.length?this.matches=function(r,o){if(r){var l=e.getLine(o.line).slice(0,o.ch),u=s(l),c=u.lastIndexOf(t);if(c>-1)return c=n(l,u,c),{from:i(o.line,c),to:i(o.line,c+a.length)}}else{var l=e.getLine(o.line).slice(o.ch),u=s(l),c=u.indexOf(t);if(c>-1)return c=n(l,u,c)+o.ch,{from:i(o.line,c),to:i(o.line,c+a.length)}}}:this.matches=function(){};else{var u=a.split("\n");this.matches=function(t,n){var r=l.length-1;if(t){if(n.line-(l.length-1)<e.firstLine())return;if(s(e.getLine(n.line).slice(0,u[r].length))!=l[l.length-1])return;for(var o=i(n.line,u[r].length),a=n.line-1,c=r-1;c>=1;--c,--a)if(l[c]!=s(e.getLine(a)))return;var p=e.getLine(a),d=p.length-u[0].length;if(s(p.slice(d))!=l[0])return;return{from:i(a,d),to:o}}if(!(n.line+(l.length-1)>e.lastLine())){var p=e.getLine(n.line),d=p.length-u[0].length;if(s(p.slice(d))==l[0]){for(var f=i(n.line,d),a=n.line+1,c=1;c<r;++c,++a)if(l[c]!=s(e.getLine(a)))return;if(s(e.getLine(a).slice(0,u[r].length))==l[r])return{from:f,to:i(a,u[r].length)}}}}}}}function n(e,t,n){if(e.length==t.length)return n;for(var i=Math.min(n,e.length);;){var r=e.slice(0,i).toLowerCase().length;if(r<n)++i;else{if(!(r>n))return i;--i}}}var i=e.Pos;t.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function t(e){var t=i(e,0);return n.pos={from:t,to:t},n.atOccurrence=!1,!1}for(var n=this,r=this.doc.clipPos(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,r))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!r.line)return t(0);r=i(r.line-1,this.doc.getLine(r.line-1).length)}else{var o=this.doc.lineCount();if(r.line==o-1)return t(o);r=i(r.line+1,0)}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var r=e.splitLines(t);this.doc.replaceRange(r,this.pos.from,this.pos.to,n),this.pos.to=i(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,n,i){return new t(this.doc,e,n,i)}),e.defineDocExtension("getSearchCursor",function(e,n,i){return new t(this,e,n,i)}),e.defineExtension("selectMatches",function(t,n){for(var i=[],r=this.getSearchCursor(t,this.getCursor("from"),n);r.findNext()&&!(e.cmpPos(r.to(),this.getCursor("to"))>0);)i.push({anchor:r.from(),head:r.to()});i.length&&this.setSelections(i,0)})})},function(e,t,n){!function(e){e(n(22))}(function(e){function t(e,t,i,r){var o=e.getLineHandle(t.line),l=t.ch-1,u=l>=0&&s[o.text.charAt(l)]||s[o.text.charAt(++l)];if(!u)return null;var c=">"==u.charAt(1)?1:-1;if(i&&c>0!=(l==t.ch))return null;var p=e.getTokenTypeAt(a(t.line,l+1)),d=n(e,a(t.line,l+(c>0?1:0)),c,p||null,r);return null==d?null:{from:a(t.line,l),to:d&&d.pos,match:d&&d.ch==u.charAt(0),forward:c>0}}function n(e,t,n,i,r){for(var o=r&&r.maxScanLineLength||1e4,l=r&&r.maxScanLines||1e3,u=[],c=r&&r.bracketRegex?r.bracketRegex:/[(){}[\]]/,p=n>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),d=t.line;d!=p;d+=n){var f=e.getLine(d);if(f){var h=n>0?0:f.length-1,g=n>0?f.length:-1;if(!(f.length>o))for(d==t.line&&(h=t.ch-(n<0?1:0));h!=g;h+=n){var v=f.charAt(h);if(c.test(v)&&(void 0===i||e.getTokenTypeAt(a(d,h+1))==i)){var m=s[v];if(">"==m.charAt(1)==n>0)u.push(v);else{if(!u.length)return{pos:a(d,h),ch:v};u.pop()}}}}}return d-n!=(n>0?e.lastLine():e.firstLine())&&null}function i(e,n,i){for(var r=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],l=e.listSelections(),u=0;u<l.length;u++){var c=l[u].empty()&&t(e,l[u].head,!1,i);if(c&&e.getLine(c.from.line).length<=r){var p=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(c.from,a(c.from.line,c.from.ch+1),{className:p})),c.to&&e.getLine(c.to.line).length<=r&&s.push(e.markText(c.to,a(c.to.line,c.to.ch+1),{className:p}))}}if(s.length){o&&e.state.focused&&e.focus();var d=function(){e.operation(function(){for(var e=0;e<s.length;e++)s[e].clear()})};if(!n)return d;setTimeout(d,800)}}function r(e){e.operation(function(){l&&(l(),l=null),l=i(e,!1,e.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),a=e.Pos,s={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,n,i){i&&i!=e.Init&&t.off("cursorActivity",r),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",r))}),e.defineExtension("matchBrackets",function(){i(this,!0)}),e.defineExtension("findMatchingBracket",function(e,n,i){return t(this,e,n,i)}),e.defineExtension("scanForBracket",function(e,t,i,r){return n(this,e,t,i,r)})})},function(e,t,n){!function(e){e(n(22))}(function(e){"use strict";e.runMode=function(t,n,i,r){var o=e.getMode(e.defaults,n),a=/MSIE \d/.test(navigator.userAgent),s=a&&(null==document.documentMode||document.documentMode<9);if(i.appendChild){var l=r&&r.tabSize||e.defaults.tabSize,u=i,c=0;u.innerHTML="",i=function(e,t){if("\n"==e)return u.appendChild(document.createTextNode(s?"\r":e)),void(c=0);for(var n="",i=0;;){var r=e.indexOf("\t",i);if(-1==r){n+=e.slice(i),c+=e.length-i;break}c+=r-i,n+=e.slice(i,r);var o=l-c%l;c+=o;for(var a=0;a<o;++a)n+=" ";i=r+1}if(t){var p=u.appendChild(document.createElement("span"));p.className="cm-"+t.replace(/ +/g," cm-"),p.appendChild(document.createTextNode(n))}else u.appendChild(document.createTextNode(n))}}for(var p=e.splitLines(t),d=r&&r.state||e.startState(o),f=0,h=p.length;f<h;++f){f&&i("\n");var g=new e.StringStream(p[f]);for(!g.string&&o.blankLine&&o.blankLine(d);!g.eol();){var v=o.token(g,d);i(g.current(),v,f,g.start,d),g.start=g.pos}}}})},function(e,t,n){!function(e){e(n(22))}(function(e){"use strict";function t(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height},t.style.width="",t.style.height="auto",t.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",e.refresh()}function n(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var n=e.state.fullScreenRestore;t.style.width=n.width,t.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),e.refresh()}e.defineOption("fullScreen",!1,function(i,r,o){o==e.Init&&(o=!1),!o!=!r&&(r?t(i):n(i))})})},function(e,t,n){"use strict";var i=n(22);i.defineMode("sparql11",function(e,t){function i(e){var t=[],n=s[e];if(void 0!=n)for(var i in n)t.push(i.toString());else t.push(e);return t}function r(e,t){function n(){var n=e.column();t.errorStartPos=n,t.errorEndPos=n+r.text.length}0==e.pos&&(t.possibleCurrent=t.possibleNext);var r=function(){var n=null;if(t.inLiteral){var i=!1;if(n=e.match(y[t.inLiteral].contents.regex,!0,!1),n&&0==n[0].length&&(n=e.match(y[t.inLiteral].closing.regex,!0,!1),i=!0),n&&n[0].length>0){var r={quotePos:i?"end":"content",cat:v[t.inLiteral].CAT,style:y[t.inLiteral].complete.style,text:n[0],start:e.start};return i&&(t.inLiteral=!1),r}}for(var o in y)if(n=e.match(y[o].quotes.regex,!0,!1)){var s;return t.inLiteral?(t.inLiteral=!1,s="end"):(t.inLiteral=o,s="start"),{cat:v[o].CAT,style:y[o].quotes.style,text:n[0],quotePos:s,start:e.start}}for(var l=0;l<x.length;++l)if(n=e.match(x[l].regex,!0,!1))return{cat:x[l].name,style:x[l].style,text:n[0],start:e.start};return(n=e.match(a.keywords,!0,!1))?{cat:e.current().toUpperCase(),style:"keyword",text:n[0],start:e.start}:(n=e.match(a.punct,!0,!1))?{cat:e.current(),style:"punc",text:n[0],start:e.start}:(n=e.match(/^.[A-Za-z0-9]*/,!0,!1),{cat:"<invalid_token>",style:"error",text:n[0],start:e.start})}();if("<invalid_token>"==r.cat)return 1==t.OK&&(t.OK=!1,n()),t.complete=!1,r.style;if("WS"==r.cat||"COMMENT"==r.cat||r.quotePos&&"end"!=r.quotePos)return t.possibleCurrent=t.possibleNext,r.style;var o,l=!1,u=r.cat;if(!r.quotePos||"end"==r.quotePos)for(;t.stack.length>0&&u&&t.OK&&!l;)if(o=t.stack.pop(),s[o]){var c=s[o][u];if(void 0!=c&&function(e){return(t.allowVars||"var"!=e)&&(t.allowBnodes||"blankNode"!=e&&"blankNodePropertyList"!=e&&"blankNodePropertyListPath"!=e)}(o)){for(var p=c.length-1;p>=0;--p)t.stack.push(c[p]);!function(e){switch(t.inPrefixDecl="prefixDecl"===e,e){case"disallowVars":t.allowVars=!1;break;case"allowVars":t.allowVars=!0;break;case"disallowBnodes":t.allowBnodes=!1;break;case"allowBnodes":t.allowBnodes=!0;break;case"storeProperty":t.storeProperty=!0}}(o)}else t.OK=!1,t.complete=!1,n(),t.stack.push(o)}else if(o==u){t.inPrefixDecl&&("PNAME_NS"===o&&r.text.length>0?t.currentPnameNs=r.text.slice(0,-1):void 0!==t.currentPnameNs&&r.text.length>2&&(t.prefixes[t.currentPnameNs]=r.text.slice(1,-1),t.currentPnameNs=void 0)),l=!0,function(e){null==t.queryType&&("SELECT"!=e&&"CONSTRUCT"!=e&&"ASK"!=e&&"DESCRIBE"!=e&&"INSERT"!=e&&"DELETE"!=e&&"LOAD"!=e&&"CLEAR"!=e&&"CREATE"!=e&&"DROP"!=e&&"COPY"!=e&&"MOVE"!=e&&"ADD"!=e||(t.queryType=e))}(o);for(var d=!0,f=t.stack.length;f>0;--f){var h=s[t.stack[f-1]];h&&h.$||(d=!1)}if(t.complete=d,t.storeProperty&&"punc"!=u.cat&&(t.lastProperty=r.text,t.storeProperty=!1),!t.inPrefixDecl&&("PNAME_NS"===u||"PNAME_LN"===u)){var g=r.text.indexOf(":");if(g>=0){var m=r.text.slice(0,g);!t.prefixes[m]&&["bif","xsd","sql"].indexOf(m)<0&&(t.OK=!1,n(),t.errorMsg="Prefix '"+m+"' is not defined")}}}else t.OK=!1,t.complete=!1,n();return!l&&t.OK&&(t.OK=!1,t.complete=!1,n()),t.possibleCurrent.indexOf("a")>=0&&(t.lastPredicateOffset=r.start),t.possibleCurrent=t.possibleNext,t.possibleNext=i(t.stack[t.stack.length-1]),r.style}function o(t,n){if(t.inLiteral)return 0;if(t.stack.length&&"?[or([verbPath,verbSimple]),objectList]"==t.stack[t.stack.length-1])return t.lastPredicateOffset;var i=0,r=t.stack.length-1;if(/^[\}\]\)]/.test(n)){for(var o=n.substr(0,1);r>=0;--r)if(t.stack[r]==o){--r;break}}else{var a=C[t.stack[r]];a&&(i+=a,--r)}for(;r>=0;--r){var a=S[t.stack[r]];a&&(i+=a)}return i*e.indentUnit}var a=(e.indentUnit,n(533)),s=a.table,l="[0-9A-Fa-f]",u="(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD])(((([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]))|\\.)*(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])))?)?:",c="[eE][\\+-]?[0-9]+",p="(([0-9]+\\.[0-9]*)|(\\.[0-9]+))",d="(([0-9]+\\.[0-9]*"+c+")|(\\.[0-9]+"+c+")|([0-9]+"+c+"))",f="\\\\[tbnrf\\\\\"']",h=l+"{4}",g="(\\\\u"+h+"|\\\\U00(10|0"+l+")"+h+")",v={SINGLE:{CAT:"STRING_LITERAL_LONG1",QUOTES:"'''",CONTENTS:"(('|'')?([^'\\\\]|"+f+"|"+g+"))*"},DOUBLE:{CAT:"STRING_LITERAL_LONG2",QUOTES:'"""',CONTENTS:'(("|"")?([^"\\\\]|'+f+"|"+g+"))*"}};for(var m in v)v[m].COMPLETE=v[m].QUOTES+v[m].CONTENTS+v[m].QUOTES;var y={};for(var m in v)y[m]={complete:{name:"STRING_LITERAL_LONG_"+m,regex:new RegExp("^"+v[m].COMPLETE),style:"string"},contents:{name:"STRING_LITERAL_LONG_"+m,regex:new RegExp("^"+v[m].CONTENTS),style:"string"},closing:{name:"STRING_LITERAL_LONG_"+m,regex:new RegExp("^"+v[m].CONTENTS+v[m].QUOTES),style:"string"},quotes:{name:"STRING_LITERAL_LONG_QUOTES_"+m,regex:new RegExp("^"+v[m].QUOTES),style:"string"}};var E="[\\x20\\x09\\x0D\\x0A]",b="#([^\\n\\r]*[\\n\\r]|[^\\n\\r]*$)",x=[{name:"WS",regex:new RegExp("^"+E+"+"),style:"ws"},{name:"COMMENT",regex:new RegExp("^"+b),style:"comment"},{name:"IRI_REF",regex:new RegExp('^<[^<>"`|{}^\\\0- ]*>'),style:"variable-3"},{name:"VAR1",regex:new RegExp("^\\?([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|[0-9])([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])*"),style:"atom"},{name:"VAR2",regex:new RegExp("^\\$([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|[0-9])([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])*"),style:"atom"},{name:"LANGTAG",regex:new RegExp("^@[a-zA-Z]+(-[a-zA-Z0-9]+)*"),style:"meta"},{name:"DOUBLE",regex:new RegExp("^"+d),style:"number"},{name:"DECIMAL",regex:new RegExp("^"+p),style:"number"},{name:"INTEGER",regex:new RegExp("^[0-9]+"),style:"number"},{name:"DOUBLE_POSITIVE",regex:new RegExp("^\\+(([0-9]+\\.[0-9]*[eE][\\+-]?[0-9]+)|(\\.[0-9]+[eE][\\+-]?[0-9]+)|([0-9]+[eE][\\+-]?[0-9]+))"),style:"number"},{name:"DECIMAL_POSITIVE",regex:new RegExp("^\\+(([0-9]+\\.[0-9]*)|(\\.[0-9]+))"),style:"number"},{name:"INTEGER_POSITIVE",regex:new RegExp("^\\+[0-9]+"),style:"number"},{name:"DOUBLE_NEGATIVE",regex:new RegExp("^-(([0-9]+\\.[0-9]*[eE][\\+-]?[0-9]+)|(\\.[0-9]+[eE][\\+-]?[0-9]+)|([0-9]+[eE][\\+-]?[0-9]+))"),style:"number"},{name:"DECIMAL_NEGATIVE",regex:new RegExp("^-(([0-9]+\\.[0-9]*)|(\\.[0-9]+))"),style:"number"},{name:"INTEGER_NEGATIVE",regex:new RegExp("^-[0-9]+"),style:"number"},{name:"STRING_LITERAL1",regex:new RegExp("^'(([^\\x27\\x5C\\x0A\\x0D])|\\\\[tbnrf\\\\\"']|(\\\\u[0-9A-Fa-f]{4}|\\\\U00(10|0[0-9A-Fa-f])[0-9A-Fa-f]{4}))*'"),style:"string"},{name:"STRING_LITERAL2",regex:new RegExp('^"(([^\\x22\\x5C\\x0A\\x0D])|\\\\[tbnrf\\\\"\']|(\\\\u[0-9A-Fa-f]{4}|\\\\U00(10|0[0-9A-Fa-f])[0-9A-Fa-f]{4}))*"'),style:"string"},{name:"NIL",regex:new RegExp("^\\(([\\x20\\x09\\x0D\\x0A]|(#([^\\n\\r]*[\\n\\r]|[^\\n\\r]*$)))*\\)"),style:"punc"},{name:"ANON",regex:new RegExp("^\\[([\\x20\\x09\\x0D\\x0A]|(#([^\\n\\r]*[\\n\\r]|[^\\n\\r]*$)))*\\]"),style:"punc"},{name:"PNAME_LN",regex:new RegExp("^(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD])(((([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]))|\\.)*(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])))?)?:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|:|[0-9]|((%[0-9A-Fa-f][0-9A-Fa-f])|(\\\\[_~\\.\\-!\\$&'\\(\\)\\*\\+,;=/\\?#@%])))((([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])|\\.|:|((%[0-9A-Fa-f][0-9A-Fa-f])|(\\\\[_~\\.\\-!\\$&'\\(\\)\\*\\+,;=/\\?#@%])))*(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])|:|((%[0-9A-Fa-f][0-9A-Fa-f])|(\\\\[_~\\.\\-!\\$&'\\(\\)\\*\\+,;=/\\?#@%]))))?"),style:"string-2"},{name:"PNAME_NS",regex:new RegExp("^"+u),style:"string-2"},{name:"BLANK_NODE_LABEL",regex:new RegExp("^_:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|[0-9])((([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])|\\.)*([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]))?"),style:"string-2"}],C={"*[,, object]":3,"*[(,),object]":3,"*[(,),objectPath]":3,"*[/,pathEltOrInverse]":2,object:2,objectPath:2,objectList:2,objectListPath:2,storeProperty:2,pathMod:2,"?pathMod":2,propertyListNotEmpty:1,propertyList:1,propertyListPath:1,propertyListPathNotEmpty:1,"?[verb,objectList]":1},S={"}":1,"]":1,")":1,"{":-1,"(":-1,"[":-1};return{token:r,startState:function(t){return{tokenize:r,OK:!0,complete:a.acceptEmpty,errorStartPos:null,errorEndPos:null,queryType:null,possibleCurrent:i(a.startSymbol),possibleNext:i(a.startSymbol),allowVars:!0,allowBnodes:!0,storeProperty:!1,lastProperty:"",inLiteral:!1,stack:[a.startSymbol],lastPredicateOffset:e.indentUnit,prefixes:{}}},indent:o,electricChars:"}])"}}),i.defineMIME("application/x-sparql-query","sparql11")},function(e,t){e.exports={table:{"*[&&,valueLogical]":{"&&":["[&&,valueLogical]","*[&&,valueLogical]"],AS:[],")":[],",":[],"||":[],";":[]},"*[,,expression]":{",":["[,,expression]","*[,,expression]"],")":[]},"*[,,objectPath]":{",":["[,,objectPath]","*[,,objectPath]"],".":[],";":[],"]":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"*[,,object]":{",":["[,,object]","*[,,object]"],".":[],";":[],"]":[],"}":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"*[/,pathEltOrInverse]":{"/":["[/,pathEltOrInverse]","*[/,pathEltOrInverse]"],"|":[],")":[],"(":[],"[":[],VAR1:[],VAR2:[],NIL:[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},"*[;,?[or([verbPath,verbSimple]),objectList]]":{";":["[;,?[or([verbPath,verbSimple]),objectList]]","*[;,?[or([verbPath,verbSimple]),objectList]]"],".":[],"]":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"*[;,?[verb,objectList]]":{";":["[;,?[verb,objectList]]","*[;,?[verb,objectList]]"],".":[],"]":[],"}":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"*[UNION,groupGraphPattern]":{UNION:["[UNION,groupGraphPattern]","*[UNION,groupGraphPattern]"],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],".":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"*[graphPatternNotTriples,?.,?triplesBlock]":{"{":["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],OPTIONAL:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],MINUS:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],GRAPH:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],SERVICE:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],FILTER:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],BIND:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],VALUES:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],"}":[]},"*[quadsNotTriples,?.,?triplesTemplate]":{GRAPH:["[quadsNotTriples,?.,?triplesTemplate]","*[quadsNotTriples,?.,?triplesTemplate]"],"}":[]},"*[|,pathOneInPropertySet]":{"|":["[|,pathOneInPropertySet]","*[|,pathOneInPropertySet]"],")":[]},"*[|,pathSequence]":{"|":["[|,pathSequence]","*[|,pathSequence]"],")":[],"(":[],"[":[],VAR1:[],VAR2:[],NIL:[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},"*[||,conditionalAndExpression]":{"||":["[||,conditionalAndExpression]","*[||,conditionalAndExpression]"],AS:[],")":[],",":[],";":[]},"*dataBlockValue":{UNDEF:["dataBlockValue","*dataBlockValue"],IRI_REF:["dataBlockValue","*dataBlockValue"],TRUE:["dataBlockValue","*dataBlockValue"],FALSE:["dataBlockValue","*dataBlockValue"],PNAME_LN:["dataBlockValue","*dataBlockValue"],PNAME_NS:["dataBlockValue","*dataBlockValue"],STRING_LITERAL1:["dataBlockValue","*dataBlockValue"],STRING_LITERAL2:["dataBlockValue","*dataBlockValue"],STRING_LITERAL_LONG1:["dataBlockValue","*dataBlockValue"],STRING_LITERAL_LONG2:["dataBlockValue","*dataBlockValue"],INTEGER:["dataBlockValue","*dataBlockValue"],DECIMAL:["dataBlockValue","*dataBlockValue"],DOUBLE:["dataBlockValue","*dataBlockValue"],INTEGER_POSITIVE:["dataBlockValue","*dataBlockValue"],DECIMAL_POSITIVE:["dataBlockValue","*dataBlockValue"],DOUBLE_POSITIVE:["dataBlockValue","*dataBlockValue"],INTEGER_NEGATIVE:["dataBlockValue","*dataBlockValue"],DECIMAL_NEGATIVE:["dataBlockValue","*dataBlockValue"],DOUBLE_NEGATIVE:["dataBlockValue","*dataBlockValue"],"}":[],")":[]},"*datasetClause":{FROM:["datasetClause","*datasetClause"],WHERE:[],"{":[]},"*describeDatasetClause":{FROM:["describeDatasetClause","*describeDatasetClause"],ORDER:[],HAVING:[],GROUP:[],LIMIT:[],OFFSET:[],WHERE:[],"{":[],VALUES:[],$:[]},"*graphNode":{"(":["graphNode","*graphNode"],"[":["graphNode","*graphNode"],VAR1:["graphNode","*graphNode"],VAR2:["graphNode","*graphNode"],NIL:["graphNode","*graphNode"],IRI_REF:["graphNode","*graphNode"],TRUE:["graphNode","*graphNode"],FALSE:["graphNode","*graphNode"],BLANK_NODE_LABEL:["graphNode","*graphNode"],ANON:["graphNode","*graphNode"],PNAME_LN:["graphNode","*graphNode"],PNAME_NS:["graphNode","*graphNode"],STRING_LITERAL1:["graphNode","*graphNode"],STRING_LITERAL2:["graphNode","*graphNode"],STRING_LITERAL_LONG1:["graphNode","*graphNode"],STRING_LITERAL_LONG2:["graphNode","*graphNode"],INTEGER:["graphNode","*graphNode"],DECIMAL:["graphNode","*graphNode"],DOUBLE:["graphNode","*graphNode"],INTEGER_POSITIVE:["graphNode","*graphNode"],DECIMAL_POSITIVE:["graphNode","*graphNode"],DOUBLE_POSITIVE:["graphNode","*graphNode"],INTEGER_NEGATIVE:["graphNode","*graphNode"],DECIMAL_NEGATIVE:["graphNode","*graphNode"],DOUBLE_NEGATIVE:["graphNode","*graphNode"],")":[]},"*graphNodePath":{"(":["graphNodePath","*graphNodePath"],"[":["graphNodePath","*graphNodePath"],VAR1:["graphNodePath","*graphNodePath"],VAR2:["graphNodePath","*graphNodePath"],NIL:["graphNodePath","*graphNodePath"],IRI_REF:["graphNodePath","*graphNodePath"],TRUE:["graphNodePath","*graphNodePath"],FALSE:["graphNodePath","*graphNodePath"],BLANK_NODE_LABEL:["graphNodePath","*graphNodePath"],ANON:["graphNodePath","*graphNodePath"],PNAME_LN:["graphNodePath","*graphNodePath"],PNAME_NS:["graphNodePath","*graphNodePath"],STRING_LITERAL1:["graphNodePath","*graphNodePath"],STRING_LITERAL2:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG1:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG2:["graphNodePath","*graphNodePath"],INTEGER:["graphNodePath","*graphNodePath"],DECIMAL:["graphNodePath","*graphNodePath"],DOUBLE:["graphNodePath","*graphNodePath"],INTEGER_POSITIVE:["graphNodePath","*graphNodePath"],DECIMAL_POSITIVE:["graphNodePath","*graphNodePath"],DOUBLE_POSITIVE:["graphNodePath","*graphNodePath"],INTEGER_NEGATIVE:["graphNodePath","*graphNodePath"],DECIMAL_NEGATIVE:["graphNodePath","*graphNodePath"],DOUBLE_NEGATIVE:["graphNodePath","*graphNodePath"],")":[]},"*groupCondition":{"(":["groupCondition","*groupCondition"],STR:["groupCondition","*groupCondition"],LANG:["groupCondition","*groupCondition"],LANGMATCHES:["groupCondition","*groupCondition"],DATATYPE:["groupCondition","*groupCondition"],BOUND:["groupCondition","*groupCondition"],IRI:["groupCondition","*groupCondition"],URI:["groupCondition","*groupCondition"],BNODE:["groupCondition","*groupCondition"],RAND:["groupCondition","*groupCondition"],ABS:["groupCondition","*groupCondition"],CEIL:["groupCondition","*groupCondition"],FLOOR:["groupCondition","*groupCondition"],ROUND:["groupCondition","*groupCondition"],CONCAT:["groupCondition","*groupCondition"],STRLEN:["groupCondition","*groupCondition"],UCASE:["groupCondition","*groupCondition"],LCASE:["groupCondition","*groupCondition"],ENCODE_FOR_URI:["groupCondition","*groupCondition"],CONTAINS:["groupCondition","*groupCondition"],STRSTARTS:["groupCondition","*groupCondition"],STRENDS:["groupCondition","*groupCondition"],STRBEFORE:["groupCondition","*groupCondition"],STRAFTER:["groupCondition","*groupCondition"],YEAR:["groupCondition","*groupCondition"],MONTH:["groupCondition","*groupCondition"],DAY:["groupCondition","*groupCondition"],HOURS:["groupCondition","*groupCondition"],MINUTES:["groupCondition","*groupCondition"],SECONDS:["groupCondition","*groupCondition"],TIMEZONE:["groupCondition","*groupCondition"],TZ:["groupCondition","*groupCondition"],NOW:["groupCondition","*groupCondition"],UUID:["groupCondition","*groupCondition"],STRUUID:["groupCondition","*groupCondition"],MD5:["groupCondition","*groupCondition"],SHA1:["groupCondition","*groupCondition"],SHA256:["groupCondition","*groupCondition"],SHA384:["groupCondition","*groupCondition"],SHA512:["groupCondition","*groupCondition"],COALESCE:["groupCondition","*groupCondition"],IF:["groupCondition","*groupCondition"],STRLANG:["groupCondition","*groupCondition"],STRDT:["groupCondition","*groupCondition"],SAMETERM:["groupCondition","*groupCondition"],ISIRI:["groupCondition","*groupCondition"],ISURI:["groupCondition","*groupCondition"],ISBLANK:["groupCondition","*groupCondition"],ISLITERAL:["groupCondition","*groupCondition"],ISNUMERIC:["groupCondition","*groupCondition"],VAR1:["groupCondition","*groupCondition"],VAR2:["groupCondition","*groupCondition"],SUBSTR:["groupCondition","*groupCondition"],REPLACE:["groupCondition","*groupCondition"],REGEX:["groupCondition","*groupCondition"],EXISTS:["groupCondition","*groupCondition"],NOT:["groupCondition","*groupCondition"],IRI_REF:["groupCondition","*groupCondition"],PNAME_LN:["groupCondition","*groupCondition"],PNAME_NS:["groupCondition","*groupCondition"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],HAVING:[],$:[],"}":[]},"*havingCondition":{"(":["havingCondition","*havingCondition"],STR:["havingCondition","*havingCondition"],LANG:["havingCondition","*havingCondition"],LANGMATCHES:["havingCondition","*havingCondition"],DATATYPE:["havingCondition","*havingCondition"],BOUND:["havingCondition","*havingCondition"],IRI:["havingCondition","*havingCondition"],URI:["havingCondition","*havingCondition"],BNODE:["havingCondition","*havingCondition"],RAND:["havingCondition","*havingCondition"],ABS:["havingCondition","*havingCondition"],CEIL:["havingCondition","*havingCondition"],FLOOR:["havingCondition","*havingCondition"],ROUND:["havingCondition","*havingCondition"],CONCAT:["havingCondition","*havingCondition"],STRLEN:["havingCondition","*havingCondition"],UCASE:["havingCondition","*havingCondition"],LCASE:["havingCondition","*havingCondition"],ENCODE_FOR_URI:["havingCondition","*havingCondition"],CONTAINS:["havingCondition","*havingCondition"],STRSTARTS:["havingCondition","*havingCondition"],STRENDS:["havingCondition","*havingCondition"],STRBEFORE:["havingCondition","*havingCondition"],STRAFTER:["havingCondition","*havingCondition"],YEAR:["havingCondition","*havingCondition"],MONTH:["havingCondition","*havingCondition"],DAY:["havingCondition","*havingCondition"],HOURS:["havingCondition","*havingCondition"],MINUTES:["havingCondition","*havingCondition"],SECONDS:["havingCondition","*havingCondition"],TIMEZONE:["havingCondition","*havingCondition"],TZ:["havingCondition","*havingCondition"],NOW:["havingCondition","*havingCondition"],UUID:["havingCondition","*havingCondition"],STRUUID:["havingCondition","*havingCondition"],MD5:["havingCondition","*havingCondition"],SHA1:["havingCondition","*havingCondition"],SHA256:["havingCondition","*havingCondition"],SHA384:["havingCondition","*havingCondition"],SHA512:["havingCondition","*havingCondition"],COALESCE:["havingCondition","*havingCondition"],IF:["havingCondition","*havingCondition"],STRLANG:["havingCondition","*havingCondition"],STRDT:["havingCondition","*havingCondition"],SAMETERM:["havingCondition","*havingCondition"],ISIRI:["havingCondition","*havingCondition"],ISURI:["havingCondition","*havingCondition"],ISBLANK:["havingCondition","*havingCondition"],ISLITERAL:["havingCondition","*havingCondition"],ISNUMERIC:["havingCondition","*havingCondition"],SUBSTR:["havingCondition","*havingCondition"],REPLACE:["havingCondition","*havingCondition"],REGEX:["havingCondition","*havingCondition"],EXISTS:["havingCondition","*havingCondition"],NOT:["havingCondition","*havingCondition"],IRI_REF:["havingCondition","*havingCondition"],PNAME_LN:["havingCondition","*havingCondition"],PNAME_NS:["havingCondition","*havingCondition"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],$:[],"}":[]},"*or([[ (,*dataBlockValue,)],NIL])":{"(":["or([[ (,*dataBlockValue,)],NIL])","*or([[ (,*dataBlockValue,)],NIL])"],NIL:["or([[ (,*dataBlockValue,)],NIL])","*or([[ (,*dataBlockValue,)],NIL])"],"}":[]},"*or([[*,unaryExpression],[/,unaryExpression]])":{"*":["or([[*,unaryExpression],[/,unaryExpression]])","*or([[*,unaryExpression],[/,unaryExpression]])"],"/":["or([[*,unaryExpression],[/,unaryExpression]])","*or([[*,unaryExpression],[/,unaryExpression]])"],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],"+":[],"-":[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],";":[]},"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])":{"+":["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"-":["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_POSITIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_POSITIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE_POSITIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_NEGATIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_NEGATIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE_NEGATIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],";":[]},"*or([baseDecl,prefixDecl])":{BASE:["or([baseDecl,prefixDecl])","*or([baseDecl,prefixDecl])"],PREFIX:["or([baseDecl,prefixDecl])","*or([baseDecl,prefixDecl])"],$:[],CONSTRUCT:[],DESCRIBE:[],ASK:[],INSERT:[],DELETE:[],SELECT:[],LOAD:[],CLEAR:[],DROP:[],ADD:[],MOVE:[],COPY:[],CREATE:[],WITH:[]},"*or([var,[ (,expression,AS,var,)]])":{"(":["or([var,[ (,expression,AS,var,)]])","*or([var,[ (,expression,AS,var,)]])"],VAR1:["or([var,[ (,expression,AS,var,)]])","*or([var,[ (,expression,AS,var,)]])"],VAR2:["or([var,[ (,expression,AS,var,)]])","*or([var,[ (,expression,AS,var,)]])"],WHERE:[],"{":[],FROM:[]},"*orderCondition":{ASC:["orderCondition","*orderCondition"],DESC:["orderCondition","*orderCondition"],VAR1:["orderCondition","*orderCondition"],VAR2:["orderCondition","*orderCondition"],"(":["orderCondition","*orderCondition"],STR:["orderCondition","*orderCondition"],LANG:["orderCondition","*orderCondition"],LANGMATCHES:["orderCondition","*orderCondition"],DATATYPE:["orderCondition","*orderCondition"],BOUND:["orderCondition","*orderCondition"],IRI:["orderCondition","*orderCondition"],URI:["orderCondition","*orderCondition"],BNODE:["orderCondition","*orderCondition"],RAND:["orderCondition","*orderCondition"],ABS:["orderCondition","*orderCondition"],CEIL:["orderCondition","*orderCondition"],FLOOR:["orderCondition","*orderCondition"],ROUND:["orderCondition","*orderCondition"],CONCAT:["orderCondition","*orderCondition"],STRLEN:["orderCondition","*orderCondition"],UCASE:["orderCondition","*orderCondition"],LCASE:["orderCondition","*orderCondition"],ENCODE_FOR_URI:["orderCondition","*orderCondition"],CONTAINS:["orderCondition","*orderCondition"],STRSTARTS:["orderCondition","*orderCondition"],STRENDS:["orderCondition","*orderCondition"],STRBEFORE:["orderCondition","*orderCondition"],STRAFTER:["orderCondition","*orderCondition"],YEAR:["orderCondition","*orderCondition"],MONTH:["orderCondition","*orderCondition"],DAY:["orderCondition","*orderCondition"],HOURS:["orderCondition","*orderCondition"],MINUTES:["orderCondition","*orderCondition"],SECONDS:["orderCondition","*orderCondition"],TIMEZONE:["orderCondition","*orderCondition"],TZ:["orderCondition","*orderCondition"],NOW:["orderCondition","*orderCondition"],UUID:["orderCondition","*orderCondition"],STRUUID:["orderCondition","*orderCondition"],MD5:["orderCondition","*orderCondition"],SHA1:["orderCondition","*orderCondition"],SHA256:["orderCondition","*orderCondition"],SHA384:["orderCondition","*orderCondition"],SHA512:["orderCondition","*orderCondition"],COALESCE:["orderCondition","*orderCondition"],IF:["orderCondition","*orderCondition"],STRLANG:["orderCondition","*orderCondition"],STRDT:["orderCondition","*orderCondition"],SAMETERM:["orderCondition","*orderCondition"],ISIRI:["orderCondition","*orderCondition"],ISURI:["orderCondition","*orderCondition"],ISBLANK:["orderCondition","*orderCondition"],ISLITERAL:["orderCondition","*orderCondition"],ISNUMERIC:["orderCondition","*orderCondition"],SUBSTR:["orderCondition","*orderCondition"],REPLACE:["orderCondition","*orderCondition"],REGEX:["orderCondition","*orderCondition"],EXISTS:["orderCondition","*orderCondition"],NOT:["orderCondition","*orderCondition"],IRI_REF:["orderCondition","*orderCondition"],PNAME_LN:["orderCondition","*orderCondition"],PNAME_NS:["orderCondition","*orderCondition"],VALUES:[],LIMIT:[],OFFSET:[],$:[],"}":[]},"*usingClause":{USING:["usingClause","*usingClause"],WHERE:[]},"*var":{VAR1:["var","*var"],VAR2:["var","*var"],")":[]},"*varOrIRIref":{VAR1:["varOrIRIref","*varOrIRIref"],VAR2:["varOrIRIref","*varOrIRIref"],IRI_REF:["varOrIRIref","*varOrIRIref"],PNAME_LN:["varOrIRIref","*varOrIRIref"],PNAME_NS:["varOrIRIref","*varOrIRIref"],ORDER:[],HAVING:[],GROUP:[],LIMIT:[],OFFSET:[],WHERE:[],"{":[],FROM:[],VALUES:[],$:[]},"+graphNode":{"(":["graphNode","*graphNode"],"[":["graphNode","*graphNode"],VAR1:["graphNode","*graphNode"],VAR2:["graphNode","*graphNode"],NIL:["graphNode","*graphNode"],IRI_REF:["graphNode","*graphNode"],TRUE:["graphNode","*graphNode"],FALSE:["graphNode","*graphNode"],BLANK_NODE_LABEL:["graphNode","*graphNode"],ANON:["graphNode","*graphNode"],PNAME_LN:["graphNode","*graphNode"],PNAME_NS:["graphNode","*graphNode"],STRING_LITERAL1:["graphNode","*graphNode"],STRING_LITERAL2:["graphNode","*graphNode"],STRING_LITERAL_LONG1:["graphNode","*graphNode"],STRING_LITERAL_LONG2:["graphNode","*graphNode"],INTEGER:["graphNode","*graphNode"],DECIMAL:["graphNode","*graphNode"],DOUBLE:["graphNode","*graphNode"],INTEGER_POSITIVE:["graphNode","*graphNode"],DECIMAL_POSITIVE:["graphNode","*graphNode"],DOUBLE_POSITIVE:["graphNode","*graphNode"],INTEGER_NEGATIVE:["graphNode","*graphNode"],DECIMAL_NEGATIVE:["graphNode","*graphNode"],DOUBLE_NEGATIVE:["graphNode","*graphNode"]},"+graphNodePath":{"(":["graphNodePath","*graphNodePath"],"[":["graphNodePath","*graphNodePath"],VAR1:["graphNodePath","*graphNodePath"],VAR2:["graphNodePath","*graphNodePath"],NIL:["graphNodePath","*graphNodePath"],IRI_REF:["graphNodePath","*graphNodePath"],TRUE:["graphNodePath","*graphNodePath"],FALSE:["graphNodePath","*graphNodePath"],BLANK_NODE_LABEL:["graphNodePath","*graphNodePath"],ANON:["graphNodePath","*graphNodePath"],PNAME_LN:["graphNodePath","*graphNodePath"],PNAME_NS:["graphNodePath","*graphNodePath"],STRING_LITERAL1:["graphNodePath","*graphNodePath"],STRING_LITERAL2:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG1:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG2:["graphNodePath","*graphNodePath"],INTEGER:["graphNodePath","*graphNodePath"],DECIMAL:["graphNodePath","*graphNodePath"],DOUBLE:["graphNodePath","*graphNodePath"],INTEGER_POSITIVE:["graphNodePath","*graphNodePath"],DECIMAL_POSITIVE:["graphNodePath","*graphNodePath"],DOUBLE_POSITIVE:["graphNodePath","*graphNodePath"],INTEGER_NEGATIVE:["graphNodePath","*graphNodePath"],DECIMAL_NEGATIVE:["graphNodePath","*graphNodePath"],DOUBLE_NEGATIVE:["graphNodePath","*graphNodePath"]},"+groupCondition":{"(":["groupCondition","*groupCondition"],STR:["groupCondition","*groupCondition"],LANG:["groupCondition","*groupCondition"],LANGMATCHES:["groupCondition","*groupCondition"],DATATYPE:["groupCondition","*groupCondition"],BOUND:["groupCondition","*groupCondition"],IRI:["groupCondition","*groupCondition"],URI:["groupCondition","*groupCondition"],BNODE:["groupCondition","*groupCondition"],RAND:["groupCondition","*groupCondition"],ABS:["groupCondition","*groupCondition"],CEIL:["groupCondition","*groupCondition"],FLOOR:["groupCondition","*groupCondition"],ROUND:["groupCondition","*groupCondition"],CONCAT:["groupCondition","*groupCondition"],STRLEN:["groupCondition","*groupCondition"],UCASE:["groupCondition","*groupCondition"],LCASE:["groupCondition","*groupCondition"],ENCODE_FOR_URI:["groupCondition","*groupCondition"],CONTAINS:["groupCondition","*groupCondition"],STRSTARTS:["groupCondition","*groupCondition"],STRENDS:["groupCondition","*groupCondition"],STRBEFORE:["groupCondition","*groupCondition"],STRAFTER:["groupCondition","*groupCondition"],YEAR:["groupCondition","*groupCondition"],MONTH:["groupCondition","*groupCondition"],DAY:["groupCondition","*groupCondition"],HOURS:["groupCondition","*groupCondition"],MINUTES:["groupCondition","*groupCondition"],SECONDS:["groupCondition","*groupCondition"],TIMEZONE:["groupCondition","*groupCondition"],TZ:["groupCondition","*groupCondition"],NOW:["groupCondition","*groupCondition"],UUID:["groupCondition","*groupCondition"],STRUUID:["groupCondition","*groupCondition"],MD5:["groupCondition","*groupCondition"],SHA1:["groupCondition","*groupCondition"],SHA256:["groupCondition","*groupCondition"],SHA384:["groupCondition","*groupCondition"],SHA512:["groupCondition","*groupCondition"],COALESCE:["groupCondition","*groupCondition"],IF:["groupCondition","*groupCondition"],STRLANG:["groupCondition","*groupCondition"],STRDT:["groupCondition","*groupCondition"],SAMETERM:["groupCondition","*groupCondition"],ISIRI:["groupCondition","*groupCondition"],ISURI:["groupCondition","*groupCondition"],ISBLANK:["groupCondition","*groupCondition"],ISLITERAL:["groupCondition","*groupCondition"],ISNUMERIC:["groupCondition","*groupCondition"],VAR1:["groupCondition","*groupCondition"],VAR2:["groupCondition","*groupCondition"],SUBSTR:["groupCondition","*groupCondition"],REPLACE:["groupCondition","*groupCondition"],REGEX:["groupCondition","*groupCondition"],EXISTS:["groupCondition","*groupCondition"],NOT:["groupCondition","*groupCondition"],IRI_REF:["groupCondition","*groupCondition"],PNAME_LN:["groupCondition","*groupCondition"],PNAME_NS:["groupCondition","*groupCondition"]},"+havingCondition":{"(":["havingCondition","*havingCondition"],STR:["havingCondition","*havingCondition"],LANG:["havingCondition","*havingCondition"],LANGMATCHES:["havingCondition","*havingCondition"],DATATYPE:["havingCondition","*havingCondition"],BOUND:["havingCondition","*havingCondition"],IRI:["havingCondition","*havingCondition"],URI:["havingCondition","*havingCondition"],BNODE:["havingCondition","*havingCondition"],RAND:["havingCondition","*havingCondition"],ABS:["havingCondition","*havingCondition"],CEIL:["havingCondition","*havingCondition"],FLOOR:["havingCondition","*havingCondition"],ROUND:["havingCondition","*havingCondition"],CONCAT:["havingCondition","*havingCondition"],STRLEN:["havingCondition","*havingCondition"],UCASE:["havingCondition","*havingCondition"],LCASE:["havingCondition","*havingCondition"],ENCODE_FOR_URI:["havingCondition","*havingCondition"],CONTAINS:["havingCondition","*havingCondition"],STRSTARTS:["havingCondition","*havingCondition"],STRENDS:["havingCondition","*havingCondition"],STRBEFORE:["havingCondition","*havingCondition"],STRAFTER:["havingCondition","*havingCondition"],YEAR:["havingCondition","*havingCondition"],MONTH:["havingCondition","*havingCondition"],DAY:["havingCondition","*havingCondition"],HOURS:["havingCondition","*havingCondition"],MINUTES:["havingCondition","*havingCondition"],SECONDS:["havingCondition","*havingCondition"],TIMEZONE:["havingCondition","*havingCondition"],TZ:["havingCondition","*havingCondition"],NOW:["havingCondition","*havingCondition"],UUID:["havingCondition","*havingCondition"],STRUUID:["havingCondition","*havingCondition"],MD5:["havingCondition","*havingCondition"],SHA1:["havingCondition","*havingCondition"],SHA256:["havingCondition","*havingCondition"],SHA384:["havingCondition","*havingCondition"],SHA512:["havingCondition","*havingCondition"],COALESCE:["havingCondition","*havingCondition"],IF:["havingCondition","*havingCondition"],STRLANG:["havingCondition","*havingCondition"],STRDT:["havingCondition","*havingCondition"],SAMETERM:["havingCondition","*havingCondition"],ISIRI:["havingCondition","*havingCondition"],ISURI:["havingCondition","*havingCondition"],ISBLANK:["havingCondition","*havingCondition"],ISLITERAL:["havingCondition","*havingCondition"],ISNUMERIC:["havingCondition","*havingCondition"],SUBSTR:["havingCondition","*havingCondition"],REPLACE:["havingCondition","*havingCondition"],REGEX:["havingCondition","*havingCondition"],EXISTS:["havingCondition","*havingCondition"],NOT:["havingCondition","*havingCondition"],IRI_REF:["havingCondition","*havingCondition"],PNAME_LN:["havingCondition","*havingCondition"],PNAME_NS:["havingCondition","*havingCondition"]},"+or([var,[ (,expression,AS,var,)]])":{"(":["or([var,[ (,expression,AS,var,)]])","*or([var,[ (,expression,AS,var,)]])"],VAR1:["or([var,[ (,expression,AS,var,)]])","*or([var,[ (,expression,AS,var,)]])"],VAR2:["or([var,[ (,expression,AS,var,)]])","*or([var,[ (,expression,AS,var,)]])"]},"+orderCondition":{ASC:["orderCondition","*orderCondition"],DESC:["orderCondition","*orderCondition"],VAR1:["orderCondition","*orderCondition"],VAR2:["orderCondition","*orderCondition"],"(":["orderCondition","*orderCondition"],STR:["orderCondition","*orderCondition"],LANG:["orderCondition","*orderCondition"],LANGMATCHES:["orderCondition","*orderCondition"],DATATYPE:["orderCondition","*orderCondition"],BOUND:["orderCondition","*orderCondition"],IRI:["orderCondition","*orderCondition"],URI:["orderCondition","*orderCondition"],BNODE:["orderCondition","*orderCondition"],RAND:["orderCondition","*orderCondition"],ABS:["orderCondition","*orderCondition"],CEIL:["orderCondition","*orderCondition"],FLOOR:["orderCondition","*orderCondition"],ROUND:["orderCondition","*orderCondition"],CONCAT:["orderCondition","*orderCondition"],STRLEN:["orderCondition","*orderCondition"],UCASE:["orderCondition","*orderCondition"],LCASE:["orderCondition","*orderCondition"],ENCODE_FOR_URI:["orderCondition","*orderCondition"],CONTAINS:["orderCondition","*orderCondition"],STRSTARTS:["orderCondition","*orderCondition"],STRENDS:["orderCondition","*orderCondition"],STRBEFORE:["orderCondition","*orderCondition"],STRAFTER:["orderCondition","*orderCondition"],YEAR:["orderCondition","*orderCondition"],MONTH:["orderCondition","*orderCondition"],DAY:["orderCondition","*orderCondition"],HOURS:["orderCondition","*orderCondition"],MINUTES:["orderCondition","*orderCondition"],SECONDS:["orderCondition","*orderCondition"],TIMEZONE:["orderCondition","*orderCondition"],TZ:["orderCondition","*orderCondition"],NOW:["orderCondition","*orderCondition"],UUID:["orderCondition","*orderCondition"],STRUUID:["orderCondition","*orderCondition"],MD5:["orderCondition","*orderCondition"],SHA1:["orderCondition","*orderCondition"],SHA256:["orderCondition","*orderCondition"],SHA384:["orderCondition","*orderCondition"],SHA512:["orderCondition","*orderCondition"],COALESCE:["orderCondition","*orderCondition"],IF:["orderCondition","*orderCondition"],STRLANG:["orderCondition","*orderCondition"],STRDT:["orderCondition","*orderCondition"],SAMETERM:["orderCondition","*orderCondition"],ISIRI:["orderCondition","*orderCondition"],ISURI:["orderCondition","*orderCondition"],ISBLANK:["orderCondition","*orderCondition"],ISLITERAL:["orderCondition","*orderCondition"],ISNUMERIC:["orderCondition","*orderCondition"],SUBSTR:["orderCondition","*orderCondition"],REPLACE:["orderCondition","*orderCondition"],REGEX:["orderCondition","*orderCondition"],EXISTS:["orderCondition","*orderCondition"],NOT:["orderCondition","*orderCondition"],IRI_REF:["orderCondition","*orderCondition"],PNAME_LN:["orderCondition","*orderCondition"],PNAME_NS:["orderCondition","*orderCondition"]},"+varOrIRIref":{VAR1:["varOrIRIref","*varOrIRIref"],VAR2:["varOrIRIref","*varOrIRIref"],IRI_REF:["varOrIRIref","*varOrIRIref"],PNAME_LN:["varOrIRIref","*varOrIRIref"],PNAME_NS:["varOrIRIref","*varOrIRIref"]},"?.":{".":["."],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?DISTINCT":{DISTINCT:["DISTINCT"],"!":[],"+":[],"-":[],VAR1:[],VAR2:[],"(":[],STR:[],LANG:[],LANGMATCHES:[],DATATYPE:[],BOUND:[],IRI:[],URI:[],BNODE:[],RAND:[],ABS:[],CEIL:[],FLOOR:[],ROUND:[],CONCAT:[],STRLEN:[],UCASE:[],LCASE:[],ENCODE_FOR_URI:[],CONTAINS:[],STRSTARTS:[],STRENDS:[],STRBEFORE:[],STRAFTER:[],YEAR:[],MONTH:[],DAY:[],HOURS:[],MINUTES:[],SECONDS:[],TIMEZONE:[],TZ:[],NOW:[],UUID:[],STRUUID:[],MD5:[],SHA1:[],SHA256:[],SHA384:[],SHA512:[],COALESCE:[],IF:[],STRLANG:[],STRDT:[],SAMETERM:[],ISIRI:[],ISURI:[],ISBLANK:[],ISLITERAL:[],ISNUMERIC:[],TRUE:[],FALSE:[],COUNT:[],SUM:[],MIN:[],MAX:[],AVG:[],SAMPLE:[],GROUP_CONCAT:[],SUBSTR:[],REPLACE:[],REGEX:[],EXISTS:[],NOT:[],IRI_REF:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],PNAME_LN:[],PNAME_NS:[],"*":[]},"?GRAPH":{GRAPH:["GRAPH"],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?SILENT":{SILENT:["SILENT"],VAR1:[],VAR2:[],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?SILENT_1":{SILENT:["SILENT"],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?SILENT_2":{SILENT:["SILENT"],GRAPH:[],DEFAULT:[],NAMED:[],ALL:[]},"?SILENT_3":{SILENT:["SILENT"],GRAPH:[]},"?SILENT_4":{SILENT:["SILENT"],DEFAULT:[],GRAPH:[],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?WHERE":{WHERE:["WHERE"],"{":[]},"?[,,expression]":{",":["[,,expression]"],")":[]},"?[.,?constructTriples]":{".":["[.,?constructTriples]"],"}":[]},"?[.,?triplesBlock]":{".":["[.,?triplesBlock]"],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?[.,?triplesTemplate]":{".":["[.,?triplesTemplate]"],"}":[],GRAPH:[]},"?[;,SEPARATOR,=,string]":{";":["[;,SEPARATOR,=,string]"],")":[]},"?[;,update]":{";":["[;,update]"],$:[]},"?[AS,var]":{AS:["[AS,var]"],")":[]},"?[INTO,graphRef]":{INTO:["[INTO,graphRef]"],";":[],$:[]},"?[or([verbPath,verbSimple]),objectList]":{VAR1:["[or([verbPath,verbSimple]),objectList]"],VAR2:["[or([verbPath,verbSimple]),objectList]"],"^":["[or([verbPath,verbSimple]),objectList]"],a:["[or([verbPath,verbSimple]),objectList]"],"!":["[or([verbPath,verbSimple]),objectList]"],"(":["[or([verbPath,verbSimple]),objectList]"],IRI_REF:["[or([verbPath,verbSimple]),objectList]"],PNAME_LN:["[or([verbPath,verbSimple]),objectList]"],PNAME_NS:["[or([verbPath,verbSimple]),objectList]"],";":[],".":[],"]":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?[pathOneInPropertySet,*[|,pathOneInPropertySet]]":{a:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],"^":["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],IRI_REF:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],PNAME_LN:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],PNAME_NS:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],")":[]},"?[update1,?[;,update]]":{INSERT:["[update1,?[;,update]]"],DELETE:["[update1,?[;,update]]"],LOAD:["[update1,?[;,update]]"],CLEAR:["[update1,?[;,update]]"],DROP:["[update1,?[;,update]]"],ADD:["[update1,?[;,update]]"],MOVE:["[update1,?[;,update]]"],COPY:["[update1,?[;,update]]"],CREATE:["[update1,?[;,update]]"],WITH:["[update1,?[;,update]]"],$:[]},"?[verb,objectList]":{a:["[verb,objectList]"],VAR1:["[verb,objectList]"],VAR2:["[verb,objectList]"],IRI_REF:["[verb,objectList]"],PNAME_LN:["[verb,objectList]"],PNAME_NS:["[verb,objectList]"],";":[],".":[],"]":[],"}":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"?argList":{NIL:["argList"],"(":["argList"],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],"+":[],"-":[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],"*":[],"/":[],";":[]},"?constructTriples":{VAR1:["constructTriples"],VAR2:["constructTriples"],NIL:["constructTriples"],"(":["constructTriples"],"[":["constructTriples"],IRI_REF:["constructTriples"],TRUE:["constructTriples"],FALSE:["constructTriples"],BLANK_NODE_LABEL:["constructTriples"],ANON:["constructTriples"],PNAME_LN:["constructTriples"],PNAME_NS:["constructTriples"],STRING_LITERAL1:["constructTriples"],STRING_LITERAL2:["constructTriples"],STRING_LITERAL_LONG1:["constructTriples"],STRING_LITERAL_LONG2:["constructTriples"],INTEGER:["constructTriples"],DECIMAL:["constructTriples"],DOUBLE:["constructTriples"],INTEGER_POSITIVE:["constructTriples"],DECIMAL_POSITIVE:["constructTriples"],DOUBLE_POSITIVE:["constructTriples"],INTEGER_NEGATIVE:["constructTriples"],DECIMAL_NEGATIVE:["constructTriples"],DOUBLE_NEGATIVE:["constructTriples"],"}":[]},"?groupClause":{GROUP:["groupClause"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],HAVING:[],$:[],"}":[]},"?havingClause":{HAVING:["havingClause"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],$:[],"}":[]},"?insertClause":{INSERT:["insertClause"],WHERE:[],USING:[]},"?limitClause":{LIMIT:["limitClause"],VALUES:[],$:[],"}":[]},"?limitOffsetClauses":{LIMIT:["limitOffsetClauses"],OFFSET:["limitOffsetClauses"],VALUES:[],$:[],"}":[]},"?offsetClause":{OFFSET:["offsetClause"],VALUES:[],$:[],"}":[]},"?or([DISTINCT,REDUCED])":{DISTINCT:["or([DISTINCT,REDUCED])"],REDUCED:["or([DISTINCT,REDUCED])"],"*":[],"(":[],VAR1:[],VAR2:[]},"?or([LANGTAG,[^^,iriRef]])":{LANGTAG:["or([LANGTAG,[^^,iriRef]])"],"^^":["or([LANGTAG,[^^,iriRef]])"],UNDEF:[],IRI_REF:[],TRUE:[],FALSE:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],a:[],VAR1:[],VAR2:[],"^":[],"!":[],"(":[],".":[],";":[],",":[],AS:[],")":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],"+":[],"-":[],"*":[],"/":[],"}":[],"[":[],NIL:[],BLANK_NODE_LABEL:[],ANON:[],"]":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"?or([[*,unaryExpression],[/,unaryExpression]])":{"*":["or([[*,unaryExpression],[/,unaryExpression]])"],"/":["or([[*,unaryExpression],[/,unaryExpression]])"],"+":[],"-":[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],";":[]},"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])":{"=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"!=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"<":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],">":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"<=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],">=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IN:["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],NOT:["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],AS:[],")":[],",":[],"||":[],"&&":[],";":[]},"?orderClause":{ORDER:["orderClause"],VALUES:[],LIMIT:[],OFFSET:[],$:[],"}":[]},"?pathMod":{"*":["pathMod"],"?":["pathMod"],"+":["pathMod"],"{":["pathMod"],"|":[],"/":[],")":[],"(":[],"[":[],VAR1:[],VAR2:[],NIL:[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},"?triplesBlock":{VAR1:["triplesBlock"],VAR2:["triplesBlock"],NIL:["triplesBlock"],"(":["triplesBlock"],"[":["triplesBlock"],IRI_REF:["triplesBlock"],TRUE:["triplesBlock"],FALSE:["triplesBlock"],BLANK_NODE_LABEL:["triplesBlock"],ANON:["triplesBlock"],PNAME_LN:["triplesBlock"],PNAME_NS:["triplesBlock"],STRING_LITERAL1:["triplesBlock"],STRING_LITERAL2:["triplesBlock"],STRING_LITERAL_LONG1:["triplesBlock"],STRING_LITERAL_LONG2:["triplesBlock"],INTEGER:["triplesBlock"],DECIMAL:["triplesBlock"],DOUBLE:["triplesBlock"],INTEGER_POSITIVE:["triplesBlock"],DECIMAL_POSITIVE:["triplesBlock"],DOUBLE_POSITIVE:["triplesBlock"],INTEGER_NEGATIVE:["triplesBlock"],DECIMAL_NEGATIVE:["triplesBlock"],DOUBLE_NEGATIVE:["triplesBlock"],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?triplesTemplate":{VAR1:["triplesTemplate"],VAR2:["triplesTemplate"],NIL:["triplesTemplate"],"(":["triplesTemplate"],"[":["triplesTemplate"],IRI_REF:["triplesTemplate"],TRUE:["triplesTemplate"],FALSE:["triplesTemplate"],BLANK_NODE_LABEL:["triplesTemplate"],ANON:["triplesTemplate"],PNAME_LN:["triplesTemplate"],PNAME_NS:["triplesTemplate"],STRING_LITERAL1:["triplesTemplate"],STRING_LITERAL2:["triplesTemplate"],STRING_LITERAL_LONG1:["triplesTemplate"],STRING_LITERAL_LONG2:["triplesTemplate"],INTEGER:["triplesTemplate"],DECIMAL:["triplesTemplate"],DOUBLE:["triplesTemplate"],INTEGER_POSITIVE:["triplesTemplate"],DECIMAL_POSITIVE:["triplesTemplate"],DOUBLE_POSITIVE:["triplesTemplate"],INTEGER_NEGATIVE:["triplesTemplate"],DECIMAL_NEGATIVE:["triplesTemplate"],DOUBLE_NEGATIVE:["triplesTemplate"],"}":[],GRAPH:[]},"?whereClause":{WHERE:["whereClause"],"{":["whereClause"],ORDER:[],HAVING:[],GROUP:[],LIMIT:[],OFFSET:[],VALUES:[],$:[]},"[ (,*dataBlockValue,)]":{"(":["(","*dataBlockValue",")"]},"[ (,*var,)]":{"(":["(","*var",")"]},"[ (,expression,)]":{"(":["(","expression",")"]},"[ (,expression,AS,var,)]":{"(":["(","expression","AS","var",")"]},"[!=,numericExpression]":{"!=":["!=","numericExpression"]},"[&&,valueLogical]":{"&&":["&&","valueLogical"]},"[*,unaryExpression]":{"*":["*","unaryExpression"]},"[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]":{WHERE:["*datasetClause","WHERE","{","?triplesTemplate","}","solutionModifier"],FROM:["*datasetClause","WHERE","{","?triplesTemplate","}","solutionModifier"]},"[+,multiplicativeExpression]":{"+":["+","multiplicativeExpression"]},"[,,expression]":{",":[",","expression"]},"[,,integer,}]":{",":[",","integer","}"]},"[,,objectPath]":{",":[",","objectPath"]},"[,,object]":{",":[",","object"]},"[,,or([},[integer,}]])]":{",":[",","or([},[integer,}]])"]},"[-,multiplicativeExpression]":{"-":["-","multiplicativeExpression"]},"[.,?constructTriples]":{".":[".","?constructTriples"]},"[.,?triplesBlock]":{".":[".","?triplesBlock"]},"[.,?triplesTemplate]":{".":[".","?triplesTemplate"]},"[/,pathEltOrInverse]":{"/":["/","pathEltOrInverse"]},"[/,unaryExpression]":{"/":["/","unaryExpression"]},"[;,?[or([verbPath,verbSimple]),objectList]]":{";":[";","?[or([verbPath,verbSimple]),objectList]"]},"[;,?[verb,objectList]]":{";":[";","?[verb,objectList]"]},"[;,SEPARATOR,=,string]":{";":[";","SEPARATOR","=","string"]},"[;,update]":{";":[";","update"]},"[<,numericExpression]":{"<":["<","numericExpression"]},"[<=,numericExpression]":{"<=":["<=","numericExpression"]},"[=,numericExpression]":{"=":["=","numericExpression"]},"[>,numericExpression]":{">":[">","numericExpression"]},"[>=,numericExpression]":{">=":[">=","numericExpression"]},"[AS,var]":{AS:["AS","var"]},"[IN,expressionList]":{IN:["IN","expressionList"]},"[INTO,graphRef]":{INTO:["INTO","graphRef"]},"[NAMED,iriRef]":{NAMED:["NAMED","iriRef"]},"[NOT,IN,expressionList]":{NOT:["NOT","IN","expressionList"]},"[UNION,groupGraphPattern]":{UNION:["UNION","groupGraphPattern"]},"[^^,iriRef]":{"^^":["^^","iriRef"]},"[constructTemplate,*datasetClause,whereClause,solutionModifier]":{"{":["constructTemplate","*datasetClause","whereClause","solutionModifier"]},"[deleteClause,?insertClause]":{DELETE:["deleteClause","?insertClause"]},"[graphPatternNotTriples,?.,?triplesBlock]":{"{":["graphPatternNotTriples","?.","?triplesBlock"],OPTIONAL:["graphPatternNotTriples","?.","?triplesBlock"],MINUS:["graphPatternNotTriples","?.","?triplesBlock"],GRAPH:["graphPatternNotTriples","?.","?triplesBlock"],SERVICE:["graphPatternNotTriples","?.","?triplesBlock"],FILTER:["graphPatternNotTriples","?.","?triplesBlock"],BIND:["graphPatternNotTriples","?.","?triplesBlock"],VALUES:["graphPatternNotTriples","?.","?triplesBlock"]},"[integer,or([[,,or([},[integer,}]])],}])]":{INTEGER:["integer","or([[,,or([},[integer,}]])],}])"]},"[integer,}]":{INTEGER:["integer","}"]},"[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]":{INTEGER_POSITIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_POSITIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_POSITIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER_NEGATIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_NEGATIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_NEGATIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"]},"[or([verbPath,verbSimple]),objectList]":{VAR1:["or([verbPath,verbSimple])","objectList"],VAR2:["or([verbPath,verbSimple])","objectList"],"^":["or([verbPath,verbSimple])","objectList"],a:["or([verbPath,verbSimple])","objectList"],"!":["or([verbPath,verbSimple])","objectList"],"(":["or([verbPath,verbSimple])","objectList"],IRI_REF:["or([verbPath,verbSimple])","objectList"],PNAME_LN:["or([verbPath,verbSimple])","objectList"],PNAME_NS:["or([verbPath,verbSimple])","objectList"]},"[pathOneInPropertySet,*[|,pathOneInPropertySet]]":{a:["pathOneInPropertySet","*[|,pathOneInPropertySet]"],"^":["pathOneInPropertySet","*[|,pathOneInPropertySet]"],IRI_REF:["pathOneInPropertySet","*[|,pathOneInPropertySet]"],PNAME_LN:["pathOneInPropertySet","*[|,pathOneInPropertySet]"],PNAME_NS:["pathOneInPropertySet","*[|,pathOneInPropertySet]"]},"[quadsNotTriples,?.,?triplesTemplate]":{GRAPH:["quadsNotTriples","?.","?triplesTemplate"]},"[update1,?[;,update]]":{INSERT:["update1","?[;,update]"],DELETE:["update1","?[;,update]"],LOAD:["update1","?[;,update]"],CLEAR:["update1","?[;,update]"],DROP:["update1","?[;,update]"],ADD:["update1","?[;,update]"],MOVE:["update1","?[;,update]"],COPY:["update1","?[;,update]"],CREATE:["update1","?[;,update]"],WITH:["update1","?[;,update]"]},"[verb,objectList]":{a:["verb","objectList"],VAR1:["verb","objectList"],VAR2:["verb","objectList"],IRI_REF:["verb","objectList"],PNAME_LN:["verb","objectList"],PNAME_NS:["verb","objectList"]},"[|,pathOneInPropertySet]":{"|":["|","pathOneInPropertySet"]},"[|,pathSequence]":{"|":["|","pathSequence"]},"[||,conditionalAndExpression]":{"||":["||","conditionalAndExpression"]},add:{ADD:["ADD","?SILENT_4","graphOrDefault","TO","graphOrDefault"]},additiveExpression:{"!":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"+":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"-":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],VAR1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],VAR2:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"(":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],LANG:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],LANGMATCHES:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DATATYPE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],BOUND:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],IRI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],URI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],BNODE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],RAND:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ABS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],CEIL:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],FLOOR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ROUND:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],CONCAT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRLEN:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],UCASE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],LCASE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ENCODE_FOR_URI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],CONTAINS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRSTARTS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRENDS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRBEFORE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRAFTER:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],YEAR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MONTH:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DAY:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],HOURS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MINUTES:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SECONDS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],TIMEZONE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],TZ:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],NOW:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],UUID:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRUUID:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MD5:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA256:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA384:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA512:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],COALESCE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],IF:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRLANG:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRDT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SAMETERM:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISIRI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISURI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISBLANK:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISLITERAL:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISNUMERIC:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],TRUE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],FALSE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],COUNT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SUM:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MIN:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MAX:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],AVG:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SAMPLE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],GROUP_CONCAT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SUBSTR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],REPLACE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],REGEX:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],EXISTS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],NOT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],IRI_REF:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL2:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL_LONG1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL_LONG2:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_POSITIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_POSITIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE_POSITIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_NEGATIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_NEGATIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE_NEGATIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],PNAME_LN:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],PNAME_NS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"]},aggregate:{COUNT:["COUNT","(","?DISTINCT","or([*,expression])",")"],SUM:["SUM","(","?DISTINCT","expression",")"],MIN:["MIN","(","?DISTINCT","expression",")"],MAX:["MAX","(","?DISTINCT","expression",")"],AVG:["AVG","(","?DISTINCT","expression",")"],SAMPLE:["SAMPLE","(","?DISTINCT","expression",")"],GROUP_CONCAT:["GROUP_CONCAT","(","?DISTINCT","expression","?[;,SEPARATOR,=,string]",")"]},allowBnodes:{"}":[]},allowVars:{"}":[]},argList:{NIL:["NIL"],"(":["(","?DISTINCT","expression","*[,,expression]",")"]},askQuery:{ASK:["ASK","*datasetClause","whereClause","solutionModifier"]},baseDecl:{BASE:["BASE","IRI_REF"]},bind:{BIND:["BIND","(","expression","AS","var",")"]},blankNode:{BLANK_NODE_LABEL:["BLANK_NODE_LABEL"],ANON:["ANON"]},blankNodePropertyList:{"[":["[","propertyListNotEmpty","]"]},blankNodePropertyListPath:{"[":["[","propertyListPathNotEmpty","]"]},booleanLiteral:{TRUE:["TRUE"],FALSE:["FALSE"]},brackettedExpression:{"(":["(","expression",")"]},builtInCall:{STR:["STR","(","expression",")"],LANG:["LANG","(","expression",")"],LANGMATCHES:["LANGMATCHES","(","expression",",","expression",")"],DATATYPE:["DATATYPE","(","expression",")"],BOUND:["BOUND","(","var",")"],IRI:["IRI","(","expression",")"],URI:["URI","(","expression",")"],BNODE:["BNODE","or([[ (,expression,)],NIL])"],RAND:["RAND","NIL"],ABS:["ABS","(","expression",")"],CEIL:["CEIL","(","expression",")"],FLOOR:["FLOOR","(","expression",")"],ROUND:["ROUND","(","expression",")"],CONCAT:["CONCAT","expressionList"],SUBSTR:["substringExpression"],STRLEN:["STRLEN","(","expression",")"],REPLACE:["strReplaceExpression"],UCASE:["UCASE","(","expression",")"],LCASE:["LCASE","(","expression",")"],ENCODE_FOR_URI:["ENCODE_FOR_URI","(","expression",")"],CONTAINS:["CONTAINS","(","expression",",","expression",")"],STRSTARTS:["STRSTARTS","(","expression",",","expression",")"],STRENDS:["STRENDS","(","expression",",","expression",")"],STRBEFORE:["STRBEFORE","(","expression",",","expression",")"],STRAFTER:["STRAFTER","(","expression",",","expression",")"],YEAR:["YEAR","(","expression",")"],MONTH:["MONTH","(","expression",")"],DAY:["DAY","(","expression",")"],HOURS:["HOURS","(","expression",")"],MINUTES:["MINUTES","(","expression",")"],SECONDS:["SECONDS","(","expression",")"],TIMEZONE:["TIMEZONE","(","expression",")"],TZ:["TZ","(","expression",")"],NOW:["NOW","NIL"],UUID:["UUID","NIL"],STRUUID:["STRUUID","NIL"],MD5:["MD5","(","expression",")"],SHA1:["SHA1","(","expression",")"],SHA256:["SHA256","(","expression",")"],SHA384:["SHA384","(","expression",")"],SHA512:["SHA512","(","expression",")"],COALESCE:["COALESCE","expressionList"],IF:["IF","(","expression",",","expression",",","expression",")"],STRLANG:["STRLANG","(","expression",",","expression",")"],STRDT:["STRDT","(","expression",",","expression",")"],SAMETERM:["SAMETERM","(","expression",",","expression",")"],ISIRI:["ISIRI","(","expression",")"],ISURI:["ISURI","(","expression",")"],ISBLANK:["ISBLANK","(","expression",")"],ISLITERAL:["ISLITERAL","(","expression",")"],ISNUMERIC:["ISNUMERIC","(","expression",")"],REGEX:["regexExpression"],EXISTS:["existsFunc"],NOT:["notExistsFunc"]},clear:{CLEAR:["CLEAR","?SILENT_2","graphRefAll"]},collection:{"(":["(","+graphNode",")"]},collectionPath:{"(":["(","+graphNodePath",")"]},conditionalAndExpression:{"!":["valueLogical","*[&&,valueLogical]"],"+":["valueLogical","*[&&,valueLogical]"],"-":["valueLogical","*[&&,valueLogical]"],VAR1:["valueLogical","*[&&,valueLogical]"],VAR2:["valueLogical","*[&&,valueLogical]"],"(":["valueLogical","*[&&,valueLogical]"],STR:["valueLogical","*[&&,valueLogical]"],LANG:["valueLogical","*[&&,valueLogical]"],LANGMATCHES:["valueLogical","*[&&,valueLogical]"],DATATYPE:["valueLogical","*[&&,valueLogical]"],BOUND:["valueLogical","*[&&,valueLogical]"],IRI:["valueLogical","*[&&,valueLogical]"],URI:["valueLogical","*[&&,valueLogical]"],BNODE:["valueLogical","*[&&,valueLogical]"],RAND:["valueLogical","*[&&,valueLogical]"],ABS:["valueLogical","*[&&,valueLogical]"],CEIL:["valueLogical","*[&&,valueLogical]"],FLOOR:["valueLogical","*[&&,valueLogical]"],ROUND:["valueLogical","*[&&,valueLogical]"],CONCAT:["valueLogical","*[&&,valueLogical]"],STRLEN:["valueLogical","*[&&,valueLogical]"],UCASE:["valueLogical","*[&&,valueLogical]"],LCASE:["valueLogical","*[&&,valueLogical]"],ENCODE_FOR_URI:["valueLogical","*[&&,valueLogical]"],CONTAINS:["valueLogical","*[&&,valueLogical]"],STRSTARTS:["valueLogical","*[&&,valueLogical]"],STRENDS:["valueLogical","*[&&,valueLogical]"],STRBEFORE:["valueLogical","*[&&,valueLogical]"],STRAFTER:["valueLogical","*[&&,valueLogical]"],YEAR:["valueLogical","*[&&,valueLogical]"],MONTH:["valueLogical","*[&&,valueLogical]"],DAY:["valueLogical","*[&&,valueLogical]"],HOURS:["valueLogical","*[&&,valueLogical]"],MINUTES:["valueLogical","*[&&,valueLogical]"],SECONDS:["valueLogical","*[&&,valueLogical]"],TIMEZONE:["valueLogical","*[&&,valueLogical]"],TZ:["valueLogical","*[&&,valueLogical]"],NOW:["valueLogical","*[&&,valueLogical]"],UUID:["valueLogical","*[&&,valueLogical]"],STRUUID:["valueLogical","*[&&,valueLogical]"],MD5:["valueLogical","*[&&,valueLogical]"],SHA1:["valueLogical","*[&&,valueLogical]"],SHA256:["valueLogical","*[&&,valueLogical]"],SHA384:["valueLogical","*[&&,valueLogical]"],SHA512:["valueLogical","*[&&,valueLogical]"],COALESCE:["valueLogical","*[&&,valueLogical]"],IF:["valueLogical","*[&&,valueLogical]"],STRLANG:["valueLogical","*[&&,valueLogical]"],STRDT:["valueLogical","*[&&,valueLogical]"],SAMETERM:["valueLogical","*[&&,valueLogical]"],ISIRI:["valueLogical","*[&&,valueLogical]"],ISURI:["valueLogical","*[&&,valueLogical]"],ISBLANK:["valueLogical","*[&&,valueLogical]"],ISLITERAL:["valueLogical","*[&&,valueLogical]"],ISNUMERIC:["valueLogical","*[&&,valueLogical]"],TRUE:["valueLogical","*[&&,valueLogical]"],FALSE:["valueLogical","*[&&,valueLogical]"],COUNT:["valueLogical","*[&&,valueLogical]"],SUM:["valueLogical","*[&&,valueLogical]"],MIN:["valueLogical","*[&&,valueLogical]"],MAX:["valueLogical","*[&&,valueLogical]"],AVG:["valueLogical","*[&&,valueLogical]"],SAMPLE:["valueLogical","*[&&,valueLogical]"],GROUP_CONCAT:["valueLogical","*[&&,valueLogical]"],SUBSTR:["valueLogical","*[&&,valueLogical]"],REPLACE:["valueLogical","*[&&,valueLogical]"],REGEX:["valueLogical","*[&&,valueLogical]"],EXISTS:["valueLogical","*[&&,valueLogical]"],NOT:["valueLogical","*[&&,valueLogical]"],IRI_REF:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL1:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL2:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL_LONG1:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL_LONG2:["valueLogical","*[&&,valueLogical]"],INTEGER:["valueLogical","*[&&,valueLogical]"],DECIMAL:["valueLogical","*[&&,valueLogical]"],DOUBLE:["valueLogical","*[&&,valueLogical]"],INTEGER_POSITIVE:["valueLogical","*[&&,valueLogical]"],DECIMAL_POSITIVE:["valueLogical","*[&&,valueLogical]"],DOUBLE_POSITIVE:["valueLogical","*[&&,valueLogical]"],INTEGER_NEGATIVE:["valueLogical","*[&&,valueLogical]"],DECIMAL_NEGATIVE:["valueLogical","*[&&,valueLogical]"],DOUBLE_NEGATIVE:["valueLogical","*[&&,valueLogical]"],PNAME_LN:["valueLogical","*[&&,valueLogical]"],PNAME_NS:["valueLogical","*[&&,valueLogical]"]},conditionalOrExpression:{"!":["conditionalAndExpression","*[||,conditionalAndExpression]"],"+":["conditionalAndExpression","*[||,conditionalAndExpression]"],"-":["conditionalAndExpression","*[||,conditionalAndExpression]"],VAR1:["conditionalAndExpression","*[||,conditionalAndExpression]"],VAR2:["conditionalAndExpression","*[||,conditionalAndExpression]"],"(":["conditionalAndExpression","*[||,conditionalAndExpression]"],STR:["conditionalAndExpression","*[||,conditionalAndExpression]"],LANG:["conditionalAndExpression","*[||,conditionalAndExpression]"],LANGMATCHES:["conditionalAndExpression","*[||,conditionalAndExpression]"],DATATYPE:["conditionalAndExpression","*[||,conditionalAndExpression]"],BOUND:["conditionalAndExpression","*[||,conditionalAndExpression]"],IRI:["conditionalAndExpression","*[||,conditionalAndExpression]"],URI:["conditionalAndExpression","*[||,conditionalAndExpression]"],BNODE:["conditionalAndExpression","*[||,conditionalAndExpression]"],RAND:["conditionalAndExpression","*[||,conditionalAndExpression]"],ABS:["conditionalAndExpression","*[||,conditionalAndExpression]"],CEIL:["conditionalAndExpression","*[||,conditionalAndExpression]"],FLOOR:["conditionalAndExpression","*[||,conditionalAndExpression]"],ROUND:["conditionalAndExpression","*[||,conditionalAndExpression]"],CONCAT:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRLEN:["conditionalAndExpression","*[||,conditionalAndExpression]"],UCASE:["conditionalAndExpression","*[||,conditionalAndExpression]"],LCASE:["conditionalAndExpression","*[||,conditionalAndExpression]"],ENCODE_FOR_URI:["conditionalAndExpression","*[||,conditionalAndExpression]"],CONTAINS:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRSTARTS:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRENDS:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRBEFORE:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRAFTER:["conditionalAndExpression","*[||,conditionalAndExpression]"],YEAR:["conditionalAndExpression","*[||,conditionalAndExpression]"],MONTH:["conditionalAndExpression","*[||,conditionalAndExpression]"],DAY:["conditionalAndExpression","*[||,conditionalAndExpression]"],HOURS:["conditionalAndExpression","*[||,conditionalAndExpression]"],MINUTES:["conditionalAndExpression","*[||,conditionalAndExpression]"],SECONDS:["conditionalAndExpression","*[||,conditionalAndExpression]"],TIMEZONE:["conditionalAndExpression","*[||,conditionalAndExpression]"],TZ:["conditionalAndExpression","*[||,conditionalAndExpression]"],NOW:["conditionalAndExpression","*[||,conditionalAndExpression]"],UUID:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRUUID:["conditionalAndExpression","*[||,conditionalAndExpression]"],MD5:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA1:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA256:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA384:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA512:["conditionalAndExpression","*[||,conditionalAndExpression]"],COALESCE:["conditionalAndExpression","*[||,conditionalAndExpression]"],IF:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRLANG:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRDT:["conditionalAndExpression","*[||,conditionalAndExpression]"],SAMETERM:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISIRI:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISURI:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISBLANK:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISLITERAL:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISNUMERIC:["conditionalAndExpression","*[||,conditionalAndExpression]"],TRUE:["conditionalAndExpression","*[||,conditionalAndExpression]"],FALSE:["conditionalAndExpression","*[||,conditionalAndExpression]"],COUNT:["conditionalAndExpression","*[||,conditionalAndExpression]"],SUM:["conditionalAndExpression","*[||,conditionalAndExpression]"],MIN:["conditionalAndExpression","*[||,conditionalAndExpression]"],MAX:["conditionalAndExpression","*[||,conditionalAndExpression]"],AVG:["conditionalAndExpression","*[||,conditionalAndExpression]"],SAMPLE:["conditionalAndExpression","*[||,conditionalAndExpression]"],GROUP_CONCAT:["conditionalAndExpression","*[||,conditionalAndExpression]"],SUBSTR:["conditionalAndExpression","*[||,conditionalAndExpression]"],REPLACE:["conditionalAndExpression","*[||,conditionalAndExpression]"],REGEX:["conditionalAndExpression","*[||,conditionalAndExpression]"],EXISTS:["conditionalAndExpression","*[||,conditionalAndExpression]"],NOT:["conditionalAndExpression","*[||,conditionalAndExpression]"],IRI_REF:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL1:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL2:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL_LONG1:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL_LONG2:["conditionalAndExpression","*[||,conditionalAndExpression]"],INTEGER:["conditionalAndExpression","*[||,conditionalAndExpression]"],DECIMAL:["conditionalAndExpression","*[||,conditionalAndExpression]"],DOUBLE:["conditionalAndExpression","*[||,conditionalAndExpression]"],INTEGER_POSITIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DECIMAL_POSITIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DOUBLE_POSITIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],INTEGER_NEGATIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DECIMAL_NEGATIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DOUBLE_NEGATIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],PNAME_LN:["conditionalAndExpression","*[||,conditionalAndExpression]"],PNAME_NS:["conditionalAndExpression","*[||,conditionalAndExpression]"]},constraint:{"(":["brackettedExpression"],STR:["builtInCall"],LANG:["builtInCall"],LANGMATCHES:["builtInCall"],DATATYPE:["builtInCall"],BOUND:["builtInCall"],IRI:["builtInCall"],URI:["builtInCall"],BNODE:["builtInCall"],RAND:["builtInCall"],ABS:["builtInCall"],CEIL:["builtInCall"],FLOOR:["builtInCall"],ROUND:["builtInCall"],CONCAT:["builtInCall"],STRLEN:["builtInCall"],UCASE:["builtInCall"],LCASE:["builtInCall"],ENCODE_FOR_URI:["builtInCall"],CONTAINS:["builtInCall"],STRSTARTS:["builtInCall"],STRENDS:["builtInCall"],STRBEFORE:["builtInCall"],STRAFTER:["builtInCall"],YEAR:["builtInCall"],MONTH:["builtInCall"],DAY:["builtInCall"],HOURS:["builtInCall"],MINUTES:["builtInCall"],SECONDS:["builtInCall"],TIMEZONE:["builtInCall"],TZ:["builtInCall"],NOW:["builtInCall"],UUID:["builtInCall"],STRUUID:["builtInCall"],MD5:["builtInCall"],SHA1:["builtInCall"],SHA256:["builtInCall"],SHA384:["builtInCall"],SHA512:["builtInCall"],COALESCE:["builtInCall"],IF:["builtInCall"],STRLANG:["builtInCall"],STRDT:["builtInCall"],SAMETERM:["builtInCall"],ISIRI:["builtInCall"],ISURI:["builtInCall"],ISBLANK:["builtInCall"],ISLITERAL:["builtInCall"],ISNUMERIC:["builtInCall"],SUBSTR:["builtInCall"],REPLACE:["builtInCall"],REGEX:["builtInCall"],EXISTS:["builtInCall"],NOT:["builtInCall"],IRI_REF:["functionCall"],PNAME_LN:["functionCall"],PNAME_NS:["functionCall"]},constructQuery:{CONSTRUCT:["CONSTRUCT","or([[constructTemplate,*datasetClause,whereClause,solutionModifier],[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]])"]},constructTemplate:{"{":["{","?constructTriples","}"]},constructTriples:{VAR1:["triplesSameSubject","?[.,?constructTriples]"],VAR2:["triplesSameSubject","?[.,?constructTriples]"],NIL:["triplesSameSubject","?[.,?constructTriples]"],"(":["triplesSameSubject","?[.,?constructTriples]"],"[":["triplesSameSubject","?[.,?constructTriples]"],IRI_REF:["triplesSameSubject","?[.,?constructTriples]"],TRUE:["triplesSameSubject","?[.,?constructTriples]"],FALSE:["triplesSameSubject","?[.,?constructTriples]"],BLANK_NODE_LABEL:["triplesSameSubject","?[.,?constructTriples]"],ANON:["triplesSameSubject","?[.,?constructTriples]"],PNAME_LN:["triplesSameSubject","?[.,?constructTriples]"],PNAME_NS:["triplesSameSubject","?[.,?constructTriples]"],STRING_LITERAL1:["triplesSameSubject","?[.,?constructTriples]"],STRING_LITERAL2:["triplesSameSubject","?[.,?constructTriples]"],STRING_LITERAL_LONG1:["triplesSameSubject","?[.,?constructTriples]"],STRING_LITERAL_LONG2:["triplesSameSubject","?[.,?constructTriples]"],INTEGER:["triplesSameSubject","?[.,?constructTriples]"],DECIMAL:["triplesSameSubject","?[.,?constructTriples]"],DOUBLE:["triplesSameSubject","?[.,?constructTriples]"],INTEGER_POSITIVE:["triplesSameSubject","?[.,?constructTriples]"],DECIMAL_POSITIVE:["triplesSameSubject","?[.,?constructTriples]"],DOUBLE_POSITIVE:["triplesSameSubject","?[.,?constructTriples]"],INTEGER_NEGATIVE:["triplesSameSubject","?[.,?constructTriples]"],DECIMAL_NEGATIVE:["triplesSameSubject","?[.,?constructTriples]"],DOUBLE_NEGATIVE:["triplesSameSubject","?[.,?constructTriples]"]},copy:{COPY:["COPY","?SILENT_4","graphOrDefault","TO","graphOrDefault"]},create:{CREATE:["CREATE","?SILENT_3","graphRef"]},dataBlock:{NIL:["or([inlineDataOneVar,inlineDataFull])"],"(":["or([inlineDataOneVar,inlineDataFull])"],VAR1:["or([inlineDataOneVar,inlineDataFull])"],VAR2:["or([inlineDataOneVar,inlineDataFull])"]},dataBlockValue:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],STRING_LITERAL1:["rdfLiteral"],STRING_LITERAL2:["rdfLiteral"],STRING_LITERAL_LONG1:["rdfLiteral"],STRING_LITERAL_LONG2:["rdfLiteral"],INTEGER:["numericLiteral"],DECIMAL:["numericLiteral"],DOUBLE:["numericLiteral"],INTEGER_POSITIVE:["numericLiteral"],DECIMAL_POSITIVE:["numericLiteral"],DOUBLE_POSITIVE:["numericLiteral"],INTEGER_NEGATIVE:["numericLiteral"],DECIMAL_NEGATIVE:["numericLiteral"],DOUBLE_NEGATIVE:["numericLiteral"],TRUE:["booleanLiteral"],FALSE:["booleanLiteral"],UNDEF:["UNDEF"]},datasetClause:{FROM:["FROM","or([defaultGraphClause,namedGraphClause])"]},defaultGraphClause:{IRI_REF:["sourceSelector"],PNAME_LN:["sourceSelector"],PNAME_NS:["sourceSelector"]},delete1:{DATA:["DATA","quadDataNoBnodes"],WHERE:["WHERE","quadPatternNoBnodes"],"{":["quadPatternNoBnodes","?insertClause","*usingClause","WHERE","groupGraphPattern"]},deleteClause:{DELETE:["DELETE","quadPattern"]},describeDatasetClause:{FROM:["FROM","or([defaultGraphClause,namedGraphClause])"]},describeQuery:{DESCRIBE:["DESCRIBE","or([+varOrIRIref,*])","*describeDatasetClause","?whereClause","solutionModifier"]},disallowBnodes:{"}":[],GRAPH:[],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},disallowVars:{"}":[],GRAPH:[],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},drop:{DROP:["DROP","?SILENT_2","graphRefAll"]},existsFunc:{EXISTS:["EXISTS","groupGraphPattern"]},expression:{"!":["conditionalOrExpression"],"+":["conditionalOrExpression"],"-":["conditionalOrExpression"],VAR1:["conditionalOrExpression"],VAR2:["conditionalOrExpression"],"(":["conditionalOrExpression"],STR:["conditionalOrExpression"],LANG:["conditionalOrExpression"],LANGMATCHES:["conditionalOrExpression"],DATATYPE:["conditionalOrExpression"],BOUND:["conditionalOrExpression"],IRI:["conditionalOrExpression"],URI:["conditionalOrExpression"],BNODE:["conditionalOrExpression"],RAND:["conditionalOrExpression"],ABS:["conditionalOrExpression"],CEIL:["conditionalOrExpression"],FLOOR:["conditionalOrExpression"],ROUND:["conditionalOrExpression"],CONCAT:["conditionalOrExpression"],STRLEN:["conditionalOrExpression"],UCASE:["conditionalOrExpression"],LCASE:["conditionalOrExpression"],ENCODE_FOR_URI:["conditionalOrExpression"],CONTAINS:["conditionalOrExpression"],STRSTARTS:["conditionalOrExpression"],STRENDS:["conditionalOrExpression"],STRBEFORE:["conditionalOrExpression"],STRAFTER:["conditionalOrExpression"],YEAR:["conditionalOrExpression"],MONTH:["conditionalOrExpression"],DAY:["conditionalOrExpression"],HOURS:["conditionalOrExpression"],MINUTES:["conditionalOrExpression"],SECONDS:["conditionalOrExpression"],TIMEZONE:["conditionalOrExpression"],TZ:["conditionalOrExpression"],NOW:["conditionalOrExpression"],UUID:["conditionalOrExpression"],STRUUID:["conditionalOrExpression"],MD5:["conditionalOrExpression"],SHA1:["conditionalOrExpression"],SHA256:["conditionalOrExpression"],SHA384:["conditionalOrExpression"],SHA512:["conditionalOrExpression"],COALESCE:["conditionalOrExpression"],IF:["conditionalOrExpression"],STRLANG:["conditionalOrExpression"],STRDT:["conditionalOrExpression"],SAMETERM:["conditionalOrExpression"],ISIRI:["conditionalOrExpression"],ISURI:["conditionalOrExpression"],ISBLANK:["conditionalOrExpression"],ISLITERAL:["conditionalOrExpression"],ISNUMERIC:["conditionalOrExpression"],TRUE:["conditionalOrExpression"],FALSE:["conditionalOrExpression"],COUNT:["conditionalOrExpression"],SUM:["conditionalOrExpression"],MIN:["conditionalOrExpression"],MAX:["conditionalOrExpression"],AVG:["conditionalOrExpression"],SAMPLE:["conditionalOrExpression"],GROUP_CONCAT:["conditionalOrExpression"],SUBSTR:["conditionalOrExpression"],REPLACE:["conditionalOrExpression"],REGEX:["conditionalOrExpression"],EXISTS:["conditionalOrExpression"],NOT:["conditionalOrExpression"],IRI_REF:["conditionalOrExpression"],STRING_LITERAL1:["conditionalOrExpression"],STRING_LITERAL2:["conditionalOrExpression"],STRING_LITERAL_LONG1:["conditionalOrExpression"],STRING_LITERAL_LONG2:["conditionalOrExpression"],INTEGER:["conditionalOrExpression"],DECIMAL:["conditionalOrExpression"],DOUBLE:["conditionalOrExpression"],INTEGER_POSITIVE:["conditionalOrExpression"],DECIMAL_POSITIVE:["conditionalOrExpression"],DOUBLE_POSITIVE:["conditionalOrExpression"],INTEGER_NEGATIVE:["conditionalOrExpression"],DECIMAL_NEGATIVE:["conditionalOrExpression"],DOUBLE_NEGATIVE:["conditionalOrExpression"],PNAME_LN:["conditionalOrExpression"],PNAME_NS:["conditionalOrExpression"]},expressionList:{NIL:["NIL"],"(":["(","expression","*[,,expression]",")"]},filter:{FILTER:["FILTER","constraint"]},functionCall:{IRI_REF:["iriRef","argList"],PNAME_LN:["iriRef","argList"],PNAME_NS:["iriRef","argList"]},graphGraphPattern:{GRAPH:["GRAPH","varOrIRIref","groupGraphPattern"]},graphNode:{VAR1:["varOrTerm"],VAR2:["varOrTerm"],NIL:["varOrTerm"],IRI_REF:["varOrTerm"],TRUE:["varOrTerm"],FALSE:["varOrTerm"],BLANK_NODE_LABEL:["varOrTerm"],ANON:["varOrTerm"],PNAME_LN:["varOrTerm"],PNAME_NS:["varOrTerm"],STRING_LITERAL1:["varOrTerm"],STRING_LITERAL2:["varOrTerm"],STRING_LITERAL_LONG1:["varOrTerm"],STRING_LITERAL_LONG2:["varOrTerm"],INTEGER:["varOrTerm"],DECIMAL:["varOrTerm"],DOUBLE:["varOrTerm"],INTEGER_POSITIVE:["varOrTerm"],DECIMAL_POSITIVE:["varOrTerm"],DOUBLE_POSITIVE:["varOrTerm"],INTEGER_NEGATIVE:["varOrTerm"],DECIMAL_NEGATIVE:["varOrTerm"],DOUBLE_NEGATIVE:["varOrTerm"],"(":["triplesNode"],"[":["triplesNode"]},graphNodePath:{VAR1:["varOrTerm"],VAR2:["varOrTerm"],NIL:["varOrTerm"],IRI_REF:["varOrTerm"],TRUE:["varOrTerm"],FALSE:["varOrTerm"],BLANK_NODE_LABEL:["varOrTerm"],ANON:["varOrTerm"],PNAME_LN:["varOrTerm"],PNAME_NS:["varOrTerm"],STRING_LITERAL1:["varOrTerm"],STRING_LITERAL2:["varOrTerm"],STRING_LITERAL_LONG1:["varOrTerm"],STRING_LITERAL_LONG2:["varOrTerm"],INTEGER:["varOrTerm"],DECIMAL:["varOrTerm"],DOUBLE:["varOrTerm"],INTEGER_POSITIVE:["varOrTerm"],DECIMAL_POSITIVE:["varOrTerm"],DOUBLE_POSITIVE:["varOrTerm"],INTEGER_NEGATIVE:["varOrTerm"],DECIMAL_NEGATIVE:["varOrTerm"],DOUBLE_NEGATIVE:["varOrTerm"],"(":["triplesNodePath"],"[":["triplesNodePath"]},graphOrDefault:{DEFAULT:["DEFAULT"],IRI_REF:["?GRAPH","iriRef"],PNAME_LN:["?GRAPH","iriRef"],PNAME_NS:["?GRAPH","iriRef"],GRAPH:["?GRAPH","iriRef"]},graphPatternNotTriples:{"{":["groupOrUnionGraphPattern"],OPTIONAL:["optionalGraphPattern"],MINUS:["minusGraphPattern"],GRAPH:["graphGraphPattern"],SERVICE:["serviceGraphPattern"],FILTER:["filter"],BIND:["bind"],VALUES:["inlineData"]},graphRef:{GRAPH:["GRAPH","iriRef"]},graphRefAll:{GRAPH:["graphRef"],DEFAULT:["DEFAULT"],NAMED:["NAMED"],ALL:["ALL"]},graphTerm:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],STRING_LITERAL1:["rdfLiteral"],STRING_LITERAL2:["rdfLiteral"],STRING_LITERAL_LONG1:["rdfLiteral"],STRING_LITERAL_LONG2:["rdfLiteral"],INTEGER:["numericLiteral"],DECIMAL:["numericLiteral"],DOUBLE:["numericLiteral"],INTEGER_POSITIVE:["numericLiteral"],DECIMAL_POSITIVE:["numericLiteral"],DOUBLE_POSITIVE:["numericLiteral"],INTEGER_NEGATIVE:["numericLiteral"],DECIMAL_NEGATIVE:["numericLiteral"],DOUBLE_NEGATIVE:["numericLiteral"],TRUE:["booleanLiteral"],FALSE:["booleanLiteral"],BLANK_NODE_LABEL:["blankNode"],ANON:["blankNode"],NIL:["NIL"]},groupClause:{GROUP:["GROUP","BY","+groupCondition"]},groupCondition:{STR:["builtInCall"],LANG:["builtInCall"],LANGMATCHES:["builtInCall"],DATATYPE:["builtInCall"],BOUND:["builtInCall"],IRI:["builtInCall"],URI:["builtInCall"],BNODE:["builtInCall"],RAND:["builtInCall"],ABS:["builtInCall"],CEIL:["builtInCall"],FLOOR:["builtInCall"],ROUND:["builtInCall"],CONCAT:["builtInCall"],STRLEN:["builtInCall"],UCASE:["builtInCall"],LCASE:["builtInCall"],ENCODE_FOR_URI:["builtInCall"],CONTAINS:["builtInCall"],STRSTARTS:["builtInCall"],STRENDS:["builtInCall"],STRBEFORE:["builtInCall"],STRAFTER:["builtInCall"],YEAR:["builtInCall"],MONTH:["builtInCall"],DAY:["builtInCall"],HOURS:["builtInCall"],MINUTES:["builtInCall"],SECONDS:["builtInCall"],TIMEZONE:["builtInCall"],TZ:["builtInCall"],NOW:["builtInCall"],UUID:["builtInCall"],STRUUID:["builtInCall"],MD5:["builtInCall"],SHA1:["builtInCall"],SHA256:["builtInCall"],SHA384:["builtInCall"],SHA512:["builtInCall"],COALESCE:["builtInCall"],IF:["builtInCall"],STRLANG:["builtInCall"],STRDT:["builtInCall"],SAMETERM:["builtInCall"],ISIRI:["builtInCall"],ISURI:["builtInCall"],ISBLANK:["builtInCall"],ISLITERAL:["builtInCall"],ISNUMERIC:["builtInCall"],SUBSTR:["builtInCall"],REPLACE:["builtInCall"],REGEX:["builtInCall"],EXISTS:["builtInCall"],NOT:["builtInCall"],IRI_REF:["functionCall"],PNAME_LN:["functionCall"],PNAME_NS:["functionCall"],"(":["(","expression","?[AS,var]",")"],VAR1:["var"],VAR2:["var"]},groupGraphPattern:{"{":["{","or([subSelect,groupGraphPatternSub])","}"]},groupGraphPatternSub:{"{":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],OPTIONAL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],MINUS:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],GRAPH:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],SERVICE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],FILTER:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],BIND:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],VALUES:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],VAR1:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],VAR2:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],NIL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],"(":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],"[":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],IRI_REF:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],TRUE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],FALSE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],BLANK_NODE_LABEL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],ANON:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],PNAME_LN:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],PNAME_NS:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL1:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL2:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL_LONG1:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL_LONG2:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],INTEGER:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DECIMAL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DOUBLE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],INTEGER_POSITIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DECIMAL_POSITIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DOUBLE_POSITIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],INTEGER_NEGATIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DECIMAL_NEGATIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DOUBLE_NEGATIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],"}":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"]},groupOrUnionGraphPattern:{"{":["groupGraphPattern","*[UNION,groupGraphPattern]"]},havingClause:{HAVING:["HAVING","+havingCondition"]},havingCondition:{"(":["constraint"],STR:["constraint"],LANG:["constraint"],LANGMATCHES:["constraint"],DATATYPE:["constraint"],BOUND:["constraint"],IRI:["constraint"],URI:["constraint"],BNODE:["constraint"],RAND:["constraint"],ABS:["constraint"],CEIL:["constraint"],FLOOR:["constraint"],ROUND:["constraint"],CONCAT:["constraint"],STRLEN:["constraint"],UCASE:["constraint"],LCASE:["constraint"],ENCODE_FOR_URI:["constraint"],CONTAINS:["constraint"],STRSTARTS:["constraint"],STRENDS:["constraint"],STRBEFORE:["constraint"],STRAFTER:["constraint"],YEAR:["constraint"],MONTH:["constraint"],DAY:["constraint"],HOURS:["constraint"],MINUTES:["constraint"],SECONDS:["constraint"],TIMEZONE:["constraint"],TZ:["constraint"],NOW:["constraint"],UUID:["constraint"],STRUUID:["constraint"],MD5:["constraint"],SHA1:["constraint"],SHA256:["constraint"],SHA384:["constraint"],SHA512:["constraint"],COALESCE:["constraint"],IF:["constraint"],STRLANG:["constraint"],STRDT:["constraint"],SAMETERM:["constraint"],ISIRI:["constraint"],ISURI:["constraint"],ISBLANK:["constraint"],ISLITERAL:["constraint"],ISNUMERIC:["constraint"],SUBSTR:["constraint"],REPLACE:["constraint"],REGEX:["constraint"],EXISTS:["constraint"],NOT:["constraint"],IRI_REF:["constraint"],PNAME_LN:["constraint"],PNAME_NS:["constraint"]},inlineData:{VALUES:["VALUES","dataBlock"]},inlineDataFull:{NIL:["or([NIL,[ (,*var,)]])","{","*or([[ (,*dataBlockValue,)],NIL])","}"],"(":["or([NIL,[ (,*var,)]])","{","*or([[ (,*dataBlockValue,)],NIL])","}"]},inlineDataOneVar:{VAR1:["var","{","*dataBlockValue","}"],VAR2:["var","{","*dataBlockValue","}"]},insert1:{DATA:["DATA","quadData"],"{":["quadPattern","*usingClause","WHERE","groupGraphPattern"]},insertClause:{INSERT:["INSERT","quadPattern"]},integer:{INTEGER:["INTEGER"]},iriRef:{IRI_REF:["IRI_REF"],PNAME_LN:["prefixedName"],PNAME_NS:["prefixedName"]},iriRefOrFunction:{IRI_REF:["iriRef","?argList"],PNAME_LN:["iriRef","?argList"],PNAME_NS:["iriRef","?argList"]},limitClause:{LIMIT:["LIMIT","INTEGER"]},limitOffsetClauses:{LIMIT:["limitClause","?offsetClause"],OFFSET:["offsetClause","?limitClause"]},load:{LOAD:["LOAD","?SILENT_1","iriRef","?[INTO,graphRef]"]},minusGraphPattern:{MINUS:["MINUS","groupGraphPattern"]},modify:{WITH:["WITH","iriRef","or([[deleteClause,?insertClause],insertClause])","*usingClause","WHERE","groupGraphPattern"]},move:{MOVE:["MOVE","?SILENT_4","graphOrDefault","TO","graphOrDefault"]},multiplicativeExpression:{"!":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],"+":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],"-":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],VAR1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],VAR2:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],"(":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],LANG:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],LANGMATCHES:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DATATYPE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],BOUND:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],IRI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],URI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],BNODE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],RAND:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ABS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],CEIL:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],FLOOR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ROUND:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],CONCAT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRLEN:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],UCASE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],LCASE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ENCODE_FOR_URI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],CONTAINS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRSTARTS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRENDS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRBEFORE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRAFTER:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],YEAR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MONTH:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DAY:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],HOURS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MINUTES:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SECONDS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],TIMEZONE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],TZ:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],NOW:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],UUID:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRUUID:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MD5:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA256:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA384:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA512:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],COALESCE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],IF:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRLANG:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRDT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SAMETERM:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISIRI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISURI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISBLANK:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISLITERAL:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISNUMERIC:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],TRUE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],FALSE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],COUNT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SUM:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MIN:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MAX:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],AVG:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SAMPLE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],GROUP_CONCAT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SUBSTR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],REPLACE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],REGEX:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],EXISTS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],NOT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],IRI_REF:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL2:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL_LONG1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL_LONG2:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER_POSITIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_POSITIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_POSITIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER_NEGATIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_NEGATIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_NEGATIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],PNAME_LN:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],PNAME_NS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"]},namedGraphClause:{NAMED:["NAMED","sourceSelector"]},notExistsFunc:{NOT:["NOT","EXISTS","groupGraphPattern"]},numericExpression:{"!":["additiveExpression"],"+":["additiveExpression"],"-":["additiveExpression"],VAR1:["additiveExpression"],VAR2:["additiveExpression"],"(":["additiveExpression"],STR:["additiveExpression"],LANG:["additiveExpression"],LANGMATCHES:["additiveExpression"],DATATYPE:["additiveExpression"],BOUND:["additiveExpression"],IRI:["additiveExpression"],URI:["additiveExpression"],BNODE:["additiveExpression"],RAND:["additiveExpression"],ABS:["additiveExpression"],CEIL:["additiveExpression"],FLOOR:["additiveExpression"],ROUND:["additiveExpression"],CONCAT:["additiveExpression"],STRLEN:["additiveExpression"],UCASE:["additiveExpression"],LCASE:["additiveExpression"],ENCODE_FOR_URI:["additiveExpression"],CONTAINS:["additiveExpression"],STRSTARTS:["additiveExpression"],STRENDS:["additiveExpression"],STRBEFORE:["additiveExpression"],STRAFTER:["additiveExpression"],YEAR:["additiveExpression"],MONTH:["additiveExpression"],DAY:["additiveExpression"],HOURS:["additiveExpression"],MINUTES:["additiveExpression"],SECONDS:["additiveExpression"],TIMEZONE:["additiveExpression"],TZ:["additiveExpression"],NOW:["additiveExpression"],UUID:["additiveExpression"],STRUUID:["additiveExpression"],MD5:["additiveExpression"],SHA1:["additiveExpression"],SHA256:["additiveExpression"],SHA384:["additiveExpression"],SHA512:["additiveExpression"],COALESCE:["additiveExpression"],IF:["additiveExpression"],STRLANG:["additiveExpression"],STRDT:["additiveExpression"],SAMETERM:["additiveExpression"],ISIRI:["additiveExpression"],ISURI:["additiveExpression"],ISBLANK:["additiveExpression"],ISLITERAL:["additiveExpression"],ISNUMERIC:["additiveExpression"],TRUE:["additiveExpression"],FALSE:["additiveExpression"],COUNT:["additiveExpression"],SUM:["additiveExpression"],MIN:["additiveExpression"],MAX:["additiveExpression"],AVG:["additiveExpression"],SAMPLE:["additiveExpression"],GROUP_CONCAT:["additiveExpression"],SUBSTR:["additiveExpression"],REPLACE:["additiveExpression"],REGEX:["additiveExpression"],EXISTS:["additiveExpression"],NOT:["additiveExpression"],IRI_REF:["additiveExpression"],STRING_LITERAL1:["additiveExpression"],STRING_LITERAL2:["additiveExpression"],STRING_LITERAL_LONG1:["additiveExpression"],STRING_LITERAL_LONG2:["additiveExpression"],INTEGER:["additiveExpression"],DECIMAL:["additiveExpression"],DOUBLE:["additiveExpression"],INTEGER_POSITIVE:["additiveExpression"],DECIMAL_POSITIVE:["additiveExpression"],DOUBLE_POSITIVE:["additiveExpression"],INTEGER_NEGATIVE:["additiveExpression"],DECIMAL_NEGATIVE:["additiveExpression"],DOUBLE_NEGATIVE:["additiveExpression"],PNAME_LN:["additiveExpression"],PNAME_NS:["additiveExpression"]},numericLiteral:{INTEGER:["numericLiteralUnsigned"],DECIMAL:["numericLiteralUnsigned"],DOUBLE:["numericLiteralUnsigned"],INTEGER_POSITIVE:["numericLiteralPositive"],DECIMAL_POSITIVE:["numericLiteralPositive"],DOUBLE_POSITIVE:["numericLiteralPositive"],INTEGER_NEGATIVE:["numericLiteralNegative"],DECIMAL_NEGATIVE:["numericLiteralNegative"],DOUBLE_NEGATIVE:["numericLiteralNegative"]},numericLiteralNegative:{INTEGER_NEGATIVE:["INTEGER_NEGATIVE"],DECIMAL_NEGATIVE:["DECIMAL_NEGATIVE"],DOUBLE_NEGATIVE:["DOUBLE_NEGATIVE"]},numericLiteralPositive:{INTEGER_POSITIVE:["INTEGER_POSITIVE"],DECIMAL_POSITIVE:["DECIMAL_POSITIVE"],DOUBLE_POSITIVE:["DOUBLE_POSITIVE"]},numericLiteralUnsigned:{INTEGER:["INTEGER"],DECIMAL:["DECIMAL"],DOUBLE:["DOUBLE"]},object:{"(":["graphNode"],"[":["graphNode"],VAR1:["graphNode"],VAR2:["graphNode"],NIL:["graphNode"],IRI_REF:["graphNode"],TRUE:["graphNode"],FALSE:["graphNode"],BLANK_NODE_LABEL:["graphNode"],ANON:["graphNode"],PNAME_LN:["graphNode"],PNAME_NS:["graphNode"],STRING_LITERAL1:["graphNode"],STRING_LITERAL2:["graphNode"],STRING_LITERAL_LONG1:["graphNode"],STRING_LITERAL_LONG2:["graphNode"],INTEGER:["graphNode"],DECIMAL:["graphNode"],DOUBLE:["graphNode"],INTEGER_POSITIVE:["graphNode"],DECIMAL_POSITIVE:["graphNode"],DOUBLE_POSITIVE:["graphNode"],INTEGER_NEGATIVE:["graphNode"],DECIMAL_NEGATIVE:["graphNode"],DOUBLE_NEGATIVE:["graphNode"]},objectList:{"(":["object","*[,,object]"],"[":["object","*[,,object]"],VAR1:["object","*[,,object]"],VAR2:["object","*[,,object]"],NIL:["object","*[,,object]"],IRI_REF:["object","*[,,object]"],TRUE:["object","*[,,object]"],FALSE:["object","*[,,object]"],BLANK_NODE_LABEL:["object","*[,,object]"],ANON:["object","*[,,object]"],PNAME_LN:["object","*[,,object]"],PNAME_NS:["object","*[,,object]"],STRING_LITERAL1:["object","*[,,object]"],STRING_LITERAL2:["object","*[,,object]"],STRING_LITERAL_LONG1:["object","*[,,object]"],STRING_LITERAL_LONG2:["object","*[,,object]"],INTEGER:["object","*[,,object]"],DECIMAL:["object","*[,,object]"],DOUBLE:["object","*[,,object]"],INTEGER_POSITIVE:["object","*[,,object]"],DECIMAL_POSITIVE:["object","*[,,object]"],DOUBLE_POSITIVE:["object","*[,,object]"],INTEGER_NEGATIVE:["object","*[,,object]"],DECIMAL_NEGATIVE:["object","*[,,object]"],DOUBLE_NEGATIVE:["object","*[,,object]"]},objectListPath:{"(":["objectPath","*[,,objectPath]"],"[":["objectPath","*[,,objectPath]"],VAR1:["objectPath","*[,,objectPath]"],VAR2:["objectPath","*[,,objectPath]"],NIL:["objectPath","*[,,objectPath]"],IRI_REF:["objectPath","*[,,objectPath]"],TRUE:["objectPath","*[,,objectPath]"],FALSE:["objectPath","*[,,objectPath]"],BLANK_NODE_LABEL:["objectPath","*[,,objectPath]"],ANON:["objectPath","*[,,objectPath]"],PNAME_LN:["objectPath","*[,,objectPath]"],PNAME_NS:["objectPath","*[,,objectPath]"],STRING_LITERAL1:["objectPath","*[,,objectPath]"],STRING_LITERAL2:["objectPath","*[,,objectPath]"],STRING_LITERAL_LONG1:["objectPath","*[,,objectPath]"],STRING_LITERAL_LONG2:["objectPath","*[,,objectPath]"],INTEGER:["objectPath","*[,,objectPath]"],DECIMAL:["objectPath","*[,,objectPath]"],DOUBLE:["objectPath","*[,,objectPath]"],INTEGER_POSITIVE:["objectPath","*[,,objectPath]"],DECIMAL_POSITIVE:["objectPath","*[,,objectPath]"],DOUBLE_POSITIVE:["objectPath","*[,,objectPath]"],INTEGER_NEGATIVE:["objectPath","*[,,objectPath]"],DECIMAL_NEGATIVE:["objectPath","*[,,objectPath]"],DOUBLE_NEGATIVE:["objectPath","*[,,objectPath]"]},objectPath:{"(":["graphNodePath"],"[":["graphNodePath"],VAR1:["graphNodePath"],VAR2:["graphNodePath"],NIL:["graphNodePath"],IRI_REF:["graphNodePath"],TRUE:["graphNodePath"],FALSE:["graphNodePath"],BLANK_NODE_LABEL:["graphNodePath"],ANON:["graphNodePath"],PNAME_LN:["graphNodePath"],PNAME_NS:["graphNodePath"],STRING_LITERAL1:["graphNodePath"],STRING_LITERAL2:["graphNodePath"],STRING_LITERAL_LONG1:["graphNodePath"],STRING_LITERAL_LONG2:["graphNodePath"],INTEGER:["graphNodePath"],DECIMAL:["graphNodePath"],DOUBLE:["graphNodePath"],INTEGER_POSITIVE:["graphNodePath"],DECIMAL_POSITIVE:["graphNodePath"],DOUBLE_POSITIVE:["graphNodePath"],INTEGER_NEGATIVE:["graphNodePath"],DECIMAL_NEGATIVE:["graphNodePath"],DOUBLE_NEGATIVE:["graphNodePath"]},offsetClause:{OFFSET:["OFFSET","INTEGER"]},optionalGraphPattern:{OPTIONAL:["OPTIONAL","groupGraphPattern"]},"or([*,expression])":{"*":["*"],"!":["expression"],"+":["expression"],"-":["expression"],VAR1:["expression"],VAR2:["expression"],"(":["expression"],STR:["expression"],LANG:["expression"],LANGMATCHES:["expression"],DATATYPE:["expression"],BOUND:["expression"],IRI:["expression"],URI:["expression"],BNODE:["expression"],RAND:["expression"],ABS:["expression"],CEIL:["expression"],FLOOR:["expression"],ROUND:["expression"],CONCAT:["expression"],STRLEN:["expression"],UCASE:["expression"],LCASE:["expression"],ENCODE_FOR_URI:["expression"],CONTAINS:["expression"],STRSTARTS:["expression"],STRENDS:["expression"],STRBEFORE:["expression"],STRAFTER:["expression"],YEAR:["expression"],MONTH:["expression"],DAY:["expression"],HOURS:["expression"],MINUTES:["expression"],SECONDS:["expression"],TIMEZONE:["expression"],TZ:["expression"],NOW:["expression"],UUID:["expression"],STRUUID:["expression"],MD5:["expression"],SHA1:["expression"],SHA256:["expression"],SHA384:["expression"],SHA512:["expression"],COALESCE:["expression"],IF:["expression"],STRLANG:["expression"],STRDT:["expression"],SAMETERM:["expression"],ISIRI:["expression"],ISURI:["expression"],ISBLANK:["expression"],ISLITERAL:["expression"],ISNUMERIC:["expression"],TRUE:["expression"],FALSE:["expression"],COUNT:["expression"],SUM:["expression"],MIN:["expression"],MAX:["expression"],AVG:["expression"],SAMPLE:["expression"],GROUP_CONCAT:["expression"],SUBSTR:["expression"],REPLACE:["expression"],REGEX:["expression"],EXISTS:["expression"],NOT:["expression"],IRI_REF:["expression"],STRING_LITERAL1:["expression"],STRING_LITERAL2:["expression"],STRING_LITERAL_LONG1:["expression"],STRING_LITERAL_LONG2:["expression"],INTEGER:["expression"],DECIMAL:["expression"],DOUBLE:["expression"],INTEGER_POSITIVE:["expression"],DECIMAL_POSITIVE:["expression"],DOUBLE_POSITIVE:["expression"],INTEGER_NEGATIVE:["expression"],DECIMAL_NEGATIVE:["expression"],DOUBLE_NEGATIVE:["expression"],PNAME_LN:["expression"],PNAME_NS:["expression"]},"or([+or([var,[ (,expression,AS,var,)]]),*])":{"(":["+or([var,[ (,expression,AS,var,)]])"],VAR1:["+or([var,[ (,expression,AS,var,)]])"],VAR2:["+or([var,[ (,expression,AS,var,)]])"],"*":["*"]},"or([+varOrIRIref,*])":{VAR1:["+varOrIRIref"],VAR2:["+varOrIRIref"],IRI_REF:["+varOrIRIref"],PNAME_LN:["+varOrIRIref"],PNAME_NS:["+varOrIRIref"],"*":["*"]},"or([ASC,DESC])":{ASC:["ASC"],DESC:["DESC"]},"or([DISTINCT,REDUCED])":{DISTINCT:["DISTINCT"],REDUCED:["REDUCED"]},"or([LANGTAG,[^^,iriRef]])":{LANGTAG:["LANGTAG"],"^^":["[^^,iriRef]"]},"or([NIL,[ (,*var,)]])":{NIL:["NIL"],"(":["[ (,*var,)]"]},"or([[ (,*dataBlockValue,)],NIL])":{"(":["[ (,*dataBlockValue,)]"],NIL:["NIL"]},"or([[ (,expression,)],NIL])":{"(":["[ (,expression,)]"],NIL:["NIL"]},"or([[*,unaryExpression],[/,unaryExpression]])":{"*":["[*,unaryExpression]"],"/":["[/,unaryExpression]"]},"or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])":{"+":["[+,multiplicativeExpression]"],"-":["[-,multiplicativeExpression]"],INTEGER_POSITIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DECIMAL_POSITIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DOUBLE_POSITIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],INTEGER_NEGATIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DECIMAL_NEGATIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DOUBLE_NEGATIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"]},"or([[,,or([},[integer,}]])],}])":{",":["[,,or([},[integer,}]])]"],"}":["}"]},"or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])":{"=":["[=,numericExpression]"],"!=":["[!=,numericExpression]"],"<":["[<,numericExpression]"],">":["[>,numericExpression]"],"<=":["[<=,numericExpression]"],">=":["[>=,numericExpression]"],IN:["[IN,expressionList]"],NOT:["[NOT,IN,expressionList]"]},"or([[constructTemplate,*datasetClause,whereClause,solutionModifier],[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]])":{"{":["[constructTemplate,*datasetClause,whereClause,solutionModifier]"],WHERE:["[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]"],FROM:["[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]"]},"or([[deleteClause,?insertClause],insertClause])":{DELETE:["[deleteClause,?insertClause]"],INSERT:["insertClause"]},"or([[integer,or([[,,or([},[integer,}]])],}])],[,,integer,}]])":{INTEGER:["[integer,or([[,,or([},[integer,}]])],}])]"],",":["[,,integer,}]"]},"or([baseDecl,prefixDecl])":{BASE:["baseDecl"],PREFIX:["prefixDecl"]},"or([defaultGraphClause,namedGraphClause])":{IRI_REF:["defaultGraphClause"],PNAME_LN:["defaultGraphClause"],PNAME_NS:["defaultGraphClause"],NAMED:["namedGraphClause"]},"or([inlineDataOneVar,inlineDataFull])":{VAR1:["inlineDataOneVar"],VAR2:["inlineDataOneVar"],NIL:["inlineDataFull"],"(":["inlineDataFull"]},"or([iriRef,[NAMED,iriRef]])":{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],NAMED:["[NAMED,iriRef]"]},"or([iriRef,a])":{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],a:["a"]},"or([numericLiteralPositive,numericLiteralNegative])":{INTEGER_POSITIVE:["numericLiteralPositive"],DECIMAL_POSITIVE:["numericLiteralPositive"],DOUBLE_POSITIVE:["numericLiteralPositive"],INTEGER_NEGATIVE:["numericLiteralNegative"],DECIMAL_NEGATIVE:["numericLiteralNegative"],DOUBLE_NEGATIVE:["numericLiteralNegative"]},"or([queryAll,updateAll])":{CONSTRUCT:["queryAll"],DESCRIBE:["queryAll"],ASK:["queryAll"],SELECT:["queryAll"],INSERT:["updateAll"],DELETE:["updateAll"],LOAD:["updateAll"],CLEAR:["updateAll"],DROP:["updateAll"],ADD:["updateAll"],MOVE:["updateAll"],COPY:["updateAll"],CREATE:["updateAll"],WITH:["updateAll"],$:["updateAll"]},"or([selectQuery,constructQuery,describeQuery,askQuery])":{SELECT:["selectQuery"],CONSTRUCT:["constructQuery"],DESCRIBE:["describeQuery"],ASK:["askQuery"]},"or([subSelect,groupGraphPatternSub])":{SELECT:["subSelect"],"{":["groupGraphPatternSub"],OPTIONAL:["groupGraphPatternSub"],MINUS:["groupGraphPatternSub"],GRAPH:["groupGraphPatternSub"],SERVICE:["groupGraphPatternSub"],FILTER:["groupGraphPatternSub"],BIND:["groupGraphPatternSub"],VALUES:["groupGraphPatternSub"],VAR1:["groupGraphPatternSub"],VAR2:["groupGraphPatternSub"],NIL:["groupGraphPatternSub"],"(":["groupGraphPatternSub"],"[":["groupGraphPatternSub"],IRI_REF:["groupGraphPatternSub"],TRUE:["groupGraphPatternSub"],FALSE:["groupGraphPatternSub"],BLANK_NODE_LABEL:["groupGraphPatternSub"],ANON:["groupGraphPatternSub"],PNAME_LN:["groupGraphPatternSub"],PNAME_NS:["groupGraphPatternSub"],STRING_LITERAL1:["groupGraphPatternSub"],STRING_LITERAL2:["groupGraphPatternSub"],STRING_LITERAL_LONG1:["groupGraphPatternSub"],STRING_LITERAL_LONG2:["groupGraphPatternSub"],INTEGER:["groupGraphPatternSub"],DECIMAL:["groupGraphPatternSub"],DOUBLE:["groupGraphPatternSub"],INTEGER_POSITIVE:["groupGraphPatternSub"],DECIMAL_POSITIVE:["groupGraphPatternSub"],DOUBLE_POSITIVE:["groupGraphPatternSub"],INTEGER_NEGATIVE:["groupGraphPatternSub"],DECIMAL_NEGATIVE:["groupGraphPatternSub"],DOUBLE_NEGATIVE:["groupGraphPatternSub"],"}":["groupGraphPatternSub"]},"or([var,[ (,expression,AS,var,)]])":{VAR1:["var"],VAR2:["var"],"(":["[ (,expression,AS,var,)]"]},"or([verbPath,verbSimple])":{"^":["verbPath"],a:["verbPath"],"!":["verbPath"],"(":["verbPath"],IRI_REF:["verbPath"],PNAME_LN:["verbPath"],PNAME_NS:["verbPath"],VAR1:["verbSimple"],VAR2:["verbSimple"]},"or([},[integer,}]])":{"}":["}"],INTEGER:["[integer,}]"]},orderClause:{ORDER:["ORDER","BY","+orderCondition"]},orderCondition:{ASC:["or([ASC,DESC])","brackettedExpression"],DESC:["or([ASC,DESC])","brackettedExpression"],"(":["constraint"],STR:["constraint"],LANG:["constraint"],LANGMATCHES:["constraint"],DATATYPE:["constraint"],BOUND:["constraint"],IRI:["constraint"],URI:["constraint"],BNODE:["constraint"],RAND:["constraint"],ABS:["constraint"],CEIL:["constraint"],FLOOR:["constraint"],ROUND:["constraint"],CONCAT:["constraint"],STRLEN:["constraint"],UCASE:["constraint"],LCASE:["constraint"],ENCODE_FOR_URI:["constraint"],CONTAINS:["constraint"],STRSTARTS:["constraint"],STRENDS:["constraint"],STRBEFORE:["constraint"],STRAFTER:["constraint"],YEAR:["constraint"],MONTH:["constraint"],DAY:["constraint"],HOURS:["constraint"],MINUTES:["constraint"],SECONDS:["constraint"],TIMEZONE:["constraint"],TZ:["constraint"],NOW:["constraint"],UUID:["constraint"],STRUUID:["constraint"],MD5:["constraint"],SHA1:["constraint"],SHA256:["constraint"],SHA384:["constraint"],SHA512:["constraint"],COALESCE:["constraint"],IF:["constraint"],STRLANG:["constraint"],STRDT:["constraint"],SAMETERM:["constraint"],ISIRI:["constraint"],ISURI:["constraint"],ISBLANK:["constraint"],ISLITERAL:["constraint"],ISNUMERIC:["constraint"],SUBSTR:["constraint"],REPLACE:["constraint"],REGEX:["constraint"],EXISTS:["constraint"],NOT:["constraint"],IRI_REF:["constraint"],PNAME_LN:["constraint"],PNAME_NS:["constraint"],VAR1:["var"],VAR2:["var"]},path:{"^":["pathAlternative"],a:["pathAlternative"],"!":["pathAlternative"],"(":["pathAlternative"],IRI_REF:["pathAlternative"],PNAME_LN:["pathAlternative"],PNAME_NS:["pathAlternative"]},pathAlternative:{"^":["pathSequence","*[|,pathSequence]"],a:["pathSequence","*[|,pathSequence]"],"!":["pathSequence","*[|,pathSequence]"],"(":["pathSequence","*[|,pathSequence]"],IRI_REF:["pathSequence","*[|,pathSequence]"],PNAME_LN:["pathSequence","*[|,pathSequence]"],PNAME_NS:["pathSequence","*[|,pathSequence]"]},pathElt:{a:["pathPrimary","?pathMod"],"!":["pathPrimary","?pathMod"],"(":["pathPrimary","?pathMod"],IRI_REF:["pathPrimary","?pathMod"],PNAME_LN:["pathPrimary","?pathMod"],PNAME_NS:["pathPrimary","?pathMod"]},pathEltOrInverse:{a:["pathElt"],"!":["pathElt"],"(":["pathElt"],IRI_REF:["pathElt"],PNAME_LN:["pathElt"],PNAME_NS:["pathElt"],"^":["^","pathElt"]},pathMod:{"*":["*"],"?":["?"],"+":["+"],"{":["{","or([[integer,or([[,,or([},[integer,}]])],}])],[,,integer,}]])"]},pathNegatedPropertySet:{a:["pathOneInPropertySet"],"^":["pathOneInPropertySet"],IRI_REF:["pathOneInPropertySet"],PNAME_LN:["pathOneInPropertySet"],PNAME_NS:["pathOneInPropertySet"],"(":["(","?[pathOneInPropertySet,*[|,pathOneInPropertySet]]",")"]},pathOneInPropertySet:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],a:["a"],"^":["^","or([iriRef,a])"]},pathPrimary:{IRI_REF:["storeProperty","iriRef"],PNAME_LN:["storeProperty","iriRef"],PNAME_NS:["storeProperty","iriRef"],a:["storeProperty","a"],"!":["!","pathNegatedPropertySet"],"(":["(","path",")"]},pathSequence:{"^":["pathEltOrInverse","*[/,pathEltOrInverse]"],a:["pathEltOrInverse","*[/,pathEltOrInverse]"],"!":["pathEltOrInverse","*[/,pathEltOrInverse]"],"(":["pathEltOrInverse","*[/,pathEltOrInverse]"],IRI_REF:["pathEltOrInverse","*[/,pathEltOrInverse]"],PNAME_LN:["pathEltOrInverse","*[/,pathEltOrInverse]"],PNAME_NS:["pathEltOrInverse","*[/,pathEltOrInverse]"]},prefixDecl:{PREFIX:["PREFIX","PNAME_NS","IRI_REF"]},prefixedName:{PNAME_LN:["PNAME_LN"],PNAME_NS:["PNAME_NS"]},primaryExpression:{"(":["brackettedExpression"],STR:["builtInCall"],LANG:["builtInCall"],LANGMATCHES:["builtInCall"],DATATYPE:["builtInCall"],BOUND:["builtInCall"],IRI:["builtInCall"],URI:["builtInCall"],BNODE:["builtInCall"],RAND:["builtInCall"],ABS:["builtInCall"],CEIL:["builtInCall"],FLOOR:["builtInCall"],ROUND:["builtInCall"],CONCAT:["builtInCall"],STRLEN:["builtInCall"],UCASE:["builtInCall"],LCASE:["builtInCall"],ENCODE_FOR_URI:["builtInCall"],CONTAINS:["builtInCall"],STRSTARTS:["builtInCall"],STRENDS:["builtInCall"],STRBEFORE:["builtInCall"],STRAFTER:["builtInCall"],YEAR:["builtInCall"],MONTH:["builtInCall"],DAY:["builtInCall"],HOURS:["builtInCall"],MINUTES:["builtInCall"],SECONDS:["builtInCall"],TIMEZONE:["builtInCall"],TZ:["builtInCall"],NOW:["builtInCall"],UUID:["builtInCall"],STRUUID:["builtInCall"],MD5:["builtInCall"],SHA1:["builtInCall"],SHA256:["builtInCall"],SHA384:["builtInCall"],SHA512:["builtInCall"],COALESCE:["builtInCall"],IF:["builtInCall"],STRLANG:["builtInCall"],STRDT:["builtInCall"],SAMETERM:["builtInCall"],ISIRI:["builtInCall"],ISURI:["builtInCall"],ISBLANK:["builtInCall"],ISLITERAL:["builtInCall"],ISNUMERIC:["builtInCall"],SUBSTR:["builtInCall"],REPLACE:["builtInCall"],REGEX:["builtInCall"],EXISTS:["builtInCall"],NOT:["builtInCall"],IRI_REF:["iriRefOrFunction"],PNAME_LN:["iriRefOrFunction"],PNAME_NS:["iriRefOrFunction"],STRING_LITERAL1:["rdfLiteral"],STRING_LITERAL2:["rdfLiteral"],STRING_LITERAL_LONG1:["rdfLiteral"],STRING_LITERAL_LONG2:["rdfLiteral"],INTEGER:["numericLiteral"],DECIMAL:["numericLiteral"],DOUBLE:["numericLiteral"],INTEGER_POSITIVE:["numericLiteral"],DECIMAL_POSITIVE:["numericLiteral"],DOUBLE_POSITIVE:["numericLiteral"],INTEGER_NEGATIVE:["numericLiteral"],DECIMAL_NEGATIVE:["numericLiteral"],DOUBLE_NEGATIVE:["numericLiteral"],TRUE:["booleanLiteral"],FALSE:["booleanLiteral"],VAR1:["var"],VAR2:["var"],COUNT:["aggregate"],SUM:["aggregate"],MIN:["aggregate"],MAX:["aggregate"],AVG:["aggregate"],SAMPLE:["aggregate"],GROUP_CONCAT:["aggregate"]},prologue:{BASE:["*or([baseDecl,prefixDecl])"],PREFIX:["*or([baseDecl,prefixDecl])"],$:["*or([baseDecl,prefixDecl])"],CONSTRUCT:["*or([baseDecl,prefixDecl])"],DESCRIBE:["*or([baseDecl,prefixDecl])"],ASK:["*or([baseDecl,prefixDecl])"],INSERT:["*or([baseDecl,prefixDecl])"],DELETE:["*or([baseDecl,prefixDecl])"],SELECT:["*or([baseDecl,prefixDecl])"],LOAD:["*or([baseDecl,prefixDecl])"],CLEAR:["*or([baseDecl,prefixDecl])"],DROP:["*or([baseDecl,prefixDecl])"],ADD:["*or([baseDecl,prefixDecl])"],MOVE:["*or([baseDecl,prefixDecl])"],COPY:["*or([baseDecl,prefixDecl])"],CREATE:["*or([baseDecl,prefixDecl])"],WITH:["*or([baseDecl,prefixDecl])"]},propertyList:{a:["propertyListNotEmpty"],VAR1:["propertyListNotEmpty"],VAR2:["propertyListNotEmpty"],IRI_REF:["propertyListNotEmpty"],PNAME_LN:["propertyListNotEmpty"],PNAME_NS:["propertyListNotEmpty"],".":[],"}":[],GRAPH:[]},propertyListNotEmpty:{a:["verb","objectList","*[;,?[verb,objectList]]"],VAR1:["verb","objectList","*[;,?[verb,objectList]]"],VAR2:["verb","objectList","*[;,?[verb,objectList]]"],IRI_REF:["verb","objectList","*[;,?[verb,objectList]]"],PNAME_LN:["verb","objectList","*[;,?[verb,objectList]]"],PNAME_NS:["verb","objectList","*[;,?[verb,objectList]]"]},propertyListPath:{a:["propertyListNotEmpty"],VAR1:["propertyListNotEmpty"],VAR2:["propertyListNotEmpty"],IRI_REF:["propertyListNotEmpty"],PNAME_LN:["propertyListNotEmpty"],PNAME_NS:["propertyListNotEmpty"],".":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},propertyListPathNotEmpty:{VAR1:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],VAR2:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],"^":["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],a:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],"!":["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],"(":["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],IRI_REF:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],PNAME_LN:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],PNAME_NS:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"]},quadData:{"{":["{","disallowVars","quads","allowVars","}"]},quadDataNoBnodes:{"{":["{","disallowBnodes","disallowVars","quads","allowVars","allowBnodes","}"]},quadPattern:{"{":["{","quads","}"]},quadPatternNoBnodes:{"{":["{","disallowBnodes","quads","allowBnodes","}"]},quads:{GRAPH:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],VAR1:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],VAR2:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],NIL:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],"(":["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],"[":["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],IRI_REF:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],TRUE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],FALSE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],BLANK_NODE_LABEL:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],ANON:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],PNAME_LN:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],PNAME_NS:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL1:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL2:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL_LONG1:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL_LONG2:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],INTEGER:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DECIMAL:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DOUBLE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],INTEGER_POSITIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DECIMAL_POSITIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DOUBLE_POSITIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],INTEGER_NEGATIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DECIMAL_NEGATIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DOUBLE_NEGATIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],"}":["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"]},quadsNotTriples:{GRAPH:["GRAPH","varOrIRIref","{","?triplesTemplate","}"]},queryAll:{CONSTRUCT:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"],DESCRIBE:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"],ASK:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"],SELECT:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"]},rdfLiteral:{STRING_LITERAL1:["string","?or([LANGTAG,[^^,iriRef]])"],STRING_LITERAL2:["string","?or([LANGTAG,[^^,iriRef]])"],STRING_LITERAL_LONG1:["string","?or([LANGTAG,[^^,iriRef]])"],STRING_LITERAL_LONG2:["string","?or([LANGTAG,[^^,iriRef]])"]},regexExpression:{REGEX:["REGEX","(","expression",",","expression","?[,,expression]",")"]},relationalExpression:{"!":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"+":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"-":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],VAR1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],VAR2:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"(":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],LANG:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],LANGMATCHES:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DATATYPE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],BOUND:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IRI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],URI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],BNODE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],RAND:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ABS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],CEIL:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],FLOOR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ROUND:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],CONCAT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRLEN:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],UCASE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],LCASE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ENCODE_FOR_URI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],CONTAINS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRSTARTS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRENDS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRBEFORE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRAFTER:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],YEAR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MONTH:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DAY:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],HOURS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MINUTES:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SECONDS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],TIMEZONE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],TZ:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],NOW:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],UUID:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRUUID:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MD5:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA256:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA384:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA512:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],COALESCE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IF:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRLANG:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRDT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SAMETERM:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISIRI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISURI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISBLANK:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISLITERAL:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISNUMERIC:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],TRUE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],FALSE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],COUNT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SUM:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MIN:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MAX:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],AVG:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SAMPLE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],GROUP_CONCAT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SUBSTR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],REPLACE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],REGEX:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],EXISTS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],NOT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IRI_REF:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL2:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL_LONG1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL_LONG2:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],INTEGER:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DECIMAL:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DOUBLE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],INTEGER_POSITIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DECIMAL_POSITIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DOUBLE_POSITIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],INTEGER_NEGATIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DECIMAL_NEGATIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DOUBLE_NEGATIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],PNAME_LN:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],PNAME_NS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"]},selectClause:{SELECT:["SELECT","?or([DISTINCT,REDUCED])","or([+or([var,[ (,expression,AS,var,)]]),*])"]},selectQuery:{SELECT:["selectClause","*datasetClause","whereClause","solutionModifier"]},serviceGraphPattern:{SERVICE:["SERVICE","?SILENT","varOrIRIref","groupGraphPattern"]},solutionModifier:{LIMIT:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],OFFSET:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],ORDER:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],HAVING:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],GROUP:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],VALUES:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],$:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],"}":["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"]},sourceSelector:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"]},sparql11:{$:["prologue","or([queryAll,updateAll])","$"],CONSTRUCT:["prologue","or([queryAll,updateAll])","$"],DESCRIBE:["prologue","or([queryAll,updateAll])","$"],ASK:["prologue","or([queryAll,updateAll])","$"],INSERT:["prologue","or([queryAll,updateAll])","$"],DELETE:["prologue","or([queryAll,updateAll])","$"],SELECT:["prologue","or([queryAll,updateAll])","$"],LOAD:["prologue","or([queryAll,updateAll])","$"],CLEAR:["prologue","or([queryAll,updateAll])","$"],DROP:["prologue","or([queryAll,updateAll])","$"],ADD:["prologue","or([queryAll,updateAll])","$"],MOVE:["prologue","or([queryAll,updateAll])","$"],COPY:["prologue","or([queryAll,updateAll])","$"],CREATE:["prologue","or([queryAll,updateAll])","$"],WITH:["prologue","or([queryAll,updateAll])","$"],BASE:["prologue","or([queryAll,updateAll])","$"],PREFIX:["prologue","or([queryAll,updateAll])","$"]},storeProperty:{VAR1:[],VAR2:[],IRI_REF:[],PNAME_LN:[],PNAME_NS:[],a:[]},strReplaceExpression:{REPLACE:["REPLACE","(","expression",",","expression",",","expression","?[,,expression]",")"]},string:{STRING_LITERAL1:["STRING_LITERAL1"],STRING_LITERAL2:["STRING_LITERAL2"],STRING_LITERAL_LONG1:["STRING_LITERAL_LONG1"],STRING_LITERAL_LONG2:["STRING_LITERAL_LONG2"]},subSelect:{SELECT:["selectClause","whereClause","solutionModifier","valuesClause"]},substringExpression:{SUBSTR:["SUBSTR","(","expression",",","expression","?[,,expression]",")"]},triplesBlock:{VAR1:["triplesSameSubjectPath","?[.,?triplesBlock]"],VAR2:["triplesSameSubjectPath","?[.,?triplesBlock]"],NIL:["triplesSameSubjectPath","?[.,?triplesBlock]"],"(":["triplesSameSubjectPath","?[.,?triplesBlock]"],"[":["triplesSameSubjectPath","?[.,?triplesBlock]"],IRI_REF:["triplesSameSubjectPath","?[.,?triplesBlock]"],TRUE:["triplesSameSubjectPath","?[.,?triplesBlock]"],FALSE:["triplesSameSubjectPath","?[.,?triplesBlock]"],BLANK_NODE_LABEL:["triplesSameSubjectPath","?[.,?triplesBlock]"],ANON:["triplesSameSubjectPath","?[.,?triplesBlock]"],PNAME_LN:["triplesSameSubjectPath","?[.,?triplesBlock]"],PNAME_NS:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL1:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL2:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL_LONG1:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL_LONG2:["triplesSameSubjectPath","?[.,?triplesBlock]"],INTEGER:["triplesSameSubjectPath","?[.,?triplesBlock]"],DECIMAL:["triplesSameSubjectPath","?[.,?triplesBlock]"],DOUBLE:["triplesSameSubjectPath","?[.,?triplesBlock]"],INTEGER_POSITIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DECIMAL_POSITIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DOUBLE_POSITIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],INTEGER_NEGATIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DECIMAL_NEGATIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DOUBLE_NEGATIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"]},triplesNode:{"(":["collection"],"[":["blankNodePropertyList"]},triplesNodePath:{"(":["collectionPath"],"[":["blankNodePropertyListPath"]},triplesSameSubject:{VAR1:["varOrTerm","propertyListNotEmpty"],VAR2:["varOrTerm","propertyListNotEmpty"],NIL:["varOrTerm","propertyListNotEmpty"],IRI_REF:["varOrTerm","propertyListNotEmpty"],TRUE:["varOrTerm","propertyListNotEmpty"],FALSE:["varOrTerm","propertyListNotEmpty"],BLANK_NODE_LABEL:["varOrTerm","propertyListNotEmpty"],ANON:["varOrTerm","propertyListNotEmpty"],PNAME_LN:["varOrTerm","propertyListNotEmpty"],PNAME_NS:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL1:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL2:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL_LONG1:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL_LONG2:["varOrTerm","propertyListNotEmpty"],INTEGER:["varOrTerm","propertyListNotEmpty"],DECIMAL:["varOrTerm","propertyListNotEmpty"],DOUBLE:["varOrTerm","propertyListNotEmpty"],INTEGER_POSITIVE:["varOrTerm","propertyListNotEmpty"],DECIMAL_POSITIVE:["varOrTerm","propertyListNotEmpty"],DOUBLE_POSITIVE:["varOrTerm","propertyListNotEmpty"],INTEGER_NEGATIVE:["varOrTerm","propertyListNotEmpty"],DECIMAL_NEGATIVE:["varOrTerm","propertyListNotEmpty"],DOUBLE_NEGATIVE:["varOrTerm","propertyListNotEmpty"],"(":["triplesNode","propertyList"],"[":["triplesNode","propertyList"]},triplesSameSubjectPath:{VAR1:["varOrTerm","propertyListPathNotEmpty"],VAR2:["varOrTerm","propertyListPathNotEmpty"],NIL:["varOrTerm","propertyListPathNotEmpty"],IRI_REF:["varOrTerm","propertyListPathNotEmpty"],TRUE:["varOrTerm","propertyListPathNotEmpty"],FALSE:["varOrTerm","propertyListPathNotEmpty"],BLANK_NODE_LABEL:["varOrTerm","propertyListPathNotEmpty"],ANON:["varOrTerm","propertyListPathNotEmpty"],PNAME_LN:["varOrTerm","propertyListPathNotEmpty"],PNAME_NS:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL1:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL2:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL_LONG1:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL_LONG2:["varOrTerm","propertyListPathNotEmpty"],INTEGER:["varOrTerm","propertyListPathNotEmpty"],DECIMAL:["varOrTerm","propertyListPathNotEmpty"],DOUBLE:["varOrTerm","propertyListPathNotEmpty"],INTEGER_POSITIVE:["varOrTerm","propertyListPathNotEmpty"],DECIMAL_POSITIVE:["varOrTerm","propertyListPathNotEmpty"],DOUBLE_POSITIVE:["varOrTerm","propertyListPathNotEmpty"],INTEGER_NEGATIVE:["varOrTerm","propertyListPathNotEmpty"],DECIMAL_NEGATIVE:["varOrTerm","propertyListPathNotEmpty"],DOUBLE_NEGATIVE:["varOrTerm","propertyListPathNotEmpty"],"(":["triplesNodePath","propertyListPath"],"[":["triplesNodePath","propertyListPath"]},triplesTemplate:{VAR1:["triplesSameSubject","?[.,?triplesTemplate]"],VAR2:["triplesSameSubject","?[.,?triplesTemplate]"],NIL:["triplesSameSubject","?[.,?triplesTemplate]"],"(":["triplesSameSubject","?[.,?triplesTemplate]"],"[":["triplesSameSubject","?[.,?triplesTemplate]"],IRI_REF:["triplesSameSubject","?[.,?triplesTemplate]"],TRUE:["triplesSameSubject","?[.,?triplesTemplate]"],FALSE:["triplesSameSubject","?[.,?triplesTemplate]"],BLANK_NODE_LABEL:["triplesSameSubject","?[.,?triplesTemplate]"],ANON:["triplesSameSubject","?[.,?triplesTemplate]"],PNAME_LN:["triplesSameSubject","?[.,?triplesTemplate]"],PNAME_NS:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL1:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL2:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL_LONG1:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL_LONG2:["triplesSameSubject","?[.,?triplesTemplate]"],INTEGER:["triplesSameSubject","?[.,?triplesTemplate]"],DECIMAL:["triplesSameSubject","?[.,?triplesTemplate]"],DOUBLE:["triplesSameSubject","?[.,?triplesTemplate]"],INTEGER_POSITIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DECIMAL_POSITIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DOUBLE_POSITIVE:["triplesSameSubject","?[.,?triplesTemplate]"],INTEGER_NEGATIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DECIMAL_NEGATIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DOUBLE_NEGATIVE:["triplesSameSubject","?[.,?triplesTemplate]"]},unaryExpression:{"!":["!","primaryExpression"],"+":["+","primaryExpression"],"-":["-","primaryExpression"],VAR1:["primaryExpression"],VAR2:["primaryExpression"],"(":["primaryExpression"],STR:["primaryExpression"],LANG:["primaryExpression"],LANGMATCHES:["primaryExpression"],DATATYPE:["primaryExpression"],BOUND:["primaryExpression"],IRI:["primaryExpression"],URI:["primaryExpression"],BNODE:["primaryExpression"],RAND:["primaryExpression"],ABS:["primaryExpression"],CEIL:["primaryExpression"],FLOOR:["primaryExpression"],ROUND:["primaryExpression"],CONCAT:["primaryExpression"],STRLEN:["primaryExpression"],UCASE:["primaryExpression"],LCASE:["primaryExpression"],ENCODE_FOR_URI:["primaryExpression"],CONTAINS:["primaryExpression"],STRSTARTS:["primaryExpression"],STRENDS:["primaryExpression"],STRBEFORE:["primaryExpression"],STRAFTER:["primaryExpression"],YEAR:["primaryExpression"],MONTH:["primaryExpression"],DAY:["primaryExpression"],HOURS:["primaryExpression"],MINUTES:["primaryExpression"],SECONDS:["primaryExpression"],TIMEZONE:["primaryExpression"],TZ:["primaryExpression"],NOW:["primaryExpression"],UUID:["primaryExpression"],STRUUID:["primaryExpression"],MD5:["primaryExpression"],SHA1:["primaryExpression"],SHA256:["primaryExpression"],SHA384:["primaryExpression"],SHA512:["primaryExpression"],COALESCE:["primaryExpression"],IF:["primaryExpression"],STRLANG:["primaryExpression"],STRDT:["primaryExpression"],SAMETERM:["primaryExpression"],ISIRI:["primaryExpression"],ISURI:["primaryExpression"],ISBLANK:["primaryExpression"],ISLITERAL:["primaryExpression"],ISNUMERIC:["primaryExpression"],TRUE:["primaryExpression"],FALSE:["primaryExpression"],COUNT:["primaryExpression"],SUM:["primaryExpression"],MIN:["primaryExpression"],MAX:["primaryExpression"],AVG:["primaryExpression"],SAMPLE:["primaryExpression"],GROUP_CONCAT:["primaryExpression"],SUBSTR:["primaryExpression"],REPLACE:["primaryExpression"],REGEX:["primaryExpression"],EXISTS:["primaryExpression"],NOT:["primaryExpression"],IRI_REF:["primaryExpression"],STRING_LITERAL1:["primaryExpression"],STRING_LITERAL2:["primaryExpression"],STRING_LITERAL_LONG1:["primaryExpression"],STRING_LITERAL_LONG2:["primaryExpression"],INTEGER:["primaryExpression"],DECIMAL:["primaryExpression"],DOUBLE:["primaryExpression"],INTEGER_POSITIVE:["primaryExpression"],DECIMAL_POSITIVE:["primaryExpression"],DOUBLE_POSITIVE:["primaryExpression"],INTEGER_NEGATIVE:["primaryExpression"],DECIMAL_NEGATIVE:["primaryExpression"],DOUBLE_NEGATIVE:["primaryExpression"],PNAME_LN:["primaryExpression"],PNAME_NS:["primaryExpression"]},update:{INSERT:["prologue","?[update1,?[;,update]]"],DELETE:["prologue","?[update1,?[;,update]]"],LOAD:["prologue","?[update1,?[;,update]]"],CLEAR:["prologue","?[update1,?[;,update]]"],DROP:["prologue","?[update1,?[;,update]]"],ADD:["prologue","?[update1,?[;,update]]"],MOVE:["prologue","?[update1,?[;,update]]"],COPY:["prologue","?[update1,?[;,update]]"],CREATE:["prologue","?[update1,?[;,update]]"],WITH:["prologue","?[update1,?[;,update]]"],BASE:["prologue","?[update1,?[;,update]]"],PREFIX:["prologue","?[update1,?[;,update]]"],$:["prologue","?[update1,?[;,update]]"]},update1:{LOAD:["load"],CLEAR:["clear"],DROP:["drop"],ADD:["add"],MOVE:["move"],COPY:["copy"],CREATE:["create"],INSERT:["INSERT","insert1"],DELETE:["DELETE","delete1"],WITH:["modify"]},updateAll:{INSERT:["?[update1,?[;,update]]"],DELETE:["?[update1,?[;,update]]"],LOAD:["?[update1,?[;,update]]"],CLEAR:["?[update1,?[;,update]]"],DROP:["?[update1,?[;,update]]"],ADD:["?[update1,?[;,update]]"],MOVE:["?[update1,?[;,update]]"],COPY:["?[update1,?[;,update]]"],CREATE:["?[update1,?[;,update]]"],WITH:["?[update1,?[;,update]]"],$:["?[update1,?[;,update]]"]},usingClause:{USING:["USING","or([iriRef,[NAMED,iriRef]])"]},valueLogical:{"!":["relationalExpression"],"+":["relationalExpression"],"-":["relationalExpression"],VAR1:["relationalExpression"],VAR2:["relationalExpression"],"(":["relationalExpression"],STR:["relationalExpression"],LANG:["relationalExpression"],LANGMATCHES:["relationalExpression"],DATATYPE:["relationalExpression"],BOUND:["relationalExpression"],IRI:["relationalExpression"],URI:["relationalExpression"],BNODE:["relationalExpression"],RAND:["relationalExpression"],ABS:["relationalExpression"],CEIL:["relationalExpression"],FLOOR:["relationalExpression"],ROUND:["relationalExpression"],CONCAT:["relationalExpression"],STRLEN:["relationalExpression"],UCASE:["relationalExpression"],LCASE:["relationalExpression"],ENCODE_FOR_URI:["relationalExpression"],CONTAINS:["relationalExpression"],STRSTARTS:["relationalExpression"],STRENDS:["relationalExpression"],STRBEFORE:["relationalExpression"],STRAFTER:["relationalExpression"],YEAR:["relationalExpression"],MONTH:["relationalExpression"],DAY:["relationalExpression"],HOURS:["relationalExpression"],MINUTES:["relationalExpression"],SECONDS:["relationalExpression"],TIMEZONE:["relationalExpression"],TZ:["relationalExpression"],NOW:["relationalExpression"],UUID:["relationalExpression"],STRUUID:["relationalExpression"],MD5:["relationalExpression"],SHA1:["relationalExpression"],SHA256:["relationalExpression"],SHA384:["relationalExpression"],SHA512:["relationalExpression"],COALESCE:["relationalExpression"],IF:["relationalExpression"],STRLANG:["relationalExpression"],STRDT:["relationalExpression"],SAMETERM:["relationalExpression"],ISIRI:["relationalExpression"],ISURI:["relationalExpression"],ISBLANK:["relationalExpression"],ISLITERAL:["relationalExpression"],ISNUMERIC:["relationalExpression"],TRUE:["relationalExpression"],FALSE:["relationalExpression"],COUNT:["relationalExpression"],SUM:["relationalExpression"],MIN:["relationalExpression"],MAX:["relationalExpression"],AVG:["relationalExpression"],SAMPLE:["relationalExpression"],GROUP_CONCAT:["relationalExpression"],SUBSTR:["relationalExpression"],REPLACE:["relationalExpression"],REGEX:["relationalExpression"],EXISTS:["relationalExpression"],NOT:["relationalExpression"],IRI_REF:["relationalExpression"],STRING_LITERAL1:["relationalExpression"],STRING_LITERAL2:["relationalExpression"],STRING_LITERAL_LONG1:["relationalExpression"],STRING_LITERAL_LONG2:["relationalExpression"],INTEGER:["relationalExpression"],DECIMAL:["relationalExpression"],DOUBLE:["relationalExpression"],INTEGER_POSITIVE:["relationalExpression"],DECIMAL_POSITIVE:["relationalExpression"],DOUBLE_POSITIVE:["relationalExpression"],INTEGER_NEGATIVE:["relationalExpression"],DECIMAL_NEGATIVE:["relationalExpression"],DOUBLE_NEGATIVE:["relationalExpression"],PNAME_LN:["relationalExpression"],PNAME_NS:["relationalExpression"]},valuesClause:{VALUES:["VALUES","dataBlock"],$:[],"}":[]},var:{VAR1:["VAR1"],VAR2:["VAR2"]},varOrIRIref:{VAR1:["var"],VAR2:["var"],IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"]},varOrTerm:{VAR1:["var"],VAR2:["var"],NIL:["graphTerm"],IRI_REF:["graphTerm"],TRUE:["graphTerm"],FALSE:["graphTerm"],BLANK_NODE_LABEL:["graphTerm"],ANON:["graphTerm"],PNAME_LN:["graphTerm"],PNAME_NS:["graphTerm"],STRING_LITERAL1:["graphTerm"],STRING_LITERAL2:["graphTerm"],STRING_LITERAL_LONG1:["graphTerm"],STRING_LITERAL_LONG2:["graphTerm"],INTEGER:["graphTerm"],DECIMAL:["graphTerm"],DOUBLE:["graphTerm"],INTEGER_POSITIVE:["graphTerm"],DECIMAL_POSITIVE:["graphTerm"],DOUBLE_POSITIVE:["graphTerm"],INTEGER_NEGATIVE:["graphTerm"],DECIMAL_NEGATIVE:["graphTerm"],DOUBLE_NEGATIVE:["graphTerm"]},verb:{VAR1:["storeProperty","varOrIRIref"],VAR2:["storeProperty","varOrIRIref"],IRI_REF:["storeProperty","varOrIRIref"],PNAME_LN:["storeProperty","varOrIRIref"],PNAME_NS:["storeProperty","varOrIRIref"],a:["storeProperty","a"]},verbPath:{"^":["path"],a:["path"],"!":["path"],"(":["path"],IRI_REF:["path"],PNAME_LN:["path"],PNAME_NS:["path"]},verbSimple:{VAR1:["var"],VAR2:["var"]},whereClause:{"{":["?WHERE","groupGraphPattern"],WHERE:["?WHERE","groupGraphPattern"]}},keywords:/^(GROUP_CONCAT|DATATYPE|BASE|PREFIX|SELECT|CONSTRUCT|DESCRIBE|ASK|FROM|NAMED|ORDER|BY|LIMIT|ASC|DESC|OFFSET|DISTINCT|REDUCED|WHERE|GRAPH|OPTIONAL|UNION|FILTER|GROUP|HAVING|AS|VALUES|LOAD|CLEAR|DROP|CREATE|MOVE|COPY|SILENT|INSERT|DELETE|DATA|WITH|TO|USING|NAMED|MINUS|BIND|LANGMATCHES|LANG|BOUND|SAMETERM|ISIRI|ISURI|ISBLANK|ISLITERAL|REGEX|TRUE|FALSE|UNDEF|ADD|DEFAULT|ALL|SERVICE|INTO|IN|NOT|IRI|URI|BNODE|RAND|ABS|CEIL|FLOOR|ROUND|CONCAT|STRLEN|UCASE|LCASE|ENCODE_FOR_URI|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|NOW|UUID|STRUUID|MD5|SHA1|SHA256|SHA384|SHA512|COALESCE|IF|STRLANG|STRDT|ISNUMERIC|SUBSTR|REPLACE|EXISTS|COUNT|SUM|MIN|MAX|AVG|SAMPLE|SEPARATOR|STR)/i,punct:/^(\*|a|\.|\{|\}|,|\(|\)|;|\[|\]|\|\||&&|=|!=|!|<=|>=|<|>|\+|-|\/|\^\^|\?|\||\^)/,startSymbol:"sparql11",acceptEmpty:!0}},function(e,t,n){"use strict";var i=n(18),r=n(102),o=n(148),a=n(535);n(74);e.exports=function(e,t){var n={},l={},u={};t.on("cursorActivity",function(e,t){d(!0)}),t.on("change",function(){var e=[];for(var r in n)n[r].is(":visible")&&e.push(n[r]);if(e.length>0){var o=i(t.getWrapperElement()).find(".CodeMirror-vscrollbar"),a=0;o.is(":visible")&&(a=o.outerWidth()),e.forEach(function(e){e.css("right",a)})}});var c=function(e,n){u[e.name]=new a;for(var i=0;i<n.length;i++)u[e.name].insert(n[i]);var s=r.getPersistencyId(t,e.persistent);s&&o.storage.set(s,n,"month",t.options.onQuotaExceeded)},p=function(e,n){var i=l[e]=new n(t,e);if(i.name=e,i.bulk){var a=function(e){e&&e instanceof Array&&e.length>0&&c(i,e)};if(i.get instanceof Array)a(i.get);else{var s=null,u=r.getPersistencyId(t,i.persistent);u&&(s=o.storage.get(u)),s&&s.length>0?a(s):i.get instanceof Function&&(i.async?i.get(null,a):a(i.get()))}}},d=function(n){if(!t.somethingSelected()){for(var r in l)if(-1!=i.inArray(r,t.options.autocompleters)){var o=l[r];if(o.isValidCompletionPosition)if(o.isValidCompletionPosition()){if(!o.callbacks||!o.callbacks.validPosition||!1!==o.callbacks.validPosition(t,o)){var a=function(i){if(n&&(!i.autoShow||!i.bulk&&i.async))return!1;var r={closeCharacters:/(?=a)b/,completeSingle:!1};!i.bulk&&i.async&&(r.async=!0);var o=function(e,t){return f(i,t)};e.showHint(t,o,r);return!0}(o);if(a)break}}else o.callbacks&&o.callbacks.invalidPosition&&o.callbacks.invalidPosition(t,o)}}},f=function(e,n){var i=t.getCompleteToken();if(e.preProcessToken&&(i=e.preProcessToken(i)),i){if(e.bulk||!e.async)return function(t){var n=t.autocompletionString||t.string,i=[];if(u[e.name])i=u[e.name].autoComplete(n);else if("function"==typeof e.get&&0==e.async)i=e.get(n);else if("object"==typeof e.get)for(var r=n.length,o=0;o<e.get.length;o++){var a=e.get[o];a.slice(0,r)==n&&i.push(a)}return h(i,e,t)}(i);var r=function(t){n(h(t,e,i))};e.get(i,r)}},h=function(n,i,r){for(var o=[],a=0;a<n.length;a++){var l=n[a];i.postProcessToken&&(l=i.postProcessToken(r,l)),o.push({text:l,displayText:l,hint:s})}var u=t.getCursor(),c={completionToken:r.string,list:o,from:{line:u.line,ch:r.start},to:{line:u.line,ch:r.end}};if(i.callbacks)for(var p in i.callbacks)i.callbacks[p]&&e.on(c,p,i.callbacks[p]);return c};return{init:p,completers:l,notifications:{getEl:function(e){return i(n[e.name])},show:function(e,t){t.autoshow||(n[t.name]||(n[t.name]=i("<div class='completionNotification'></div>")),n[t.name].show().text("Press CTRL - <spacebar> to autocomplete").appendTo(i(e.getWrapperElement())))},hide:function(e,t){n[t.name]&&n[t.name].hide()}},autoComplete:d,getTrie:function(e){return"string"==typeof e?u[e]:u[e.name]}}};var s=function(e,t,n){n.text!=e.getTokenAt(e.getCursor()).string&&e.replaceRange(n.text,t.from,t.to)}},function(e,t){var n=e.exports=function(){this.words=0,this.prefixes=0,this.children=[]};n.prototype={insert:function(e,t){if(0!=e.length){var i,r,o=this;if(void 0===t&&(t=0),t===e.length)return void o.words++;o.prefixes++,i=e[t],void 0===o.children[i]&&(o.children[i]=new n),r=o.children[i],r.insert(e,t+1)}},remove:function(e,t){if(0!=e.length){var n,i,r=this;if(void 0===t&&(t=0),void 0!==r){if(t===e.length)return void r.words--;r.prefixes--,n=e[t],i=r.children[n],i.remove(e,t+1)}}},update:function(e,t){0!=e.length&&0!=t.length&&(this.remove(e),this.insert(t))},countWord:function(e,t){if(0==e.length)return 0;var n,i,r=this,o=0;return void 0===t&&(t=0),t===e.length?r.words:(n=e[t],i=r.children[n],void 0!==i&&(o=i.countWord(e,t+1)),o)},countPrefix:function(e,t){if(0==e.length)return 0;var n,i,r=this,o=0;if(void 0===t&&(t=0),t===e.length)return r.prefixes;var n=e[t];return i=r.children[n],void 0!==i&&(o=i.countPrefix(e,t+1)),o},find:function(e){return 0!=e.length&&this.countWord(e)>0},getAllWords:function(e){var t,n,i=this,r=[];if(void 0===e&&(e=""),void 0===i)return[];i.words>0&&r.push(e);for(t in i.children)i.children.hasOwnProperty(t)&&(n=i.children[t],r=r.concat(n.getAllWords(e+t)));return r},autoComplete:function(e,t){var n,i,r=this;return 0==e.length?void 0===t?r.getAllWords(e):[]:(void 0===t&&(t=0),n=e[t],i=r.children[n],void 0===i?[]:t===e.length-1?i.getAllWords(e):i.autoComplete(e,t+1))}}},function(e,t,n){"use strict";var i=n(18),r={"string-2":"prefixed",atom:"var"};e.exports=function(t,n){return t.on("change",function(){e.exports.appendPrefixIfNeeded(t,n)}),{isValidCompletionPosition:function(){return e.exports.isValidCompletionPosition(t)},get:function(t,n){i.get(e.exports.fetchFrom,function(e){var t=[];for(var i in e)if("bif"!=i){var r=i+": <"+e[i]+">";t.push(r)}t.sort(),n(t)})},preProcessToken:function(n){return e.exports.preprocessPrefixTokenForCompletion(t,n)},async:!0,bulk:!0,autoShow:!0,persistent:n,callbacks:{pick:function(){t.collapsePrefixes(!1)}}}},e.exports.isValidCompletionPosition=function(e){var t=e.getCursor(),n=e.getTokenAt(t);if(e.getLine(t.line).length>t.ch)return!1;if("ws"!=n.type&&(n=e.getCompleteToken()),0==!n.string.indexOf("a")&&-1==i.inArray("PNAME_NS",n.state.possibleCurrent))return!1;var r=e.getPreviousNonWsToken(t.line,n);return!(!r||"PREFIX"!=r.string.toUpperCase())},e.exports.preprocessPrefixTokenForCompletion=function(e,t){var n=e.getPreviousNonWsToken(e.getCursor().line,t);return n&&n.string&&":"==n.string.slice(-1)&&(t={start:n.start,end:t.end,string:n.string+" "+t.string,state:t.state}),t},e.exports.appendPrefixIfNeeded=function(e,t){if(e.autocompleters.getTrie(t)&&e.options.autocompleters&&-1!=e.options.autocompleters.indexOf(t)){var n=e.getCursor(),i=e.getTokenAt(n);if("prefixed"==r[i.type]){var o=i.string.indexOf(":");if(-1!==o){var a=e.getPreviousNonWsToken(n.line,i).string.toUpperCase(),s=e.getTokenAt({line:n.line,ch:i.start});if("PREFIX"!=a&&("ws"==s.type||null==s.type)){var l=i.string.substring(0,o+1);if(null==e.getPrefixesFromQuery()[l.slice(0,-1)]){var u=e.autocompleters.getTrie(t).autoComplete(l);u.length>0&&e.addPrefixes(u[0])}}}}}},e.exports.fetchFrom=(0===window.location.protocol.indexOf("http")?"//":"http://")+"prefix.cc/popular/all.file.json"},function(e,t,n){"use strict";var i=n(18);e.exports=function(t,i){return{isValidCompletionPosition:function(){return e.exports.isValidCompletionPosition(t)},get:function(e,i){return n(47).fetchFromLov(t,this,e,i)},preProcessToken:function(n){return e.exports.preProcessToken(t,n)},postProcessToken:function(n,i){return e.exports.postProcessToken(t,n,i)},async:!0,bulk:!1,autoShow:!1,persistent:i,callbacks:{validPosition:t.autocompleters.notifications.show,invalidPosition:t.autocompleters.notifications.hide}}},e.exports.isValidCompletionPosition=function(e){var t=e.getCompleteToken();if(0==t.string.length)return!1;if(0==t.string.indexOf("?"))return!1;if(i.inArray("a",t.state.possibleCurrent)>=0)return!0;var n=e.getCursor();return"rdfs:subPropertyOf"==e.getPreviousNonWsToken(n.line,t).string},e.exports.preProcessToken=function(e,t){return n(47).preprocessResourceTokenForCompletion(e,t)},e.exports.postProcessToken=function(e,t,i){return n(47).postprocessResourceTokenForCompletion(e,t,i)}},function(e,t,n){"use strict";n(18);e.exports=function(t,i){return{isValidCompletionPosition:function(){return e.exports.isValidCompletionPosition(t)},get:function(e,i){return n(47).fetchFromLov(t,this,e,i)},preProcessToken:function(n){return e.exports.preProcessToken(t,n)},postProcessToken:function(n,i){return e.exports.postProcessToken(t,n,i)},async:!0,bulk:!1,autoShow:!1,persistent:i,callbacks:{validPosition:t.autocompleters.notifications.show,invalidPosition:t.autocompleters.notifications.hide}}},e.exports.isValidCompletionPosition=function(e){var t=e.getCompleteToken();if(0==t.string.indexOf("?"))return!1;var n=e.getCursor(),i=e.getPreviousNonWsToken(n.line,t);return"a"==i.string||("rdf:type"==i.string||("rdfs:domain"==i.string||"rdfs:range"==i.string))},e.exports.preProcessToken=function(e,t){return n(47).preprocessResourceTokenForCompletion(e,t)},e.exports.postProcessToken=function(e,t,i){return n(47).postprocessResourceTokenForCompletion(e,t,i)}},function(e,t,n){"use strict";var i=n(18);e.exports=function(e){return{isValidCompletionPosition:function(){var t=e.getTokenAt(e.getCursor());return!("ws"==t.type||!(t=e.getCompleteToken(t))||0!=t.string.indexOf("?"))},get:function(t){if(0==t.trim().length)return[];var n={};i(e.getWrapperElement()).find(".cm-atom").each(function(){var e=this.innerHTML;if(0==e.indexOf("?")){var r=i(this).next();if(r.attr("class")&&r.attr("class").indexOf("cm-atom")>=0&&(e+=r.text()),e.length<=1)return;if(0!==e.indexOf(t))return;if(e==t)return;n[e]=!0}});var r=[];for(var o in n)r.push(o);return r.sort(),r},async:!1,bulk:!1,autoShow:!0}}},function(e,t,n){var i=n(240),r=n(18),o=function(e){return"'"+e+"'"};e.exports={createCurlString:function(e,t){var n=i.getAjaxConfig(e,t),a=n.url;if(0!==n.url.indexOf("http")){var a=window.location.protocol+"//"+window.location.host;0===n.url.indexOf("/")?a+=n.url:a+=window.location.pathname+n.url}var s=["curl",a,"-X",e.options.sparql.requestMethod];"POST"==e.options.sparql.requestMethod&&s.push("--data "+o(r.param(n.data)));for(var l in n.headers)s.push("-H "+o(l+": "+n.headers[l]));return s.join(" ")}}},function(e,t,n){var i=n(18),r=n(74);r.defaults=i.extend(!0,{},r.defaults,{mode:"sparql11",value:"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nSELECT * WHERE {\n  ?sub ?pred ?obj .\n} \nLIMIT 10",highlightSelectionMatches:{showToken:/\w/},tabMode:"indent",lineNumbers:!0,lineWrapping:!0,backdrop:!1,foldGutter:{rangeFinder:new r.fold.combine(r.fold.brace,r.fold.prefix)},collapsePrefixesOnLoad:!1,gutters:["gutterErrorBar","CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,fixedGutter:!0,syntaxErrorCheck:!0,onQuotaExceeded:function(e){console.warn("Could not store in localstorage. Skipping..",e)},extraKeys:{"Ctrl-Space":r.autoComplete,"Cmd-Space":r.autoComplete,"Ctrl-D":r.deleteLine,"Ctrl-K":r.deleteLine,"Shift-Ctrl-K":r.deleteLine,"Cmd-D":r.deleteLine,"Cmd-K":r.deleteLine,"Ctrl-/":r.commentLines,"Cmd-/":r.commentLines,"Ctrl-Alt-Down":r.copyLineDown,"Ctrl-Alt-Up":r.copyLineUp,"Cmd-Alt-Down":r.copyLineDown,"Cmd-Alt-Up":r.copyLineUp,"Shift-Ctrl-F":r.doAutoFormat,"Shift-Cmd-F":r.doAutoFormat,"Ctrl-]":r.indentMore,"Cmd-]":r.indentMore,"Ctrl-[":r.indentLess,"Cmd-[":r.indentLess,"Ctrl-S":r.storeQuery,"Cmd-S":r.storeQuery,"Ctrl-Enter":r.executeQuery,"Cmd-Enter":r.executeQuery,F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}},cursorHeight:.9,createShareLink:r.createShareLink,createShortLink:null,consumeShareLink:r.consumeShareLink,persistent:function(e){return"yasqe_"+i(e.getWrapperElement()).closest("[id]").attr("id")+"_queryVal"},sparql:{queryName:function(e){return e.getQueryMode()},showQueryButton:!1,endpoint:"http://dbpedia.org/sparql",requestMethod:"POST",acceptHeaderGraph:"text/turtle,*/*;q=0.9",acceptHeaderSelect:"application/sparql-results+json,*/*;q=0.9",acceptHeaderUpdate:"text/plain,*/*;q=0.9",namedGraphs:[],defaultGraphs:[],args:[],headers:{},getQueryForAjax:null,callbacks:{beforeSend:null,complete:null,error:null,success:null},handlers:{}}})},function(e,t){e.exports={_args:[["yasgui-yasqe@2.11.14","/Users/jiemakel/tyo/fibra"]],_development:!0,_from:"yasgui-yasqe@2.11.14",_id:"yasgui-yasqe@2.11.14",_inBundle:!1,_integrity:"sha512-qtdtT+RmeQhHP6tTL7mSSKbWWuDZ5m17MTHlGbhZYPKZf2Wx3nieGLqip4Pb5eGXryj11rNywgYMm7KN0wdHmw==",_location:"/yasgui-yasqe",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"yasgui-yasqe@2.11.14",name:"yasgui-yasqe",escapedName:"yasgui-yasqe",rawSpec:"2.11.14",saveSpec:null,fetchSpec:"2.11.14"},_requiredBy:["/angular-yasqe-component"],_resolved:"https://registry.npmjs.org/yasgui-yasqe/-/yasgui-yasqe-2.11.14.tgz",_spec:"2.11.14",_where:"/Users/jiemakel/tyo/fibra",author:{name:"Laurens Rietveld"},bugs:{url:"https://github.com/YASGUI/YASQE/issues/"},dependencies:{codemirror:"5.17.0",jquery:"^2.2.4","node-sass":"^3.8.0",prettier:"^1.4.4","require-dir":"^0.3.0","run-sequence":"^1.2.2","vinyl-buffer":"^1.0.0","vinyl-source-stream":"~1.1.0","vinyl-transform":"1.0.0","yasgui-utils":"^1.6.7"},description:"Yet Another SPARQL Query Editor",devDependencies:{"bootstrap-sass":"^3.3.7",browserify:"^13.1.0","browserify-shim":"^3.8.12","browserify-transform-tools":"^1.6.0",exorcist:"^0.4.0",gulp:"^3.9.1","gulp-autoprefixer":"^3.1.0","gulp-bump":"^2.2.0","gulp-concat":"^2.6.0","gulp-connect":"^4.2.0","gulp-cssimport":"^3.1.0","gulp-cssnano":"^2.1.2","gulp-embedlr":"^0.5.2","gulp-filter":"^4.0.0","gulp-git":"^1.10.0","gulp-jsvalidate":"^2.1.0","gulp-livereload":"^3.8.1","gulp-notify":"^2.2.0","gulp-rename":"^1.2.2","gulp-sass":"^2.3.2","gulp-sourcemaps":"^1.6.0","gulp-streamify":"1.0.2","gulp-tag-version":"^1.3.0","gulp-uglify":"^1.5.4","node-sass":"^3.8.0","require-dir":"^0.3.0","run-sequence":"^1.2.2","vinyl-buffer":"^1.0.0","vinyl-source-stream":"~1.1.0","vinyl-transform":"1.0.0",watchify:"^3.7.0"},homepage:"http://yasqe.yasgui.org",keywords:["JavaScript","SPARQL","Editor","Semantic Web","Linked Data"],license:"MIT",main:"src/main.js",maintainers:[{name:"Laurens Rietveld",email:"laurens.rietveld@gmail.com",url:"http://laurensrietveld.nl"}],name:"yasgui-yasqe",optionalShim:{codemirror:{require:"codemirror",global:"CodeMirror"},jquery:{require:"jquery",global:"jQuery"},"../../lib/codemirror":{require:"codemirror",global:"CodeMirror"}},repository:{type:"git",url:"git+https://github.com/YASGUI/YASQE.git"},scripts:{build:"gulp",dev:"gulp serve",major:"gulp major",minor:"gulp minor",patch:"gulp patch"},version:"2.11.14"}},function(e,t,n){var i,r,o;!function(a,s){"use strict";r=[n(0)],i=s,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o)}(0,function(e){"use strict";function t(e,t){var n;try{n=e[t]}catch(e){n=!1}if(n){var i="__"+Math.round(1e7*Math.random());try{e[t].setItem(i,i),e[t].removeItem(i,i)}catch(e){n=!1}}return n}function n(n){var i=t(window,n);return function(){var r="ngStorage-";this.setKeyPrefix=function(e){if("string"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setKeyPrefix() expects a String.");r=e};var o=e.toJson,a=e.fromJson;this.setSerializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setSerializer expects a function.");o=e},this.setDeserializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setDeserializer expects a function.");a=e},this.supported=function(){return!!i},this.get=function(e){return i&&a(i.getItem(r+e))},this.set=function(e,t){return i&&i.setItem(r+e,o(t))},this.remove=function(e){i&&i.removeItem(r+e)},this.$get=["$rootScope","$window","$log","$timeout","$document",function(i,s,l,u,c){var p,d,f=r.length,h=t(s,n),g=h||(l.warn("This browser does not support Web Storage!"),{setItem:e.noop,getItem:e.noop,removeItem:e.noop}),v={$default:function(t){for(var n in t)e.isDefined(v[n])||(v[n]=e.copy(t[n]));return v.$sync(),v},$reset:function(e){for(var t in v)"$"===t[0]||delete v[t]&&g.removeItem(r+t);return v.$default(e)},$sync:function(){for(var e,t=0,n=g.length;t<n;t++)(e=g.key(t))&&r===e.slice(0,f)&&(v[e.slice(f)]=a(g.getItem(e)))},$apply:function(){var t;if(d=null,!e.equals(v,p)){t=e.copy(p),e.forEach(v,function(n,i){e.isDefined(n)&&"$"!==i[0]&&(g.setItem(r+i,o(n)),delete t[i])});for(var n in t)g.removeItem(r+n);p=e.copy(v)}},$supported:function(){return!!h}};return v.$sync(),p=e.copy(v),i.$watch(function(){d||(d=u(v.$apply,100,!1))}),s.addEventListener&&s.addEventListener("storage",function(t){if(t.key){var n=c[0];n.hasFocus&&n.hasFocus()||r!==t.key.slice(0,f)||(t.newValue?v[t.key.slice(f)]=a(t.newValue):delete v[t.key.slice(f)],p=e.copy(v),i.$apply())}}),s.addEventListener&&s.addEventListener("beforeunload",function(){v.$apply()}),v}]}}return e=e&&e.module?e:window.angular,e.module("ngStorage",[]).provider("$localStorage",n("localStorage")).provider("$sessionStorage",n("sessionStorage"))})},function(e,t,n){"use strict";function i(e,t){function n(e,n,s,l){var u=angular.extend({value:n.text()},t.codemirror||{},e.$eval(s.uiCodemirror),e.$eval(s.uiCodemirrorOpts)),c=i(n,u);r(c,s.uiCodemirror||s.uiCodemirrorOpts,e),o(c,l,e),a(c,s.uiRefresh,e),e.$on("CodeMirror",function(e,t){if(!angular.isFunction(t))throw new Error("the CodeMirror event requires a callback function");t(c)}),angular.isFunction(u.onLoad)&&u.onLoad(c)}function i(e,t){var n;return"TEXTAREA"===e[0].tagName?n=window.CodeMirror.fromTextArea(e[0],t):(e.html(""),n=new window.CodeMirror(function(t){e.append(t)},t)),n}function r(e,t,n){function i(t,n){angular.isObject(t)&&r.forEach(function(i){if(t.hasOwnProperty(i)){if(n&&t[i]===n[i])return;e.setOption(i,t[i])}})}if(t){var r=Object.keys(window.CodeMirror.defaults);n.$watch(t,i,!0)}}function o(e,t,n){t&&(t.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),t.$render=function(){var n=t.$viewValue||"";e.setValue(n)},e.on("change",function(e){var i=e.getValue();i!==t.$viewValue&&n.$evalAsync(function(){t.$setViewValue(i)})}))}function a(t,n,i){n&&i.$watch(n,function(n,i){n!==i&&e(function(){t.refresh()})})}return{restrict:"EA",require:"?ngModel",compile:function(){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror needs CodeMirror to work... (o rly?)");return n}}}angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",i)},function(e,t,n){(function(e){!function(e,n){n(t)}(0,function(t){"use strict";function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function i(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function r(e,t,n){r.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function l(e,t,n){var i=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,i),e}function u(e){var t=void 0===e?"undefined":R(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function c(e,t,n,i,p,d,f){p=p||[],f=f||[];var h=p.slice(0);if(void 0!==d){if(i){if("function"==typeof i&&i(h,d))return;if("object"===(void 0===i?"undefined":R(i))){if(i.prefilter&&i.prefilter(h,d))return;if(i.normalize){var g=i.normalize(h,d,e,t);g&&(e=g[0],t=g[1])}}}h.push(d)}"regexp"===u(e)&&"regexp"===u(t)&&(e=e.toString(),t=t.toString());var v=void 0===e?"undefined":R(e),m=void 0===t?"undefined":R(t),y="undefined"!==v||f&&f[f.length-1].lhs&&f[f.length-1].lhs.hasOwnProperty(d),E="undefined"!==m||f&&f[f.length-1].rhs&&f[f.length-1].rhs.hasOwnProperty(d);if(!y&&E)n(new o(h,t));else if(!E&&y)n(new a(h,e));else if(u(e)!==u(t))n(new r(h,e,t));else if("date"===u(e)&&e-t!=0)n(new r(h,e,t));else if("object"===v&&null!==e&&null!==t)if(f.filter(function(t){return t.lhs===e}).length)e!==t&&n(new r(h,e,t));else{if(f.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?n(new s(h,b,new a(void 0,e[b]))):c(e[b],t[b],n,i,h,b,f);for(;b<t.length;)n(new s(h,b,new o(void 0,t[b++])))}else{var x=Object.keys(e),C=Object.keys(t);x.forEach(function(r,o){var a=C.indexOf(r);a>=0?(c(e[r],t[r],n,i,h,r,f),C=l(C,a)):c(e[r],void 0,n,i,h,r,f)}),C.forEach(function(e){c(void 0,t[e],n,i,h,e,f)})}f.length=f.length-1}else e!==t&&("number"===v&&isNaN(e)&&isNaN(t)||n(new r(h,e,t)))}function p(e,t,n,i){return i=i||[],c(e,t,function(e){e&&i.push(e)},n),i.length?i:void 0}function d(e,t,n){if(n.path&&n.path.length){var i,r=e[t],o=n.path.length-1;for(i=0;i<o;i++)r=r[n.path[i]];switch(n.kind){case"A":d(r[n.path[i]],n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}else switch(n.kind){case"A":d(e[t],n.index,n.item);break;case"D":e=l(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function f(e,t,n){if(e&&t&&n&&n.kind){for(var i=e,r=-1,o=n.path?n.path.length-1:0;++r<o;)void 0===i[n.path[r]]&&(i[n.path[r]]="number"==typeof n.path[r]?[]:{}),i=i[n.path[r]];switch(n.kind){case"A":d(n.path?i[n.path[r]]:i,n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}}function h(e,t,n){if(n.path&&n.path.length){var i,r=e[t],o=n.path.length-1;for(i=0;i<o;i++)r=r[n.path[i]];switch(n.kind){case"A":h(r[n.path[i]],n.index,n.item);break;case"D":case"E":r[n.path[i]]=n.lhs;break;case"N":delete r[n.path[i]]}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=l(e,t)}return e}function g(e,t,n){if(e&&t&&n&&n.kind){var i,r,o=e;for(r=n.path.length-1,i=0;i<r;i++)void 0===o[n.path[i]]&&(o[n.path[i]]={}),o=o[n.path[i]];switch(n.kind){case"A":h(o[n.path[i]],n.index,n.item);break;case"D":case"E":o[n.path[i]]=n.lhs;break;case"N":delete o[n.path[i]]}}}function v(e,t,n){if(e&&t){c(e,t,function(i){n&&!n(e,t,i)||f(e,t,i)})}}function m(e){return"color: "+_[e].color+"; font-weight: bold"}function y(e){var t=e.kind,n=e.path,i=e.lhs,r=e.rhs,o=e.index,a=e.item;switch(t){case"E":return[n.join("."),i,"→",r];case"N":return[n.join("."),r];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",a];default:return[]}}function E(e,t,n,i){var r=p(e,t);try{i?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}r?r.forEach(function(e){var t=e.kind,i=y(e);n.log.apply(n,["%c "+_[t].text,m(t)].concat(O(i)))}):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}function b(e,t,n,i){switch(void 0===e?"undefined":R(e)){case"object":return"function"==typeof e[i]?e[i].apply(e,O(n)):e[i];case"function":return e(t);default:return e}}function x(e){var t=e.timestamp,n=e.duration;return function(e,i,r){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+i),n&&o.push("%c(in "+r.toFixed(2)+" ms)"),o.join(" ")}}function C(e,t){var n=t.logger,i=t.actionTransformer,r=t.titleFormatter,o=void 0===r?x(t):r,a=t.collapsed,s=t.colors,l=t.level,u=t.diff,c=void 0===t.titleFormatter;e.forEach(function(r,p){var d=r.started,f=r.startedTime,h=r.action,g=r.prevState,v=r.error,m=r.took,y=r.nextState,x=e[p+1];x&&(y=x.prevState,m=x.started-d);var C=i(h),S="function"==typeof a?a(function(){return y},h,r):a,w=I(f),T=s.title?"color: "+s.title(C)+";":"",A=["color: gray; font-weight: lighter;"];A.push(T),t.timestamp&&A.push("color: gray; font-weight: lighter;"),t.duration&&A.push("color: gray; font-weight: lighter;");var L=o(C,w,m);try{S?s.title&&c?n.groupCollapsed.apply(n,["%c "+L].concat(A)):n.groupCollapsed(L):s.title&&c?n.group.apply(n,["%c "+L].concat(A)):n.group(L)}catch(e){n.log(L)}var N=b(l,C,[g],"prevState"),R=b(l,C,[C],"action"),O=b(l,C,[v,g],"error"),P=b(l,C,[y],"nextState");if(N)if(s.prevState){var _="color: "+s.prevState(g)+"; font-weight: bold";n[N]("%c prev state",_,g)}else n[N]("prev state",g);if(R)if(s.action){var D="color: "+s.action(C)+"; font-weight: bold";n[R]("%c action    ",D,C)}else n[R]("action    ",C);if(v&&O)if(s.error){var k="color: "+s.error(v,g)+"; font-weight: bold;";n[O]("%c error     ",k,v)}else n[O]("error     ",v);if(P)if(s.nextState){var M="color: "+s.nextState(y)+"; font-weight: bold";n[P]("%c next state",M,y)}else n[P]("next state",y);u&&E(g,y,n,S);try{n.groupEnd()}catch(e){n.log("—— log end ——")}})}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},D,e),n=t.logger,i=t.stateTransformer,r=t.errorTransformer,o=t.predicate,a=t.logErrors,s=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var l=[];return function(e){var n=e.getState;return function(e){return function(u){if("function"==typeof o&&!o(n,u))return e(u);var c={};l.push(c),c.started=N.now(),c.startedTime=new Date,c.prevState=i(n()),c.action=u;var p=void 0;if(a)try{p=e(u)}catch(e){c.error=r(e)}else p=e(u);c.took=N.now()-c.started,c.nextState=i(n());var d=t.diff&&"function"==typeof s?s(n,u):t.diff;if(C(l,Object.assign({},t,{diff:d})),l.length=0,c.error)throw c.error;return p}}}}var w,T,A=function(e,t){return new Array(t+1).join(e)},L=function(e,t){return A("0",t-e.toString().length)+e},I=function(e){return L(e.getHours(),2)+":"+L(e.getMinutes(),2)+":"+L(e.getSeconds(),2)+"."+L(e.getMilliseconds(),3)},N="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},P=[];w="object"===(void 0===e?"undefined":R(e))&&e?e:"undefined"!=typeof window?window:{},T=w.DeepDiff,T&&P.push(function(){void 0!==T&&w.DeepDiff===p&&(w.DeepDiff=T,T=void 0)}),n(r,i),n(o,i),n(a,i),n(s,i),Object.defineProperties(p,{diff:{value:p,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:v,enumerable:!0},applyChange:{value:f,enumerable:!0},revertChange:{value:g,enumerable:!0},isConflict:{value:function(){return void 0!==T},enumerable:!0},noConflict:{value:function(){return P&&(P.forEach(function(e){e()}),P=null),p},enumerable:!0}});var _={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},D={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?S()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=D,t.createLogger=S,t.logger=k,t.default=k,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,n(12))},function(e,t,n){"use strict";function i(e){return function(t){var n=t.dispatch,i=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,i,e):t(r)}}}}t.__esModule=!0;var r=i();r.withExtraArgument=i,t.default=r},function(e,t,n){"use strict";function i(e){return e&&"function"==typeof e.then}function r(e){var t=e.dispatch;return function(e){return function(n){return a.isFSA(n)?i(n.payload)?n.payload.then(function(e){return t(o({},n,{payload:e}))},function(e){return t(o({},n,{payload:e,error:!0}))}):e(n):i(n)?n.then(t):e(n)}}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=r;var a=n(548);e.exports=t.default},function(e,t,n){"use strict";function i(e){return l.indexOf(e)>-1}function r(e){return s.default(e)&&void 0!==e.type&&Object.keys(e).every(i)}function o(e){return!0===e.error}t.__esModule=!0,t.isFSA=r,t.isError=o;var a=n(549),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=["type","payload","error","meta"]},function(e,t,n){function i(e){return!!e&&"object"==typeof e}function r(e,t){return a(e,t,l)}function o(e){var t;if(!i(e)||d.call(e)!=u||s(e)||!p.call(e,"constructor")&&"function"==typeof(t=e.constructor)&&!(t instanceof t))return!1;var n;return r(e,function(e,t){n=t}),void 0===n||p.call(e,n)}var a=n(550),s=n(241),l=n(551),u="[object Object]",c=Object.prototype,p=c.hasOwnProperty,d=c.toString;e.exports=o},function(e,t){var n=function(e){return function(t,n,i){for(var r=-1,o=Object(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(!1===n(o[l],l,o))break}return t}}();e.exports=n},function(e,t,n){function i(e,t){return e="number"==typeof e||u.test(e)?+e:-1,t=null==t?d:t,e>-1&&e%1==0&&e<t}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){if(null==e)return[];o(e)||(e=Object(e));var t=e.length;t=t&&r(t)&&(l(e)||s(e))&&t||0;for(var n=e.constructor,a=-1,u="function"==typeof n&&n.prototype===e,c=Array(t),d=t>0;++a<t;)c[a]=a+"";for(var f in e)d&&i(f,t)||"constructor"==f&&(u||!p.call(e,f))||c.push(f);return c}var s=n(241),l=n(552),u=/^\d+$/,c=Object.prototype,p=c.hasOwnProperty,d=9007199254740991;e.exports=a},function(e,t){function n(e){return!!e&&"object"==typeof e}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=g}function r(e){return o(e)&&d.call(e)==s}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null!=e&&(r(e)?f.test(c.call(e)):n(e)&&l.test(e))}var s="[object Function]",l=/^\[object .+?Constructor\]$/,u=Object.prototype,c=Function.prototype.toString,p=u.hasOwnProperty,d=u.toString,f=RegExp("^"+c.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),h=function(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}(Array,"isArray"),g=9007199254740991,v=h||function(e){return n(e)&&i(e.length)&&"[object Array]"==d.call(e)};e.exports=v}],[242]);